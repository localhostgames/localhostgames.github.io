/* shapez.io Codebase - Copyright 2022 tobspr Games - 1.0.0-cmg @ 39e50782 */
!function(e) {
    var t = {};
    function __webpack_require__(r) {
        if (t[r])
            return t[r].exports;
        var n = t[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return e[r].call(n.exports, n, n.exports, __webpack_require__),
        n.l = !0,
        n.exports
    }
    __webpack_require__.m = e,
    __webpack_require__.c = t,
    __webpack_require__.d = function(e, t, r) {
        __webpack_require__.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: r
        })
    }
    ,
    __webpack_require__.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    __webpack_require__.t = function(e, t) {
        if (1 & t && (e = __webpack_require__(e)),
        8 & t)
            return e;
        if (4 & t && "object" == typeof e && e && e.__esModule)
            return e;
        var r = Object.create(null);
        if (__webpack_require__.r(r),
        Object.defineProperty(r, "default", {
            enumerable: !0,
            value: e
        }),
        2 & t && "string" != typeof e)
            for (var n in e)
                __webpack_require__.d(r, n, function(t) {
                    return e[t]
                }
                .bind(null, n));
        return r
    }
    ,
    __webpack_require__.n = function(e) {
        var t = e && e.__esModule ? function getDefault() {
            return e.default
        }
        : function getModuleExports() {
            return e
        }
        ;
        return __webpack_require__.d(t, "a", t),
        t
    }
    ,
    __webpack_require__.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    __webpack_require__.p = "",
    __webpack_require__(__webpack_require__.s = 146)
}([function(e, t, r) {
    r.d(t, "d", (function() {
        return a
    }
    )),
    r.d(t, "g", (function() {
        return s
    }
    )),
    r.d(t, "e", (function() {
        return l
    }
    )),
    r.d(t, "c", (function() {
        return c
    }
    )),
    r.d(t, "b", (function() {
        return u
    }
    )),
    r.d(t, "a", (function() {
        return d
    }
    )),
    r.d(t, "h", (function() {
        return mixVector
    }
    )),
    r.d(t, "f", (function() {
        return p
    }
    )),
    r(3);
    var n = r(1)
      , i = 32
      , o = 16
      , a = {
        top: "top",
        right: "right",
        bottom: "bottom",
        left: "left"
    }
      , s = {
        [a.top]: a.bottom,
        [a.right]: a.left,
        [a.bottom]: a.top,
        [a.left]: a.right
    }
      , l = {
        [a.top]: 0,
        [a.right]: 90,
        [a.bottom]: 180,
        [a.left]: 270
    }
      , c = {
        0: a.top,
        90: a.right,
        180: a.bottom,
        270: a.left
    }
      , u = [a.top, a.right, a.bottom, a.left];
    function _Vector(e, t) {
        this.x = e || 0,
        this.y = t || 0
    }
    function _copy() {
        return new _Vector(this.x,this.y)
    }
    function _add(e) {
        return new _Vector(this.x + e.x,this.y + e.y)
    }
    function _addInplace(e) {
        return this.x += e.x,
        this.y += e.y,
        this
    }
    function _sub(e) {
        return new _Vector(this.x - e.x,this.y - e.y)
    }
    function _subInplace(e) {
        return this.x -= e.x,
        this.y -= e.y,
        this
    }
    function _mul(e) {
        return new _Vector(this.x * e.x,this.y * e.y)
    }
    function _addScalars(e, t) {
        return new _Vector(this.x + e,this.y + t)
    }
    function _subScalar(e) {
        return new _Vector(this.x - e,this.y - e)
    }
    function _subScalars(e, t) {
        return new _Vector(this.x - e,this.y - t)
    }
    function _length() {
        return Math.hypot(this.x, this.y)
    }
    function _lengthSquare() {
        return this.x * this.x + this.y * this.y
    }
    function _divideScalar(e) {
        return new _Vector(this.x / e,this.y / e)
    }
    function _divideScalars(e, t) {
        return new _Vector(this.x / e,this.y / t)
    }
    function _divideScalarInplace(e) {
        return this.x /= e,
        this.y /= e,
        this
    }
    function _multiplyScalar(e) {
        return new _Vector(this.x * e,this.y * e)
    }
    function _multiplyScalars(e, t) {
        return new _Vector(this.x * e,this.y * t)
    }
    function _maxScalar(e) {
        return new _Vector(Math.max(e, this.x),Math.max(e, this.y))
    }
    function _addScalar(e) {
        return new _Vector(this.x + e,this.y + e)
    }
    function _min(e) {
        return new _Vector(Math.min(e.x, this.x),Math.min(e.y, this.y))
    }
    function _max(e) {
        return new _Vector(Math.max(e.x, this.x),Math.max(e.y, this.y))
    }
    function _abs() {
        return new _Vector(Math.abs(this.x),Math.abs(this.y))
    }
    function _dot(e) {
        return this.x * e.x + this.y * e.y
    }
    function _distance(e) {
        return Math.hypot(this.x - e.x, this.y - e.y)
    }
    function _distanceSquare(e) {
        var t = this.x - e.x
          , r = this.y - e.y;
        return t * t + r * r
    }
    function _modScalar(e) {
        return new _Vector(Object(n.I)(this.x, e),Object(n.I)(this.y, e))
    }
    function _centerPoint(e) {
        return new _Vector((this.x + e.x) / 2,(this.y + e.y) / 2)
    }
    function _floor() {
        return new _Vector(Math.floor(this.x),Math.floor(this.y))
    }
    function _ceil() {
        return new _Vector(Math.ceil(this.x),Math.ceil(this.y))
    }
    function _round() {
        return new _Vector(Math.round(this.x),Math.round(this.y))
    }
    function _toTileSpace() {
        return new _Vector(Math.floor(this.x / i),Math.floor(this.y / i))
    }
    function _toStreetSpace() {
        return new _Vector(Math.floor(this.x / o + .25),Math.floor(this.y / o + .25))
    }
    function _toWorldSpace() {
        return new _Vector(this.x * i,this.y * i)
    }
    function _toWorldSpaceCenterOf() {
        return new _Vector(this.x * i + o,this.y * i + o)
    }
    function _snapWorldToTile() {
        return new _Vector(Math.floor(this.x / i) * i,Math.floor(this.y / i) * i)
    }
    function _normalize() {
        var e = Math.max(1e-5, Math.hypot(this.x, this.y));
        return new _Vector(this.x / e,this.y / e)
    }
    function _normalizeIfGreaterOn() {
        var e = Math.max(1, Math.hypot(this.x, this.y));
        return new _Vector(this.x / e,this.y / e)
    }
    function _normalizedDirection(e) {
        var t = e.x - this.x
          , r = e.y - this.y
          , n = Math.max(1e-5, Math.hypot(t, r));
        return new _Vector(t / n,r / n)
    }
    function _findPerpendicular() {
        return new _Vector(-this.y,this.x)
    }
    function _direction(e) {
        return new _Vector(e.x - this.x,e.y - this.y)
    }
    function _toString() {
        return this.x + "," + this.y
    }
    function _equals(e) {
        return this.x === e.x && this.y === e.y
    }
    function _rotated(e) {
        var t = Math.sin(e)
          , r = Math.cos(e);
        return new _Vector(this.x * r - this.y * t,this.x * t + this.y * r)
    }
    function _rotateInplaceFastMul(e) {
        switch (e) {
        case 0:
        case 360:
            return this;
        case 90:
            var t = this.x;
            return this.x = -this.y,
            this.y = t,
            this;
        case 180:
            return this.x = -this.x,
            this.y = -this.y,
            this;
        case 270:
            var r = this.x;
            return this.x = this.y,
            this.y = -r,
            this;
        default:
            return window.assert(!1, "Invalid fast inplace rotation: " + e),
            this
        }
    }
    function _rotateFastMultipleOf(e) {
        switch (e) {
        case 360:
        case 0:
            return new _Vector(this.x,this.y);
        case 90:
            return new _Vector(-this.y,this.x);
        case 180:
            return new _Vector(-this.x,-this.y);
        case 270:
            return new _Vector(this.y,-this.x);
        default:
            return window.assert(!1, "Invalid fast inplace rotation: " + e),
            new _Vector
        }
    }
    function _transformDirectionFr(e, t) {
        if (0 === t || 360 === t)
            return e;
        switch (e) {
        case a.top:
            switch (t) {
            case 90:
                return a.right;
            case 180:
                return a.bottom;
            case 270:
                return a.left;
            default:
                return void window.assert(!1, "Invalid angle: " + t)
            }
        case a.right:
            switch (t) {
            case 90:
                return a.bottom;
            case 180:
                return a.left;
            case 270:
                return a.top;
            default:
                return void window.assert(!1, "Invalid angle: " + t)
            }
        case a.bottom:
            switch (t) {
            case 90:
                return a.left;
            case 180:
                return a.top;
            case 270:
                return a.right;
            default:
                return void window.assert(!1, "Invalid angle: " + t)
            }
        case a.left:
            switch (t) {
            case 90:
                return a.top;
            case 180:
                return a.right;
            case 270:
                return a.bottom;
            default:
                return void window.assert(!1, "Invalid angle: " + t)
            }
        default:
            return void window.assert(!1, "Invalid angle: " + t)
        }
    }
    function _equalsEpsilon(e, t=1e-5) {
        return Math.abs(this.x - e.x) < 1e-5 && Math.abs(this.y - e.y) < t
    }
    function _angle() {
        return Math.atan2(this.y, this.x) + Math.PI / 2
    }
    function _serializeTile() {
        return String.fromCharCode(33 + this.x) + String.fromCharCode(33 + this.y)
    }
    function _serializeSimple() {
        return {
            x: this.x,
            y: this.y
        }
    }
    function _serializeTileToInt() {
        return this.x + 256 * this.y
    }
    function _deserializeTileFromI(e) {
        return new _Vector(e % 256,Math.floor(e / 256))
    }
    function _deserializeTile(e) {
        return new _Vector(e.charCodeAt(0) - 33,e.charCodeAt(1) - 33)
    }
    function _fromSerializedObject(e) {
        if (e)
            return new _Vector(e.x || 0,e.y || 0)
    }
    var d = function() {
        var e = _Vector.prototype;
        return e.copy = _copy,
        e.add = _add,
        e.addInplace = _addInplace,
        e.sub = _sub,
        e.subInplace = _subInplace,
        e.mul = _mul,
        e.addScalars = _addScalars,
        e.subScalar = _subScalar,
        e.subScalars = _subScalars,
        e.length = _length,
        e.lengthSquare = _lengthSquare,
        e.divideScalar = _divideScalar,
        e.divideScalars = _divideScalars,
        e.divideScalarInplace = _divideScalarInplace,
        e.multiplyScalar = _multiplyScalar,
        e.multiplyScalars = _multiplyScalars,
        e.maxScalar = _maxScalar,
        e.addScalar = _addScalar,
        e.min = _min,
        e.max = _max,
        e.abs = _abs,
        e.dot = _dot,
        e.distance = _distance,
        e.distanceSquare = _distanceSquare,
        e.modScalar = _modScalar,
        e.centerPoint = _centerPoint,
        e.floor = _floor,
        e.ceil = _ceil,
        e.round = _round,
        e.toTileSpace = _toTileSpace,
        e.toStreetSpace = _toStreetSpace,
        e.toWorldSpace = _toWorldSpace,
        e.toWorldSpaceCenterOfTile = _toWorldSpaceCenterOf,
        e.snapWorldToTile = _snapWorldToTile,
        e.normalize = _normalize,
        e.normalizeIfGreaterOne = _normalizeIfGreaterOn,
        e.normalizedDirection = _normalizedDirection,
        e.findPerpendicular = _findPerpendicular,
        e.direction = _direction,
        e.toString = _toString,
        e.equals = _equals,
        e.rotated = _rotated,
        e.rotateInplaceFastMultipleOf90 = _rotateInplaceFastMul,
        e.rotateFastMultipleOf90 = _rotateFastMultipleOf,
        _Vector.transformDirectionFromMultipleOf90 = _transformDirectionFr,
        e.equalsEpsilon = _equalsEpsilon,
        e.angle = _angle,
        e.serializeTile = _serializeTile,
        e.serializeSimple = _serializeSimple,
        e.serializeTileToInt = _serializeTileToInt,
        _Vector.deserializeTileFromInt = _deserializeTileFromI,
        _Vector.deserializeTile = _deserializeTile,
        _Vector.fromSerializedObject = _fromSerializedObject,
        _Vector
    }();
    function mixVector(e, t, r) {
        return new d(e.x * (1 - r) + t.x * r,e.y * (1 - r) + t.y * r)
    }
    var p = {
        top: new d(0,-1),
        right: new d(1,0),
        bottom: new d(0,1),
        left: new d(-1,0)
    }
}
, function(e, t, r) {
    r.d(t, "r", (function() {
        return getPlatformName
    }
    )),
    r.d(t, "v", (function() {
        return make2DUndefinedArray
    }
    )),
    r.d(t, "z", (function() {
        return newEmptyMap
    }
    )),
    r.d(t, "B", (function() {
        return randomInt
    }
    )),
    r.d(t, "a", (function() {
        return accessNestedPropertyReverse
    }
    )),
    r.d(t, "A", (function() {
        return randomChoice
    }
    )),
    r.d(t, "f", (function() {
        return fastArrayDelete
    }
    )),
    r.d(t, "g", (function() {
        return fastArrayDeleteValue
    }
    )),
    r.d(t, "h", (function() {
        return fastArrayDeleteValueIfContained
    }
    )),
    r.d(t, "b", (function() {
        return arrayDelete
    }
    )),
    r.d(t, "c", (function() {
        return arrayDeleteValue
    }
    )),
    r.d(t, "e", (function() {
        return epsilonCompare
    }
    )),
    r.d(t, "u", (function() {
        return lerp
    }
    )),
    r.d(t, "j", (function() {
        return findNiceIntegerValue
    }
    )),
    r.d(t, "k", (function() {
        return formatBigNumber
    }
    )),
    r.d(t, "l", (function() {
        return formatBigNumberFull
    }
    )),
    r.d(t, "L", (function() {
        return waitNextFrame
    }
    )),
    r.d(t, "D", (function() {
        return round1Digit
    }
    )),
    r.d(t, "F", (function() {
        return round2Digits
    }
    )),
    r.d(t, "G", (function() {
        return round3Digits
    }
    )),
    r.d(t, "H", (function() {
        return round4Digits
    }
    )),
    r.d(t, "d", (function() {
        return clamp
    }
    )),
    r.d(t, "y", (function() {
        return makeDivElement
    }
    )),
    r.d(t, "x", (function() {
        return makeDiv
    }
    )),
    r.d(t, "w", (function() {
        return makeButton
    }
    )),
    r.d(t, "C", (function() {
        return removeAllChildren
    }
    )),
    r.d(t, "t", (function() {
        return isSupportedBrowser
    }
    )),
    r.d(t, "o", (function() {
        return formatSecondsToTimeAgo
    }
    )),
    r.d(t, "n", (function() {
        return formatSeconds
    }
    )),
    r.d(t, "E", (function() {
        return round1DigitLocalized
    }
    )),
    r.d(t, "m", (function() {
        return formatItemsPerSecond
    }
    )),
    r.d(t, "q", (function() {
        return generateMatrixRotations
    }
    )),
    r.d(t, "I", (function() {
        return safeModulo
    }
    )),
    r.d(t, "J", (function() {
        return smoothPulse
    }
    )),
    r.d(t, "i", (function() {
        return fillInLinkIntoTranslation
    }
    )),
    r.d(t, "p", (function() {
        return generateFileDownload
    }
    )),
    r.d(t, "K", (function() {
        return startFileChoose
    }
    )),
    r.d(t, "s", (function() {
        return getRomanNumber
    }
    )),
    r(30);
    var n = r(2)
      , i = ["thousands", "millions", "billions", "trillions"];
    function getPlatformName() {
        return "browser"
    }
    function make2DUndefinedArray(e, t) {
        for (var r = new Array(e), n = 0; n < e; ++n)
            r[n] = new Array(t);
        return r
    }
    function newEmptyMap() {
        return Object.create(null)
    }
    function randomInt(e, t) {
        return e + Math.round(Math.random() * (t - e))
    }
    function accessNestedPropertyReverse(e, t) {
        for (var r = e, n = t.length - 1; n >= 0; --n)
            r = r[t[n]];
        return r
    }
    function randomChoice(e) {
        return e[Math.floor(Math.random() * e.length)]
    }
    function fastArrayDelete(e, t) {
        if (t < 0 || t >= e.length)
            throw new Error("Out of bounds");
        if (t !== e.length - 1) {
            var r = e[e.length - 1];
            e[t] = r
        }
        e.length -= 1
    }
    function fastArrayDeleteValue(e, t) {
        if (null == e)
            throw new Error("Tried to delete from non array!");
        var r = e.indexOf(t);
        return r < 0 ? (console.error("Value", t, "not contained in array:", e, "!"),
        t) : fastArrayDelete(e, r)
    }
    function fastArrayDeleteValueIfContained(e, t) {
        if (null == e)
            throw new Error("Tried to delete from non array!");
        var r = e.indexOf(t);
        return r < 0 ? t : fastArrayDelete(e, r)
    }
    function arrayDelete(e, t) {
        if (t < 0 || t >= e.length)
            throw new Error("Out of bounds");
        e.splice(t, 1)
    }
    function arrayDeleteValue(e, t) {
        if (null == e)
            throw new Error("Tried to delete from non array!");
        var r = e.indexOf(t);
        return r < 0 ? (console.error("Value", t, "not contained in array:", e, "!"),
        t) : arrayDelete(e, r)
    }
    function epsilonCompare(e, t, r=1e-5) {
        return Math.abs(e - t) < r
    }
    function lerp(e, t, r) {
        return e * (1 - r) + t * r
    }
    function findNiceIntegerValue(e) {
        return Math.ceil(function findNiceValue(e) {
            if (e > 1e8)
                return e;
            if (e < 1e-5)
                return 0;
            var t = 1;
            e > 5e4 ? t = 1e4 : e > 2e4 ? t = 5e3 : e > 5e3 ? t = 1e3 : e > 2e3 ? t = 500 : e > 1e3 ? t = 100 : e > 100 ? t = 20 : e > 20 && (t = 5);
            var r = Math.floor(e / t) * t;
            return e >= 10 ? Math.round(r) : e >= 1 ? Math.round(10 * r) / 10 : Math.round(100 * r) / 100
        }(e))
    }
    function formatBigNumber(e, t=n.a.global.decimalSeparator) {
        var r = e < 0 ? "-" : "";
        if ((e = Math.abs(e)) > 1e54)
            return r + n.a.global.infinite;
        if (e < 10 && !Number.isInteger(e))
            return r + e.toFixed(2);
        if (e < 50 && !Number.isInteger(e))
            return r + e.toFixed(1);
        if ((e = Math.floor(e)) < 1e3)
            return r + "" + e;
        for (var o = e, a = "", s = 0; s < i.length && (o /= 1e3,
        a = n.a.global.suffix[i[s]],
        !(o < 1e3)); ++s)
            ;
        return r + round1Digit(o).toString().replace(".0", "").replace(".", t) + a
    }
    function formatBigNumberFull(e, t=n.a.global.thousandsDivider) {
        if (e < 1e3)
            return e + "";
        if (e > 1e54)
            return n.a.global.infinite;
        for (var r = e, i = ""; r >= 1e3; )
            i = (r % 1e3).toString().padStart(3, "0") + t + i,
            r = Math.floor(r / 1e3);
        return (i = r + t + i).substring(0, i.length - 1)
    }
    function _ref2(e) {
        function _ref() {
            e()
        }
        window.requestAnimationFrame((function() {
            window.requestAnimationFrame(_ref)
        }
        ))
    }
    function waitNextFrame() {
        return new Promise(_ref2)
    }
    function round1Digit(e) {
        return Math.floor(10 * e) / 10
    }
    function round2Digits(e) {
        return Math.floor(100 * e) / 100
    }
    function round3Digits(e) {
        return Math.floor(1e3 * e) / 1e3
    }
    function round4Digits(e) {
        return Math.floor(1e4 * e) / 1e4
    }
    function clamp(e, t=0, r=1) {
        return Math.max(t, Math.min(r, e))
    }
    function makeDivElement(e=null, t=[], r="") {
        var n = document.createElement("div");
        e && (n.id = e);
        for (var i = 0; i < t.length; ++i)
            n.classList.add(t[i]);
        return n.innerHTML = r,
        n
    }
    function makeDiv(e, t=null, r=[], n="") {
        var i = makeDivElement(t, r, n);
        return e.appendChild(i),
        i
    }
    function makeButton(e, t=[], r="") {
        var n = function makeButtonElement(e=[], t="") {
            for (var r = document.createElement("button"), n = 0; n < e.length; ++n)
                r.classList.add(e[n]);
            return r.classList.add("styledButton"),
            r.innerHTML = t,
            r
        }(t, r);
        return e.appendChild(n),
        n
    }
    function removeAllChildren(e) {
        if (e) {
            var t = document.createRange();
            t.selectNodeContents(e),
            t.deleteContents()
        }
    }
    function isSupportedBrowser() {
        var e = window.chrome
          , t = window.navigator
          , r = t.vendor
          , n = t.userAgent.indexOf("Edge") > -1;
        return !t.userAgent.match("CriOS") && null != e && "Google Inc." === r && !1 === n
    }
    function formatSecondsToTimeAgo(e) {
        var t = Math.floor(e)
          , r = Math.floor(t / 60)
          , i = Math.floor(r / 60)
          , o = Math.floor(i / 24);
        return t < 60 ? 1 === t ? n.a.global.time.oneSecondAgo : n.a.global.time.xSecondsAgo.replace("<x>", "" + t) : r < 60 ? 1 === r ? n.a.global.time.oneMinuteAgo : n.a.global.time.xMinutesAgo.replace("<x>", "" + r) : i < 24 ? 1 === i ? n.a.global.time.oneHourAgo : n.a.global.time.xHoursAgo.replace("<x>", "" + i) : 1 === o ? n.a.global.time.oneDayAgo : n.a.global.time.xDaysAgo.replace("<x>", "" + o)
    }
    function formatSeconds(e) {
        var t = n.a.global.time;
        if ((e = Math.ceil(e)) < 60)
            return t.secondsShort.replace("<seconds>", "" + e);
        if (e < 3600) {
            var r = Math.floor(e / 60)
              , i = e % 60;
            return t.minutesAndSecondsShort.replace("<seconds>", "" + i).replace("<minutes>", "" + r)
        }
        var o = Math.floor(e / 3600)
          , a = Math.floor(e / 60) % 60;
        return t.hoursAndMinutesShort.replace("<minutes>", "" + a).replace("<hours>", "" + o)
    }
    function round1DigitLocalized(e, t=n.a.global.decimalSeparator) {
        return round1Digit(e).toString().replace(".", t)
    }
    function formatItemsPerSecond(e, t=!1, r=n.a.global.decimalSeparator) {
        return (1 === e ? n.a.ingame.buildingPlacement.infoTexts.oneItemPerSecond : n.a.ingame.buildingPlacement.infoTexts.itemsPerSecond.replace("<x>", round2Digits(e).toString().replace(".", r))) + (t ? "  " + n.a.ingame.buildingPlacement.infoTexts.itemsPerSecondDouble : "")
    }
    function rotateFlatMatrix3x3(e) {
        return [e[6], e[3], e[0], e[7], e[4], e[1], e[8], e[5], e[2]]
    }
    function generateMatrixRotations(e) {
        var t = {
            0: e
        };
        return e = rotateFlatMatrix3x3(e),
        t[90] = e,
        e = rotateFlatMatrix3x3(e),
        t[180] = e,
        e = rotateFlatMatrix3x3(e),
        t[270] = e,
        t
    }
    function safeModulo(e, t) {
        return (e % t + t) % t
    }
    function smoothPulse(e) {
        return .5 * Math.sin(4 * e) + .5
    }
    function fillInLinkIntoTranslation(e, t) {
        return e.replace("<link>", "<a href='" + t + "' target='_blank'>").replace("</link>", "</a>")
    }
    function generateFileDownload(e, t) {
        var r = document.createElement("a");
        r.setAttribute("href", "data:text/plain;charset=utf-8," + encodeURIComponent(t)),
        r.setAttribute("download", e),
        r.style.display = "none",
        document.body.appendChild(r),
        r.click(),
        document.body.removeChild(r)
    }
    function startFileChoose(e=".bin") {
        var t = document.createElement("input");
        return t.type = "file",
        t.accept = e,
        new Promise(e => {
            t.onchange = r => e(t.files[0]),
            t.click()
        }
        )
    }
    var o = 49
      , a = ["0"];
    function getRomanNumber(e) {
        if (a[e = Math.max(0, Math.round(e))])
            return a[e];
        if (e > o)
            return String(e);
        function formatDigit(e, t, r, n) {
            switch (e) {
            case 0:
                return "";
            case 1:
                return t;
            case 2:
                return t + t;
            case 3:
                return t + t + t;
            case 4:
                return t + r;
            case 9:
                return t + n;
            default:
                return r + formatDigit(e - 5, t, r, n)
            }
        }
        for (var t = Math.floor(e / 1e3), r = ""; t > 0; )
            r += "M",
            t -= 1;
        var n = r + formatDigit(Math.floor(e % 1e3 / 100), "C", "D", "M") + formatDigit(Math.floor(e % 100 / 10), "X", "L", "C") + formatDigit(e % 10, "I", "V", "X");
        return a[e] = n,
        n
    }
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return a
    }
    )),
    r.d(t, "b", (function() {
        return autoDetectLanguageId
    }
    )),
    r.d(t, "c", (function() {
        return matchDataRecursive
    }
    )),
    r.d(t, "d", (function() {
        return updateApplicationLanguage
    }
    )),
    r(30),
    r(3);
    var n = r(4)
      , i = r(46)
      , o = Object(n.a)("translations")
      , a = r(174);
    function mapLanguageCodeToId(e) {
        var t = e.toLowerCase()
          , r = t.split("-")[0];
        for (var n in i.a) {
            var o = i.a[n].code.toLowerCase();
            if (o === t)
                return console.log("-> Match", e, "->", n),
                n;
            if (o === r)
                return console.log("-> Match by short key", e, "->", n),
                n
        }
        for (var a in i.a) {
            var s = i.a[a].code.toLowerCase().split("-")[0];
            if (s === t)
                return console.log("-> Desperate Match", e, "->", a),
                a;
            if (s === r)
                return console.log("-> Desperate Match by short key", e, "->", a),
                a
        }
        return null
    }
    function autoDetectLanguageId() {
        var e = [];
        navigator.languages ? e = navigator.languages.slice() : navigator.language ? e = [navigator.language] : o.warn("Navigator has no languages prop");
        for (var t = 0; t < e.length; ++t) {
            o.log("Trying to find language target for", e[t]);
            var r = mapLanguageCodeToId(e[t]);
            if (r)
                return r
        }
        return "en"
    }
    function matchDataRecursive(e, t, r=!1) {
        if ("object" == typeof e && "object" == typeof t && null !== e && null !== t) {
            for (var n in e)
                if (t[n]) {
                    var i = e[n];
                    "object" == typeof i ? matchDataRecursive(e[n], t[n], r) : "string" == typeof i || "number" == typeof i ? e[n] = t[n] : o.log("Unknown type:", typeof i, "in key", n)
                }
            if (r)
                for (var a in t)
                    e[a] || (e[a] = JSON.parse(JSON.stringify(t[a])))
        }
    }
    function updateApplicationLanguage(e) {
        o.log("Setting application language:", e);
        var t = i.a[e];
        t ? t.data && (o.log("Applying translations ..."),
        matchDataRecursive(a, t.data)) : o.error("Unknown language:", e)
    }
}
, function(e, t, r) {
    r.d(t, "c", (function() {
        return n
    }
    )),
    r.d(t, "d", (function() {
        return i
    }
    )),
    r.d(t, "a", (function() {
        return o
    }
    )),
    r.d(t, "e", (function() {
        return a
    }
    )),
    r.d(t, "b", (function() {
        return s
    }
    ));
    var n = !1
      , i = {
        discord: "https://discord.gg/HN7EVzV",
        github: "https://github.com/tobspr/shapez.io",
        reddit: "https://www.reddit.com/r/shapezio",
        shapeViewer: "https://viewer.shapez.io",
        privacyPolicy: "https://tobspr.io/privacy.html",
        standaloneStorePage: "https://store.steampowered.com/app/1318690/shapezio/",
        stanaloneCampaignLink: "https://get.shapez.io",
        puzzleDlcStorePage: "https://store.steampowered.com/app/1625400/shapezio__Puzzle_DLC",
        levelTutorialVideos: {
            21: "https://www.youtube.com/watch?v=0nUfRLMCcgo&",
            25: "https://www.youtube.com/watch?v=7OCV1g40Iew&",
            26: "https://www.youtube.com/watch?v=gfm6dS1dCoY"
        },
        modBrowser: "https://shapez.mod.io/?preview=f55f6304ca4873d9a25f3b575571b948"
    }
      , o = "steam_2_npr"
      , a = {
        tileSize: 32,
        halfTileSize: 16,
        assetsDpi: 6,
        assetsSharpness: 1.5,
        shapesSharpness: 1.3,
        achievementSliceDuration: 10,
        statisticsGraphDpi: 2.5,
        statisticsGraphSlices: 100,
        analyticsSliceDurationSeconds: 10,
        minimumTickRate: 25,
        maximumTickRate: 500,
        mapChunkSize: 16,
        chunkAggregateSize: 4,
        mapChunkOverviewMinZoom: .9,
        mapChunkWorldSize: null,
        maxBeltShapeBundleSize: 20,
        beltSpeedItemsPerSecond: 2,
        minerSpeedItemsPerSecond: 0,
        defaultItemDiameter: 20,
        itemSpacingOnBelts: .63,
        wiresSpeedItemsPerSecond: 6,
        undergroundBeltMaxTilesByTier: [5, 9],
        readerAnalyzeIntervalSeconds: 10,
        goalAcceptorItemsRequired: 12,
        goalAcceptorsPerProducer: 5,
        puzzleModeSpeed: 3,
        puzzleMinBoundsSize: 2,
        puzzleMaxBoundsSize: 20,
        puzzleValidationDurationSeconds: 30,
        buildingSpeeds: {
            cutter: .25,
            cutterQuad: .25,
            rotater: 1,
            rotaterCCW: 1,
            rotater180: 1,
            painter: 1 / 6,
            painterDouble: 1 / 8,
            painterQuad: .5,
            mixer: .2,
            stacker: 1 / 8
        },
        initialZoom: 1.9,
        minZoomLevel: .1,
        maxZoomLevel: 3,
        gameSpeed: 1,
        warmupTimeSecondsFast: .5,
        warmupTimeSecondsRegular: 1.5,
        smoothing: {
            smoothMainCanvas: !0,
            quality: "low"
        },
        rendering: {},
        debug: r(165).default,
        info: {
            file: "Ec'])@^+*9zMevK3uMV4432x9%iK'=",
            sgSalt: "}95Q3%8/.837Lqym_BJx%q7)pAHJbF",
            analyticsApiKey: "baf6a50f0cc7dfdec5a0e21c88a1c69a4b34bc4a"
        }
    }
      , s = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    a.minerSpeedItemsPerSecond = .4,
    a.mapChunkWorldSize = 32 * a.mapChunkSize,
    "".disableMapOverview && (a.mapChunkOverviewMinZoom = 0),
    "".fastGameEnter && ("".noArtificialDelays = !0)
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return createLogger
    }
    )),
    r.d(t, "d", (function() {
        return stringifyObjectContainingErrors
    }
    )),
    r.d(t, "b", (function() {
        return globalWarn
    }
    )),
    r.d(t, "c", (function() {
        return logSection
    }
    )),
    r(11),
    r(3);
    var n = r(166);
    function _Logger(e) {
        this.context = e
    }
    function _debug(...e) {
        this.context
    }
    function _log(...e) {
        !function globalLog(e, ...t) {
            logInternal(e, console.log, prepareArgsForLogging(t))
        }(this.context, ...e)
    }
    function _warn(...e) {
        globalWarn(this.context, ...e)
    }
    function _error(...e) {
        !function globalError(e, ...t) {
            t = prepareArgsForLogging(t),
            logInternal(e, console.error, t),
            window.Sentry && window.Sentry.withScope((function _ref(e) {
                e.setExtra("args", t),
                window.Sentry.captureMessage(function internalBuildStringFromArgs(e) {
                    for (var t = [], r = 0; r < e.length; ++r) {
                        var n = e[r];
                        "string" == typeof n || "number" == typeof n || "boolean" == typeof n || null == n ? t.push("" + n) : n instanceof Error ? t.push(n.message) : t.push("[object]")
                    }
                    return t.join(" ")
                }(t), "error")
            }
            ))
        }(this.context, ...e)
    }
    var i = function() {
        var e = _Logger.prototype;
        return e.debug = _debug,
        e.log = _log,
        e.warn = _warn,
        e.error = _error,
        _Logger
    }();
    function createLogger(e) {
        return new i(e)
    }
    function prepareObjectForLogging(e, t=1) {
        if (!window.Sentry)
            return e;
        if ("object" != typeof e && !Array.isArray(e))
            return e;
        var r = {};
        for (var n in e) {
            var i = e[n];
            r[n] = "object" == typeof i ? t > 0 ? prepareObjectForLogging(i, t - 1) : "[object]" : i
        }
        return r
    }
    function preparePayload(e, t) {
        return t instanceof Error || t instanceof ErrorEvent ? function serializeError(e) {
            if (!e)
                return null;
            var t = {
                type: e.constructor.name
            };
            return e instanceof Error ? (t.message = e.message,
            t.name = e.name,
            t.stack = e.stack,
            t.type = "{type.Error}") : e instanceof ErrorEvent ? (t.filename = e.filename,
            t.message = e.message,
            t.lineno = e.lineno,
            t.colno = e.colno,
            t.type = "{type.ErrorEvent}",
            e.error ? t.error = serializeError(e.error) : t.error = "{not-provided}") : t.type = "{unkown-type:" + typeof e + "}",
            t
        }(t) : t instanceof Event ? function serializeEvent(e) {
            var t = {
                type: "{type.Event:" + typeof e + "}"
            };
            return t.eventType = e.type,
            t
        }(t) : void 0 === t ? null : t
    }
    function stringifyObjectContainingErrors(e) {
        return n.stringify(e, preparePayload)
    }
    function globalWarn(e, ...t) {
        logInternal(e, console.warn, prepareArgsForLogging(t))
    }
    function prepareArgsForLogging(e) {
        for (var t = [], r = 0; r < e.length; ++r)
            t.push(prepareObjectForLogging(e[r]));
        return t
    }
    function logSection(e, t) {
        for (; e.length <= 14; )
            e = " " + e + " ";
        e = e.padEnd(19, " ");
        var r = "letter-spacing: -3px; color: " + t + "; font-size: 6px; background: #eee; color: #eee;"
          , n = "%c----------------------------";
        console.log("\n" + n + " %c" + e + " " + n + "\n", r, "color: " + t, r)
    }
    function logInternal(e, t, r) {
        var n = function extractHandleContext(e) {
            var t = e || "unknown";
            return e && e.constructor && e.constructor.name && "String" === (t = e.constructor.name) && (t = e),
            e && e.name && (t = e.name),
            t + ""
        }(e).padEnd(20, " ")
          , i = e && e.LOG_LABEL_COLOR ? e.LOG_LABEL_COLOR : "#aaa";
        t.call(console, "%c" + n, "color: " + i, ...r)
    }
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return n
    }
    )),
    r.d(t, "b", (function() {
        return i
    }
    ));
    var n = "stop_propagation";
    function _Signal() {
        this.receivers = [],
        this.modifyCount = 0
    }
    function _add(e, t=null) {
        this.receivers.push({
            receiver: e,
            scope: t
        }),
        ++this.modifyCount
    }
    function _addToTop(e, t=null) {
        this.receivers.unshift({
            receiver: e,
            scope: t
        }),
        ++this.modifyCount
    }
    function _dispatch() {
        for (var e = this.modifyCount, t = this.receivers.length, r = 0; r < t; ++r) {
            var {receiver: i, scope: o} = this.receivers[r];
            if (i.apply(o, arguments) === n)
                return n;
            if (e !== this.modifyCount)
                return n
        }
    }
    function _remove(e) {
        for (var t = null, r = this.receivers.length, n = 0; n < r; ++n)
            if (this.receivers[n].receiver === e) {
                t = n;
                break
            }
        this.receivers.splice(t, 1),
        ++this.modifyCount
    }
    function _removeAll() {
        this.receivers = [],
        ++this.modifyCount
    }
    var i = function() {
        var e = _Signal.prototype;
        return e.add = _add,
        e.addToTop = _addToTop,
        e.dispatch = _dispatch,
        e.remove = _remove,
        e.removeAll = _removeAll,
        _Signal
    }()
}
, function(e, t, r) {
    r.d(t, "b", (function() {
        return a
    }
    )),
    r.d(t, "a", (function() {
        return l
    }
    ));
    var n = r(4)
      , i = r(33)
      , o = Object(n.a)("serialization")
      , a = {
        int: new i.k,
        uint: new i.q,
        float: new i.o,
        ufloat: new i.s,
        string: new i.t,
        entity: new i.g,
        weakEntityRef: new i.h,
        vector: new i.v,
        tileVector: new i.v,
        bool: new i.b,
        uintOrString: new i.r,
        nullable: e => new i.n(e),
        classId: e => new i.f(e),
        keyValueMap: (e, t=!0) => new i.l(e,t),
        enum: e => new i.i(e),
        obj: (e, t=null) => new i.c(e,t),
        objData: e => new i.d(e),
        knownType: e => new i.j(e),
        array: e => new i.a(e),
        fixedSizeArray: e => new i.a(e,!0),
        classRef: e => new i.m(e),
        structured: e => new i.u(e),
        pair: (e, t) => new i.p(e,t),
        classWithMetaclass: (e, t) => new i.e(e,t)
    }
      , s = {};
    function _BasicSerializableObj() {}
    function _getId() {
        window.assert(!1, "abstract method called")
    }
    function _getSchema() {
        return {}
    }
    function _getCachedSchema() {
        var e = this.getId()
          , t = s[e];
        if (t)
            return t;
        var r = this.getSchema();
        return s[e] = r,
        r
    }
    function _serialize() {
        return function serializeSchema(e, t, r={}) {
            for (var n in t)
                e.hasOwnProperty(n) || o.error("Invalid schema, property", n, "does not exist on", e, "(schema=", t, ")"),
                t[n],
                r[n] = t[n].serialize(e[n]);
            return r
        }(this, this.constructor.getCachedSchema())
    }
    function _deserialize(e, t=null) {
        return function deserializeSchema(e, t, r, n=null, i) {
            if (n)
                return n;
            if (null == r)
                return o.error("Got 'NULL' data for", e, "and schema", t, "!"),
                "Got null data";
            for (var a in t) {
                if (!r.hasOwnProperty(a))
                    return o.error("Data", r, "does not contain", a, "(schema:", t, ")"),
                    "Missing key in schema: " + a + " of class " + e.constructor.name;
                if (!t[a].allowNull() && (null === r[a] || void 0 === r[a]))
                    return o.error("Data", r, "has null value for", a, "(schema:", t, ")"),
                    "Non-nullable entry is null: " + a + " of class " + e.constructor.name;
                var s = t[a].deserializeWithVerify(r[a], e, a, e.root || i);
                if (s)
                    return o.error("Deserialization failed with error '" + s + "' on object", e, "and key", a, "(root? =", e.root ? "y" : "n", ")"),
                    s
            }
        }(this, this.constructor.getCachedSchema(), e, null, t)
    }
    function _verify(e) {
        return function verifySchema(e, t) {
            for (var r in e) {
                if (!t.hasOwnProperty(r))
                    return o.error("Data", t, "does not contain", r, "(schema:", e, ")"),
                    "verify: missing key required by schema in stored data: " + r;
                if (!e[r].allowNull() && (null === t[r] || void 0 === t[r]))
                    return o.error("Data", t, "has null value for", r, "(schema:", e, ")"),
                    "verify: non-nullable entry is null: " + r;
                var n = e[r].verifySerializedValue(t[r]);
                if (n)
                    return o.error(n),
                    "verify: " + n
            }
        }(this.getCachedSchema(), e)
    }
    var l = function() {
        _BasicSerializableObj.getId = _getId,
        _BasicSerializableObj.getSchema = _getSchema,
        _BasicSerializableObj.getCachedSchema = _getCachedSchema;
        var e = _BasicSerializableObj.prototype;
        return e.serialize = _serialize,
        e.deserialize = _deserialize,
        _BasicSerializableObj.verify = _verify,
        _BasicSerializableObj
    }()
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "enumItemProcessorTypes", (function() {
        return o
    }
    )),
    r.d(t, "enumItemProcessorRequirements", (function() {
        return a
    }
    )),
    r.d(t, "ItemProcessorComponent", (function() {
        return s
    }
    )),
    r(11);
    var n = r(6)
      , i = (r(26),
    r(18))
      , o = {
        balancer: "balancer",
        cutter: "cutter",
        cutterQuad: "cutterQuad",
        rotater: "rotater",
        rotaterCCW: "rotaterCCW",
        rotater180: "rotater180",
        stacker: "stacker",
        trash: "trash",
        mixer: "mixer",
        painter: "painter",
        painterDouble: "painterDouble",
        painterQuad: "painterQuad",
        hub: "hub",
        filter: "filter",
        reader: "reader",
        goal: "goal"
    }
      , a = {
        painterQuad: "painterQuad"
    };
    function _getId() {
        return "ItemProcessor"
    }
    function _getSchema() {
        return {
            nextOutputSlot: n.b.uint
        }
    }
    function _clear() {
        this.nextOutputSlot = 0,
        this.inputSlots.clear(),
        this.inputCount = 0,
        this.ongoingCharges = [],
        this.bonusTime = 0,
        this.queuedEjects = []
    }
    function _tryTakeItem(e, t) {
        return this.type === o.hub || this.type === o.trash || this.type === o.goal ? (this.inputSlots.set(this.inputCount, e),
        this.inputCount++,
        !0) : !this.inputSlots.has(t) && (this.inputSlots.set(t, e),
        this.inputCount++,
        !0)
    }
    var s = function(e) {
        function ItemProcessorComponent({processorType: t=o.balancer, processingRequirement: r=null, inputsPerCharge: n=1}) {
            var i;
            return (i = e.call(this) || this).inputsPerCharge = n,
            i.type = t,
            i.processingRequirement = r,
            i.inputSlots = new Map,
            i.clear(),
            i
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemProcessorComponent, e),
        ItemProcessorComponent.getId = _getId,
        ItemProcessorComponent.getSchema = _getSchema;
        var t = ItemProcessorComponent.prototype;
        return t.clear = _clear,
        t.tryTakeItem = _tryTakeItem,
        ItemProcessorComponent
    }(i.a)
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "enumPinSlotType", (function() {
        return a
    }
    )),
    r.d(t, "WiredPinsComponent", (function() {
        return s
    }
    )),
    r(0),
    r(26);
    var n = r(18)
      , i = r(6)
      , o = r(36)
      , a = {
        logicalEjector: "logicalEjector",
        logicalAcceptor: "logicalAcceptor"
    };
    function _getId() {
        return "WiredPins"
    }
    function _getSchema() {
        return {
            slots: i.b.fixedSizeArray(i.b.structured({
                value: i.b.nullable(o.b)
            }))
        }
    }
    function _setSlots(e) {
        this.slots = [];
        for (var t = 0; t < e.length; ++t) {
            var r = e[t];
            this.slots.push({
                pos: r.pos,
                type: r.type,
                direction: r.direction,
                value: null,
                linkedNetwork: null
            })
        }
    }
    var s = function(e) {
        function WiredPinsComponent({slots: t=[]}) {
            var r;
            return (r = e.call(this) || this).setSlots(t),
            r
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(WiredPinsComponent, e),
        WiredPinsComponent.getId = _getId,
        WiredPinsComponent.getSchema = _getSchema,
        WiredPinsComponent.prototype.setSlots = _setSlots,
        WiredPinsComponent
    }(n.a)
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return c
    }
    )),
    r(11);
    var n = r(27)
      , i = r(32)
      , o = r(37)
      , a = r(4)
      , s = Object(a.a)("loader")
      , l = {};
    function _LoaderImpl() {
        this.app = null,
        this.sprites = new Map,
        this.rawImages = []
    }
    function _linkAppAfterBoot(e) {
        this.app = e,
        this.makeSpriteNotFoundCanvas()
    }
    function _getSpriteInternal(e) {
        return this.sprites.get(e) || (l[e] || (l[e] = !0,
        s.error("Sprite '" + e + "' not found!")),
        this.spriteNotFoundSprite)
    }
    function _getSprite(e) {
        return this.getSpriteInternal(e)
    }
    function _getRegularSprite(e) {
        return this.getSpriteInternal(e)
    }
    function _ref(e, t) {
        setTimeout(t, 1e4)
    }
    function _ref2() {
        return null
    }
    function _ref3() {
        return null
    }
    function _internalPreloadImage(e) {
        var t = Object(o.a)("res/" + e)
          , r = new Image
          , n = 0;
        return Promise.race([new Promise(_ref), new Promise(e => {
            r.onload = () => {
                r.onerror = null,
                r.onload = null,
                "function" == typeof r.decode && r.decode().then(_ref2, _ref3),
                e(r)
            }
            ,
            r.onerror = i => {
                s.warn("Failed to load '" + t + "':", i),
                ++n < 4 ? (s.log("Retrying to load image from", t),
                r.src = t + "?try=" + n) : (s.warn("Failed to load", t, "after", n, "tries with reason", i),
                r.onerror = null,
                r.onload = null,
                e(null))
            }
            ,
            r.src = t
        }
        )])
    }
    function _preloadCSSSprite(e) {
        return this.internalPreloadImage(e).then(t => {
            e.indexOf("game_misc") >= 0 && this.sprites.set(e, new i.d(t,t.width,t.height)),
            this.rawImages.push(t)
        }
        )
    }
    function _preloadAtlas(e) {
        return this.internalPreloadImage(e.getFullSourcePath()).then(t => (t.label = e.sourceFileName,
        this.internalParseAtlas(e, t)))
    }
    function _internalParseAtlas({meta: {scale: e}, sourceData: t}, r) {
        for (var n in this.rawImages.push(r),
        t) {
            var {frame: o, sourceSize: a, spriteSourceSize: s} = t[n]
              , l = this.sprites.get(n);
            if (l || (l = new i.a(n),
            this.sprites.set(n, l)),
            !l.frozen) {
                var c = new i.e({
                    packedX: o.x,
                    packedY: o.y,
                    packedW: o.w,
                    packedH: o.h,
                    packOffsetX: s.x,
                    packOffsetY: s.y,
                    atlas: r,
                    w: a.w,
                    h: a.h
                });
                l.linksByResolution[e] = c
            }
        }
    }
    function _makeSpriteNotFoundCa() {
        var [e,t] = Object(n.e)(128, 128, {
            smooth: !1,
            label: "not-found-sprite"
        });
        t.fillStyle = "#f77",
        t.fillRect(0, 0, 128, 128),
        t.textAlign = "center",
        t.textBaseline = "middle",
        t.fillStyle = "#eee",
        t.font = "25px Arial",
        t.fillText("???", 64, 64),
        e.src = "not-found";
        var r = new i.a("not-found");
        ["0.1", "0.25", "0.5", "0.75", "1"].forEach(t => {
            r.linksByResolution[t] = new i.e({
                packedX: 0,
                packedY: 0,
                w: 128,
                h: 128,
                packOffsetX: 0,
                packOffsetY: 0,
                packedW: 128,
                packedH: 128,
                atlas: e
            })
        }
        ),
        this.spriteNotFoundSprite = r
    }
    var c = new (function() {
        var e = _LoaderImpl.prototype;
        return e.linkAppAfterBoot = _linkAppAfterBoot,
        e.getSpriteInternal = _getSpriteInternal,
        e.getSprite = _getSprite,
        e.getRegularSprite = _getRegularSprite,
        e.internalPreloadImage = _internalPreloadImage,
        e.preloadCSSSprite = _preloadCSSSprite,
        e.preloadAtlas = _preloadAtlas,
        e.internalParseAtlas = _internalParseAtlas,
        e.makeSpriteNotFoundCanvas = _makeSpriteNotFoundCa,
        _LoaderImpl
    }())
}
, function(e, t, r) {
    r.d(t, "e", (function() {
        return l
    }
    )),
    r.d(t, "a", (function() {
        return c
    }
    )),
    r.d(t, "b", (function() {
        return u
    }
    )),
    r.d(t, "c", (function() {
        return d
    }
    )),
    r.d(t, "d", (function() {
        return p
    }
    )),
    r(11);
    var n = r(4)
      , i = Object(n.a)("singleton_factory");
    function _SingletonFactory(e) {
        this.id = e,
        this.entries = [],
        this.idToEntry = {}
    }
    function _getId() {
        return this.id
    }
    function _register(e) {
        var t = new e
          , r = t.getId();
        this.entries.push(t),
        this.idToEntry[r] = t
    }
    function _hasId(e) {
        return !!this.idToEntry[e]
    }
    function _findById(e) {
        return this.idToEntry[e] || (i.error("Object with id", e, "is not registered!"),
        null)
    }
    function _findByClass(e) {
        for (var t = 0; t < this.entries.length; ++t)
            if (this.entries[t]instanceof e)
                return this.entries[t];
        return null
    }
    function _getEntries() {
        return this.entries
    }
    function _getAllIds() {
        return Object.keys(this.idToEntry)
    }
    function _getNumEntries() {
        return this.entries.length
    }
    var o = function() {
        var e = _SingletonFactory.prototype;
        return e.getId = _getId,
        e.register = _register,
        e.hasId = _hasId,
        e.findById = _findById,
        e.findByClass = _findByClass,
        e.getEntries = _getEntries,
        e.getAllIds = _getAllIds,
        e.getNumEntries = _getNumEntries,
        _SingletonFactory
    }()
      , a = Object(n.a)("factory");
    function _Factory(e) {
        this.id = e,
        this.entries = [],
        this.entryIds = [],
        this.idToEntry = {}
    }
    function factory_getId() {
        return this.id
    }
    function factory_register(e) {
        var t = e.getId();
        this.entries.push(e),
        this.entryIds.push(t),
        this.idToEntry[t] = e
    }
    function factory_hasId(e) {
        return !!this.idToEntry[e]
    }
    function factory_findById(e) {
        return this.idToEntry[e] || (a.error("Object with id", e, "is not registered on factory", this.id, "!"),
        null)
    }
    function factory_getEntries() {
        return this.entries
    }
    function factory_getAllIds() {
        return this.entryIds
    }
    function factory_getNumEntries() {
        return this.entries.length
    }
    var s = function() {
        var e = _Factory.prototype;
        return e.getId = factory_getId,
        e.register = factory_register,
        e.hasId = factory_hasId,
        e.findById = factory_findById,
        e.getEntries = factory_getEntries,
        e.getAllIds = factory_getAllIds,
        e.getNumEntries = factory_getNumEntries,
        _Factory
    }()
      , l = new o
      , c = new s("component")
      , u = new s("gameMode")
      , d = new s("gamespeed")
      , p = new s("item")
}
, function(e, t, r) {
    var n = r(39)
      , i = r(147)
      , o = r(148)
      , a = r(47)
      , s = r(40)
      , l = s("iterator")
      , c = s("toStringTag")
      , u = o.values;
    for (var d in i) {
        var p = n[d]
          , h = p && p.prototype;
        if (h) {
            if (h[l] !== u)
                try {
                    a(h, l, u)
                } catch (f) {
                    h[l] = u
                }
            if (h[c] || a(h, c, d),
            i[d])
                for (var g in o)
                    if (h[g] !== o[g])
                        try {
                            a(h, g, o[g])
                        } catch (f) {
                            h[g] = o[g]
                        }
        }
    }
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return s
    }
    )),
    r(16),
    r(3),
    r(0);
    var n = r(6)
      , i = function EntityComponentStorage() {}
      , o = (r(9),
    r(42),
    r(10))
      , a = r(20);
    function _getId() {
        return "Entity"
    }
    function _getSchema() {
        return {
            uid: n.b.uint,
            components: n.b.keyValueMap(n.b.objData(o.a), !1)
        }
    }
    function entity_clone() {
        var e = this.components.StaticMapEntity
          , t = Object(a.c)(e.code)
          , r = t.metaInstance.createEntity({
            root: this.root,
            origin: e.origin,
            originalRotation: e.originalRotation,
            rotation: e.rotation,
            rotationVariant: t.rotationVariant,
            variant: t.variant
        });
        for (var n in this.components)
            this.components[n].copyAdditionalStateTo(r.components[n]);
        return r
    }
    function _addComponent(e, t=!1) {
        if (t || !this.registered) {
            var r = e.constructor.getId();
            this.components[r] = e
        } else
            this.root.entityMgr.attachDynamicComponent(this, e)
    }
    function _removeComponent(e, t=!1) {
        if (t || !this.registered) {
            var r = e.getId();
            delete this.components[r]
        } else
            this.root.entityMgr.removeDynamicComponent(this, e)
    }
    function _drawDebugOverlays(e) {
        e.context,
        this.components.StaticMapEntity
    }
    function _drawImpl(e) {
        window.assert(!1, "abstract method called")
    }
    var s = function(e) {
        function Entity(t) {
            var r;
            return (r = e.call(this) || this).root = t,
            r.components = new i,
            r.registered = !1,
            r.layer = "regular",
            r.uid = 0,
            r
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(Entity, e),
        Entity.getId = _getId,
        Entity.getSchema = _getSchema;
        var t = Entity.prototype;
        return t.clone = entity_clone,
        t.addComponent = _addComponent,
        t.removeComponent = _removeComponent,
        t.drawDebugOverlays = _drawDebugOverlays,
        t.drawImpl = _drawImpl,
        Entity
    }(n.a)
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return u
    }
    )),
    r.d(t, "d", (function() {
        return p
    }
    )),
    r.d(t, "e", (function() {
        return h
    }
    )),
    r.d(t, "c", (function() {
        return g
    }
    )),
    r.d(t, "b", (function() {
        return y
    }
    )),
    r(11);
    var n = r(27)
      , i = r(3)
      , o = r(57)
      , a = (r(22),
    r(0))
      , s = r(6)
      , l = r(19)
      , c = r(14)
      , u = {}
      , d = [new a.a(1,-1), new a.a(1,1), new a.a(-1,1), new a.a(-1,-1)]
      , p = {
        rect: "rect",
        circle: "circle",
        star: "star",
        windmill: "windmill"
    }
      , h = {
        [p.rect]: "R",
        [p.circle]: "C",
        [p.star]: "S",
        [p.windmill]: "W"
    }
      , g = {};
    for (var f in h)
        g[h[f]] = f;
    var m = new Map;
    function _getId() {
        return "ShapeDefinition"
    }
    function _getSchema() {
        return {}
    }
    function _serialize() {
        return this.getHash()
    }
    function _isValidShortKeyInter(e) {
        for (var t = e.split(":"), r = [], n = 0; n < t.length; ++n) {
            var i = t[n];
            if (8 !== i.length)
                return !1;
            for (var o = [null, null, null, null], a = !1, s = 0; s < 4; ++s) {
                var c = i[2 * s + 0]
                  , u = i[2 * s + 1]
                  , d = g[c]
                  , p = l.e[u];
                if (d) {
                    if (!p)
                        return !1;
                    o[s] = {
                        subShape: d,
                        color: p
                    },
                    a = !0
                } else {
                    if ("-" !== c)
                        return !1;
                    if ("-" !== u)
                        return !1
                }
            }
            if (!a)
                return !1;
            r.push(o)
        }
        return !(0 === r.length || r.length > 4)
    }
    function _getClonedLayers() {
        return JSON.parse(JSON.stringify(this.layers))
    }
    function _isEntirelyEmpty() {
        return 0 === this.layers.length
    }
    function _getHash() {
        if (this.cachedHash)
            return this.cachedHash;
        for (var e = "", t = 0; t < this.layers.length; ++t) {
            for (var r = this.layers[t], n = 0; n < r.length; ++n) {
                var i = r[n];
                e += i ? h[i.subShape] + l.b[i.color] : "--"
            }
            t < this.layers.length - 1 && (e += ":")
        }
        return this.cachedHash = e,
        e
    }
    function _drawCentered(e, t, r, n=20) {
        var a = Object(o.c)(i.e.shapesSharpness * r.zoomLevel);
        this.bufferGenerator || (this.bufferGenerator = this.internalGenerateShapeBuffer.bind(this));
        var s = n + "/" + a + "/" + this.cachedHash
          , l = r.root.buffers.getForKey({
            key: "shapedef",
            subKey: s,
            w: n,
            h: n,
            dpi: a,
            redrawMethod: this.bufferGenerator
        });
        r.context.drawImage(l, e - n / 2, t - n / 2, n, n)
    }
    function _drawFullSizeOnCanvas(e, t) {
        this.internalGenerateShapeBuffer(null, e, t, t, 1)
    }
    function _generateAsCanvas(e=120) {
        var [t,r] = Object(n.e)(e, e, {
            smooth: !0,
            label: "definition-canvas-cache-" + this.getHash(),
            reusable: !1
        });
        return this.internalGenerateShapeBuffer(t, r, e, e, 1),
        t
    }
    function _internalGenerateShap(e, t, r, n, i) {
        t.translate(r * i / 2, n * i / 2),
        t.scale(i * r / 23, i * n / 23),
        t.fillStyle = "#e9ecf7",
        t.fillStyle = c.a.items.circleBackground,
        t.beginCircle(0, 0, 11.5),
        t.fill();
        for (var o = 0; o < this.layers.length; ++o)
            for (var a = this.layers[o], s = Math.max(.1, .9 - .22 * o), h = 0; h < 4; ++h)
                if (a[h]) {
                    var {subShape: g, color: f} = a[h]
                      , m = d[h]
                      , y = 5 * m.x
                      , _ = 5 * m.y
                      , v = Math.radians(90 * h);
                    if (t.translate(y, _),
                    t.rotate(v),
                    t.fillStyle = l.d[f],
                    t.strokeStyle = c.a.items.outline,
                    t.lineWidth = c.a.items.outlineWidth,
                    u[g])
                        u[g]({
                            context: t,
                            layerScale: s,
                            quadrantSize: 10
                        });
                    else
                        switch (g) {
                        case p.rect:
                            t.beginPath();
                            var b = 10 * s;
                            t.rect(-5, 5 - b, b, b),
                            t.fill(),
                            t.stroke();
                            break;
                        case p.star:
                            t.beginPath();
                            var w = 10 * s
                              , S = 5 - w
                              , C = .4 * w;
                            t.moveTo(-5, S + C),
                            t.lineTo(-5 + w, S),
                            t.lineTo(-5 + w - C, S + w),
                            t.lineTo(-5, S + w),
                            t.closePath(),
                            t.fill(),
                            t.stroke();
                            break;
                        case p.windmill:
                            t.beginPath();
                            var A = 10 * s
                              , k = 5 - A
                              , E = .4 * A;
                            t.moveTo(-5, k + E),
                            t.lineTo(-5 + A, k),
                            t.lineTo(-5 + A, k + A),
                            t.lineTo(-5, k + A),
                            t.closePath(),
                            t.fill(),
                            t.stroke();
                            break;
                        case p.circle:
                            t.beginPath(),
                            t.moveTo(-5, 5),
                            t.arc(-5, 5, 10 * s, .5 * -Math.PI, 0),
                            t.closePath(),
                            t.fill(),
                            t.stroke();
                            break;
                        default:
                            throw new Error("Unkown sub shape: " + g)
                        }
                    t.rotate(-v),
                    t.translate(-y, -_)
                }
    }
    var y = function(e) {
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ShapeDefinition, e),
        ShapeDefinition.getId = _getId,
        ShapeDefinition.getSchema = _getSchema;
        var t = ShapeDefinition.prototype;
        function ShapeDefinition({layers: t=[]}) {
            var r;
            return (r = e.call(this) || this).layers = t,
            r.cachedHash = null,
            r.bufferGenerator = null,
            r
        }
        return t.deserialize = function deserialize(t) {
            var r = e.prototype.deserialize.call(this, t);
            if (r)
                return r;
            var n = ShapeDefinition.fromShortKey(t);
            this.layers = n.layers
        }
        ,
        t.serialize = _serialize,
        ShapeDefinition.fromShortKey = function fromShortKey(e) {
            for (var t = e.split(":"), r = [], n = 0; n < t.length; ++n) {
                for (var i = t[n], o = [null, null, null, null], a = 0; a < 4; ++a) {
                    var s = i[2 * a + 0]
                      , c = g[s]
                      , u = l.e[i[2 * a + 1]];
                    c && (o[a] = {
                        subShape: c,
                        color: u
                    })
                }
                r.push(o)
            }
            var d = new ShapeDefinition({
                layers: r
            });
            return d.cachedHash = e,
            d
        }
        ,
        ShapeDefinition.isValidShortKey = function isValidShortKey(e) {
            if (m.has(e))
                return m.get(e);
            var t = ShapeDefinition.isValidShortKeyInternal(e);
            return m.set(e, t),
            t
        }
        ,
        ShapeDefinition.isValidShortKeyInternal = _isValidShortKeyInter,
        t.getClonedLayers = _getClonedLayers,
        t.isEntirelyEmpty = _isEntirelyEmpty,
        t.getHash = _getHash,
        t.drawCentered = _drawCentered,
        t.drawFullSizeOnCanvas = _drawFullSizeOnCanvas,
        t.generateAsCanvas = _generateAsCanvas,
        t.internalGenerateShapeBuffer = _internalGenerateShap,
        t.cloneFilteredByQuadrants = function cloneFilteredByQuadrants(e) {
            for (var t = this.getClonedLayers(), r = 0; r < t.length; ++r) {
                for (var n = t[r], i = !1, o = 0; o < 4; ++o)
                    e.indexOf(o) < 0 ? n[o] = null : n[o] && (i = !0);
                i || (t.splice(r, 1),
                r -= 1)
            }
            return new ShapeDefinition({
                layers: t
            })
        }
        ,
        t.cloneRotateCW = function cloneRotateCW() {
            for (var e = this.getClonedLayers(), t = 0; t < e.length; ++t) {
                var r = e[t];
                r.unshift(r[3]),
                r.pop()
            }
            return new ShapeDefinition({
                layers: e
            })
        }
        ,
        t.cloneRotateCCW = function cloneRotateCCW() {
            for (var e = this.getClonedLayers(), t = 0; t < e.length; ++t) {
                var r = e[t];
                r.push(r[0]),
                r.shift()
            }
            return new ShapeDefinition({
                layers: e
            })
        }
        ,
        t.cloneRotate180 = function cloneRotate180() {
            for (var e = this.getClonedLayers(), t = 0; t < e.length; ++t) {
                var r = e[t];
                r.push(r.shift(), r.shift())
            }
            return new ShapeDefinition({
                layers: e
            })
        }
        ,
        t.cloneAndStackWith = function cloneAndStackWith(e) {
            this.isEntirelyEmpty() || e.isEntirelyEmpty();
            for (var t = this.layers, r = [-1, -1, -1, -1], n = t.length - 1; n >= 0; --n)
                for (var i = t[n], o = 0; o < 4; ++o)
                    null !== i[o] && r[o] < n && (r[o] = n);
            for (var a = e.layers, s = [4, 4, 4, 4], l = 0; l < a.length; ++l)
                for (var c = a[l], u = 0; u < 4; ++u)
                    null !== c[u] && s[u] > l && (s[u] = l);
            for (var d = [], p = 0; p < 4; ++p)
                d.push(s[p] - r[p]);
            for (var h = Math.min(...d), g = Math.max(1 - h, 0), f = this.getClonedLayers(), m = f.length; m < g + a.length; ++m)
                f.push([null, null, null, null]);
            for (var y = 0; y < a.length; ++y)
                for (var _ = f[g + y], v = a[y], b = 0; b < 4; b++)
                    _[b] = _[b] || v[b];
            return f.splice(4),
            new ShapeDefinition({
                layers: f
            })
        }
        ,
        t.cloneAndPaintWith = function cloneAndPaintWith(e) {
            for (var t = this.getClonedLayers(), r = 0; r < t.length; ++r)
                for (var n = t[r], i = 0; i < 4; ++i) {
                    var o = n[i];
                    o && (o.color = e)
                }
            return new ShapeDefinition({
                layers: t
            })
        }
        ,
        t.cloneAndPaintWith4Colors = function cloneAndPaintWith4Colors(e) {
            for (var t = this.getClonedLayers(), r = 0; r < t.length; ++r)
                for (var n = t[r], i = 0; i < 4; ++i) {
                    var o = n[i];
                    o && (o.color = e[i] || o.color)
                }
            return new ShapeDefinition({
                layers: t
            })
        }
        ,
        ShapeDefinition
    }(s.a)
}
, function(e, t, r) {
    r.d(t, "b", (function() {
        return n
    }
    )),
    r.d(t, "a", (function() {
        return i
    }
    )),
    r.d(t, "c", (function() {
        return applyGameTheme
    }
    ));
    var n = {
        dark: r(194),
        light: r(195)
    }
      , i = n.light;
    function applyGameTheme(e) {
        i = n[e]
    }
}
, function(e, t, r) {
    r.d(t, "c", (function() {
        return s
    }
    )),
    r.d(t, "a", (function() {
        return l
    }
    )),
    r.d(t, "b", (function() {
        return c
    }
    )),
    r.d(t, "d", (function() {
        return isTrueItem
    }
    )),
    r.d(t, "e", (function() {
        return isTruthyItem
    }
    )),
    r(22);
    var n = r(9)
      , i = r(6)
      , o = r(26)
      , a = r(3);
    function _getId() {
        return "boolean_item"
    }
    function _getSchema() {
        return i.b.uint
    }
    function _serialize() {
        return this.value
    }
    function _deserialize(e) {
        this.value = e
    }
    function _getItemType() {
        return "boolean"
    }
    function _getAsCopyableKey() {
        return this.value ? "1" : "0"
    }
    function _equalsImpl(e) {
        return this.value === e.value
    }
    function _drawItemCenteredImpl(e, t, r, i=a.e.defaultItemDiameter) {
        (this.value ? n.a.getSprite("sprites/wires/boolean_true.png") : n.a.getSprite("sprites/wires/boolean_false.png")).drawCachedCentered(r, e, t, i)
    }
    function _drawFullSizeOnCanvas(e, t) {
        (this.value ? n.a.getSprite("sprites/wires/boolean_true.png") : n.a.getSprite("sprites/wires/boolean_false.png")).drawCentered(e, t / 2, t / 2, t)
    }
    var s = function(e) {
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BooleanItem, e),
        BooleanItem.getId = _getId,
        BooleanItem.getSchema = _getSchema;
        var t = BooleanItem.prototype;
        function BooleanItem(t) {
            var r;
            return (r = e.call(this) || this).value = t ? 1 : 0,
            r
        }
        return t.serialize = _serialize,
        t.deserialize = _deserialize,
        t.getItemType = _getItemType,
        t.getAsCopyableKey = _getAsCopyableKey,
        t.equalsImpl = _equalsImpl,
        t.drawItemCenteredImpl = _drawItemCenteredImpl,
        t.drawFullSizeOnCanvas = _drawFullSizeOnCanvas,
        BooleanItem
    }(o.a)
      , l = new s(0)
      , c = new s(1);
    function isTrueItem(e) {
        return e && "boolean" === e.getItemType() && !!e.value
    }
    function isTruthyItem(e) {
        return !(!e || "boolean" === e.getItemType() && !e.value)
    }
}
, function(e, t, r) {
    r.d(t, "b", (function() {
        return a
    }
    )),
    r.d(t, "a", (function() {
        return s
    }
    ));
    var n = r(5)
      , i = (r(76),
    r(4))
      , o = Object(i.a)("game/root")
      , a = ["regular", "wires"];
    function _GameRoot(e) {
        this.app = e,
        this.savegame = null,
        this.gameState = null,
        this.keyMapper = null,
        this.gameWidth = 500,
        this.gameHeight = 500,
        this.gameIsFresh = !0,
        this.logicInitialized = !1,
        this.gameInitialized = !1,
        this.bulkOperationRunning = !1,
        this.immutableOperationRunning = !1,
        this.camera = null,
        this.canvas = null,
        this.context = null,
        this.map = null,
        this.logic = null,
        this.entityMgr = null,
        this.hud = null,
        this.systemMgr = null,
        this.time = null,
        this.hubGoals = null,
        this.buffers = null,
        this.automaticSave = null,
        this.soundProxy = null,
        this.achievementProxy = null,
        this.shapeDefinitionMgr = null,
        this.productionAnalytics = null,
        this.dynamicTickrate = null,
        this.currentLayer = "regular",
        this.gameMode = null,
        this.signals = {
            entityManuallyPlaced: new n.b,
            entityAdded: new n.b,
            entityChanged: new n.b,
            entityGotNewComponent: new n.b,
            entityComponentRemoved: new n.b,
            entityQueuedForDestroy: new n.b,
            entityDestroyed: new n.b,
            resized: new n.b,
            readyToRender: new n.b,
            aboutToDestruct: new n.b,
            gameSaved: new n.b,
            gameRestored: new n.b,
            gameFrameStarted: new n.b,
            storyGoalCompleted: new n.b,
            upgradePurchased: new n.b,
            postLoadHook: new n.b,
            shapeDelivered: new n.b,
            itemProduced: new n.b,
            bulkOperationFinished: new n.b,
            immutableOperationFinished: new n.b,
            editModeChanged: new n.b,
            prePlacementCheck: new n.b,
            freeEntityAreaBeforeBuild: new n.b,
            achievementCheck: new n.b,
            bulkAchievementCheck: new n.b,
            puzzleComplete: new n.b
        },
        this.rngs = {},
        this.queue = {
            requireRedraw: !1
        }
    }
    function _destruct() {
        o.log("destructing root"),
        this.signals.aboutToDestruct.dispatch(),
        this.reset()
    }
    function _reset() {
        if (this.signals)
            for (var e = 0; e < this.signals.length; ++e)
                this.signals[e].removeAll();
        for (var t in this.hud && this.hud.cleanup(),
        this.camera && this.camera.cleanup(),
        this)
            this.hasOwnProperty(t) && delete this[t]
    }
    var s = function() {
        var e = _GameRoot.prototype;
        return e.destruct = _destruct,
        e.reset = _reset,
        _GameRoot
    }()
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "enumLogicGateType", (function() {
        return i
    }
    )),
    r.d(t, "LogicGateComponent", (function() {
        return o
    }
    ));
    var n = r(18)
      , i = {
        and: "and",
        not: "not",
        xor: "xor",
        or: "or",
        transistor: "transistor",
        analyzer: "analyzer",
        rotater: "rotater",
        unstacker: "unstacker",
        cutter: "cutter",
        compare: "compare",
        stacker: "stacker",
        painter: "painter"
    };
    function _getId() {
        return "LogicGate"
    }
    var o = function(e) {
        function LogicGateComponent({type: t=i.and}) {
            var r;
            return (r = e.call(this) || this).type = t,
            r
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(LogicGateComponent, e),
        LogicGateComponent.getId = _getId,
        LogicGateComponent
    }(n.a)
}
, function(e, t, r) {
    function _getId() {
        return window.assert(!1, "abstract method called"),
        "unknown-component"
    }
    function _getSchema() {
        return {}
    }
    function _copyAdditionalStateT(e) {}
    function _clear() {}
    r.d(t, "a", (function() {
        return n
    }
    ));
    var n = function(e) {
        function Component() {
            return e.apply(this, arguments) || this
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(Component, e),
        Component.getId = _getId,
        Component.getSchema = _getSchema;
        var t = Component.prototype;
        return t.copyAdditionalStateTo = _copyAdditionalStateT,
        t.clear = _clear,
        Component
    }(r(6).a)
}
, function(e, t, r) {
    r.d(t, "c", (function() {
        return n
    }
    )),
    r.d(t, "b", (function() {
        return i
    }
    )),
    r.d(t, "e", (function() {
        return o
    }
    )),
    r.d(t, "d", (function() {
        return s
    }
    )),
    r.d(t, "a", (function() {
        return c
    }
    ));
    var n = {
        red: "red",
        green: "green",
        blue: "blue",
        yellow: "yellow",
        purple: "purple",
        cyan: "cyan",
        white: "white",
        uncolored: "uncolored"
    }
      , i = {
        [n.red]: "r",
        [n.green]: "g",
        [n.blue]: "b",
        [n.yellow]: "y",
        [n.purple]: "p",
        [n.cyan]: "c",
        [n.white]: "w",
        [n.uncolored]: "u"
    }
      , o = {};
    for (var a in i)
        o[i[a]] = a;
    var s = {
        [n.red]: "#ff666a",
        [n.green]: "#78ff66",
        [n.blue]: "#66a7ff",
        [n.yellow]: "#fcf52a",
        [n.purple]: "#dd66ff",
        [n.cyan]: "#00fcff",
        [n.white]: "#ffffff",
        [n.uncolored]: "#aaaaaa"
    }
      , l = n
      , c = {
        [l.red]: {
            [l.green]: l.yellow,
            [l.blue]: l.purple,
            [l.yellow]: l.yellow,
            [l.purple]: l.purple,
            [l.cyan]: l.white,
            [l.white]: l.white
        },
        [l.green]: {
            [l.blue]: l.cyan,
            [l.yellow]: l.yellow,
            [l.purple]: l.white,
            [l.cyan]: l.cyan,
            [l.white]: l.white
        },
        [l.blue]: {
            [l.yellow]: l.white,
            [l.purple]: l.purple,
            [l.cyan]: l.cyan,
            [l.white]: l.white
        },
        [l.yellow]: {
            [l.purple]: l.white,
            [l.cyan]: l.white
        },
        [l.purple]: {
            [l.cyan]: l.white
        },
        [l.cyan]: {},
        [l.white]: {},
        [l.uncolored]: {}
    };
    for (var u in n)
        c[u][u] = u,
        c[u][l.white] = l.white,
        c[u][l.uncolored] = u;
    for (var d in c)
        for (var p in c[d]) {
            var h = c[d][p];
            if (c[p]) {
                var g = c[p][d];
                g && g !== h && window.assert(!1, "invalid color mixing configuration, " + d + " + " + p + " is " + h + " but " + p + " + " + d + " is " + g),
                c[p][d] = h
            } else
                c[p] = {
                    [d]: h
                }
        }
    for (var f in c)
        for (var m in c)
            c[f][m] || window.assert(!1, "Color mixing of", f, "with", m, "is not defined")
}
, function(e, t, r) {
    r.d(t, "b", (function() {
        return i
    }
    )),
    r.d(t, "e", (function() {
        return registerBuildingVariant
    }
    )),
    r.d(t, "c", (function() {
        return getBuildingDataFromCode
    }
    )),
    r.d(t, "a", (function() {
        return buildBuildingCodeCache
    }
    )),
    r.d(t, "d", (function() {
        return getCodeFromBuildingData
    }
    )),
    r(11);
    var n = r(10)
      , i = {}
      , o = new Map;
    function registerBuildingVariant(e, t, r="default", o=0) {
        i[e] = {
            metaClass: t,
            metaInstance: n.e.findByClass(t),
            variant: r,
            rotationVariant: o,
            tileSize: (new t).getDimensions(r)
        }
    }
    function generateBuildingHash(e, t, r) {
        return e + "/" + t + "/" + r
    }
    function getBuildingDataFromCode(e) {
        return i[e]
    }
    function buildBuildingCodeCache() {
        for (var e in i) {
            var t = i[e]
              , r = generateBuildingHash(t.metaInstance.getId(), t.variant, t.rotationVariant);
            o.set(r, isNaN(+e) ? e : +e)
        }
    }
    function getCodeFromBuildingData(e, t, r) {
        var n = generateBuildingHash(e.getId(), t, r);
        return o.get(n)
    }
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "enumWireType", (function() {
        return i
    }
    )),
    r.d(t, "enumWireVariant", (function() {
        return o
    }
    )),
    r.d(t, "WireComponent", (function() {
        return a
    }
    ));
    var n = r(18)
      , i = {
        forward: "forward",
        turn: "turn",
        split: "split",
        cross: "cross"
    }
      , o = {
        first: "first",
        second: "second"
    };
    function _getId() {
        return "Wire"
    }
    var a = function(e) {
        function WireComponent({type: t=i.forward, variant: r=o.first}) {
            var n;
            return (n = e.call(this) || this).type = t,
            n.variant = r,
            n.linkedNetwork = null,
            n
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(WireComponent, e),
        WireComponent.getId = _getId,
        WireComponent
    }(n.a)
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return n
    }
    )),
    r(3);
    var n = function DrawParameters({context: e, visibleRect: t, desiredAtlasScale: r, zoomLevel: n, root: i}) {
        this.context = e,
        this.visibleRect = t,
        this.desiredAtlasScale = r,
        this.zoomLevel = n,
        this.root = i
    }
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return o
    }
    )),
    r(3);
    var n = r(1)
      , i = r(0);
    function _Rectangle(e=0, t=0, r=0, n=0) {
        this.x = e,
        this.y = t,
        this.w = r,
        this.h = n
    }
    function _fromTRBL(e, t, r, n) {
        return new _Rectangle(n,e,t - n,r - e)
    }
    function _fromSquare(e, t, r) {
        return new _Rectangle(e,t,r,r)
    }
    function _fromTwoPoints(e, t) {
        var r = Math.min(e.x, t.x)
          , n = Math.min(e.y, t.y);
        return new _Rectangle(r,n,Math.max(e.x, t.x) - r,Math.max(e.y, t.y) - n)
    }
    function _centered(e, t) {
        return new _Rectangle(-Math.ceil(e / 2),-Math.ceil(t / 2),e,t)
    }
    function _intersects(e, t) {
        return e.left <= t.right && t.left <= e.right && e.top <= t.bottom && t.top <= e.bottom
    }
    function _clone() {
        return new _Rectangle(this.x,this.y,this.w,this.h)
    }
    function _isEmpty() {
        return Object(n.e)(this.w * this.h, 0)
    }
    function _equalsEpsilon(e, t) {
        return Object(n.e)(this.x, e.x, t) && Object(n.e)(this.y, e.y, t) && Object(n.e)(this.w, e.w, t) && Object(n.e)(this.h, e.h, t)
    }
    function _left() {
        return this.x
    }
    function _right() {
        return this.x + this.w
    }
    function _top() {
        return this.y
    }
    function _bottom() {
        return this.y + this.h
    }
    function _trbl() {
        return [this.y, this.right(), this.bottom(), this.x]
    }
    function _getCenter() {
        return new i.a(this.x + this.w / 2,this.y + this.h / 2)
    }
    function _setRight(e) {
        this.w = e - this.x
    }
    function _setBottom(e) {
        this.h = e - this.y
    }
    function _setTop(e) {
        var t = this.bottom();
        this.y = e,
        this.setBottom(t)
    }
    function _setLeft(e) {
        var t = this.right();
        this.x = e,
        this.setRight(t)
    }
    function _topLeft() {
        return new i.a(this.x,this.y)
    }
    function _bottomRight() {
        return new i.a(this.right(),this.bottom())
    }
    function _moveBy(e, t) {
        this.x += e,
        this.y += t
    }
    function _moveByVector(e) {
        this.x += e.x,
        this.y += e.y
    }
    function _allScaled(e) {
        return new _Rectangle(this.x * e,this.y * e,this.w * e,this.h * e)
    }
    function _expandedInAllDirecti(e) {
        return new _Rectangle(this.x - e,this.y - e,this.w + 2 * e,this.h + 2 * e)
    }
    function _containsRect(e) {
        return this.x <= e.right() && e.x <= this.right() && this.y <= e.bottom() && e.y <= this.bottom()
    }
    function _containsRect4Params(e, t, r, n) {
        return this.x <= e + r && e <= this.right() && this.y <= t + n && t <= this.bottom()
    }
    function _containsCircle(e, t, r) {
        return this.x <= e + r && e - r <= this.right() && this.y <= t + r && t - r <= this.bottom()
    }
    function _containsPoint(e, t) {
        return e >= this.x && e < this.right() && t >= this.y && t < this.bottom()
    }
    function _getIntersection(e) {
        var t = Math.max(this.x, e.x)
          , r = Math.max(this.y, e.y)
          , n = Math.min(this.x + this.w, e.x + e.w)
          , i = Math.min(this.y + this.h, e.y + e.h);
        return n <= t || i <= r ? null : _Rectangle.fromTRBL(r, n, i, t)
    }
    function _intersectsFully(e) {
        var t = this.getIntersection(e);
        return t && Math.abs(t.w * t.h - e.w * e.h) < .001
    }
    function _getUnion(e) {
        if (this.isEmpty())
            return e.clone();
        if (e.isEmpty())
            return this.clone();
        var t = Math.min(this.x, e.x)
          , r = Math.min(this.y, e.y)
          , n = Math.max(this.right(), e.right())
          , i = Math.max(this.bottom(), e.bottom());
        return _Rectangle.fromTRBL(r, n, i, t)
    }
    function _toCompareableString() {
        return Object(n.F)(this.x) + "/" + Object(n.F)(this.y) + "/" + Object(n.F)(this.w) + "/" + Object(n.F)(this.h)
    }
    function _toString() {
        return "[x:" + Object(n.F)(this.x) + "| y:" + Object(n.F)(this.y) + "| w:" + Object(n.F)(this.w) + "| h:" + Object(n.F)(this.h) + "]"
    }
    function _toTileCullRectangle() {
        return new _Rectangle(Math.floor(this.x / 32),Math.floor(this.y / 32),Math.ceil(this.w / 32),Math.ceil(this.h / 32))
    }
    var o = function() {
        _Rectangle.fromTRBL = _fromTRBL,
        _Rectangle.fromSquare = _fromSquare,
        _Rectangle.fromTwoPoints = _fromTwoPoints,
        _Rectangle.centered = _centered,
        _Rectangle.intersects = _intersects;
        var e = _Rectangle.prototype;
        return e.clone = _clone,
        e.isEmpty = _isEmpty,
        e.equalsEpsilon = _equalsEpsilon,
        e.left = _left,
        e.right = _right,
        e.top = _top,
        e.bottom = _bottom,
        e.trbl = _trbl,
        e.getCenter = _getCenter,
        e.setRight = _setRight,
        e.setBottom = _setBottom,
        e.setTop = _setTop,
        e.setLeft = _setLeft,
        e.topLeft = _topLeft,
        e.bottomRight = _bottomRight,
        e.moveBy = _moveBy,
        e.moveByVector = _moveByVector,
        e.allScaled = _allScaled,
        e.expandedInAllDirections = _expandedInAllDirecti,
        e.containsRect = _containsRect,
        e.containsRect4Params = _containsRect4Params,
        e.containsCircle = _containsCircle,
        e.containsPoint = _containsPoint,
        e.getIntersection = _getIntersection,
        e.intersectsFully = _intersectsFully,
        e.getUnion = _getUnion,
        e.toCompareableString = _toCompareableString,
        e.toString = _toString,
        e.toTileCullRectangle = _toTileCullRectangle,
        _Rectangle
    }()
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "ItemAcceptorComponent", (function() {
        return i
    }
    ));
    var n = r(0);
    function _getId() {
        return "ItemAcceptor"
    }
    function _clear() {
        this.itemConsumptionAnimations = []
    }
    function _setSlots(e) {
        this.slots = [];
        for (var t = 0; t < e.length; ++t) {
            var r = e[t];
            this.slots.push({
                pos: r.pos,
                direction: r.direction,
                filter: r.filter
            })
        }
    }
    function _canAcceptItem(e, t) {
        var r = this.slots[e];
        return !r.filter || r.filter === t.getItemType()
    }
    function _onItemAccepted(e, t, r, n=0) {
        this.itemConsumptionAnimations.push({
            item: r,
            slotIndex: e,
            direction: t,
            animProgress: Math.min(1, 2 * n)
        })
    }
    function _findMatchingSlot(e, t) {
        for (var r = n.g[t], i = 0; i < this.slots.length; ++i) {
            var o = this.slots[i];
            if (o.pos.equals(e) && r === o.direction)
                return {
                    slot: o,
                    index: i
                }
        }
        return null
    }
    r(6),
    r(26);
    var i = function(e) {
        function ItemAcceptorComponent({slots: t=[]}) {
            var r;
            return (r = e.call(this) || this).setSlots(t),
            r.clear(),
            r
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemAcceptorComponent, e),
        ItemAcceptorComponent.getId = _getId;
        var t = ItemAcceptorComponent.prototype;
        return t.clear = _clear,
        t.setSlots = _setSlots,
        t.canAcceptItem = _canAcceptItem,
        t.onItemAccepted = _onItemAccepted,
        t.findMatchingSlot = _findMatchingSlot,
        ItemAcceptorComponent
    }(r(18).a)
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "ItemEjectorComponent", (function() {
        return s
    }
    )),
    r(11);
    var n = r(0)
      , i = r(6)
      , o = (r(26),
    r(67),
    r(18))
      , a = (r(12),
    r(36));
    function _getId() {
        return "ItemEjector"
    }
    function _getSchema() {
        return {
            slots: i.b.fixedSizeArray(i.b.structured({
                item: i.b.nullable(a.b),
                progress: i.b.float
            }))
        }
    }
    function _clear() {
        for (var e of this.slots)
            e.item = null,
            e.lastItem = null,
            e.progress = 0
    }
    function _setSlots(e) {
        this.slots = [];
        for (var t = 0; t < e.length; ++t) {
            var r = e[t];
            this.slots.push({
                pos: r.pos,
                direction: r.direction,
                item: null,
                lastItem: null,
                progress: 0,
                cachedDestSlot: null,
                cachedTargetEntity: null
            })
        }
    }
    function _getSlotTargetLocalTi(e) {
        var t = n.f[e.direction];
        return e.pos.add(t)
    }
    function _anySlotEjectsToLocal(e) {
        for (var t = 0; t < this.slots.length; ++t)
            if (this.getSlotTargetLocalTile(this.slots[t]).equals(e))
                return !0;
        return !1
    }
    function _canEjectOnSlot(e) {
        return !this.slots[e].item
    }
    function _getFirstFreeSlot() {
        for (var e = 0; e < this.slots.length; ++e)
            if (this.canEjectOnSlot(e))
                return e;
        return null
    }
    function _tryEject(e, t) {
        return !!this.canEjectOnSlot(e) && (this.slots[e].item = t,
        this.slots[e].lastItem = t,
        this.slots[e].progress = 0,
        !0)
    }
    function _takeSlotItem(e) {
        var t = this.slots[e]
          , r = t.item;
        return t.item = null,
        t.progress = 0,
        r
    }
    var s = function(e) {
        function ItemEjectorComponent({slots: t=[], renderFloatingItems: r=!0}) {
            var n;
            return (n = e.call(this) || this).setSlots(t),
            n.renderFloatingItems = r,
            n
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemEjectorComponent, e),
        ItemEjectorComponent.getId = _getId,
        ItemEjectorComponent.getSchema = _getSchema;
        var t = ItemEjectorComponent.prototype;
        return t.clear = _clear,
        t.setSlots = _setSlots,
        t.getSlotTargetLocalTile = _getSlotTargetLocalTi,
        t.anySlotEjectsToLocalTile = _anySlotEjectsToLocal,
        t.canEjectOnSlot = _canEjectOnSlot,
        t.getFirstFreeSlot = _getFirstFreeSlot,
        t.tryEject = _tryEject,
        t.takeSlotItem = _takeSlotItem,
        ItemEjectorComponent
    }(o.a)
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return i
    }
    ));
    var n = r(3);
    function _getId() {
        return "base_item"
    }
    function _getSchema() {
        return {}
    }
    function _getItemType() {
        return window.assert(!1, "abstract method called"),
        "shape"
    }
    function _getAsCopyableKey() {
        return window.assert(!1, "abstract method called"),
        ""
    }
    function _equals(e) {
        return this.getItemType() === e.getItemType() && this.equalsImpl(e)
    }
    function _equalsImpl(e) {
        return window.assert(!1, "abstract method called"),
        !1
    }
    function _drawFullSizeOnCanvas(e, t) {
        window.assert(!1, "abstract method called")
    }
    function _drawItemCenteredClip(e, t, r, i=n.e.defaultItemDiameter) {
        r.visibleRect.containsCircle(e, t, i / 2) && this.drawItemCenteredImpl(e, t, r, i)
    }
    function _drawItemCenteredImpl(e, t, r, i=n.e.defaultItemDiameter) {
        window.assert(!1, "abstract method called")
    }
    function _getBackgroundColorAs() {
        return window.assert(!1, "abstract method called"),
        ""
    }
    r(22);
    var i = function(e) {
        function BaseItem() {
            var t;
            return (t = e.call(this) || this)._type = t.getItemType(),
            t
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BaseItem, e),
        BaseItem.getId = _getId,
        BaseItem.getSchema = _getSchema;
        var t = BaseItem.prototype;
        return t.getItemType = _getItemType,
        t.getAsCopyableKey = _getAsCopyableKey,
        t.equals = _equals,
        t.equalsImpl = _equalsImpl,
        t.drawFullSizeOnCanvas = _drawFullSizeOnCanvas,
        t.drawItemCenteredClipped = _drawItemCenteredClip,
        t.drawItemCenteredImpl = _drawItemCenteredImpl,
        t.getBackgroundColorAsResource = _getBackgroundColorAs,
        BaseItem
    }(r(6).a)
}
, function(e, t, r) {
    r.d(t, "c", (function() {
        return enableImageSmoothing
    }
    )),
    r.d(t, "b", (function() {
        return disableImageSmoothing
    }
    )),
    r.d(t, "a", (function() {
        return clearBufferBacklog
    }
    )),
    r.d(t, "e", (function() {
        return makeOffscreenBuffer
    }
    )),
    r.d(t, "f", (function() {
        return registerCanvas
    }
    )),
    r.d(t, "d", (function() {
        return freeCanvas
    }
    )),
    r(11);
    var n = r(3)
      , i = r(1)
      , o = r(4)
      , a = Object(o.a)("buffer_utils");
    function enableImageSmoothing(e) {
        e.imageSmoothingEnabled = !0,
        e.webkitImageSmoothingEnabled = !0,
        e.imageSmoothingQuality = n.e.smoothing.quality
    }
    function disableImageSmoothing(e) {
        e.imageSmoothingEnabled = !1,
        e.webkitImageSmoothingEnabled = !1
    }
    var s = []
      , l = new Map
      , c = {
        vramUsage: 0,
        backlogVramUsage: 0,
        bufferCount: 0,
        numReused: 0,
        numCreated: 0
    };
    function getBufferVramUsageBytes(e) {
        return e.width * e.height * 4
    }
    function _ref(e) {
        for (; e.length > 500; ) {
            var t = e[e.length - 1];
            c.backlogVramUsage -= getBufferVramUsageBytes(t.canvas),
            delete t.canvas,
            delete t.context,
            e.pop()
        }
    }
    function clearBufferBacklog() {
        l.forEach(_ref)
    }
    function makeOffscreenBuffer(e, t, {smooth: r=!0, reusable: n=!0, label: o="buffer"}) {
        (e < 1 || t < 1) && (a.error("Offscreen buffer size < 0:", e, "x", t),
        e = Math.max(1, e),
        t = Math.max(1, t)),
        e * t > 1048576 && a.warn("Creating huge buffer:", e, "x", t, "with label", o),
        e = Math.floor(e),
        t = Math.floor(t);
        for (var s = null, u = null, d = l.get(e * t) || [], p = 0; p < d.length; ++p) {
            var {canvas: h, context: g} = d[p];
            if (h.width === e && h.height === t) {
                s = h,
                (u = g).restore(),
                u.save(),
                u.clearRect(0, 0, s.width, s.height),
                delete s.style.width,
                delete s.style.height,
                c.numReused++,
                c.backlogVramUsage -= getBufferVramUsageBytes(s),
                Object(i.f)(d, p);
                break
            }
        }
        return s || (u = (s = document.createElement("canvas")).getContext("2d"),
        c.numCreated++,
        s.width = e,
        s.height = t,
        u.save()),
        s.label = o,
        r ? enableImageSmoothing(u) : disableImageSmoothing(u),
        n && registerCanvas(s, u),
        [s, u]
    }
    function registerCanvas(e, t) {
        s.push({
            canvas: e,
            context: t
        }),
        c.bufferCount += 1;
        var r = getBufferVramUsageBytes(e);
        c.vramUsage += r
    }
    function freeCanvas(e) {
        for (var t = -1, r = null, n = 0; n < s.length; ++n)
            if (s[n].canvas === e) {
                t = n,
                r = s[n];
                break
            }
        if (t < 0)
            a.error("Tried to free unregistered canvas of size", e.width, e.height);
        else {
            Object(i.f)(s, t);
            var o = e.width * e.height
              , u = l.get(o);
            u ? u.push(r) : l.set(o, [r]),
            c.bufferCount -= 1;
            var d = getBufferVramUsageBytes(e);
            c.vramUsage -= d,
            c.backlogVramUsage += d
        }
    }
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "compressU8", (function() {
        return compressU8
    }
    )),
    r.d(t, "compressU8WHeader", (function() {
        return compressU8WHeader
    }
    )),
    r.d(t, "decompressU8WHeader", (function() {
        return decompressU8WHeader
    }
    )),
    r.d(t, "compressX64", (function() {
        return compressX64
    }
    )),
    r.d(t, "decompressX64", (function() {
        return decompressX64
    }
    )),
    r(175),
    r(30),
    r(180);
    var n = String.fromCharCode
      , i = Object.prototype.hasOwnProperty
      , o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$"
      , a = {};
    function compressU8(e) {
        for (var t = compress(e), r = new Uint8Array(2 * t.length), n = 0, i = t.length; n < i; n++) {
            var o = t.charCodeAt(n);
            r[2 * n] = o >>> 8,
            r[2 * n + 1] = o % 256
        }
        return r
    }
    function compressU8WHeader(e, t) {
        var r = compress(e)
          , n = new Uint8Array(2 + 2 * r.length);
        n[0] = t >>> 8,
        n[1] = t % 256;
        for (var i = 0, o = r.length; i < o; i++) {
            var a = r.charCodeAt(i);
            n[2 + 2 * i] = a >>> 8,
            n[3 + 2 * i] = a % 256
        }
        return n
    }
    function decompressU8WHeader(e) {
        for (var t = [], r = 2, i = e.length; r < i; r += 2) {
            var o = 256 * e[r] + e[r + 1];
            t.push(n(o))
        }
        return function decompress(e) {
            return null == e ? "" : "" == e ? null : _decompress(e.length, 32768, (function(t) {
                return e.charCodeAt(t)
            }
            ))
        }(t.join(""))
    }
    function _ref(e) {
        return o.charAt(e)
    }
    function compressX64(e) {
        return null == e ? "" : _compress(e, 6, _ref)
    }
    function decompressX64(e) {
        return null == e ? "" : "" == e ? null : _decompress((e = e.replace(/ /g, "+")).length, 32, (function(t) {
            return function getBaseValue(e, t) {
                if (!a[e]) {
                    a[e] = {};
                    for (var r = 0; r < e.length; r++)
                        a[e][e.charAt(r)] = r
                }
                return a[e][t]
            }(o, e.charAt(t))
        }
        ))
    }
    function _ref2(e) {
        return n(e)
    }
    function compress(e) {
        return _compress(e, 16, _ref2)
    }
    function _compress(e, t, r) {
        if (null == e)
            return "";
        var n, o, a, s = {}, l = {}, c = "", u = "", d = "", p = 2, h = 3, g = 2, f = [], m = 0, y = 0;
        for (a = 0; a < e.length; a += 1)
            if (c = e.charAt(a),
            i.call(s, c) || (s[c] = h++,
            l[c] = !0),
            u = d + c,
            i.call(s, u))
                d = u;
            else {
                if (i.call(l, d)) {
                    if (d.charCodeAt(0) < 256) {
                        for (n = 0; n < g; n++)
                            m <<= 1,
                            y == t - 1 ? (y = 0,
                            f.push(r(m)),
                            m = 0) : y++;
                        for (o = d.charCodeAt(0),
                        n = 0; n < 8; n++)
                            m = m << 1 | 1 & o,
                            y == t - 1 ? (y = 0,
                            f.push(r(m)),
                            m = 0) : y++,
                            o >>= 1
                    } else {
                        for (o = 1,
                        n = 0; n < g; n++)
                            m = m << 1 | o,
                            y == t - 1 ? (y = 0,
                            f.push(r(m)),
                            m = 0) : y++,
                            o = 0;
                        for (o = d.charCodeAt(0),
                        n = 0; n < 16; n++)
                            m = m << 1 | 1 & o,
                            y == t - 1 ? (y = 0,
                            f.push(r(m)),
                            m = 0) : y++,
                            o >>= 1
                    }
                    0 == --p && (p = Math.pow(2, g),
                    g++),
                    delete l[d]
                } else
                    for (o = s[d],
                    n = 0; n < g; n++)
                        m = m << 1 | 1 & o,
                        y == t - 1 ? (y = 0,
                        f.push(r(m)),
                        m = 0) : y++,
                        o >>= 1;
                0 == --p && (p = Math.pow(2, g),
                g++),
                s[u] = h++,
                d = String(c)
            }
        if ("" !== d) {
            if (i.call(l, d)) {
                if (d.charCodeAt(0) < 256) {
                    for (n = 0; n < g; n++)
                        m <<= 1,
                        y == t - 1 ? (y = 0,
                        f.push(r(m)),
                        m = 0) : y++;
                    for (o = d.charCodeAt(0),
                    n = 0; n < 8; n++)
                        m = m << 1 | 1 & o,
                        y == t - 1 ? (y = 0,
                        f.push(r(m)),
                        m = 0) : y++,
                        o >>= 1
                } else {
                    for (o = 1,
                    n = 0; n < g; n++)
                        m = m << 1 | o,
                        y == t - 1 ? (y = 0,
                        f.push(r(m)),
                        m = 0) : y++,
                        o = 0;
                    for (o = d.charCodeAt(0),
                    n = 0; n < 16; n++)
                        m = m << 1 | 1 & o,
                        y == t - 1 ? (y = 0,
                        f.push(r(m)),
                        m = 0) : y++,
                        o >>= 1
                }
                0 == --p && (p = Math.pow(2, g),
                g++),
                delete l[d]
            } else
                for (o = s[d],
                n = 0; n < g; n++)
                    m = m << 1 | 1 & o,
                    y == t - 1 ? (y = 0,
                    f.push(r(m)),
                    m = 0) : y++,
                    o >>= 1;
            0 == --p && (p = Math.pow(2, g),
            g++)
        }
        for (o = 2,
        n = 0; n < g; n++)
            m = m << 1 | 1 & o,
            y == t - 1 ? (y = 0,
            f.push(r(m)),
            m = 0) : y++,
            o >>= 1;
        for (; ; ) {
            if (m <<= 1,
            y == t - 1) {
                f.push(r(m));
                break
            }
            y++
        }
        return f.join("")
    }
    function _decompress(e, t, r) {
        var i, o, a, s, l, c, u, d = [], p = 4, h = 4, g = 3, f = "", m = [], y = {
            val: r(0),
            position: t,
            index: 1
        };
        for (i = 0; i < 3; i += 1)
            d[i] = i;
        for (a = 0,
        l = Math.pow(2, 2),
        c = 1; c != l; )
            s = y.val & y.position,
            y.position >>= 1,
            0 == y.position && (y.position = t,
            y.val = r(y.index++)),
            a |= (s > 0 ? 1 : 0) * c,
            c <<= 1;
        switch (a) {
        case 0:
            for (a = 0,
            l = Math.pow(2, 8),
            c = 1; c != l; )
                s = y.val & y.position,
                y.position >>= 1,
                0 == y.position && (y.position = t,
                y.val = r(y.index++)),
                a |= (s > 0 ? 1 : 0) * c,
                c <<= 1;
            u = n(a);
            break;
        case 1:
            for (a = 0,
            l = Math.pow(2, 16),
            c = 1; c != l; )
                s = y.val & y.position,
                y.position >>= 1,
                0 == y.position && (y.position = t,
                y.val = r(y.index++)),
                a |= (s > 0 ? 1 : 0) * c,
                c <<= 1;
            u = n(a);
            break;
        case 2:
            return ""
        }
        for (d[3] = u,
        o = u,
        m.push(u); ; ) {
            if (y.index > e)
                return "";
            for (a = 0,
            l = Math.pow(2, g),
            c = 1; c != l; )
                s = y.val & y.position,
                y.position >>= 1,
                0 == y.position && (y.position = t,
                y.val = r(y.index++)),
                a |= (s > 0 ? 1 : 0) * c,
                c <<= 1;
            switch (u = a) {
            case 0:
                for (a = 0,
                l = Math.pow(2, 8),
                c = 1; c != l; )
                    s = y.val & y.position,
                    y.position >>= 1,
                    0 == y.position && (y.position = t,
                    y.val = r(y.index++)),
                    a |= (s > 0 ? 1 : 0) * c,
                    c <<= 1;
                d[h++] = n(a),
                u = h - 1,
                p--;
                break;
            case 1:
                for (a = 0,
                l = Math.pow(2, 16),
                c = 1; c != l; )
                    s = y.val & y.position,
                    y.position >>= 1,
                    0 == y.position && (y.position = t,
                    y.val = r(y.index++)),
                    a |= (s > 0 ? 1 : 0) * c,
                    c <<= 1;
                d[h++] = n(a),
                u = h - 1,
                p--;
                break;
            case 2:
                return m.join("")
            }
            if (0 == p && (p = Math.pow(2, g),
            g++),
            d[u])
                f = d[u];
            else {
                if (u !== h)
                    return null;
                f = o + o.charAt(0)
            }
            m.push(f),
            d[h++] = o + f.charAt(0),
            o = f,
            0 == --p && (p = Math.pow(2, g),
            g++)
        }
    }
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "enumUndergroundBeltMode", (function() {
        return s
    }
    )),
    r.d(t, "UndergroundBeltComponent", (function() {
        return l
    }
    ));
    var n = r(3)
      , i = r(6)
      , o = (r(26),
    r(18))
      , a = (r(12),
    r(36))
      , s = {
        sender: "sender",
        receiver: "receiver"
    };
    function _getId() {
        return "UndergroundBelt"
    }
    function _getSchema() {
        return {
            pendingItems: i.b.array(i.b.pair(a.b, i.b.float))
        }
    }
    function _clear() {
        this.consumptionAnimations = [],
        this.pendingItems = []
    }
    function _tryAcceptExternalIte(e, t) {
        return !(this.mode !== s.sender || this.pendingItems.length > 0 || (this.pendingItems.push([e, 0]),
        0))
    }
    function _tryAcceptTunneledIte(e, t, r, i) {
        if (this.mode !== s.receiver)
            return !1;
        var o = (2 + t) / n.e.itemSpacingOnBelts;
        if (this.pendingItems.length >= o)
            return !1;
        var a = (t + 1.5) / r / n.e.itemSpacingOnBelts;
        return this.pendingItems.push([e, i + a]),
        !0
    }
    var l = function(e) {
        function UndergroundBeltComponent({mode: t=s.sender, tier: r=0}) {
            var n;
            return (n = e.call(this) || this).mode = t,
            n.tier = r,
            n.cachedLinkedEntity = null,
            n.clear(),
            n
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(UndergroundBeltComponent, e),
        UndergroundBeltComponent.getId = _getId,
        UndergroundBeltComponent.getSchema = _getSchema;
        var t = UndergroundBeltComponent.prototype;
        return t.clear = _clear,
        t.tryAcceptExternalItem = _tryAcceptExternalIte,
        t.tryAcceptTunneledItem = _tryAcceptTunneledIte,
        UndergroundBeltComponent
    }(o.a)
}
, function(e, t, r) {
    var n = r(167)
      , i = r(55)
      , o = r(74)
      , a = r(56)
      , s = r(59)
      , l = r(71)
      , c = r(171)
      , u = r(173)
      , d = Math.max
      , p = Math.min
      , h = Math.floor
      , g = /\$([$&'`]|\d\d?|<[^>]*>)/g
      , f = /\$([$&'`]|\d\d?)/g;
    n("replace", 2, (function(e, t, r, n) {
        var m = n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE
          , y = n.REPLACE_KEEPS_$0
          , _ = m ? "$" : "$0";
        return [function replace(r, n) {
            var i = l(this)
              , o = null == r ? void 0 : r[e];
            return void 0 !== o ? o.call(r, i, n) : t.call(String(i), r, n)
        }
        , function(e, n) {
            if (!m && y || "string" == typeof n && -1 === n.indexOf(_)) {
                var o = r(t, e, this, n);
                if (o.done)
                    return o.value
            }
            var l = i(e)
              , h = String(this)
              , g = "function" == typeof n;
            g || (n = String(n));
            var f = l.global;
            if (f) {
                var v = l.unicode;
                l.lastIndex = 0
            }
            for (var b = []; ; ) {
                var w = u(l, h);
                if (null === w)
                    break;
                if (b.push(w),
                !f)
                    break;
                "" === String(w[0]) && (l.lastIndex = c(h, a(l.lastIndex), v))
            }
            for (var S, C = "", A = 0, k = 0; k < b.length; k++) {
                w = b[k];
                for (var E = String(w[0]), I = d(p(s(w.index), h.length), 0), B = [], x = 1; x < w.length; x++)
                    B.push(void 0 === (S = w[x]) ? S : String(S));
                var P = w.groups;
                if (g) {
                    var T = [E].concat(B, I, h);
                    void 0 !== P && T.push(P);
                    var M = String(n.apply(void 0, T))
                } else
                    M = getSubstitution(E, h, I, B, P, n);
                I >= A && (C += h.slice(A, I) + M,
                A = I + E.length)
            }
            return C + h.slice(A)
        }
        ];
        function getSubstitution(e, r, n, i, a, s) {
            var l = n + e.length
              , c = i.length
              , u = f;
            return void 0 !== a && (a = o(a),
            u = g),
            t.call(s, u, (function(t, o) {
                var s;
                switch (o.charAt(0)) {
                case "$":
                    return "$";
                case "&":
                    return e;
                case "`":
                    return r.slice(0, n);
                case "'":
                    return r.slice(l);
                case "<":
                    s = a[o.slice(1, -1)];
                    break;
                default:
                    var u = +o;
                    if (0 === u)
                        return t;
                    if (u > c) {
                        var d = h(u / 10);
                        return 0 === d ? t : d <= c ? void 0 === i[d - 1] ? o.charAt(1) : i[d - 1] + o.charAt(1) : t
                    }
                    s = i[u - 1]
                }
                return void 0 === s ? "" : s
            }
            ))
        }
    }
    ))
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return l
    }
    )),
    r(22);
    var n = r(6)
      , i = r(26)
      , o = r(13)
      , a = r(14)
      , s = r(3);
    function _getId() {
        return "shape"
    }
    function _getSchema() {
        return n.b.string
    }
    function _serialize() {
        return this.definition.getHash()
    }
    function _deserialize(e) {
        this.definition = o.b.fromShortKey(e)
    }
    function _getItemType() {
        return "shape"
    }
    function _getAsCopyableKey() {
        return this.definition.getHash()
    }
    function _equalsImpl(e) {
        return this.definition.getHash() === e.definition.getHash()
    }
    function _getBackgroundColorAs() {
        return a.a.map.resources.shape
    }
    function _drawFullSizeOnCanvas(e, t) {
        this.definition.drawFullSizeOnCanvas(e, t)
    }
    function _drawItemCenteredImpl(e, t, r, n=s.e.defaultItemDiameter) {
        this.definition.drawCentered(e, t, r, n)
    }
    var l = function(e) {
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ShapeItem, e),
        ShapeItem.getId = _getId,
        ShapeItem.getSchema = _getSchema;
        var t = ShapeItem.prototype;
        function ShapeItem(t) {
            var r;
            return (r = e.call(this) || this).definition = t,
            r
        }
        return t.serialize = _serialize,
        t.deserialize = _deserialize,
        t.getItemType = _getItemType,
        t.getAsCopyableKey = _getAsCopyableKey,
        t.equalsImpl = _equalsImpl,
        t.getBackgroundColorAsResource = _getBackgroundColorAs,
        t.drawFullSizeOnCanvas = _drawFullSizeOnCanvas,
        t.drawItemCenteredImpl = _drawItemCenteredImpl,
        ShapeItem
    }(i.a)
}
, function(e, t, r) {
    r.d(t, "c", (function() {
        return o
    }
    )),
    r.d(t, "b", (function() {
        return a
    }
    )),
    r.d(t, "e", (function() {
        return c
    }
    )),
    r.d(t, "a", (function() {
        return u
    }
    )),
    r.d(t, "d", (function() {
        return d
    }
    )),
    r(22);
    var n = r(23)
      , i = r(1);
    function _inheritsLoose(e, t) {
        e.prototype = Object.create(t.prototype),
        e.prototype.constructor = e,
        e.__proto__ = t
    }
    var o = "0.75"
      , a = new n.a(0,0,1,1)
      , s = .1;
    function _BaseSprite3() {}
    function _getRawTexture() {
        return window.assert(!1, "abstract method called"),
        null
    }
    function _draw(e, t, r, n, i) {
        window.assert(!1, "abstract method called")
    }
    var l = function() {
        var e = _BaseSprite3.prototype;
        return e.getRawTexture = _getRawTexture,
        e.draw = _draw,
        _BaseSprite3
    }()
      , c = function SpriteAtlasLink({w: e, h: t, packedX: r, packedY: n, packOffsetX: i, packOffsetY: o, packedW: a, packedH: s, atlas: l}) {
        this.packedX = r,
        this.packedY = n,
        this.packedW = a,
        this.packedH = s,
        this.packOffsetX = i,
        this.packOffsetY = o,
        this.atlas = l,
        this.w = e,
        this.h = t
    };
    function _getRawTexture2() {
        return this.linksByResolution[o].atlas
    }
    function _draw2(e, t, r, n, i) {
        var a = this.linksByResolution[o]
          , s = n || a.w
          , l = i || a.h
          , c = s / a.w
          , u = l / a.h;
        e.drawImage(a.atlas, a.packedX, a.packedY, a.packedW, a.packedH, t + a.packOffsetX * c, r + a.packOffsetY * u, a.packedW * c, a.packedH * u)
    }
    function _drawCachedCentered(e, t, r, n, i=!0) {
        this.drawCached(e, t - n / 2, r - n / 2, n, n, i)
    }
    function _drawCentered(e, t, r, n) {
        this.draw(e, t - n / 2, r - n / 2, n, n)
    }
    function _drawCached(e, t, r, i=null, o=null, a=!0) {
        var l = e.visibleRect
          , c = e.desiredAtlasScale
          , u = this.linksByResolution[c]
          , d = i / u.w
          , p = o / u.h
          , h = t + u.packOffsetX * d
          , g = r + u.packOffsetY * p
          , f = u.packedW * d
          , m = u.packedH * p
          , y = u.packedX
          , _ = u.packedY
          , v = u.packedW
          , b = u.packedH
          , w = null;
        if (a) {
            if (!(w = new n.a(h,g,f,m).getIntersection(l)))
                return;
            y += (w.x - h) / d,
            _ += (w.y - g) / p,
            v *= w.w / f,
            b *= w.h / m,
            h = w.x,
            g = w.y,
            f = w.w,
            m = w.h
        }
        e.context.drawImage(u.atlas, y, _, v, b, h - s, g - s, f + 2 * s, m + 2 * s)
    }
    function _drawCachedWithClipRe(e, t, r, n=null, i=null, o=a) {
        var l = e.desiredAtlasScale
          , c = this.linksByResolution[l]
          , u = n / c.w
          , d = i / c.h
          , p = t + c.packOffsetX * u + o.x * n
          , h = r + c.packOffsetY * d + o.y * i
          , g = c.packedW * u * o.w
          , f = c.packedH * d * o.h
          , m = c.packedX + o.x * c.packedW
          , y = c.packedY + o.y * c.packedH
          , _ = c.packedW * o.w
          , v = c.packedH * o.h;
        e.context.drawImage(c.atlas, m, y, _, v, p - s, h - s, g + 2 * s, f + 2 * s)
    }
    function _renderToHTMLElement(e, t=1, r=1) {
        e.style.position = "relative",
        e.innerHTML = this.getAsHTML(t, r)
    }
    function _getAsHTML(e, t) {
        var r = this.linksByResolution[.5]
          , n = e / r.w
          , o = t / r.h
          , a = r.atlas.width * n
          , s = r.atlas.height * o
          , l = r.atlas.src.replaceAll("\\", "/")
          , c = n * r.packedW
          , u = o * r.packedH
          , d = r.packOffsetX * n / e
          , p = r.packOffsetY * o / t
          , h = c / e
          , g = u / t
          , f = a / c
          , m = s / u
          , y = -r.packedX * n / (c - a)
          , _ = -r.packedY * o / (u - s);
        return '<span class="spritesheetImage" style=" background-image: url(\'' + l + "'); left: " + Object(i.G)(100 * d) + "%; top: " + Object(i.G)(100 * p) + "%; width: " + Object(i.G)(100 * h) + "%; height: " + Object(i.G)(100 * g) + "%; background-repeat: repeat; background-position: " + Object(i.G)(100 * y) + "% " + Object(i.G)(100 * _) + "%; background-size: " + Object(i.G)(100 * f) + "% " + Object(i.G)(100 * m) + '%; "></span>'
    }
    var u = function(e) {
        function AtlasSprite(t="sprite") {
            var r;
            return (r = e.call(this) || this).linksByResolution = {},
            r.spriteName = t,
            r.frozen = !1,
            r
        }
        _inheritsLoose(AtlasSprite, e);
        var t = AtlasSprite.prototype;
        return t.getRawTexture = _getRawTexture2,
        t.draw = _draw2,
        t.drawCachedCentered = _drawCachedCentered,
        t.drawCentered = _drawCentered,
        t.drawCached = _drawCached,
        t.drawCachedWithClipRect = _drawCachedWithClipRe,
        t.renderToHTMLElement = _renderToHTMLElement,
        t.getAsHTML = _getAsHTML,
        AtlasSprite
    }(l);
    function _getRawTexture3() {
        return this.sprite
    }
    function _draw3(e, t, r, n, i) {
        e.drawImage(this.sprite, t, r, n, i)
    }
    function _drawCentered2(e, t, r, n, i) {
        e.drawImage(this.sprite, t - n / 2, r - i / 2, n, i)
    }
    var d = function(e) {
        function RegularSprite(t, r, n) {
            var i;
            return (i = e.call(this) || this).w = r,
            i.h = n,
            i.sprite = t,
            i
        }
        _inheritsLoose(RegularSprite, e);
        var t = RegularSprite.prototype;
        return t.getRawTexture = _getRawTexture3,
        t.draw = _draw3,
        t.drawCentered = _drawCentered2,
        RegularSprite
    }(l)
}
, function(e, t, r) {
    r.d(t, "k", (function() {
        return s
    }
    )),
    r.d(t, "q", (function() {
        return l
    }
    )),
    r.d(t, "r", (function() {
        return c
    }
    )),
    r.d(t, "b", (function() {
        return u
    }
    )),
    r.d(t, "t", (function() {
        return d
    }
    )),
    r.d(t, "v", (function() {
        return p
    }
    )),
    r.d(t, "o", (function() {
        return h
    }
    )),
    r.d(t, "s", (function() {
        return g
    }
    )),
    r.d(t, "i", (function() {
        return f
    }
    )),
    r.d(t, "g", (function() {
        return m
    }
    )),
    r.d(t, "h", (function() {
        return y
    }
    )),
    r.d(t, "c", (function() {
        return _
    }
    )),
    r.d(t, "d", (function() {
        return v
    }
    )),
    r.d(t, "e", (function() {
        return b
    }
    )),
    r.d(t, "m", (function() {
        return w
    }
    )),
    r.d(t, "a", (function() {
        return S
    }
    )),
    r.d(t, "j", (function() {
        return C
    }
    )),
    r.d(t, "l", (function() {
        return A
    }
    )),
    r.d(t, "f", (function() {
        return k
    }
    )),
    r.d(t, "p", (function() {
        return E
    }
    )),
    r.d(t, "n", (function() {
        return I
    }
    )),
    r.d(t, "u", (function() {
        return B
    }
    ));
    var n = r(0)
      , i = r(1);
    function _inheritsLoose(e, t) {
        e.prototype = Object.create(t.prototype),
        e.prototype.constructor = e,
        e.__proto__ = t
    }
    var o = {};
    function schemaToJsonSchema(e) {
        var t = {
            type: "object",
            additionalProperties: !1,
            required: [],
            properties: {}
        };
        for (var r in e) {
            var n = e[r].getAsJsonSchema();
            t.required.push(r),
            t.properties[r] = n
        }
        return t
    }
    function schemaObject(e) {
        return {
            type: "object",
            required: Object.keys(e).slice(),
            additionalProperties: !1,
            properties: e
        }
    }
    function _BaseDataType24() {}
    function _serialize(e) {
        return window.assert(!1, "abstract method called"),
        {}
    }
    function _verifySerializedValu(e) {}
    function _deserialize(e, t, r, n) {
        window.assert(!1, "abstract method called")
    }
    function _getAsJsonSchema() {
        var e = this.getCacheKey()
          , t = this.getAsJsonSchemaUncached();
        return o[e] || (o[e] = t),
        {
            $ref: "#/definitions/" + e
        }
    }
    function _getAsJsonSchemaUncac() {
        window.assert(!1, "abstract method called")
    }
    function _allowNull() {
        return !1
    }
    function _deserializeWithVerif(e, t, r, n) {
        var i = this.verifySerializedValue(e);
        return i ? "serialization verify failed: " + i + " [value " + (JSON.stringify(e) || "").substr(0, 100) + "]" : this.deserialize(e, t, r, n)
    }
    function _getCacheKey() {
        return window.assert(!1, "abstract method called"),
        ""
    }
    var a = function() {
        var e = _BaseDataType24.prototype;
        return e.serialize = _serialize,
        e.verifySerializedValue = _verifySerializedValu,
        e.deserialize = _deserialize,
        e.getAsJsonSchema = _getAsJsonSchema,
        e.getAsJsonSchemaUncached = _getAsJsonSchemaUncac,
        e.allowNull = _allowNull,
        e.deserializeWithVerify = _deserializeWithVerif,
        e.getCacheKey = _getCacheKey,
        _BaseDataType24
    }();
    function _serialize2(e) {
        return e
    }
    function _deserialize2(e, t, r, n) {
        t[r] = e
    }
    function _getAsJsonSchemaUncac2() {
        return {
            type: "integer"
        }
    }
    function _verifySerializedValu2(e) {
        if (!Number.isInteger(e))
            return "Not a valid number"
    }
    function _getCacheKey2() {
        return "int"
    }
    var s = function(e) {
        function TypeInteger() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypeInteger, e);
        var t = TypeInteger.prototype;
        return t.serialize = _serialize2,
        t.deserialize = _deserialize2,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac2,
        t.verifySerializedValue = _verifySerializedValu2,
        t.getCacheKey = _getCacheKey2,
        TypeInteger
    }(a);
    function _serialize3(e) {
        return e
    }
    function _deserialize3(e, t, r, n) {
        t[r] = e
    }
    function _getAsJsonSchemaUncac3() {
        return {
            type: "integer",
            minimum: 0
        }
    }
    function _verifySerializedValu3(e) {
        return Number.isInteger(e) ? e < 0 ? "Negative value for positive integer" : void 0 : "Not a valid number"
    }
    function _getCacheKey3() {
        return "uint"
    }
    var l = function(e) {
        function TypePositiveInteger() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypePositiveInteger, e);
        var t = TypePositiveInteger.prototype;
        return t.serialize = _serialize3,
        t.deserialize = _deserialize3,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac3,
        t.verifySerializedValue = _verifySerializedValu3,
        t.getCacheKey = _getCacheKey3,
        TypePositiveInteger
    }(a);
    function _serialize4(e) {
        return Number.isInteger(e) || "string" == typeof e || window.assert(!1, "Type integer|string got non integer or string for serialize: " + e),
        e
    }
    function _deserialize4(e, t, r, n) {
        t[r] = e
    }
    function _getAsJsonSchemaUncac4() {
        return {
            oneOf: [{
                type: "integer",
                minimum: 0
            }, {
                type: "string"
            }]
        }
    }
    function _verifySerializedValu4(e) {
        if (Number.isInteger(e)) {
            if (e < 0)
                return "Negative value for positive integer"
        } else if ("string" != typeof e)
            return "Not a valid number or string: " + e
    }
    function _getCacheKey4() {
        return "uint_str"
    }
    var c = function(e) {
        function TypePositiveIntegerOrString() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypePositiveIntegerOrString, e);
        var t = TypePositiveIntegerOrString.prototype;
        return t.serialize = _serialize4,
        t.deserialize = _deserialize4,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac4,
        t.verifySerializedValue = _verifySerializedValu4,
        t.getCacheKey = _getCacheKey4,
        TypePositiveIntegerOrString
    }(a);
    function _serialize5(e) {
        return e
    }
    function _deserialize5(e, t, r, n) {
        t[r] = e
    }
    function _getAsJsonSchemaUncac5() {
        return {
            type: "boolean"
        }
    }
    function _verifySerializedValu5(e) {
        if (!0 !== e && !1 !== e)
            return "Not a boolean"
    }
    function _getCacheKey5() {
        return "bool"
    }
    var u = function(e) {
        function TypeBoolean() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypeBoolean, e);
        var t = TypeBoolean.prototype;
        return t.serialize = _serialize5,
        t.deserialize = _deserialize5,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac5,
        t.verifySerializedValue = _verifySerializedValu5,
        t.getCacheKey = _getCacheKey5,
        TypeBoolean
    }(a);
    function _serialize6(e) {
        return e
    }
    function _deserialize6(e, t, r, n) {
        t[r] = e
    }
    function _getAsJsonSchemaUncac6() {
        return {
            type: "string"
        }
    }
    function _verifySerializedValu6(e) {
        if ("string" != typeof e)
            return "Not a valid string"
    }
    function _getCacheKey6() {
        return "string"
    }
    var d = function(e) {
        function TypeString() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypeString, e);
        var t = TypeString.prototype;
        return t.serialize = _serialize6,
        t.deserialize = _deserialize6,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac6,
        t.verifySerializedValue = _verifySerializedValu6,
        t.getCacheKey = _getCacheKey6,
        TypeString
    }(a);
    function _serialize7(e) {
        return {
            x: Object(i.H)(e.x),
            y: Object(i.H)(e.y)
        }
    }
    function _getAsJsonSchemaUncac7() {
        return schemaObject({
            x: {
                type: "number"
            },
            y: {
                type: "number"
            }
        })
    }
    function _deserialize7(e, t, r, i) {
        t[r] = new n.a(e.x,e.y)
    }
    function _verifySerializedValu7(e) {
        if (!Number.isFinite(e.x) || !Number.isFinite(e.y))
            return "Not a valid vector, missing x/y or bad data type"
    }
    function _getCacheKey7() {
        return "vector"
    }
    var p = function(e) {
        function TypeVector() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypeVector, e);
        var t = TypeVector.prototype;
        return t.serialize = _serialize7,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac7,
        t.deserialize = _deserialize7,
        t.verifySerializedValue = _verifySerializedValu7,
        t.getCacheKey = _getCacheKey7,
        TypeVector
    }(a);
    function _serialize9(e) {
        return Object(i.H)(e)
    }
    function _getAsJsonSchemaUncac9() {
        return {
            type: "number"
        }
    }
    function _deserialize9(e, t, r, n) {
        t[r] = e
    }
    function _verifySerializedValu9(e) {
        if (!Number.isFinite(e))
            return "Not a valid number: " + e
    }
    function _getCacheKey9() {
        return "float"
    }
    var h = function(e) {
        function TypeNumber() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypeNumber, e);
        var t = TypeNumber.prototype;
        return t.serialize = _serialize9,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac9,
        t.deserialize = _deserialize9,
        t.verifySerializedValue = _verifySerializedValu9,
        t.getCacheKey = _getCacheKey9,
        TypeNumber
    }(a);
    function _serialize10(e) {
        return Object(i.H)(e)
    }
    function _deserialize10(e, t, r, n) {
        t[r] = e
    }
    function _getAsJsonSchemaUncac10() {
        return {
            type: "number",
            minimum: 0
        }
    }
    function _verifySerializedValu10(e) {
        return Number.isFinite(e) ? e < 0 ? "Positive number got negative value: " + e : void 0 : "Not a valid number: " + e
    }
    function _getCacheKey10() {
        return "ufloat"
    }
    var g = function(e) {
        function TypePositiveNumber() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypePositiveNumber, e);
        var t = TypePositiveNumber.prototype;
        return t.serialize = _serialize10,
        t.deserialize = _deserialize10,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac10,
        t.verifySerializedValue = _verifySerializedValu10,
        t.getCacheKey = _getCacheKey10,
        TypePositiveNumber
    }(a);
    function _serialize11(e) {
        return e
    }
    function _deserialize11(e, t, r, n) {
        t[r] = e
    }
    function _getAsJsonSchemaUncac11() {
        return {
            type: "string",
            enum: this.availableValues
        }
    }
    function _verifySerializedValu11(e) {
        if (this.availableValues.indexOf(e) < 0)
            return "Unknown enum value: " + e
    }
    function _getCacheKey11() {
        return "enum." + this.availableValues.join(",")
    }
    var f = function(e) {
        function TypeEnum(t={}) {
            var r;
            return (r = e.call(this) || this).availableValues = Object.values(t),
            r
        }
        _inheritsLoose(TypeEnum, e);
        var t = TypeEnum.prototype;
        return t.serialize = _serialize11,
        t.deserialize = _deserialize11,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac11,
        t.verifySerializedValue = _verifySerializedValu11,
        t.getCacheKey = _getCacheKey11,
        TypeEnum
    }(a);
    function _serialize12(e) {
        return e.uid
    }
    function _getAsJsonSchemaUncac12() {
        return {
            type: "integer",
            minimum: 0
        }
    }
    function _deserialize12(e, t, r, n) {
        var i = n.entityMgr.findByUid(e);
        if (!i)
            return "Entity not found by uid: " + e;
        t[r] = i
    }
    function _verifySerializedValu12(e) {
        if (!Number.isFinite(e))
            return "Not a valid uuid: " + e
    }
    function _getCacheKey12() {
        return "entity"
    }
    var m = function(e) {
        function TypeEntity() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypeEntity, e);
        var t = TypeEntity.prototype;
        return t.serialize = _serialize12,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac12,
        t.deserialize = _deserialize12,
        t.verifySerializedValue = _verifySerializedValu12,
        t.getCacheKey = _getCacheKey12,
        TypeEntity
    }(a);
    function _serialize13(e) {
        return null === e ? null : e.destroyed || e.queuedForDestroy ? null : e.uid
    }
    function _deserialize13(e, t, r, n) {
        if (null !== e) {
            var i = n.entityMgr.findByUid(e, !1);
            t[r] = i
        } else
            t[r] = null
    }
    function _getAsJsonSchemaUncac13() {
        return {
            type: ["null", "integer"],
            minimum: 0
        }
    }
    function _allowNull2() {
        return !0
    }
    function _verifySerializedValu13(e) {
        if (null !== e && !Number.isFinite(e))
            return "Not a valid uuid: " + e
    }
    function _getCacheKey13() {
        return "entity-weakref"
    }
    var y = function(e) {
        function TypeEntityWeakref() {
            return e.apply(this, arguments) || this
        }
        _inheritsLoose(TypeEntityWeakref, e);
        var t = TypeEntityWeakref.prototype;
        return t.serialize = _serialize13,
        t.deserialize = _deserialize13,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac13,
        t.allowNull = _allowNull2,
        t.verifySerializedValue = _verifySerializedValu13,
        t.getCacheKey = _getCacheKey13,
        TypeEntityWeakref
    }(a);
    function _serialize14(e) {
        return {
            $: e.constructor.getId(),
            data: e.serialize()
        }
    }
    function _getAsJsonSchemaUncac14() {
        for (var e = [], t = this.registry.getEntries(), r = 0; r < t.length; ++r) {
            var n = t[r];
            e.push(schemaObject({
                $: {
                    type: "string",
                    enum: [n.getId()]
                },
                data: schemaToJsonSchema(n.getCachedSchema())
            }))
        }
        return {
            oneOf: e
        }
    }
    function _deserialize14(e, t, r, n) {
        var i;
        if (this.customResolver) {
            if (!(i = this.customResolver(n, e)))
                return "Failed to call custom resolver"
        } else {
            var o = this.registry.findById(e.$);
            if (!o || !o.prototype)
                return "Invalid class id (runtime-err): " + e.$ + "->" + o;
            var a = (i = Object.create(o.prototype)).deserialize(e.data);
            if (a)
                return a
        }
        t[r] = i
    }
    function _verifySerializedValu14(e) {
        return e ? this.registry.hasId(e.$) ? void 0 : "Invalid class id: " + e.$ + " (factory is " + this.registry.getId() + ")" : "Got null data"
    }
    function _getCacheKey14() {
        return "class." + this.registry.getId()
    }
    var _ = function(e) {
        function TypeClass(t, r=null) {
            var n;
            return (n = e.call(this) || this).registry = t,
            n.customResolver = r,
            n
        }
        _inheritsLoose(TypeClass, e);
        var t = TypeClass.prototype;
        return t.serialize = _serialize14,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac14,
        t.deserialize = _deserialize14,
        t.verifySerializedValue = _verifySerializedValu14,
        t.getCacheKey = _getCacheKey14,
        TypeClass
    }(a);
    function _serialize15(e) {
        return e.serialize()
    }
    function _getAsJsonSchemaUncac15() {
        for (var e = [], t = this.registry.getEntries(), r = 0; r < t.length; ++r) {
            var n = t[r];
            e.push(schemaToJsonSchema(n.getCachedSchema()))
        }
        return {
            oneOf: e
        }
    }
    function _deserialize15(e, t, r, n) {}
    function _verifySerializedValu15(e) {
        if (!e)
            return "Got null data"
    }
    function _getCacheKey15() {
        return "class." + this.registry.getId()
    }
    var v = function(e) {
        function TypeClassData(t) {
            var r;
            return (r = e.call(this) || this).registry = t,
            r
        }
        _inheritsLoose(TypeClassData, e);
        var t = TypeClassData.prototype;
        return t.serialize = _serialize15,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac15,
        t.deserialize = _deserialize15,
        t.verifySerializedValue = _verifySerializedValu15,
        t.getCacheKey = _getCacheKey15,
        TypeClassData
    }(a);
    function _serialize16(e) {
        return {
            $: e.getMetaclass().getId(),
            data: e.serialize()
        }
    }
    function _getAsJsonSchemaUncac16() {
        return {
            $: {
                type: "string",
                enum: this.registry.getAllIds()
            },
            data: schemaToJsonSchema(this.classHandle.getCachedSchema())
        }
    }
    function _deserialize16(e, t, r, n) {
        var i = this.registry.findById(e.$);
        if (!i || !i.prototype)
            return "Invalid meta class id (runtime-err): " + e.$ + "->" + i;
        var o = i.getInstanceClass()
          , a = Object.create(o.prototype)
          , s = a.deserialize(e.data);
        if (s)
            return s;
        t[r] = a
    }
    function _verifySerializedValu16(e) {
        return e ? this.registry.hasId(e.$) ? void 0 : "Invalid class id: " + e.$ + " (factory is " + this.registry.getId() + ")" : "Got null data"
    }
    function _getCacheKey16() {
        return "classofmetaclass." + this.registry.getId()
    }
    var b = function(e) {
        function TypeClassFromMetaclass(t, r) {
            var n;
            return (n = e.call(this) || this).registry = r,
            n.classHandle = t,
            n
        }
        _inheritsLoose(TypeClassFromMetaclass, e);
        var t = TypeClassFromMetaclass.prototype;
        return t.serialize = _serialize16,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac16,
        t.deserialize = _deserialize16,
        t.verifySerializedValue = _verifySerializedValu16,
        t.getCacheKey = _getCacheKey16,
        TypeClassFromMetaclass
    }(a);
    function _serialize17(e) {
        return e.getId()
    }
    function _deserialize17(e, t, r, n) {
        var i = this.registry.findById(e);
        if (!i)
            return "Invalid class id (runtime-err): " + e;
        t[r] = i
    }
    function _getAsJsonSchemaUncac17() {
        return {
            type: "string",
            enum: this.registry.getAllIds()
        }
    }
    function _verifySerializedValu17(e) {
        return e ? "string" != typeof e ? "Got non string data" : this.registry.hasId(e) ? void 0 : "Invalid class id: " + e + " (factory is " + this.registry.getId() + ")" : "Got null data"
    }
    function _getCacheKey17() {
        return "metaclass." + this.registry.getId()
    }
    var w = function(e) {
        function TypeMetaClass(t) {
            var r;
            return (r = e.call(this) || this).registry = t,
            r
        }
        _inheritsLoose(TypeMetaClass, e);
        var t = TypeMetaClass.prototype;
        return t.serialize = _serialize17,
        t.deserialize = _deserialize17,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac17,
        t.verifySerializedValue = _verifySerializedValu17,
        t.getCacheKey = _getCacheKey17,
        TypeMetaClass
    }(a);
    function _serialize18(e) {
        for (var t = new Array(e.length), r = 0; r < e.length; ++r)
            t[r] = this.innerType.serialize(e[r]);
        return t
    }
    function _deserialize18(e, t, r, n) {
        var i = t[r];
        i || (t[r] = i = new Array(e.length));
        for (var o = this.fixedSize ? Math.min(e.length, i.length) : e.length, a = 0; a < o; ++a) {
            var s = this.innerType.deserializeWithVerify(e[a], i, a, n);
            if (s)
                return s
        }
    }
    function _getAsJsonSchemaUncac18() {
        return {
            type: "array",
            items: this.innerType.getAsJsonSchema()
        }
    }
    function _verifySerializedValu18(e) {
        if (!Array.isArray(e))
            return "Not an array: " + e
    }
    function _getCacheKey18() {
        return "array." + this.innerType.getCacheKey()
    }
    var S = function(e) {
        function TypeArray(t, r=!1) {
            var n;
            return (n = e.call(this) || this).fixedSize = r,
            n.innerType = t,
            n
        }
        _inheritsLoose(TypeArray, e);
        var t = TypeArray.prototype;
        return t.serialize = _serialize18,
        t.deserialize = _deserialize18,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac18,
        t.verifySerializedValue = _verifySerializedValu18,
        t.getCacheKey = _getCacheKey18,
        TypeArray
    }(a);
    function _serialize19(e) {
        return e.serialize()
    }
    function _deserialize19(e, t, r, n) {
        var i = Object.create(this.baseclass.prototype)
          , o = i.deserialize(e);
        if (o)
            return "Failed to deserialize class: " + o;
        t[r] = i
    }
    function _getAsJsonSchemaUncac19() {
        return this.baseclass.getSchema(),
        this.baseclass.getCachedSchema(),
        schemaToJsonSchema(this.baseclass.getCachedSchema())
    }
    function _verifySerializedValu19(e) {
        if (!e)
            return "Got null data"
    }
    function _getCacheKey19() {
        return "fixedclass." + this.baseclass.getId()
    }
    var C = function(e) {
        function TypeFixedClass(t) {
            var r;
            return (r = e.call(this) || this).baseclass = t,
            r
        }
        _inheritsLoose(TypeFixedClass, e);
        var t = TypeFixedClass.prototype;
        return t.serialize = _serialize19,
        t.deserialize = _deserialize19,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac19,
        t.verifySerializedValue = _verifySerializedValu19,
        t.getCacheKey = _getCacheKey19,
        TypeFixedClass
    }(a);
    function _serialize20(e) {
        var t = {};
        for (var r in e) {
            var n = this.valueType.serialize(e[r]);
            if (!this.includeEmptyValues && "object" == typeof n) {
                if (n.$ && "object" == typeof n.data && 0 === Object.keys(n.data).length)
                    continue;
                if (0 === Object.keys(n).length)
                    continue
            }
            t[r] = n
        }
        return t
    }
    function _deserialize20(e, t, r, n) {
        var i = {};
        for (var o in e) {
            var a = this.valueType.deserializeWithVerify(e[o], i, o, n);
            if (a)
                return a
        }
        t[r] = i
    }
    function _getAsJsonSchemaUncac20() {
        return {
            type: "object",
            additionalProperties: this.valueType.getAsJsonSchema()
        }
    }
    function _verifySerializedValu20(e) {
        if ("object" != typeof e)
            return "KV map is not an object"
    }
    function _getCacheKey20() {
        return "kvmap." + this.valueType.getCacheKey()
    }
    var A = function(e) {
        function TypeKeyValueMap(t, r=!0) {
            var n;
            return (n = e.call(this) || this).valueType = t,
            n.includeEmptyValues = r,
            n
        }
        _inheritsLoose(TypeKeyValueMap, e);
        var t = TypeKeyValueMap.prototype;
        return t.serialize = _serialize20,
        t.deserialize = _deserialize20,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac20,
        t.verifySerializedValue = _verifySerializedValu20,
        t.getCacheKey = _getCacheKey20,
        TypeKeyValueMap
    }(a);
    function _serialize21(e) {
        return e
    }
    function _deserialize21(e, t, r, n) {
        t[r] = e
    }
    function _getAsJsonSchemaUncac21() {
        return {
            type: "string",
            enum: this.registry.getAllIds()
        }
    }
    function _verifySerializedValu21(e) {
        return "string" != typeof e ? "Not a valid registry id key: " + e : this.registry.hasId(e) ? void 0 : "Id " + e + " not known to registry"
    }
    function _getCacheKey21() {
        return "classid." + this.registry.getId()
    }
    var k = function(e) {
        function TypeClassId(t) {
            var r;
            return (r = e.call(this) || this).registry = t,
            r
        }
        _inheritsLoose(TypeClassId, e);
        var t = TypeClassId.prototype;
        return t.serialize = _serialize21,
        t.deserialize = _deserialize21,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac21,
        t.verifySerializedValue = _verifySerializedValu21,
        t.getCacheKey = _getCacheKey21,
        TypeClassId
    }(a);
    function _serialize22(e) {
        return [this.type1.serialize(e[0]), this.type2.serialize(e[1])]
    }
    function _deserialize22(e, t, r, n) {
        var i = [void 0, void 0]
          , o = this.type1.deserialize(e[0], i, 0, n);
        return o || ((o = this.type2.deserialize(e[1], i, 1, n)) ? o : void (t[r] = i))
    }
    function _getAsJsonSchemaUncac22() {
        return {
            type: "array",
            minLength: 2,
            maxLength: 2,
            items: [this.type1.getAsJsonSchema(), this.type2.getAsJsonSchema()]
        }
    }
    function _verifySerializedValu22(e) {
        if (!Array.isArray(e))
            return "Pair is not an array";
        if (2 !== e.length)
            return "Pair length != 2";
        var t = this.type1.verifySerializedValue(e[0]);
        return t || (t = this.type2.verifySerializedValue(e[1])) || void 0
    }
    function _getCacheKey22() {
        return "pair.(" + this.type1.getCacheKey() + "," + this.type2.getCacheKey + ")"
    }
    var E = function(e) {
        function TypePair(t, r) {
            var n;
            return (n = e.call(this) || this).type1 = t,
            n.type2 = r,
            n
        }
        _inheritsLoose(TypePair, e);
        var t = TypePair.prototype;
        return t.serialize = _serialize22,
        t.deserialize = _deserialize22,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac22,
        t.verifySerializedValue = _verifySerializedValu22,
        t.getCacheKey = _getCacheKey22,
        TypePair
    }(a);
    function _serialize23(e) {
        return null == e ? null : this.wrapped.serialize(e)
    }
    function _deserialize23(e, t, r, n) {
        if (null != e)
            return this.wrapped.deserialize(e, t, r, n);
        t[r] = null
    }
    function _verifySerializedValu23(e) {
        if (null !== e)
            return this.wrapped.verifySerializedValue(e)
    }
    function _getAsJsonSchemaUncac23() {
        return {
            oneOf: [{
                type: "null"
            }, this.wrapped.getAsJsonSchema()]
        }
    }
    function _allowNull3() {
        return !0
    }
    function _getCacheKey23() {
        return "nullable." + this.wrapped.getCacheKey()
    }
    var I = function(e) {
        function TypeNullable(t) {
            var r;
            return (r = e.call(this) || this).wrapped = t,
            r
        }
        _inheritsLoose(TypeNullable, e);
        var t = TypeNullable.prototype;
        return t.serialize = _serialize23,
        t.deserialize = _deserialize23,
        t.verifySerializedValue = _verifySerializedValu23,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac23,
        t.allowNull = _allowNull3,
        t.getCacheKey = _getCacheKey23,
        TypeNullable
    }(a);
    function _serialize24(e) {
        var t = {};
        for (var r in this.descriptor)
            t[r] = this.descriptor[r].serialize(e[r]);
        return t
    }
    function _deserialize24(e, t, r, n) {
        var i = t[r];
        for (var o in i || (t[r] = i = {}),
        e) {
            var a = this.descriptor[o].deserializeWithVerify(e[o], i, o, n);
            if (a)
                return a
        }
    }
    function _getAsJsonSchemaUncac24() {
        var e = {};
        for (var t in this.descriptor)
            e[t] = this.descriptor[t].getAsJsonSchema();
        return {
            type: "object",
            required: Object.keys(this.descriptor),
            properties: e
        }
    }
    function _verifySerializedValu24(e) {
        if ("object" != typeof e)
            return "structured object is not an object";
        for (var t in this.descriptor) {
            if (!e.hasOwnProperty(t))
                return "structured object is missing key " + t;
            var r = this.descriptor[t].verifySerializedValue(e[t]);
            if (r)
                return "structured object::" + r
        }
    }
    function _getCacheKey24() {
        var e = [];
        for (var t in this.descriptor)
            e.push(t + "=" + this.descriptor[t].getCacheKey());
        return "structured[" + e.join(",") + "]"
    }
    var B = function(e) {
        function TypeStructuredObject(t) {
            var r;
            return (r = e.call(this) || this).descriptor = t,
            r
        }
        _inheritsLoose(TypeStructuredObject, e);
        var t = TypeStructuredObject.prototype;
        return t.serialize = _serialize24,
        t.deserialize = _deserialize24,
        t.getAsJsonSchemaUncached = _getAsJsonSchemaUncac24,
        t.verifySerializedValue = _verifySerializedValu24,
        t.getCacheKey = _getCacheKey24,
        TypeStructuredObject
    }(a)
}
, function(e, t, r) {
    r.d(t, "b", (function() {
        return c
    }
    )),
    r.d(t, "a", (function() {
        return u
    }
    ));
    var n = r(3)
      , i = (r(22),
    r(9))
      , o = r(6)
      , a = r(26)
      , s = r(19)
      , l = r(14);
    function _getId() {
        return "color"
    }
    function _getSchema() {
        return o.b.enum(s.c)
    }
    function _serialize() {
        return this.color
    }
    function _deserialize(e) {
        this.color = e
    }
    function _getItemType() {
        return "color"
    }
    function _getAsCopyableKey() {
        return this.color
    }
    function _equalsImpl(e) {
        return this.color === e.color
    }
    function _getBackgroundColorAs() {
        return l.a.map.resources[this.color]
    }
    function _drawFullSizeOnCanvas(e, t) {
        this.cachedSprite || (this.cachedSprite = i.a.getSprite("sprites/colors/" + this.color + ".png")),
        this.cachedSprite.drawCentered(e, t / 2, t / 2, t)
    }
    function _drawItemCenteredClip(e, t, r, o=n.e.defaultItemDiameter) {
        var a = .6 * o;
        this.cachedSprite || (this.cachedSprite = i.a.getSprite("sprites/colors/" + this.color + ".png")),
        this.cachedSprite.drawCachedCentered(r, e, t, a)
    }
    var c = function(e) {
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ColorItem, e),
        ColorItem.getId = _getId,
        ColorItem.getSchema = _getSchema;
        var t = ColorItem.prototype;
        function ColorItem(t) {
            var r;
            return (r = e.call(this) || this).color = t,
            r
        }
        return t.serialize = _serialize,
        t.deserialize = _deserialize,
        t.getItemType = _getItemType,
        t.getAsCopyableKey = _getAsCopyableKey,
        t.equalsImpl = _equalsImpl,
        t.getBackgroundColorAsResource = _getBackgroundColorAs,
        t.drawFullSizeOnCanvas = _drawFullSizeOnCanvas,
        t.drawItemCenteredClipped = _drawItemCenteredClip,
        ColorItem
    }(a.a)
      , u = {};
    for (var d in s.c)
        u[d] = new c(d)
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "StaticMapEntityComponent", (function() {
        return s
    }
    )),
    r(3),
    r(22);
    var n = r(23)
      , i = (r(32),
    r(0))
      , o = r(6)
      , a = r(20);
    function _getId() {
        return "StaticMapEntity"
    }
    function _getSchema() {
        return {
            origin: o.b.tileVector,
            rotation: o.b.float,
            originalRotation: o.b.float,
            code: o.b.uintOrString
        }
    }
    function _getTileSize() {
        return Object(a.c)(this.code).tileSize
    }
    function _getSprite() {
        return Object(a.c)(this.code).sprite
    }
    function _getBlueprintSprite() {
        return Object(a.c)(this.code).blueprintSprite
    }
    function _getSilhouetteColor() {
        return Object(a.c)(this.code).silhouetteColor
    }
    function _getMetaBuilding() {
        return Object(a.c)(this.code).metaInstance
    }
    function _getVariant() {
        return Object(a.c)(this.code).variant
    }
    function _getRotationVariant() {
        return Object(a.c)(this.code).rotationVariant
    }
    function _getTileSpaceBounds() {
        var e = this.getTileSize();
        switch (this.rotation) {
        case 0:
            return new n.a(this.origin.x,this.origin.y,e.x,e.y);
        case 90:
            return new n.a(this.origin.x - e.y + 1,this.origin.y,e.y,e.x);
        case 180:
            return new n.a(this.origin.x - e.x + 1,this.origin.y - e.y + 1,e.x,e.y);
        case 270:
            return new n.a(this.origin.x,this.origin.y - e.x + 1,e.y,e.x)
        }
    }
    function _applyRotationToVecto(e) {
        return e.rotateFastMultipleOf90(this.rotation)
    }
    function _unapplyRotationToVec(e) {
        return e.rotateFastMultipleOf90(360 - this.rotation)
    }
    function _localDirectionToWorl(e) {
        return i.a.transformDirectionFromMultipleOf90(e, this.rotation)
    }
    function _worldDirectionToLoca(e) {
        return i.a.transformDirectionFromMultipleOf90(e, 360 - this.rotation)
    }
    function _localTileToWorld(e) {
        var t = e.rotateFastMultipleOf90(this.rotation);
        return t.x += this.origin.x,
        t.y += this.origin.y,
        t
    }
    function _worldToLocalTile(e) {
        var t = e.sub(this.origin);
        return this.unapplyRotationToVector(t)
    }
    function _shouldBeDrawn(e) {
        var t = 0
          , r = 0
          , n = 0
          , i = 0
          , o = this.getTileSize();
        switch (this.rotation) {
        case 0:
            t = this.origin.x,
            r = this.origin.y,
            n = o.x,
            i = o.y;
            break;
        case 90:
            t = this.origin.x - o.y + 1,
            r = this.origin.y,
            n = o.y,
            i = o.x;
            break;
        case 180:
            t = this.origin.x - o.x + 1,
            r = this.origin.y - o.y + 1,
            n = o.x,
            i = o.y;
            break;
        case 270:
            t = this.origin.x,
            r = this.origin.y - o.x + 1,
            n = o.y,
            i = o.x
        }
        return e.visibleRect.containsRect4Params(32 * t, 32 * r, 32 * n, 32 * i)
    }
    function _drawSpriteOnBoundsCl(e, t, r=0, n=null) {
        if (this.shouldBeDrawn(e) || n) {
            var i = this.getTileSize()
              , o = 32 * this.origin.x
              , a = 32 * this.origin.y;
            if (n && (o = 32 * n.x,
            a = 32 * n.y),
            0 === this.rotation)
                t.drawCached(e, o - r * i.x, a - r * i.y, 32 * i.x + 2 * r * i.x, 32 * i.y + 2 * r * i.y);
            else {
                var s = o + 16
                  , l = a + 16;
                e.context.translate(s, l),
                e.context.rotate(Math.radians(this.rotation)),
                t.drawCached(e, -16 - r * i.x, -16 - r * i.y, 32 * i.x + 2 * r * i.x, 32 * i.y + 2 * r * i.y, !1),
                e.context.rotate(-Math.radians(this.rotation)),
                e.context.translate(-s, -l)
            }
        }
    }
    var s = function(e) {
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(StaticMapEntityComponent, e),
        StaticMapEntityComponent.getId = _getId,
        StaticMapEntityComponent.getSchema = _getSchema;
        var t = StaticMapEntityComponent.prototype;
        function StaticMapEntityComponent({origin: t=new i.a, tileSize: r=new i.a(1,1), rotation: n=0, originalRotation: o=0, code: a=0}) {
            var s;
            return (s = e.call(this) || this).origin = t,
            s.rotation = n,
            s.code = a,
            s.originalRotation = o,
            s
        }
        return t.getTileSize = _getTileSize,
        t.getSprite = _getSprite,
        t.getBlueprintSprite = _getBlueprintSprite,
        t.getSilhouetteColor = _getSilhouetteColor,
        t.getMetaBuilding = _getMetaBuilding,
        t.getVariant = _getVariant,
        t.getRotationVariant = _getRotationVariant,
        t.copyAdditionalStateTo = function copyAdditionalStateTo(e) {
            return new StaticMapEntityComponent({
                origin: this.origin.copy(),
                rotation: this.rotation,
                originalRotation: this.originalRotation,
                code: this.code
            })
        }
        ,
        t.getTileSpaceBounds = _getTileSpaceBounds,
        t.applyRotationToVector = _applyRotationToVecto,
        t.unapplyRotationToVector = _unapplyRotationToVec,
        t.localDirectionToWorld = _localDirectionToWorl,
        t.worldDirectionToLocal = _worldDirectionToLoca,
        t.localTileToWorld = _localTileToWorld,
        t.worldToLocalTile = _worldToLocalTile,
        t.shouldBeDrawn = _shouldBeDrawn,
        t.drawSpriteOnBoundsClipped = _drawSpriteOnBoundsCl,
        StaticMapEntityComponent
    }(r(18).a)
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return l
    }
    )),
    r.d(t, "b", (function() {
        return c
    }
    ));
    var n = r(6)
      , i = r(10)
      , o = r(15)
      , a = r(31)
      , s = r(34)
      , l = {}
      , c = n.b.obj(i.d, (function itemResolverSingleton(e, t) {
        var r = t.$
          , n = t.data;
        if (l[r])
            return l[r](n);
        switch (r) {
        case o.c.getId():
            return n ? o.b : o.a;
        case a.a.getId():
            return e.shapeDefinitionMgr.getShapeItemFromShortKey(n);
        case s.b.getId():
            return s.a[n];
        default:
            window.assert(!1, "Unknown item type: " + r)
        }
    }
    ))
}
, function(e, t, r) {
    function cachebust(e) {
        return "./" + e
    }
    r.d(t, "a", (function() {
        return cachebust
    }
    ))
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "enumClippedBeltUnderlayType", (function() {
        return i
    }
    )),
    r.d(t, "BeltUnderlaysComponent", (function() {
        return o
    }
    )),
    r(0);
    var n = r(18)
      , i = {
        full: "full",
        bottomOnly: "bottomOnly",
        topOnly: "topOnly",
        none: "none"
    };
    function _getId() {
        return "BeltUnderlays"
    }
    var o = function(e) {
        function BeltUnderlaysComponent({underlays: t=[]}) {
            var r;
            return (r = e.call(this) || this).underlays = t,
            r
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BeltUnderlaysComponent, e),
        BeltUnderlaysComponent.getId = _getId,
        BeltUnderlaysComponent
    }(n.a)
}
, function(e, t, r) {
    (function(t) {
        var r = function(e) {
            return e && e.Math == Math && e
        };
        e.exports = r("object" == typeof globalThis && globalThis) || r("object" == typeof window && window) || r("object" == typeof self && self) || r("object" == typeof t && t) || Function("return this")()
    }
    ).call(this, r(85))
}
, function(e, t, r) {
    var n = r(39)
      , i = r(114)
      , o = r(45)
      , a = r(89)
      , s = r(118)
      , l = r(150)
      , c = i("wks")
      , u = n.Symbol
      , d = l ? u : u && u.withoutSetter || a;
    e.exports = function(e) {
        return o(c, e) || (s && o(u, e) ? c[e] = u[e] : c[e] = d("Symbol." + e)),
        c[e]
    }
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "curvedBeltLength", (function() {
        return o
    }
    )),
    r.d(t, "FAKE_BELT_ACCEPTOR_SLOT", (function() {
        return a
    }
    )),
    r.d(t, "FAKE_BELT_EJECTOR_SLOT_BY_DIRECTION", (function() {
        return s
    }
    )),
    r.d(t, "BeltComponent", (function() {
        return l
    }
    ));
    var n = r(0)
      , i = (r(6),
    r(67),
    r(18))
      , o = .78
      , a = {
        pos: new n.a(0,0),
        direction: n.d.bottom
    }
      , s = {
        [n.d.top]: {
            pos: new n.a(0,0),
            direction: n.d.top,
            item: null,
            progress: 0
        },
        [n.d.right]: {
            pos: new n.a(0,0),
            direction: n.d.right,
            item: null,
            progress: 0
        },
        [n.d.left]: {
            pos: new n.a(0,0),
            direction: n.d.left,
            item: null,
            progress: 0
        }
    };
    function _getId() {
        return "Belt"
    }
    function _clear() {
        this.assignedPath && this.assignedPath.clearAllItems()
    }
    function _getEffectiveLengthTi() {
        return this.direction === n.d.top ? 1 : o
    }
    function _getFakeAcceptorSlot() {
        return a
    }
    function _getFakeEjectorSlot() {
        return s[this.direction]
    }
    function _transformBeltToLocal(e) {
        switch (this.direction) {
        case n.d.top:
            return new n.a(0,.5 - e);
        case n.d.right:
            var t = e / o * .5 * Math.PI;
            return new n.a(.5 - .5 * Math.cos(t),.5 - .5 * Math.sin(t));
        case n.d.left:
            var r = e / o * .5 * Math.PI;
            return new n.a(.5 * Math.cos(r) - .5,.5 - .5 * Math.sin(r));
        default:
            return window.assert(!1, "Invalid belt direction: " + this.direction),
            new n.a(0,0)
        }
    }
    var l = function(e) {
        function BeltComponent({direction: t=n.d.top}) {
            var r;
            return (r = e.call(this) || this).direction = t,
            r.assignedPath = null,
            r
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BeltComponent, e),
        BeltComponent.getId = _getId;
        var t = BeltComponent.prototype;
        return t.clear = _clear,
        t.getEffectiveLengthTiles = _getEffectiveLengthTi,
        t.getFakeAcceptorSlot = _getFakeAcceptorSlot,
        t.getFakeEjectorSlot = _getFakeEjectorSlot,
        t.transformBeltToLocalSpace = _transformBeltToLocal,
        BeltComponent
    }(i.a)
}
, function(e, t, r) {
    r.d(t, "c", (function() {
        return initDrawUtils
    }
    )),
    r.d(t, "a", (function() {
        return drawRotatedSprite
    }
    )),
    r.d(t, "b", (function() {
        return drawSpriteClipped
    }
    )),
    r(3);
    var n = r(4)
      , i = r(23)
      , o = Object(n.a)("draw_utils");
    function _ref(e, t, r, n, i) {
        this.beginPath(),
        i < .05 ? this.rect(e, t, r, n) : (r < 2 * i && (i = r / 2),
        n < 2 * i && (i = n / 2),
        this.moveTo(e + i, t),
        this.arcTo(e + r, t, e + r, t + n, i),
        this.arcTo(e + r, t + n, e, t + n, i),
        this.arcTo(e, t + n, e, t, i),
        this.arcTo(e, t, e + r, t, i))
    }
    function _ref2(e, t, r) {
        this.beginPath(),
        r < .05 ? this.rect(e, t, 1, 1) : this.arc(e, t, r, 0, 2 * Math.PI)
    }
    function initDrawUtils() {
        CanvasRenderingContext2D.prototype.beginRoundedRect = _ref,
        CanvasRenderingContext2D.prototype.beginCircle = _ref2
    }
    function drawRotatedSprite({parameters: e, sprite: t, x: r, y: n, angle: i, size: o, offsetX: a=0, offsetY: s=0}) {
        0 !== i ? (e.context.translate(r, n),
        e.context.rotate(i),
        t.drawCachedCentered(e, a, s, o, !1),
        e.context.rotate(-i),
        e.context.translate(-r, -n)) : t.drawCachedCentered(e, r + a, n + s, o)
    }
    var a = 0;
    function drawSpriteClipped({parameters: e, sprite: t, x: r, y: n, w: s, h: l, originalW: c, originalH: u}) {
        var d = new i.a(r,n,s,l).getIntersection(e.visibleRect);
        d ? e.context.drawImage(t, (d.x - r) / s * c, (d.y - n) / l * u, c * d.w / s, u * d.h / l, d.x, d.y, d.w, d.h) : ++a % 200 == 1 && o.warn("Sprite drawn clipped but it's not on screen - perform culling before (", a, "warnings)")
    }
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "ConstantSignalComponent", (function() {
        return a
    }
    ));
    var n = r(6)
      , i = (r(26),
    r(18))
      , o = r(36);
    function _getId() {
        return "ConstantSignal"
    }
    function _getSchema() {
        return {
            signal: n.b.nullable(o.b)
        }
    }
    function _copyAdditionalStateT(e) {
        e.signal = this.signal
    }
    var a = function(e) {
        function ConstantSignalComponent({signal: t=null}) {
            var r;
            return (r = e.call(this) || this).signal = t,
            r
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ConstantSignalComponent, e),
        ConstantSignalComponent.getId = _getId,
        ConstantSignalComponent.getSchema = _getSchema,
        ConstantSignalComponent.prototype.copyAdditionalStateTo = _copyAdditionalStateT,
        ConstantSignalComponent
    }(i.a)
}
, function(e, t) {
    e.exports = function(e) {
        try {
            return !!e()
        } catch (t) {
            return !0
        }
    }
}
, function(e, t) {
    var r = {}.hasOwnProperty;
    e.exports = function(e, t) {
        return r.call(e, t)
    }
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return n
    }
    ));
    var n = {
        en: {
            name: "English",
            data: null,
            code: "en",
            region: ""
        }
    }
}
, function(e, t, r) {
    var n = r(49)
      , i = r(50)
      , o = r(80);
    e.exports = n ? function(e, t, r) {
        return i.f(e, t, o(1, r))
    }
    : function(e, t, r) {
        return e[t] = r,
        e
    }
}
, function(e, t, r) {
    function _getId() {
        return "ItemProducer"
    }
    r.r(t),
    r.d(t, "ItemProducerComponent", (function() {
        return n
    }
    ));
    var n = function(e) {
        function ItemProducerComponent() {
            return e.apply(this, arguments) || this
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemProducerComponent, e),
        ItemProducerComponent.getId = _getId,
        ItemProducerComponent
    }(r(18).a)
}
, function(e, t, r) {
    var n = r(44);
    e.exports = !n((function() {
        return 7 != Object.defineProperty({}, 1, {
            get: function() {
                return 7
            }
        })[1]
    }
    ))
}
, function(e, t, r) {
    var n = r(49)
      , i = r(116)
      , o = r(55)
      , a = r(88)
      , s = Object.defineProperty;
    t.f = n ? s : function defineProperty(e, t, r) {
        if (o(e),
        t = a(t, !0),
        o(r),
        i)
            try {
                return s(e, t, r)
            } catch (n) {}
        if ("get"in r || "set"in r)
            throw TypeError("Accessors not supported");
        return "value"in r && (e[t] = r.value),
        e
    }
}
, function(e, t) {
    e.exports = function(e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "MinerComponent", (function() {
        return s
    }
    ));
    var n = r(6)
      , i = (r(26),
    r(18))
      , o = (r(12),
    r(36))
      , a = 6;
    function _getId() {
        return "Miner"
    }
    function _getSchema() {
        return {
            lastMiningTime: n.b.ufloat,
            itemChainBuffer: n.b.array(o.b)
        }
    }
    function _clear() {
        this.itemChainBuffer = []
    }
    function _tryAcceptChainedItem(e) {
        return !(this.itemChainBuffer.length > a || (this.itemChainBuffer.push(e),
        0))
    }
    var s = function(e) {
        function MinerComponent({chainable: t=!1}) {
            var r;
            return (r = e.call(this) || this).lastMiningTime = 0,
            r.chainable = t,
            r.cachedMinedItem = null,
            r.cachedChainedMiner = null,
            r.clear(),
            r
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MinerComponent, e),
        MinerComponent.getId = _getId,
        MinerComponent.getSchema = _getSchema;
        var t = MinerComponent.prototype;
        return t.clear = _clear,
        t.tryAcceptChainedItem = _tryAcceptChainedItem,
        MinerComponent
    }(i.a)
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "LeverComponent", (function() {
        return o
    }
    ));
    var n = r(18)
      , i = r(6);
    function _getId() {
        return "Lever"
    }
    function _getSchema() {
        return {
            toggled: i.b.bool
        }
    }
    function _copyAdditionalStateT(e) {
        e.toggled = this.toggled
    }
    var o = function(e) {
        function LeverComponent({toggled: t=!1}) {
            var r;
            return (r = e.call(this) || this).toggled = t,
            r
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(LeverComponent, e),
        LeverComponent.getId = _getId,
        LeverComponent.getSchema = _getSchema,
        LeverComponent.prototype.copyAdditionalStateTo = _copyAdditionalStateT,
        LeverComponent
    }(n.a)
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "GoalAcceptorComponent", (function() {
        return a
    }
    ));
    var n = r(3)
      , i = (r(26),
    r(18))
      , o = r(36);
    function _getId() {
        return "GoalAcceptor"
    }
    function _getSchema() {
        return {
            item: o.b
        }
    }
    function _clear() {
        this.lastDelivery = null,
        this.currentDeliveredItems = 0,
        this.displayPercentage = 0
    }
    function _clearItems() {
        this.lastDelivery = null,
        this.currentDeliveredItems = 0
    }
    function _getRequiredSecondsPe() {
        return n.e.goalAcceptorsPerProducer / (2 * n.e.puzzleModeSpeed)
    }
    function _copyAdditionalStateT(e) {
        e.item = this.item
    }
    var a = function(e) {
        function GoalAcceptorComponent({item: t=null, rate: r=null}) {
            var n;
            return (n = e.call(this) || this).item = t,
            n.clear(),
            n
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(GoalAcceptorComponent, e),
        GoalAcceptorComponent.getId = _getId,
        GoalAcceptorComponent.getSchema = _getSchema;
        var t = GoalAcceptorComponent.prototype;
        return t.clear = _clear,
        t.clearItems = _clearItems,
        t.getRequiredSecondsPerItem = _getRequiredSecondsPe,
        t.copyAdditionalStateTo = _copyAdditionalStateT,
        GoalAcceptorComponent
    }(i.a)
}
, function(e, t, r) {
    var n = r(51);
    e.exports = function(e) {
        if (!n(e))
            throw TypeError(String(e) + " is not an object");
        return e
    }
}
, function(e, t, r) {
    var n = r(59)
      , i = Math.min;
    e.exports = function(e) {
        return e > 0 ? i(n(e), 9007199254740991) : 0
    }
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return getDeviceDPI
    }
    )),
    r.d(t, "c", (function() {
        return smoothenDpi
    }
    )),
    r.d(t, "b", (function() {
        return resizeHighDPICanvas
    }
    ));
    var n = r(3)
      , i = r(1);
    function getDeviceDPI() {
        return window.devicePixelRatio || 1
    }
    function smoothenDpi(e) {
        return e < .05 ? .05 : e < .2 ? Object(i.F)(.04 * Math.round(e / .04)) : e < 1 ? Object(i.D)(.1 * Math.round(e / .1)) : e < 4 ? Object(i.D)(.5 * Math.round(e / .5)) : 4
    }
    function resizeHighDPICanvas(e, t, r, i=!0) {
        var o = getDeviceDPI()
          , a = Math.floor(t)
          , s = Math.floor(r)
          , l = Math.floor(a * o)
          , c = Math.floor(s * o);
        l === e.width && c === e.height || (e.width = l,
        e.height = c,
        e.style.width = a + "px",
        e.style.height = s + "px",
        function prepareHighDPIContext(e, t=!0) {
            var r = getDeviceDPI();
            e.scale(r, r),
            t ? (e.imageSmoothingEnabled = !0,
            e.webkitImageSmoothingEnabled = !0,
            e.imageSmoothingQuality = n.e.smoothing.quality) : (e.imageSmoothingEnabled = !1,
            e.webkitImageSmoothingEnabled = !1)
        }(e.getContext("2d"), i))
    }
}
, function(e, t, r) {
    (function(e) {
        var n = r(223)
          , i = r(224)
          , o = r(225);
        function kMaxLength() {
            return Buffer.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
        }
        function createBuffer(e, t) {
            if (kMaxLength() < t)
                throw new RangeError("Invalid typed array length");
            return Buffer.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = Buffer.prototype : (null === e && (e = new Buffer(t)),
            e.length = t),
            e
        }
        function Buffer(e, t, r) {
            if (!(Buffer.TYPED_ARRAY_SUPPORT || this instanceof Buffer))
                return new Buffer(e,t,r);
            if ("number" == typeof e) {
                if ("string" == typeof t)
                    throw new Error("If encoding is specified then the first argument must be a string");
                return allocUnsafe(this, e)
            }
            return from(this, e, t, r)
        }
        function from(e, t, r, n) {
            if ("number" == typeof t)
                throw new TypeError('"value" argument must not be a number');
            return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function fromArrayBuffer(e, t, r, n) {
                if (t.byteLength,
                r < 0 || t.byteLength < r)
                    throw new RangeError("'offset' is out of bounds");
                if (t.byteLength < r + (n || 0))
                    throw new RangeError("'length' is out of bounds");
                return t = void 0 === r && void 0 === n ? new Uint8Array(t) : void 0 === n ? new Uint8Array(t,r) : new Uint8Array(t,r,n),
                Buffer.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = Buffer.prototype : e = fromArrayLike(e, t),
                e
            }(e, t, r, n) : "string" == typeof t ? function fromString(e, t, r) {
                if ("string" == typeof r && "" !== r || (r = "utf8"),
                !Buffer.isEncoding(r))
                    throw new TypeError('"encoding" must be a valid string encoding');
                var n = 0 | byteLength(t, r)
                  , i = (e = createBuffer(e, n)).write(t, r);
                return i !== n && (e = e.slice(0, i)),
                e
            }(e, t, r) : function fromObject(e, t) {
                if (Buffer.isBuffer(t)) {
                    var r = 0 | checked(t.length);
                    return 0 === (e = createBuffer(e, r)).length ? e : (t.copy(e, 0, 0, r),
                    e)
                }
                if (t) {
                    if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length"in t)
                        return "number" != typeof t.length || function isnan(e) {
                            return e != e
                        }(t.length) ? createBuffer(e, 0) : fromArrayLike(e, t);
                    if ("Buffer" === t.type && o(t.data))
                        return fromArrayLike(e, t.data)
                }
                throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
            }(e, t)
        }
        function assertSize(e) {
            if ("number" != typeof e)
                throw new TypeError('"size" argument must be a number');
            if (e < 0)
                throw new RangeError('"size" argument must not be negative')
        }
        function allocUnsafe(e, t) {
            if (assertSize(t),
            e = createBuffer(e, t < 0 ? 0 : 0 | checked(t)),
            !Buffer.TYPED_ARRAY_SUPPORT)
                for (var r = 0; r < t; ++r)
                    e[r] = 0;
            return e
        }
        function fromArrayLike(e, t) {
            var r = t.length < 0 ? 0 : 0 | checked(t.length);
            e = createBuffer(e, r);
            for (var n = 0; n < r; n += 1)
                e[n] = 255 & t[n];
            return e
        }
        function checked(e) {
            if (e >= kMaxLength())
                throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes");
            return 0 | e
        }
        function byteLength(e, t) {
            if (Buffer.isBuffer(e))
                return e.length;
            if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer))
                return e.byteLength;
            "string" != typeof e && (e = "" + e);
            var r = e.length;
            if (0 === r)
                return 0;
            for (var n = !1; ; )
                switch (t) {
                case "ascii":
                case "latin1":
                case "binary":
                    return r;
                case "utf8":
                case "utf-8":
                case void 0:
                    return utf8ToBytes(e).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return 2 * r;
                case "hex":
                    return r >>> 1;
                case "base64":
                    return base64ToBytes(e).length;
                default:
                    if (n)
                        return utf8ToBytes(e).length;
                    t = ("" + t).toLowerCase(),
                    n = !0
                }
        }
        function slowToString(e, t, r) {
            var n = !1;
            if ((void 0 === t || t < 0) && (t = 0),
            t > this.length)
                return "";
            if ((void 0 === r || r > this.length) && (r = this.length),
            r <= 0)
                return "";
            if ((r >>>= 0) <= (t >>>= 0))
                return "";
            for (e || (e = "utf8"); ; )
                switch (e) {
                case "hex":
                    return hexSlice(this, t, r);
                case "utf8":
                case "utf-8":
                    return utf8Slice(this, t, r);
                case "ascii":
                    return asciiSlice(this, t, r);
                case "latin1":
                case "binary":
                    return latin1Slice(this, t, r);
                case "base64":
                    return base64Slice(this, t, r);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return utf16leSlice(this, t, r);
                default:
                    if (n)
                        throw new TypeError("Unknown encoding: " + e);
                    e = (e + "").toLowerCase(),
                    n = !0
                }
        }
        function swap(e, t, r) {
            var n = e[t];
            e[t] = e[r],
            e[r] = n
        }
        function bidirectionalIndexOf(e, t, r, n, i) {
            if (0 === e.length)
                return -1;
            if ("string" == typeof r ? (n = r,
            r = 0) : r > 2147483647 ? r = 2147483647 : r < -2147483648 && (r = -2147483648),
            r = +r,
            isNaN(r) && (r = i ? 0 : e.length - 1),
            r < 0 && (r = e.length + r),
            r >= e.length) {
                if (i)
                    return -1;
                r = e.length - 1
            } else if (r < 0) {
                if (!i)
                    return -1;
                r = 0
            }
            if ("string" == typeof t && (t = Buffer.from(t, n)),
            Buffer.isBuffer(t))
                return 0 === t.length ? -1 : arrayIndexOf(e, t, r, n, i);
            if ("number" == typeof t)
                return t &= 255,
                Buffer.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? i ? Uint8Array.prototype.indexOf.call(e, t, r) : Uint8Array.prototype.lastIndexOf.call(e, t, r) : arrayIndexOf(e, [t], r, n, i);
            throw new TypeError("val must be string, number or Buffer")
        }
        function arrayIndexOf(e, t, r, n, i) {
            var o, a = 1, s = e.length, l = t.length;
            if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) {
                if (e.length < 2 || t.length < 2)
                    return -1;
                a = 2,
                s /= 2,
                l /= 2,
                r /= 2
            }
            function read(e, t) {
                return 1 === a ? e[t] : e.readUInt16BE(t * a)
            }
            if (i) {
                var c = -1;
                for (o = r; o < s; o++)
                    if (read(e, o) === read(t, -1 === c ? 0 : o - c)) {
                        if (-1 === c && (c = o),
                        o - c + 1 === l)
                            return c * a
                    } else
                        -1 !== c && (o -= o - c),
                        c = -1
            } else
                for (r + l > s && (r = s - l),
                o = r; o >= 0; o--) {
                    for (var u = !0, d = 0; d < l; d++)
                        if (read(e, o + d) !== read(t, d)) {
                            u = !1;
                            break
                        }
                    if (u)
                        return o
                }
            return -1
        }
        function hexWrite(e, t, r, n) {
            r = Number(r) || 0;
            var i = e.length - r;
            n ? (n = Number(n)) > i && (n = i) : n = i;
            var o = t.length;
            if (o % 2 != 0)
                throw new TypeError("Invalid hex string");
            n > o / 2 && (n = o / 2);
            for (var a = 0; a < n; ++a) {
                var s = parseInt(t.substr(2 * a, 2), 16);
                if (isNaN(s))
                    return a;
                e[r + a] = s
            }
            return a
        }
        function utf8Write(e, t, r, n) {
            return blitBuffer(utf8ToBytes(t, e.length - r), e, r, n)
        }
        function asciiWrite(e, t, r, n) {
            return blitBuffer(function asciiToBytes(e) {
                for (var t = [], r = 0; r < e.length; ++r)
                    t.push(255 & e.charCodeAt(r));
                return t
            }(t), e, r, n)
        }
        function latin1Write(e, t, r, n) {
            return asciiWrite(e, t, r, n)
        }
        function base64Write(e, t, r, n) {
            return blitBuffer(base64ToBytes(t), e, r, n)
        }
        function ucs2Write(e, t, r, n) {
            return blitBuffer(function utf16leToBytes(e, t) {
                for (var r, n, i, o = [], a = 0; a < e.length && !((t -= 2) < 0); ++a)
                    n = (r = e.charCodeAt(a)) >> 8,
                    i = r % 256,
                    o.push(i),
                    o.push(n);
                return o
            }(t, e.length - r), e, r, n)
        }
        function base64Slice(e, t, r) {
            return 0 === t && r === e.length ? n.fromByteArray(e) : n.fromByteArray(e.slice(t, r))
        }
        function utf8Slice(e, t, r) {
            r = Math.min(e.length, r);
            for (var n = [], i = t; i < r; ) {
                var o, s, l, c, u = e[i], d = null, p = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
                if (i + p <= r)
                    switch (p) {
                    case 1:
                        u < 128 && (d = u);
                        break;
                    case 2:
                        128 == (192 & (o = e[i + 1])) && (c = (31 & u) << 6 | 63 & o) > 127 && (d = c);
                        break;
                    case 3:
                        o = e[i + 1],
                        s = e[i + 2],
                        128 == (192 & o) && 128 == (192 & s) && (c = (15 & u) << 12 | (63 & o) << 6 | 63 & s) > 2047 && (c < 55296 || c > 57343) && (d = c);
                        break;
                    case 4:
                        o = e[i + 1],
                        s = e[i + 2],
                        l = e[i + 3],
                        128 == (192 & o) && 128 == (192 & s) && 128 == (192 & l) && (c = (15 & u) << 18 | (63 & o) << 12 | (63 & s) << 6 | 63 & l) > 65535 && c < 1114112 && (d = c)
                    }
                null === d ? (d = 65533,
                p = 1) : d > 65535 && (d -= 65536,
                n.push(d >>> 10 & 1023 | 55296),
                d = 56320 | 1023 & d),
                n.push(d),
                i += p
            }
            return function decodeCodePointsArray(e) {
                var t = e.length;
                if (t <= a)
                    return String.fromCharCode.apply(String, e);
                for (var r = "", n = 0; n < t; )
                    r += String.fromCharCode.apply(String, e.slice(n, n += a));
                return r
            }(n)
        }
        t.Buffer = Buffer,
        t.SlowBuffer = function SlowBuffer(e) {
            return +e != e && (e = 0),
            Buffer.alloc(+e)
        }
        ,
        t.INSPECT_MAX_BYTES = 50,
        Buffer.TYPED_ARRAY_SUPPORT = void 0 !== e.TYPED_ARRAY_SUPPORT ? e.TYPED_ARRAY_SUPPORT : function typedArraySupport() {
            try {
                var e = new Uint8Array(1);
                return e.__proto__ = {
                    __proto__: Uint8Array.prototype,
                    foo: function() {
                        return 42
                    }
                },
                42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
            } catch (t) {
                return !1
            }
        }(),
        t.kMaxLength = kMaxLength(),
        Buffer.poolSize = 8192,
        Buffer._augment = function(e) {
            return e.__proto__ = Buffer.prototype,
            e
        }
        ,
        Buffer.from = function(e, t, r) {
            return from(null, e, t, r)
        }
        ,
        Buffer.TYPED_ARRAY_SUPPORT && (Buffer.prototype.__proto__ = Uint8Array.prototype,
        Buffer.__proto__ = Uint8Array,
        "undefined" != typeof Symbol && Symbol.species && Buffer[Symbol.species] === Buffer && Object.defineProperty(Buffer, Symbol.species, {
            value: null,
            configurable: !0
        })),
        Buffer.alloc = function(e, t, r) {
            return function alloc(e, t, r, n) {
                return assertSize(t),
                t <= 0 ? createBuffer(e, t) : void 0 !== r ? "string" == typeof n ? createBuffer(e, t).fill(r, n) : createBuffer(e, t).fill(r) : createBuffer(e, t)
            }(null, e, t, r)
        }
        ,
        Buffer.allocUnsafe = function(e) {
            return allocUnsafe(null, e)
        }
        ,
        Buffer.allocUnsafeSlow = function(e) {
            return allocUnsafe(null, e)
        }
        ,
        Buffer.isBuffer = function isBuffer(e) {
            return !(null == e || !e._isBuffer)
        }
        ,
        Buffer.compare = function compare(e, t) {
            if (!Buffer.isBuffer(e) || !Buffer.isBuffer(t))
                throw new TypeError("Arguments must be Buffers");
            if (e === t)
                return 0;
            for (var r = e.length, n = t.length, i = 0, o = Math.min(r, n); i < o; ++i)
                if (e[i] !== t[i]) {
                    r = e[i],
                    n = t[i];
                    break
                }
            return r < n ? -1 : n < r ? 1 : 0
        }
        ,
        Buffer.isEncoding = function isEncoding(e) {
            switch (String(e).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "latin1":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
                return !0;
            default:
                return !1
            }
        }
        ,
        Buffer.concat = function concat(e, t) {
            if (!o(e))
                throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === e.length)
                return Buffer.alloc(0);
            var r;
            if (void 0 === t)
                for (t = 0,
                r = 0; r < e.length; ++r)
                    t += e[r].length;
            var n = Buffer.allocUnsafe(t)
              , i = 0;
            for (r = 0; r < e.length; ++r) {
                var a = e[r];
                if (!Buffer.isBuffer(a))
                    throw new TypeError('"list" argument must be an Array of Buffers');
                a.copy(n, i),
                i += a.length
            }
            return n
        }
        ,
        Buffer.byteLength = byteLength,
        Buffer.prototype._isBuffer = !0,
        Buffer.prototype.swap16 = function swap16() {
            var e = this.length;
            if (e % 2 != 0)
                throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var t = 0; t < e; t += 2)
                swap(this, t, t + 1);
            return this
        }
        ,
        Buffer.prototype.swap32 = function swap32() {
            var e = this.length;
            if (e % 4 != 0)
                throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var t = 0; t < e; t += 4)
                swap(this, t, t + 3),
                swap(this, t + 1, t + 2);
            return this
        }
        ,
        Buffer.prototype.swap64 = function swap64() {
            var e = this.length;
            if (e % 8 != 0)
                throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var t = 0; t < e; t += 8)
                swap(this, t, t + 7),
                swap(this, t + 1, t + 6),
                swap(this, t + 2, t + 5),
                swap(this, t + 3, t + 4);
            return this
        }
        ,
        Buffer.prototype.toString = function toString() {
            var e = 0 | this.length;
            return 0 === e ? "" : 0 === arguments.length ? utf8Slice(this, 0, e) : slowToString.apply(this, arguments)
        }
        ,
        Buffer.prototype.equals = function equals(e) {
            if (!Buffer.isBuffer(e))
                throw new TypeError("Argument must be a Buffer");
            return this === e || 0 === Buffer.compare(this, e)
        }
        ,
        Buffer.prototype.inspect = function inspect() {
            var e = ""
              , r = t.INSPECT_MAX_BYTES;
            return this.length > 0 && (e = this.toString("hex", 0, r).match(/.{2}/g).join(" "),
            this.length > r && (e += " ... ")),
            "<Buffer " + e + ">"
        }
        ,
        Buffer.prototype.compare = function compare(e, t, r, n, i) {
            if (!Buffer.isBuffer(e))
                throw new TypeError("Argument must be a Buffer");
            if (void 0 === t && (t = 0),
            void 0 === r && (r = e ? e.length : 0),
            void 0 === n && (n = 0),
            void 0 === i && (i = this.length),
            t < 0 || r > e.length || n < 0 || i > this.length)
                throw new RangeError("out of range index");
            if (n >= i && t >= r)
                return 0;
            if (n >= i)
                return -1;
            if (t >= r)
                return 1;
            if (this === e)
                return 0;
            for (var o = (i >>>= 0) - (n >>>= 0), a = (r >>>= 0) - (t >>>= 0), s = Math.min(o, a), l = this.slice(n, i), c = e.slice(t, r), u = 0; u < s; ++u)
                if (l[u] !== c[u]) {
                    o = l[u],
                    a = c[u];
                    break
                }
            return o < a ? -1 : a < o ? 1 : 0
        }
        ,
        Buffer.prototype.includes = function includes(e, t, r) {
            return -1 !== this.indexOf(e, t, r)
        }
        ,
        Buffer.prototype.indexOf = function indexOf(e, t, r) {
            return bidirectionalIndexOf(this, e, t, r, !0)
        }
        ,
        Buffer.prototype.lastIndexOf = function lastIndexOf(e, t, r) {
            return bidirectionalIndexOf(this, e, t, r, !1)
        }
        ,
        Buffer.prototype.write = function write(e, t, r, n) {
            if (void 0 === t)
                n = "utf8",
                r = this.length,
                t = 0;
            else if (void 0 === r && "string" == typeof t)
                n = t,
                r = this.length,
                t = 0;
            else {
                if (!isFinite(t))
                    throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                t |= 0,
                isFinite(r) ? (r |= 0,
                void 0 === n && (n = "utf8")) : (n = r,
                r = void 0)
            }
            var i = this.length - t;
            if ((void 0 === r || r > i) && (r = i),
            e.length > 0 && (r < 0 || t < 0) || t > this.length)
                throw new RangeError("Attempt to write outside buffer bounds");
            n || (n = "utf8");
            for (var o = !1; ; )
                switch (n) {
                case "hex":
                    return hexWrite(this, e, t, r);
                case "utf8":
                case "utf-8":
                    return utf8Write(this, e, t, r);
                case "ascii":
                    return asciiWrite(this, e, t, r);
                case "latin1":
                case "binary":
                    return latin1Write(this, e, t, r);
                case "base64":
                    return base64Write(this, e, t, r);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                    return ucs2Write(this, e, t, r);
                default:
                    if (o)
                        throw new TypeError("Unknown encoding: " + n);
                    n = ("" + n).toLowerCase(),
                    o = !0
                }
        }
        ,
        Buffer.prototype.toJSON = function toJSON() {
            return {
                type: "Buffer",
                data: Array.prototype.slice.call(this._arr || this, 0)
            }
        }
        ;
        var a = 4096;
        function asciiSlice(e, t, r) {
            var n = "";
            r = Math.min(e.length, r);
            for (var i = t; i < r; ++i)
                n += String.fromCharCode(127 & e[i]);
            return n
        }
        function latin1Slice(e, t, r) {
            var n = "";
            r = Math.min(e.length, r);
            for (var i = t; i < r; ++i)
                n += String.fromCharCode(e[i]);
            return n
        }
        function hexSlice(e, t, r) {
            var n, i = e.length;
            (!t || t < 0) && (t = 0),
            (!r || r < 0 || r > i) && (r = i);
            for (var o = "", a = t; a < r; ++a)
                o += (n = e[a]) < 16 ? "0" + n.toString(16) : n.toString(16);
            return o
        }
        function utf16leSlice(e, t, r) {
            for (var n = e.slice(t, r), i = "", o = 0; o < n.length; o += 2)
                i += String.fromCharCode(n[o] + 256 * n[o + 1]);
            return i
        }
        function checkOffset(e, t, r) {
            if (e % 1 != 0 || e < 0)
                throw new RangeError("offset is not uint");
            if (e + t > r)
                throw new RangeError("Trying to access beyond buffer length")
        }
        function checkInt(e, t, r, n, i, o) {
            if (!Buffer.isBuffer(e))
                throw new TypeError('"buffer" argument must be a Buffer instance');
            if (t > i || t < o)
                throw new RangeError('"value" argument is out of bounds');
            if (r + n > e.length)
                throw new RangeError("Index out of range")
        }
        function objectWriteUInt16(e, t, r, n) {
            t < 0 && (t = 65535 + t + 1);
            for (var i = 0, o = Math.min(e.length - r, 2); i < o; ++i)
                e[r + i] = (t & 255 << 8 * (n ? i : 1 - i)) >>> 8 * (n ? i : 1 - i)
        }
        function objectWriteUInt32(e, t, r, n) {
            t < 0 && (t = 4294967295 + t + 1);
            for (var i = 0, o = Math.min(e.length - r, 4); i < o; ++i)
                e[r + i] = t >>> 8 * (n ? i : 3 - i) & 255
        }
        function checkIEEE754(e, t, r, n, i, o) {
            if (r + n > e.length)
                throw new RangeError("Index out of range");
            if (r < 0)
                throw new RangeError("Index out of range")
        }
        function writeFloat(e, t, r, n, o) {
            return o || checkIEEE754(e, 0, r, 4),
            i.write(e, t, r, n, 23, 4),
            r + 4
        }
        function writeDouble(e, t, r, n, o) {
            return o || checkIEEE754(e, 0, r, 8),
            i.write(e, t, r, n, 52, 8),
            r + 8
        }
        Buffer.prototype.slice = function slice(e, t) {
            var r, n = this.length;
            if ((e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n),
            (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n),
            t < e && (t = e),
            Buffer.TYPED_ARRAY_SUPPORT)
                (r = this.subarray(e, t)).__proto__ = Buffer.prototype;
            else {
                var i = t - e;
                r = new Buffer(i,void 0);
                for (var o = 0; o < i; ++o)
                    r[o] = this[o + e]
            }
            return r
        }
        ,
        Buffer.prototype.readUIntLE = function readUIntLE(e, t, r) {
            e |= 0,
            t |= 0,
            r || checkOffset(e, t, this.length);
            for (var n = this[e], i = 1, o = 0; ++o < t && (i *= 256); )
                n += this[e + o] * i;
            return n
        }
        ,
        Buffer.prototype.readUIntBE = function readUIntBE(e, t, r) {
            e |= 0,
            t |= 0,
            r || checkOffset(e, t, this.length);
            for (var n = this[e + --t], i = 1; t > 0 && (i *= 256); )
                n += this[e + --t] * i;
            return n
        }
        ,
        Buffer.prototype.readUInt8 = function readUInt8(e, t) {
            return t || checkOffset(e, 1, this.length),
            this[e]
        }
        ,
        Buffer.prototype.readUInt16LE = function readUInt16LE(e, t) {
            return t || checkOffset(e, 2, this.length),
            this[e] | this[e + 1] << 8
        }
        ,
        Buffer.prototype.readUInt16BE = function readUInt16BE(e, t) {
            return t || checkOffset(e, 2, this.length),
            this[e] << 8 | this[e + 1]
        }
        ,
        Buffer.prototype.readUInt32LE = function readUInt32LE(e, t) {
            return t || checkOffset(e, 4, this.length),
            (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
        }
        ,
        Buffer.prototype.readUInt32BE = function readUInt32BE(e, t) {
            return t || checkOffset(e, 4, this.length),
            16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
        }
        ,
        Buffer.prototype.readIntLE = function readIntLE(e, t, r) {
            e |= 0,
            t |= 0,
            r || checkOffset(e, t, this.length);
            for (var n = this[e], i = 1, o = 0; ++o < t && (i *= 256); )
                n += this[e + o] * i;
            return n >= (i *= 128) && (n -= Math.pow(2, 8 * t)),
            n
        }
        ,
        Buffer.prototype.readIntBE = function readIntBE(e, t, r) {
            e |= 0,
            t |= 0,
            r || checkOffset(e, t, this.length);
            for (var n = t, i = 1, o = this[e + --n]; n > 0 && (i *= 256); )
                o += this[e + --n] * i;
            return o >= (i *= 128) && (o -= Math.pow(2, 8 * t)),
            o
        }
        ,
        Buffer.prototype.readInt8 = function readInt8(e, t) {
            return t || checkOffset(e, 1, this.length),
            128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
        }
        ,
        Buffer.prototype.readInt16LE = function readInt16LE(e, t) {
            t || checkOffset(e, 2, this.length);
            var r = this[e] | this[e + 1] << 8;
            return 32768 & r ? 4294901760 | r : r
        }
        ,
        Buffer.prototype.readInt16BE = function readInt16BE(e, t) {
            t || checkOffset(e, 2, this.length);
            var r = this[e + 1] | this[e] << 8;
            return 32768 & r ? 4294901760 | r : r
        }
        ,
        Buffer.prototype.readInt32LE = function readInt32LE(e, t) {
            return t || checkOffset(e, 4, this.length),
            this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
        }
        ,
        Buffer.prototype.readInt32BE = function readInt32BE(e, t) {
            return t || checkOffset(e, 4, this.length),
            this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
        }
        ,
        Buffer.prototype.readFloatLE = function readFloatLE(e, t) {
            return t || checkOffset(e, 4, this.length),
            i.read(this, e, !0, 23, 4)
        }
        ,
        Buffer.prototype.readFloatBE = function readFloatBE(e, t) {
            return t || checkOffset(e, 4, this.length),
            i.read(this, e, !1, 23, 4)
        }
        ,
        Buffer.prototype.readDoubleLE = function readDoubleLE(e, t) {
            return t || checkOffset(e, 8, this.length),
            i.read(this, e, !0, 52, 8)
        }
        ,
        Buffer.prototype.readDoubleBE = function readDoubleBE(e, t) {
            return t || checkOffset(e, 8, this.length),
            i.read(this, e, !1, 52, 8)
        }
        ,
        Buffer.prototype.writeUIntLE = function writeUIntLE(e, t, r, n) {
            e = +e,
            t |= 0,
            r |= 0,
            n || checkInt(this, e, t, r, Math.pow(2, 8 * r) - 1, 0);
            var i = 1
              , o = 0;
            for (this[t] = 255 & e; ++o < r && (i *= 256); )
                this[t + o] = e / i & 255;
            return t + r
        }
        ,
        Buffer.prototype.writeUIntBE = function writeUIntBE(e, t, r, n) {
            e = +e,
            t |= 0,
            r |= 0,
            n || checkInt(this, e, t, r, Math.pow(2, 8 * r) - 1, 0);
            var i = r - 1
              , o = 1;
            for (this[t + i] = 255 & e; --i >= 0 && (o *= 256); )
                this[t + i] = e / o & 255;
            return t + r
        }
        ,
        Buffer.prototype.writeUInt8 = function writeUInt8(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 1, 255, 0),
            Buffer.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
            this[t] = 255 & e,
            t + 1
        }
        ,
        Buffer.prototype.writeUInt16LE = function writeUInt16LE(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 2, 65535, 0),
            Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8) : objectWriteUInt16(this, e, t, !0),
            t + 2
        }
        ,
        Buffer.prototype.writeUInt16BE = function writeUInt16BE(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 2, 65535, 0),
            Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
            this[t + 1] = 255 & e) : objectWriteUInt16(this, e, t, !1),
            t + 2
        }
        ,
        Buffer.prototype.writeUInt32LE = function writeUInt32LE(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 4, 4294967295, 0),
            Buffer.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24,
            this[t + 2] = e >>> 16,
            this[t + 1] = e >>> 8,
            this[t] = 255 & e) : objectWriteUInt32(this, e, t, !0),
            t + 4
        }
        ,
        Buffer.prototype.writeUInt32BE = function writeUInt32BE(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 4, 4294967295, 0),
            Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16,
            this[t + 2] = e >>> 8,
            this[t + 3] = 255 & e) : objectWriteUInt32(this, e, t, !1),
            t + 4
        }
        ,
        Buffer.prototype.writeIntLE = function writeIntLE(e, t, r, n) {
            if (e = +e,
            t |= 0,
            !n) {
                var i = Math.pow(2, 8 * r - 1);
                checkInt(this, e, t, r, i - 1, -i)
            }
            var o = 0
              , a = 1
              , s = 0;
            for (this[t] = 255 & e; ++o < r && (a *= 256); )
                e < 0 && 0 === s && 0 !== this[t + o - 1] && (s = 1),
                this[t + o] = (e / a >> 0) - s & 255;
            return t + r
        }
        ,
        Buffer.prototype.writeIntBE = function writeIntBE(e, t, r, n) {
            if (e = +e,
            t |= 0,
            !n) {
                var i = Math.pow(2, 8 * r - 1);
                checkInt(this, e, t, r, i - 1, -i)
            }
            var o = r - 1
              , a = 1
              , s = 0;
            for (this[t + o] = 255 & e; --o >= 0 && (a *= 256); )
                e < 0 && 0 === s && 0 !== this[t + o + 1] && (s = 1),
                this[t + o] = (e / a >> 0) - s & 255;
            return t + r
        }
        ,
        Buffer.prototype.writeInt8 = function writeInt8(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 1, 127, -128),
            Buffer.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)),
            e < 0 && (e = 255 + e + 1),
            this[t] = 255 & e,
            t + 1
        }
        ,
        Buffer.prototype.writeInt16LE = function writeInt16LE(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 2, 32767, -32768),
            Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8) : objectWriteUInt16(this, e, t, !0),
            t + 2
        }
        ,
        Buffer.prototype.writeInt16BE = function writeInt16BE(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 2, 32767, -32768),
            Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8,
            this[t + 1] = 255 & e) : objectWriteUInt16(this, e, t, !1),
            t + 2
        }
        ,
        Buffer.prototype.writeInt32LE = function writeInt32LE(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 4, 2147483647, -2147483648),
            Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e,
            this[t + 1] = e >>> 8,
            this[t + 2] = e >>> 16,
            this[t + 3] = e >>> 24) : objectWriteUInt32(this, e, t, !0),
            t + 4
        }
        ,
        Buffer.prototype.writeInt32BE = function writeInt32BE(e, t, r) {
            return e = +e,
            t |= 0,
            r || checkInt(this, e, t, 4, 2147483647, -2147483648),
            e < 0 && (e = 4294967295 + e + 1),
            Buffer.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24,
            this[t + 1] = e >>> 16,
            this[t + 2] = e >>> 8,
            this[t + 3] = 255 & e) : objectWriteUInt32(this, e, t, !1),
            t + 4
        }
        ,
        Buffer.prototype.writeFloatLE = function writeFloatLE(e, t, r) {
            return writeFloat(this, e, t, !0, r)
        }
        ,
        Buffer.prototype.writeFloatBE = function writeFloatBE(e, t, r) {
            return writeFloat(this, e, t, !1, r)
        }
        ,
        Buffer.prototype.writeDoubleLE = function writeDoubleLE(e, t, r) {
            return writeDouble(this, e, t, !0, r)
        }
        ,
        Buffer.prototype.writeDoubleBE = function writeDoubleBE(e, t, r) {
            return writeDouble(this, e, t, !1, r)
        }
        ,
        Buffer.prototype.copy = function copy(e, t, r, n) {
            if (r || (r = 0),
            n || 0 === n || (n = this.length),
            t >= e.length && (t = e.length),
            t || (t = 0),
            n > 0 && n < r && (n = r),
            n === r)
                return 0;
            if (0 === e.length || 0 === this.length)
                return 0;
            if (t < 0)
                throw new RangeError("targetStart out of bounds");
            if (r < 0 || r >= this.length)
                throw new RangeError("sourceStart out of bounds");
            if (n < 0)
                throw new RangeError("sourceEnd out of bounds");
            n > this.length && (n = this.length),
            e.length - t < n - r && (n = e.length - t + r);
            var i, o = n - r;
            if (this === e && r < t && t < n)
                for (i = o - 1; i >= 0; --i)
                    e[i + t] = this[i + r];
            else if (o < 1e3 || !Buffer.TYPED_ARRAY_SUPPORT)
                for (i = 0; i < o; ++i)
                    e[i + t] = this[i + r];
            else
                Uint8Array.prototype.set.call(e, this.subarray(r, r + o), t);
            return o
        }
        ,
        Buffer.prototype.fill = function fill(e, t, r, n) {
            if ("string" == typeof e) {
                if ("string" == typeof t ? (n = t,
                t = 0,
                r = this.length) : "string" == typeof r && (n = r,
                r = this.length),
                1 === e.length) {
                    var i = e.charCodeAt(0);
                    i < 256 && (e = i)
                }
                if (void 0 !== n && "string" != typeof n)
                    throw new TypeError("encoding must be a string");
                if ("string" == typeof n && !Buffer.isEncoding(n))
                    throw new TypeError("Unknown encoding: " + n)
            } else
                "number" == typeof e && (e &= 255);
            if (t < 0 || this.length < t || this.length < r)
                throw new RangeError("Out of range index");
            if (r <= t)
                return this;
            var o;
            if (t >>>= 0,
            r = void 0 === r ? this.length : r >>> 0,
            e || (e = 0),
            "number" == typeof e)
                for (o = t; o < r; ++o)
                    this[o] = e;
            else {
                var a = Buffer.isBuffer(e) ? e : utf8ToBytes(new Buffer(e,n).toString())
                  , s = a.length;
                for (o = 0; o < r - t; ++o)
                    this[o + t] = a[o % s]
            }
            return this
        }
        ;
        var s = /[^+\/0-9A-Za-z-_]/g;
        function utf8ToBytes(e, t) {
            var r;
            t = t || Infinity;
            for (var n = e.length, i = null, o = [], a = 0; a < n; ++a) {
                if ((r = e.charCodeAt(a)) > 55295 && r < 57344) {
                    if (!i) {
                        if (r > 56319) {
                            (t -= 3) > -1 && o.push(239, 191, 189);
                            continue
                        }
                        if (a + 1 === n) {
                            (t -= 3) > -1 && o.push(239, 191, 189);
                            continue
                        }
                        i = r;
                        continue
                    }
                    if (r < 56320) {
                        (t -= 3) > -1 && o.push(239, 191, 189),
                        i = r;
                        continue
                    }
                    r = 65536 + (i - 55296 << 10 | r - 56320)
                } else
                    i && (t -= 3) > -1 && o.push(239, 191, 189);
                if (i = null,
                r < 128) {
                    if ((t -= 1) < 0)
                        break;
                    o.push(r)
                } else if (r < 2048) {
                    if ((t -= 2) < 0)
                        break;
                    o.push(r >> 6 | 192, 63 & r | 128)
                } else if (r < 65536) {
                    if ((t -= 3) < 0)
                        break;
                    o.push(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128)
                } else {
                    if (!(r < 1114112))
                        throw new Error("Invalid code point");
                    if ((t -= 4) < 0)
                        break;
                    o.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, 63 & r | 128)
                }
            }
            return o
        }
        function base64ToBytes(e) {
            return n.toByteArray(function base64clean(e) {
                if ((e = function stringtrim(e) {
                    return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
                }(e).replace(s, "")).length < 2)
                    return "";
                for (; e.length % 4 != 0; )
                    e += "=";
                return e
            }(e))
        }
        function blitBuffer(e, t, r, n) {
            for (var i = 0; i < n && !(i + r >= t.length || i >= e.length); ++i)
                t[i + r] = e[i];
            return i
        }
    }
    ).call(this, r(85))
}
, function(e, t) {
    var r = Math.ceil
      , n = Math.floor;
    e.exports = function(e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? n : r)(e)
    }
}
, function(e, t, r) {
    var n = r(39)
      , i = r(96).f
      , o = r(47)
      , a = r(73)
      , s = r(87)
      , l = r(121)
      , c = r(161);
    e.exports = function(e, t) {
        var r, u, d, p, h, g = e.target, f = e.global, m = e.stat;
        if (r = f ? n : m ? n[g] || s(g, {}) : (n[g] || {}).prototype)
            for (u in t) {
                if (p = t[u],
                d = e.noTargetGet ? (h = i(r, u)) && h.value : r[u],
                !c(f ? u : g + (m ? "." : "#") + u, e.forced) && void 0 !== d) {
                    if (typeof p == typeof d)
                        continue;
                    l(p, d)
                }
                (e.sham || d && d.sham) && o(p, "sham", !0),
                a(r, u, p, e)
            }
    }
}
, function(e, t, r) {
    var n = r(60)
      , i = r(49)
      , o = r(39)
      , a = r(45)
      , s = r(51)
      , l = r(50).f
      , c = r(121)
      , u = o.Symbol;
    if (i && "function" == typeof u && (!("description"in u.prototype) || void 0 !== u().description)) {
        var d = {}
          , p = function Symbol() {
            var e = arguments.length < 1 || void 0 === arguments[0] ? void 0 : String(arguments[0])
              , t = this instanceof p ? new u(e) : void 0 === e ? u() : u(e);
            return "" === e && (d[t] = !0),
            t
        };
        c(p, u);
        var h = p.prototype = u.prototype;
        h.constructor = p;
        var g = h.toString
          , f = "Symbol(test)" == String(u("test"))
          , m = /^Symbol\((.*)\)[^)]+$/;
        l(h, "description", {
            configurable: !0,
            get: function description() {
                var e = s(this) ? this.valueOf() : this
                  , t = g.call(e);
                if (a(d, e))
                    return "";
                var r = f ? t.slice(7, -1) : t.replace(m, "$1");
                return "" === r ? void 0 : r
            }
        }),
        n({
            global: !0,
            forced: !0
        }, {
            Symbol: p
        })
    }
}
, function(e, t, r) {
    function _getId() {
        return "Hub"
    }
    r.r(t),
    r.d(t, "HubComponent", (function() {
        return n
    }
    ));
    var n = function(e) {
        function HubComponent() {
            return e.apply(this, arguments) || this
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HubComponent, e),
        HubComponent.getId = _getId,
        HubComponent
    }(r(18).a)
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "StorageComponent", (function() {
        return a
    }
    ));
    var n = r(6)
      , i = (r(26),
    r(18))
      , o = r(36);
    function _getId() {
        return "Storage"
    }
    function _getSchema() {
        return {
            storedCount: n.b.uint,
            storedItem: n.b.nullable(o.b)
        }
    }
    function _canAcceptItem(e) {
        if (this.storedCount >= this.maximumStorage)
            return !1;
        if (!this.storedItem || 0 === this.storedCount)
            return !0;
        var t = e.getItemType();
        return t === this.storedItem.getItemType() && ("color" === t ? this.storedItem.color === e.color : "shape" === t && this.storedItem.definition.getHash() === e.definition.getHash())
    }
    function _getIsFull() {
        return this.storedCount >= this.maximumStorage
    }
    function _takeItem(e) {
        this.storedItem = e,
        this.storedCount++
    }
    r(34),
    r(31);
    var a = function(e) {
        function StorageComponent({maximumStorage: t=1e20}) {
            var r;
            return (r = e.call(this) || this).maximumStorage = t,
            r.storedItem = null,
            r.storedCount = 0,
            r.overlayOpacity = 0,
            r
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(StorageComponent, e),
        StorageComponent.getId = _getId,
        StorageComponent.getSchema = _getSchema;
        var t = StorageComponent.prototype;
        return t.canAcceptItem = _canAcceptItem,
        t.getIsFull = _getIsFull,
        t.takeItem = _takeItem,
        StorageComponent
    }(i.a)
}
, function(e, t, r) {
    function _getId() {
        return "WireTunnel"
    }
    r.r(t),
    r.d(t, "WireTunnelComponent", (function() {
        return n
    }
    ));
    var n = function(e) {
        function WireTunnelComponent() {
            var t;
            return (t = e.call(this) || this).linkedNetworks = [],
            t
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(WireTunnelComponent, e),
        WireTunnelComponent.getId = _getId,
        WireTunnelComponent
    }(r(18).a)
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "enumBeltReaderType", (function() {
        return a
    }
    )),
    r.d(t, "BeltReaderComponent", (function() {
        return s
    }
    ));
    var n = r(18)
      , i = (r(26),
    r(36))
      , o = r(6)
      , a = {
        wired: "wired",
        wireless: "wireless"
    };
    function _getId() {
        return "BeltReader"
    }
    function _getSchema() {
        return {
            lastItem: o.b.nullable(i.b)
        }
    }
    function _clear() {
        this.lastItemTimes = [],
        this.lastItem = null,
        this.lastThroughput = 0,
        this.lastThroughputComputation = 0
    }
    var s = function(e) {
        function BeltReaderComponent() {
            var t;
            return (t = e.call(this) || this).clear(),
            t
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BeltReaderComponent, e),
        BeltReaderComponent.getId = _getId,
        BeltReaderComponent.getSchema = _getSchema,
        BeltReaderComponent.prototype.clear = _clear,
        BeltReaderComponent
    }(n.a)
}
, function(e, t, r) {
    r.r(t),
    r.d(t, "FilterComponent", (function() {
        return a
    }
    ));
    var n = r(6)
      , i = (r(26),
    r(18))
      , o = r(36);
    function _getId() {
        return "Filter"
    }
    function _getSchema() {
        return {
            pendingItemsToLeaveThrough: n.b.array(n.b.structured({
                item: o.b,
                progress: n.b.ufloat
            })),
            pendingItemsToReject: n.b.array(n.b.structured({
                item: o.b,
                progress: n.b.ufloat
            }))
        }
    }
    function _clear() {
        this.pendingItemsToLeaveThrough = [],
        this.pendingItemsToReject = []
    }
    var a = function(e) {
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(FilterComponent, e),
        FilterComponent.getId = _getId;
        var t = FilterComponent.prototype;
        function FilterComponent() {
            var t;
            return (t = e.call(this) || this).clear(),
            t
        }
        return t.duplicateWithoutContents = function duplicateWithoutContents() {
            return new FilterComponent
        }
        ,
        FilterComponent.getSchema = _getSchema,
        t.clear = _clear,
        FilterComponent
    }(i.a)
}
, function(e, t, r) {
    r.d(t, "a", (function() {
        return f
    }
    ));
    var n = r(3)
      , i = r(57)
      , o = r(22)
      , a = r(4)
      , s = r(23)
      , l = r(32)
      , c = r(1)
      , u = r(0)
      , d = r(6)
      , p = (r(26),
    r(12),
    r(36));
    r(16);
    var h = Object(a.a)("belt_path")
      , g = !1;
    function _getId() {
        return "BeltPath"
    }
    function _getSchema() {
        return {
            entityPath: d.b.array(d.b.entity),
            items: d.b.array(d.b.pair(d.b.ufloat, p.b)),
            spacingToFirstItem: d.b.ufloat
        }
    }
    function _init(e=!0) {
        this.onPathChanged(),
        this.totalLength = this.computeTotalLength(),
        e && (this.spacingToFirstItem = this.totalLength),
        this.worldBounds = this.computeBounds();
        for (var t = 0; t < this.entityPath.length; ++t)
            this.entityPath[t].components.Belt.assignedPath = this
    }
    function _clearAllItems() {
        this.items = [],
        this.spacingToFirstItem = this.totalLength,
        this.numCompressedItemsAfterFirstItem = 0
    }
    function _canAcceptItem() {
        return this.spacingToFirstItem >= n.e.itemSpacingOnBelts
    }
    function _tryAcceptItem(e) {
        if (this.spacingToFirstItem >= n.e.itemSpacingOnBelts) {
            var t = this.root.hubGoals.getBeltBaseSpeed() * this.root.dynamicTickrate.deltaSeconds * n.e.itemSpacingOnBelts
              , r = Math.max(0, this.spacingToFirstItem - n.e.itemSpacingOnBelts)
              , i = Math.min(r, t);
            return this.items.unshift([this.spacingToFirstItem - i, e]),
            this.spacingToFirstItem = i,
            !0
        }
        return !1
    }
    function _findItemAtTile(e) {
        return null
    }
    function _computeBounds() {
        for (var e = this.entityPath[0].components.StaticMapEntity.getTileSpaceBounds(), t = 1; t < this.entityPath.length; ++t) {
            var r = this.entityPath[t].components.StaticMapEntity.getTileSpaceBounds();
            e = e.getUnion(r)
        }
        return e.allScaled(32)
    }
    function _onPathChanged() {
        this.boundAcceptor = this.computeAcceptingEntityAndSlot(),
        this.numCompressedItemsAfterFirstItem = 0
    }
    function _onSurroundingsChange() {
        this.onPathChanged()
    }
    function _computeAcceptingEnti(e=!1) {
        g && !e && h.log("Recomputing acceptor target");
        var t = this.entityPath[this.entityPath.length - 1]
          , r = t.components.StaticMapEntity
          , n = t.components.Belt
          , i = r.localTileToWorld(new u.a(0,0))
          , o = r.localDirectionToWorld(n.direction)
          , a = u.f[o]
          , s = i.add(a)
          , l = this.root.map.getLayerContentXY(s.x, s.y, "regular");
        if (l) {
            var c = !this.root.app.settings.getAllSettings().simplifiedBelts;
            g && !e && h.log("  Found target entity", l.uid);
            var d = l.components.StaticMapEntity
              , p = l.components.Belt;
            if (p) {
                var f = d.localDirectionToWorld(u.d.top);
                if (g && !e && h.log("  Entity is accepting items from", o, "vs", f, "Rotation:", d.rotation),
                o === f)
                    return function _ref(e) {
                        return p.assignedPath.tryAcceptItem(e)
                    }
            }
            var m = l.components.ItemAcceptor;
            if (m) {
                var y = d.worldDirectionToLocal(o)
                  , _ = m.findMatchingSlot(d.worldToLocalTile(s), y);
                if (_) {
                    var v = _.index
                      , b = this.computePassOverFunctionWithoutBelts(l, v);
                    if (b) {
                        var w = u.g[y]
                          , S = _.slot.filter;
                        return function(e, t=0) {
                            return !(S && e._type !== S || !b(e, v) || (c && m.onItemAccepted(v, w, e, t),
                            0))
                        }
                    }
                }
            }
        }
    }
    function _computePassOverFunct(e, t) {
        var r = this.root.systemMgr.systems
          , n = this.root.hubGoals
          , i = e.components.ItemProcessor;
        if (i)
            return function _ref2(n) {
                if (r.itemProcessor.checkRequirements(e, n, t))
                    return i.tryTakeItem(n, t)
            }
            ;
        var o = e.components.UndergroundBelt;
        if (o)
            return function _ref3(e) {
                return o.tryAcceptExternalItem(e, n.getUndergroundBeltBaseSpeed())
            }
            ;
        var a = e.components.Storage;
        return a ? function _ref4(e) {
            if (a.canAcceptItem(e))
                return a.takeItem(e),
                !0
        }
        : e.components.Filter ? function _ref5(n) {
            if (r.filter.tryAcceptItem(e, t, n))
                return !0
        }
        : void 0
    }
    function _extendOnEnd(e) {
        g && h.log("Extending belt path by entity at", e.components.StaticMapEntity.origin);
        var t = e.components.Belt;
        this.entityPath.push(e),
        this.onPathChanged();
        var r = t.getEffectiveLengthTiles();
        if (this.totalLength += r,
        g && h.log("  Extended total length by", r, "to", this.totalLength),
        0 === this.items.length)
            this.spacingToFirstItem = this.totalLength,
            g && h.log("  Extended spacing to first to", this.totalLength, "(= total length)");
        else {
            var n = this.items[this.items.length - 1];
            g && h.log("  Extended spacing of last item from", n[0], "to", n[0] + r),
            n[0] += r
        }
        t.assignedPath = this,
        this.worldBounds = this.computeBounds()
    }
    function _extendOnBeginning(e) {
        var t = e.components.Belt;
        g && h.log("Extending the path on the beginning");
        var r = t.getEffectiveLengthTiles();
        this.totalLength += r,
        this.spacingToFirstItem += r,
        t.assignedPath = this,
        this.entityPath.unshift(e),
        this.onPathChanged(),
        this.worldBounds = this.computeBounds()
    }
    function _isEndEntity(e) {
        return this.entityPath[this.entityPath.length - 1] === e
    }
    function _isStartEntity(e) {
        return this.entityPath[0] === e
    }
    function _ref6(e) {
        return e[0]
    }
    function _ref7(e) {
        return e[0]
    }
    function _ref8(e) {
        return e[0]
    }
    function _deleteEntityOnEnd(e) {
        var t = e.components.Belt
          , r = t.getEffectiveLengthTiles();
        if (g && h.log("Deleting last entity on path with length", this.entityPath.length, "(reducing", this.totalLength, " by", r, ")"),
        this.totalLength -= r,
        this.entityPath.pop(),
        this.onPathChanged(),
        g && h.log("  New path has length of", this.totalLength, "with", this.entityPath.length, "entities"),
        t.assignedPath = null,
        0 === this.items.length)
            this.spacingToFirstItem = this.totalLength;
        else {
            var n = this.spacingToFirstItem
              , i = n;
            g && h.log("  Adjusting", this.items.length, "items");
            for (var o = 0; o < this.items.length; ++o) {
                var a = this.items[o];
                n >= this.totalLength ? (g && h.log("Dropping item (current index=", o, ")"),
                this.items.splice(o, 1),
                o -= 1) : (g && h.log("Item", o, "is at", n, "with next offset", a[0]),
                i = n,
                n += a[0])
            }
            if (this.items.length > 0) {
                var s = this.totalLength - i;
                g && h.log("Adjusted distance of last item: it is at", i, "so it has a distance of", s, "to the end (", this.totalLength, ")"),
                this.items[this.items.length - 1][0] = s
            } else
                g && h.log("  Removed all items so we'll update spacing to total length"),
                this.spacingToFirstItem = this.totalLength
        }
        this.worldBounds = this.computeBounds()
    }
    function _ref9(e) {
        return e[0]
    }
    function _deleteEntityOnStart(e) {
        var t = e.components.Belt
          , r = t.getEffectiveLengthTiles();
        if (g && h.log("Deleting first entity on path with length", this.entityPath.length, "(reducing", this.totalLength, " by", r, ")"),
        this.totalLength -= r,
        this.entityPath.shift(),
        this.onPathChanged(),
        g && h.log("  New path has length of", this.totalLength, "with", this.entityPath.length, "entities"),
        t.assignedPath = null,
        0 === this.items.length)
            this.spacingToFirstItem = this.totalLength;
        else if (this.spacingToFirstItem >= r)
            g && h.log("  No item on the first place, so we can just adjust the spacing (spacing=", this.spacingToFirstItem, ") removed =", r),
            this.spacingToFirstItem -= r;
        else {
            g && h.log("  We have at least one item in the beginning, drop those and adjust spacing (first item @", this.spacingToFirstItem, ") since we removed", r, "length from path"),
            g && h.log("    Items:", this.items.map(_ref9));
            for (var n = this.spacingToFirstItem, i = 0; i < this.items.length; ++i) {
                var o = this.items[i];
                if (!(n <= r))
                    break;
                g && h.log("  -> Dropping item with index", i, "at", n, "since it was on the removed belt"),
                this.items.splice(i, 1),
                i -= 1,
                n += o[0]
            }
            this.items.length > 0 ? (g && h.log("  Offset of first non-dropped item was at:", n, "-> setting spacing to it (total length=", this.totalLength, ")"),
            this.spacingToFirstItem = n - r) : (g && h.log("  We dropped all items, simply set spacing to total length"),
            this.spacingToFirstItem = this.totalLength)
        }
        this.worldBounds = this.computeBounds()
    }
    function _extendByPath(e) {
        var t = e.entityPath;
        g && h.log("Extending path by other path, starting to add entities");
        var r = this.totalLength;
        g && h.log("  Adding", t.length, "new entities, current length =", this.totalLength);
        for (var n = 0; n < t.length; ++n) {
            var i = t[n]
              , o = i.components.Belt;
            this.entityPath.push(i),
            o.assignedPath = this;
            var a = o.getEffectiveLengthTiles();
            this.totalLength += a
        }
        if (g && h.log("  Path is now", this.entityPath.length, "entities and has a length of", this.totalLength),
        0 !== this.items.length) {
            var s = this.items[this.items.length - 1];
            s[0] += e.spacingToFirstItem,
            g && h.log("  Add distance to last item, effectively being", s[0], "now")
        } else
            this.spacingToFirstItem = r + e.spacingToFirstItem,
            g && h.log("  We had no items, so our new spacing to first is old length (", r, ") plus others spacing to first (", e.spacingToFirstItem, ") =", this.spacingToFirstItem);
        g && h.log("  Pushing", e.items.length, "items from other path");
        for (var l = 0; l < e.items.length; ++l) {
            var c = e.items[l];
            this.items.push([c[0], c[1]])
        }
        this.worldBounds = this.computeBounds(),
        this.onPathChanged()
    }
    function _computeTotalLength() {
        for (var e = 0, t = 0; t < this.entityPath.length; ++t)
            e += this.entityPath[t].components.Belt.getEffectiveLengthTiles();
        return e
    }
    function _update() {
        if (0 !== this.items.length) {
            var e, t = this.root.hubGoals.getBeltBaseSpeed() * this.root.dynamicTickrate.deltaSeconds * n.e.itemSpacingOnBelts, r = !0, i = t;
            for (e = this.items.length - 1; e >= 0; --e) {
                var o = this.items[e]
                  , a = e === this.items.length - 1 ? 0 : n.e.itemSpacingOnBelts
                  , s = o[0] - a;
                if (i < s && (s = i),
                s < 0 && (s = 0),
                i -= s,
                o[0] -= s,
                this.spacingToFirstItem += s,
                r && o[0] < 1e-7) {
                    var l = t - s;
                    if (this.boundAcceptor && this.boundAcceptor(o[1], l)) {
                        this.items.pop();
                        var c = this.items[e - 1];
                        if (c && this.numCompressedItemsAfterFirstItem > 0) {
                            var u = Math.max(0, Math.min(i, c[0]));
                            c[0] -= u,
                            i -= u,
                            this.spacingToFirstItem += u
                        }
                        this.numCompressedItemsAfterFirstItem = Math.max(0, this.numCompressedItemsAfterFirstItem - 1)
                    }
                }
                if (r && (e -= this.numCompressedItemsAfterFirstItem),
                r = !1,
                i < 1e-7)
                    break
            }
            this.numCompressedItemsAfterFirstItem = Math.max(0, this.numCompressedItemsAfterFirstItem, this.items.length - 2 - e);
            var d = this.items[this.items.length - 1];
            d && 0 === d[0] && this.boundAcceptor && this.boundAcceptor(d[1]) && (this.items.pop(),
            this.numCompressedItemsAfterFirstItem = Math.max(0, this.numCompressedItemsAfterFirstItem - 1))
        }
    }
    function _computePositionFromP(e) {
        for (var t = 0, r = 0; r < this.entityPath.length; ++r) {
            var n = this.entityPath[r].components.Belt
              , i = n.getEffectiveLengthTiles();
            if (t + i >= e || r === this.entityPath.length - 1) {
                var o = Math.min(1, e - t)
                  , a = n.transformBeltToLocalSpace(o);
                return this.entityPath[r].components.StaticMapEntity.localTileToWorld(a)
            }
            t += i
        }
    }
    function _drawDebug(e) {
        if (e.visibleRect.containsRect(this.worldBounds)) {
            e.context.fillStyle = "#d79a25",
            e.context.strokeStyle = "#d79a25",
            e.context.beginPath();
            for (var t = 0; t < this.entityPath.length; ++t) {
                var r = this.entityPath[t].components.StaticMapEntity.origin.toWorldSpaceCenterOfTile();
                0 === t ? e.context.moveTo(r.x, r.y) : e.context.lineTo(r.x, r.y)
            }
            e.context.stroke();
            for (var n = this.spacingToFirstItem, i = 0; i < this.items.length; ++i) {
                var o = this.items[i]
                  , a = this.computePositionFromProgress(n).toWorldSpaceCenterOfTile();
                e.context.fillStyle = "#268e4d",
                e.context.beginRoundedRect(a.x - 5, a.y - 5, 10, 10, 3),
                e.context.fill(),
                e.context.font = "6px GameFont",
                e.context.fillStyle = "#111",
                e.context.fillText("" + Object(c.H)(o[0]), a.x + 5, a.y + 2),
                n += o[0],
                this.items.length - 1 - this.numCompressedItemsAfterFirstItem === i && (e.context.fillStyle = "red",
                e.context.fillRect(a.x + 5, a.y, 20, 3))
            }
            for (var s = 0; s < this.entityPath.length; ++s) {
                var l = this.entityPath[s];
                e.context.fillStyle = "#d79a25";
                var u = l.components.StaticMapEntity.origin.toWorldSpaceCenterOfTile();
                e.context.beginCircle(u.x, u.y, 0 === s ? 5 : 3),
                e.context.fill()
            }
            for (var d = 0; d <= this.totalLength + .01; d += .2) {
                var p = this.computePositionFromProgress(d).toWorldSpaceCenterOfTile();
                e.context.fillStyle = "red",
                e.context.beginCircle(p.x, p.y, 1),
                e.context.fill()
            }
            var h = this.computePositionFromProgress(this.spacingToFirstItem).toWorldSpaceCenterOfTile();
            e.context.fillStyle = "purple",
            e.context.fillRect(h.x - 3, h.y - 1, 6, 2)
        }
    }
    function _checkIsPotatoMode() {
        if (!this.root.app.settings.getAllSettings().simplifiedBelts)
            return !1;
        if ("regular" !== this.root.currentLayer)
            return !0;
        var e = this.root.app.mousePosition;
        if (!e)
            return !0;
        var t = this.root.camera.screenToWorld(e).toTileSpace()
          , r = this.root.map.getLayerContentXY(t.x, t.y, "regular");
        return !r || !r.components.Belt || r.components.Belt.assignedPath !== this
    }
    function _draw(e) {
        if (e.visibleRect.containsRect(this.worldBounds) && 0 !== this.items.length)
            if (this.checkIsPotatoMode()) {
                var t = this.items[0];
                if (this.entityPath.length > 1 && t) {
                    var r = Object(c.d)(Math.round(this.entityPath.length / 2 - 1), 0, this.entityPath.length - 1)
                      , i = this.entityPath[r]
                      , o = i.components.Belt
                      , a = i.components.StaticMapEntity
                      , s = o.transformBeltToLocalSpace(this.entityPath.length % 2 == 0 ? o.getEffectiveLengthTiles() : .5)
                      , l = a.localTileToWorld(s).toWorldSpaceCenterOfTile();
                    e.context.globalAlpha = .5,
                    t[1].drawItemCenteredClipped(l.x, l.y, e),
                    e.context.globalAlpha = 1
                }
            } else {
                for (var u = this.spacingToFirstItem, d = 0, p = 0, h = [], g = "", f = 0; f < this.entityPath.length; ++f) {
                    for (var m = this.entityPath[f], y = m.components.Belt, _ = y.getEffectiveLengthTiles(); p + _ >= u - 1e-5; ) {
                        var v = m.components.StaticMapEntity
                          , b = y.transformBeltToLocalSpace(u - p)
                          , w = v.localTileToWorld(b).toWorldSpaceCenterOfTile()
                          , S = this.items[d]
                          , C = S[1]
                          , A = S[0];
                        if (e.visibleRect.containsCircle(w.x, w.y, n.e.defaultItemDiameter)) {
                            if (h.length > 1) {
                                var k = h[0];
                                k[1].equals(C) && Math.abs(k[0][g] - w[g]) < .001 || (this.drawDrawStack(h, e, g),
                                h = [],
                                g = "")
                            } else if (1 === h.length) {
                                var E = h[0];
                                if (E[1].equals(C)) {
                                    var I = E[0];
                                    Math.abs(I.x - w.x) < .001 ? g = "x" : Math.abs(I.y - w.y) < .001 ? g = "y" : (this.drawDrawStack(h, e, g),
                                    h = [],
                                    g = "")
                                } else
                                    this.drawDrawStack(h, e, g),
                                    h = [],
                                    g = ""
                            }
                            h.push([w, C])
                        } else
                            this.drawDrawStack(h, e, g),
                            h = [],
                            g = "";
                        if (u += A,
                        ++d,
                        (A > n.e.itemSpacingOnBelts + .001 || h.length > n.e.maxBeltShapeBundleSize) && (this.drawDrawStack(h, e, g),
                        h = [],
                        g = ""),
                        d >= this.items.length)
                            return void this.drawDrawStack(h, e, g)
                    }
                    p += _
                }
                this.drawDrawStack(h, e, g)
            }
    }
    function _drawShapesInARow(e, t, r, i, a, {direction: c, stack: d, root: p, zoomLevel: h}) {
        t.scale(a, a);
        for (var g = new o.a({
            context: t,
            desiredAtlasScale: l.c,
            root: p,
            visibleRect: new s.a(-1e3,-1e3,2e3,2e3),
            zoomLevel: h
        }), f = 32 * n.e.itemSpacingOnBelts, m = d[0], y = new u.a(f / 2,f / 2), _ = 0; _ < d.length; _++)
            m[1].drawItemCenteredClipped(y.x, y.y, g, n.e.defaultItemDiameter),
            y[c] += 32 * n.e.itemSpacingOnBelts
    }
    function _drawDrawStack(e, t, r) {
        if (0 !== e.length) {
            var o = e[0]
              , a = o[0];
            if (1 !== e.length) {
                var s = 32 * n.e.itemSpacingOnBelts
                  , l = "x" === r ? "y" : "x"
                  , c = new u.a(s,s);
                c[l] *= e.length;
                var d = a.copy().sub(e[1][0])
                  , p = Object(i.c)(n.e.shapesSharpness * t.zoomLevel)
                  , h = this.root.buffers.getForKey({
                    key: "beltpaths",
                    subKey: "stack-" + r + "-" + p + "-" + e.length + o[1].serialize(),
                    dpi: p,
                    w: c.x,
                    h: c.y,
                    redrawMethod: this.drawShapesInARow.bind(this),
                    additionalParams: {
                        direction: l,
                        stack: e,
                        root: this.root,
                        zoomLevel: t.zoomLevel
                    }
                })
                  , g = d[l] < 0 ? o : e[e.length - 1];
                t.context.drawImage(h, g[0].x - s / 2, g[0].y - s / 2, c.x, c.y)
            } else
                o[1].drawItemCenteredClipped(a.x, a.y, t, n.e.defaultItemDiameter)
        }
    }
    var f = function(e) {
        function BeltPath(t, r) {
            var n;
            return (n = e.call(this) || this).root = t,
            n.entityPath = r,
            n.items = [],
            n.init(),
            n
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BeltPath, e),
        BeltPath.getId = _getId,
        BeltPath.getSchema = _getSchema,
        BeltPath.fromSerialized = function fromSerialized(e, t) {
            var r = Object.create(BeltPath.prototype);
            return r.root = e,
            r.deserialize(t) || (r.init(!1),
            r)
        }
        ;
        var t = BeltPath.prototype;
        return t.init = _init,
        t.clearAllItems = _clearAllItems,
        t.canAcceptItem = _canAcceptItem,
        t.tryAcceptItem = _tryAcceptItem,
        t.findItemAtTile = _findItemAtTile,
        t.computeBounds = _computeBounds,
        t.onPathChanged = _onPathChanged,
        t.onSurroundingsChanged = _onSurroundingsChange,
        t.computeAcceptingEntityAndSlot = _computeAcceptingEnti,
        t.computePassOverFunctionWithoutBelts = _computePassOverFunct,
        t.extendOnEnd = _extendOnEnd,
        t.extendOnBeginning = _extendOnBeginning,
        t.isEndEntity = _isEndEntity,
        t.isStartEntity = _isStartEntity,
        t.deleteEntityOnPathSplitIntoTwo = function deleteEntityOnPathSplitIntoTwo(e) {
            g && h.log("Splitting path at entity", e.components.StaticMapEntity.origin);
            var t = e.components.Belt;
            t.assignedPath = null;
            for (var r = t.getEffectiveLengthTiles(), n = 0, i = 0, o = null, a = 0; a < this.entityPath.length; ++a) {
                var s = this.entityPath[a];
                if (s === e) {
                    g && h.log("Found entity at", a, "of length", i);
                    break
                }
                ++n,
                o = s,
                i += s.components.Belt.getEffectiveLengthTiles()
            }
            g && h.log("First path ends at", i, "and entity", o.components.StaticMapEntity.origin, "and has", n, "entities");
            var l = this.totalLength - i - r
              , c = i + r
              , u = this.entityPath.splice(n + 1);
            g && h.log("Second path starts at", c, "and has a length of ", l, "with", u.length, "entities"),
            this.entityPath.pop(),
            g && h.log("Splitting", this.items.length, "items"),
            g && h.log("Old items are", this.items.map(_ref6));
            for (var d = new BeltPath(this.root,u), p = this.spacingToFirstItem, f = 0; f < this.items.length; ++f) {
                var m = this.items[f]
                  , y = m[0];
                if (g && h.log("  Checking item at", p, "with distance of", y, "to next"),
                p >= i)
                    this.items.splice(f, 1),
                    f -= 1,
                    g && h.log("     Removed item from first path since its no longer contained @", p),
                    p >= c ? (d.items.push([y, m[1]]),
                    g && h.log("     Put item to second path @", p, "with distance to next =", y),
                    1 === d.items.length && (g && h.log("       Sinc it was the first, set sapcing of first to", p),
                    d.spacingToFirstItem = p - c)) : g && h.log("    Item was on the removed belt, so its gone - forever!");
                else {
                    var _ = Math.min(p + y, i) - p;
                    _ < y && (g && h.log("Correcting next distance (first path) from", y, "to", _),
                    m[0] = _)
                }
                p += y
            }
            return g && h.log("New items are", this.items.map(_ref7)),
            g && h.log("And second path items are", d.items.map(_ref8)),
            this.totalLength = i,
            0 === this.items.length && (this.spacingToFirstItem = this.totalLength),
            this.onPathChanged(),
            d.onPathChanged(),
            this.worldBounds = this.computeBounds(),
            d
        }
        ,
        t.deleteEntityOnEnd = _deleteEntityOnEnd,
        t.deleteEntityOnStart = _deleteEntityOnStart,
        t.extendByPath = _extendByPath,
        t.computeTotalLength = _computeTotalLength,
        t.update = _update,
        t.computePositionFromProgress = _computePositionFromP,
        t.drawDebug = _drawDebug,
        t.checkIsPotatoMode = _checkIsPotatoMode,
        t.draw = _draw,
        t.drawShapesInARow = _drawShapesInARow,
        t.drawDrawStack = _drawDrawStack,
        BeltPath
    }(d.a)
}
, function(e, t, r) {
    const n = r(105);
    e.exports = (e, t, r) => new n(e,r).compare(new n(t,r))
}
, function(e, t, r) {
    function checkDataType(e, t, r) {
        var n = r ? " !== " : " === "
          , i = r ? " || " : " && "
          , o = r ? "!" : ""
          , a = r ? "" : "!";
        switch (e) {
        case "null":
            return t + n + "null";
        case "array":
            return o + "Array.isArray(" + t + ")";
        case "object":
            return "(" + o + t + i + "typeof " + t + n + '"object"' + i + a + "Array.isArray(" + t + "))";
        case "integer":
            return "(typeof " + t + n + '"number"' + i + a + "(" + t + " % 1)" + i + t + n + t + ")";
        default:
            return "typeof " + t + n + '"' + e + '"'
        }
    }
    e.exports = {
        copy: function copy(e, t) {
            for (var r in t = t || {},
            e)
                t[r] = e[r];
            return t
        },
        checkDataType,
        checkDataTypes: function checkDataTypes(e, t) {
            switch (e.length) {
            case 1:
                return checkDataType(e[0], t, !0);
            default:
                var r = ""
                  , n = toHash(e);
                for (var i in n.array && n.object && (r = n.null ? "(" : "(!" + t + " || ",
                r += "typeof " + t + ' !== "object")',
                delete n.null,
                delete n.array,
                delete n.object),
                n.number && delete n.integer,
                n)
                    r += (r ? " && " : "") + checkDataType(i, t, !0);
                return r
            }
        },
        coerceToTypes: function coerceToTypes(e, t) {
            if (Array.isArray(t)) {
                for (var r = [], i = 0; i < t.length; i++) {
                    var o = t[i];
                    n[o] ? r[r.length] = o : "array" === e && "array" === o && (r[r.length] = o)
                }
                if (r.length)
                    return r
            } else {
                if (n[t])
                    return [t];
                if ("array" === e && "array" === t)
                    return ["array"]
            }
        },
        toHash,
        getProperty,
        escapeQuotes,
        equal: r(110),
        ucs2length: r(230),
        varOccurences: function varOccurences(e, t) {
            t += "[^0-9]";
            var r = e.match(new RegExp(t,"g"));
            return r ? r.length : 0
        },
        varReplace: function varReplace(e, t, r) {
            return t += "([^0-9])",
            r = r.replace(/\$/g, "$$$$"),
            e.replace(new RegExp(t,"g"), r + "$1")
        },
        cleanUpCode: function cleanUpCode(e) {
            return e.replace(a, "").replace(s, "").replace(l, "if (!($1))")
        },
        finalCleanUpCode: function finalCleanUpCode(e, t) {
            var r = e.match(c);
            return r && 2 == r.length && (e = t ? e.replace(d, "").replace(g, f) : e.replace(u, "").replace(p, h)),
            (r = e.match(m)) && 3 === r.length ? e.replace(y, "") : e
        },
        schemaHasRules: function schemaHasRules(e, t) {
            if ("boolean" == typeof e)
                return !e;
            for (var r in e)
                if (t[r])
                    return !0
        },
        schemaHasRulesExcept: function schemaHasRulesExcept(e, t, r) {
            if ("boolean" == typeof e)
                return !e && "not" != r;
            for (var n in e)
                if (n != r && t[n])
                    return !0
        },
        schemaUnknownRules: function schemaUnknownRules(e, t) {
            if ("boolean" != typeof e)
                for (var r in e)
                    if (!t[r])
                        return r
        },
        toQuotedString,
        getPathExpr: function getPathExpr(e, t, r, n) {
            return joinPaths(e, r ? "'/' + " + t + (n ? "" : ".replace(/~/g, '~0').replace(/\\//g, '~1')") : n ? "'[' + " + t + " + ']'" : "'[\\'' + " + t + " + '\\']'")
        },
        getPath: function getPath(e, t, r) {
            return joinPaths(e, toQuotedString(r ? "/" + escapeJsonPointer(t) : getProperty(t)))
        },
        getData: function getData(e, t, r) {
            var n, i, o, a;
            if ("" === e)
                return "rootData";
            if ("/" == e[0]) {
                if (!_.test(e))
                    throw new Error("Invalid JSON-pointer: " + e);
                i = e,
                o = "rootData"
            } else {
                if (!(a = e.match(v)))
                    throw new Error("Invalid JSON-pointer: " + e);
                if (n = +a[1],
                "#" == (i = a[2])) {
                    if (n >= t)
                        throw new Error("Cannot access property/index " + n + " levels up, current level is " + t);
                    return r[t - n]
                }
                if (n > t)
                    throw new Error("Cannot access data " + n + " levels up, current level is " + t);
                if (o = "data" + (t - n || ""),
                !i)
                    return o
            }
            for (var s = o, l = i.split("/"), c = 0; c < l.length; c++) {
                var u = l[c];
                u && (s += " && " + (o += getProperty(unescapeJsonPointer(u))))
            }
            return s
        },
        unescapeFragment: function unescapeFragment(e) {
            return unescapeJsonPointer(decodeURIComponent(e))
        },
        unescapeJsonPointer,
        escapeFragment: function escapeFragment(e) {
            return encodeURIComponent(escapeJsonPointer(e))
        },
        escapeJsonPointer
    };
    var n = toHash(["string", "number", "integer", "boolean", "null"]);
    function toHash(e) {
        for (var t = {}, r = 0; r < e.length; r++)
            t[e[r]] = !0;
        return t
    }
    var i = /^[a-z$_][a-z$_0-9]*$/i
      , o = /'|\\/g;
    function getProperty(e) {
        return "number" == typeof e ? "[" + e + "]" : i.test(e) ? "." + e : "['" + escapeQuotes(e) + "']"
    }
    function escapeQuotes(e) {
        return e.replace(o, "\\$&").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\f/g, "\\f").replace(/\t/g, "\\t")
    }
    var a = /else\s*{\s*}/g
      , s = /if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g
      , l = /if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g
      , c = /[^v.]errors/g
      , u = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g
      , d = /var errors = 0;|var vErrors = null;/g
      , p = "return errors === 0;"
      , h = "validate.errors = null; return true;"
      , g = /if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/
      , f = "return data;"
      , m = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g
      , y = /if \(rootData === undefined\) rootData = data;/;
    function toQuotedString(e) {
        return "'" + escapeQuotes(e) + "'"
    }
    var _ = /^\/(?:[^~]|~0|~1)*$/
      , v = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
    function joinPaths(e, t) {
        return '""' == e ? t : (e + " + " + t).replace(/' \+ '/g, "")
    }
    function escapeJsonPointer(e) {
        return e.replace(/~/g, "~0").replace(/\//g, "~1")
    }
    function unescapeJsonPointer(e) {
        return e.replace(/~1/g, "/").replace(/~0/g, "~")
    }
}
, function(e, t) {
    (t = e.exports = function trim(e) {
        return e.replace(/^\s*|\s*$/g, "")
    }
    ).left = function(e) {
        return e.replace(/^\s*/, "")
    }
    ,
    t.right = function(e) {
        return e.replace(/\s*$/, "")
    }
}
, function(e, t) {
    e.exports = function(e) {
        if (null == e)
            throw TypeError("Can't call method on " + e);
        return e
    }
}
, function(e, t) {
    e.exports = {}
}
, function(e, t, r) {
    var n = r(39)
      , i = r(47)
      , o = r(45)
      , a = r(87)
      , s = r(120)
      , l = r(81)
      , c = l.get
      , u = l.enforce
      , d = String(String).split("String");
    (e.exports = function(e, t, r, s) {
        var l = !!s && !!s.unsafe
          , c = !!s && !!s.enumerable
          , p = !!s && !!s.noTargetGet;
        "function" == typeof r && ("string" != typeof t || o(r, "name") || i(r, "name", t),
        u(r).source = d.join("string" == typeof t ? t : "")),
        e !== n ? (l ? !p && e[t] && (c = !0) : delete e[t],
        c ? e[t] = r : i(e, t, r)) : c ? e[t] = r : a(t, r)
    }
    )(Function.prototype, "toString", (function toString() {
        return "function" == typeof this && c(this).source || s(this)
    }
    ))
}
, function(e, t, r) {
    var n = r(71);
    e.exports = function(e) {
        return Object(n(e))
    }
}
, function(e, t, r) {
    var n = r(55)
      , i = r(164);
    e.exports = Object.setPrototypeOf || ("__proto__"in {} ? function() {
        var e, t = !1, r = {};
        try {
            (e = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set).call(r, []),
            t = r instanceof Array
        } catch (o) {}
        return function setPrototypeOf(r, o) {
            return n(r),
            i(o),
            t ? e.call(r, o) : r.__proto__ = o,
            r
        }
    }() : void 0)
}
, function(e, t, r) {
    function makeNewRng(e) {
        var t = 1
          , r = function Mash() {
            var e = 4022871197;
            return function(t) {
                t = t.toString();
                for (var r = 0; r < t.length; r++) {
                    var n = .02519603282416938 * (e += t.charCodeAt(r));
                    n -= e = n >>> 0,
                    e = (n *= e) >>> 0,
                    e += 4294967296 * (n -= e)
                }
                return 2.3283064365386963e-10 * (e >>> 0)
            }
        }()
          , n = r(" ")
          , i = r(" ")
          , o = r(" ");
        (n -= r(e)) < 0 && (n += 1),
        (i -= r(e)) < 0 && (i += 1),
        (o -= r(e)) < 0 && (o += 1),
        r = null;
        var a = function() {
            var e = 2091639 * n + 2.3283064365386963e-10 * t;
            return n = i,
            i = o,
            o = e - (t = 0 | e)
        };
        return a.exportState = function() {
            return [n, i, o, t]
        }
        ,
        a.importState = function(e) {
            n = +e[0] || 0,
            i = +e[1] || 0,
            o = +e[2] || 0,
            t = +e[3] || 0
        }
        ,
        a
    }
    function _RandomNumberGenerato(e) {
        this.internalRng = makeNewRng(e || Math.random())
    }
    function _reseed(e) {
        this.internalRng = makeNewRng(e || Math.random())
    }
    function _next() {
        return this.internalRng()
    }
    function _choice(e) {
        return e[this.nextIntRange(0, e.length)]
    }
    function _nextIntRange(e, t) {
        return Math.floor(this.next() * (t - e) + e)
    }
    function _nextRange(e, t) {
        return this.next() * (t - e) + e
    }
    function _setSeed(e) {
        this.internalRng = makeNewRng(e)
    }
    r.d(t, "a", (function() {
        return n
    }
    ));
    var n = function() {
        var e = _RandomNumberGenerato.prototype;
        return e.reseed = _reseed,
        e.next = _next,
        e.choice = _choice,
        e.nextIntRange = _nextIntRange,
        e.nextRange = _nextRange,
        e.setSeed = _setSeed,
        _RandomNumberGenerato
    }()
}
, function(e, t, r) {
    function _getId() {
        return "Display"
    }
    r.r(t),
    r.d(t, "DisplayComponent", (function() {
        return n
    }
    ));
    var n = function(e) {
        function DisplayComponent() {
            return e.apply(this, arguments) || this
        }
        return function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(DisplayComponent, e),
        DisplayComponent.getId = _getId,
        DisplayComponent
    }(r(18).a)
}
, function(e, t, r) {
    var n = r(113)
      , i = r(71);
    e.exports = function(e) {
        return n(i(e))
    }
}
, function(e, t) {
    var r = {}.toString;
    e.exports = function(e) {
        return r.call(e).slice(8, -1)
    }
}
, function(e, t) {
    e.exports = function(e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}
, function(e, t, r) {
    var n, i, o, a = r(156), s = r(39), l = r(51), c = r(47), u = r(45), d = r(95), p = r(92), h = s.WeakMap;
    if (a) {
        var g = new h
          , f = g.get
          , m = g.has
          , y = g.set;
        n = function(e, t) {
            return y.call(g, e, t),
            t
        }
        ,
        i = function(e) {
            return f.call(g, e) || {}
        }
        ,
        o = function(e) {
            return m.call(g, e)
        }
    } else {
        var _ = d("state");
        p[_] = !0,
        n = function(e, t) {
            return c(e, _, t),
            t
        }
        ,
        i = function(e) {
            return u(e, _) ? e[_] : {}
        }
        ,
        o = function(e) {
            return u(e, _)
        }
    }
    e.exports = {
        set: n,
        get: i,
        has: o,
        enforce: function(e) {
            return o(e) ? i(e) : n(e, {})
        },
        getterFor: function(e) {
            return function(t) {
                var r;
                if (!l(t) || (r = i(t)).type !== e)
                    throw TypeError("Incompatible receiver, " + e + " required");
                return r
            }
        }
    }
}
, function(e, t, r) {
    var n = r(45)
      , i = r(74)
      , o = r(95)
      , a = r(163)
      , s = o("IE_PROTO")
      , l = Object.prototype;
    e.exports = a ? Object.getPrototypeOf : function(e) {
        return e = i(e),
        n(e, s) ? e[s] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? l : null
    }
}
, function(e, t, r) {
    (function(t) {
        const r = "object" == typeof t && t.env && t.env.NODE_DEBUG && /\bsemver\b/i.test(t.env.NODE_DEBUG) ? (...e) => console.error("SEMVER", ...e) : () => {}
        ;
        e.exports = r
    }
    ).call(this, r(200))
}
, function(e, t) {
    e.exports = function clipboardCopy(e) {
        if (navigator.clipboard)
            return navigator.clipboard.writeText(e).catch((function(e) {
                throw void 0 !== e ? e : new DOMException("The request is not allowed","NotAllowedError")
            }
            ));
        var t = document.createElement("span");
        t.textContent = e,
        t.style.whiteSpace = "pre",
        document.body.appendChild(t);
        var r = window.getSelection()
          , n = window.document.createRange();
        r.removeAllRanges(),
        n.selectNode(t),
        r.addRange(n);
        var i = !1;
        try {
            i = window.document.execCommand("copy")
        } catch (o) {
            console.log("error", o)
        }
        return r.removeAllRanges(),
        window.document.body.removeChild(t),
        i ? Promise.resolve() : Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))
    }
}
, function(e, t) {
    var r;
    r = function() {
        return this
    }();
    try {
        r = r || new Function("return this")()
    } catch (n) {
        "object" == typeof window && (r = window)
    }
    e.exports = r
}
, function(e, t) {
    e.exports = !1
}
, function(e, t, r) {
    var n = r(39)
      , i = r(47);
    e.exports = function(e, t) {
        try {
            i(n, e, t)
        } catch (r) {
            n[e] = t
        }
        return t
    }
}
, function(e, t, r) {
    var n = r(51);
    e.exports = function(e, t) {
        if (!n(e))
            return e;
        var r, i;
        if (t && "function" == typeof (r = e.toString) && !n(i = r.call(e)))
            return i;
        if ("function" == typeof (r = e.valueOf) && !n(i = r.call(e)))
            return i;
        if (!t && "function" == typeof (r = e.toString) && !n(i = r.call(e)))
            return i;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(e, t) {
    var r = 0
      , n = Math.random();
    e.exports = function(e) {
        return "Symbol(" + String(void 0 === e ? "" : e) + ")_" + (++r + n).toString(36)
    }
}
, function(e, t, r) {
    var n, i = r(55), o = r(151), a = r(93), s = r(92), l = r(154), c = r(117), u = r(95)("IE_PROTO"), d = function() {}, p = function(e) {
        return "<script>" + e + "<\/script>"
    }, h = function() {
        try {
            n = document.domain && new ActiveXObject("htmlfile")
        } catch (i) {}
        var e, t;
        h = n ? function(e) {
            e.write(p("")),
            e.close();
            var t = e.parentWindow.Object;
            return e = null,
            t
        }(n) : ((t = c("iframe")).style.display = "none",
        l.appendChild(t),
        t.src = String("javascript:"),
        (e = t.contentWindow.document).open(),
        e.write(p("document.F=Object")),
        e.close(),
        e.F);
        for (var r = a.length; r--; )
            delete h.prototype[a[r]];
        return h()
    };
    s[u] = !0,
    e.exports = Object.create || function create(e, t) {
        var r;
        return null !== e ? (d.prototype = i(e),
        r = new d,
        d.prototype = null,
        r[u] = e) : r = h(),
        void 0 === t ? r : o(r, t)
    }
}
, function(e, t, r) {
    var n = r(59)
      , i = Math.max
      , o = Math.min;
    e.exports = function(e, t) {
        var r = n(e);
        return r < 0 ? i(r + t, 0) : o(r, t)
    }
}
, function(e, t) {
    e.exports = {}
}
, function(e, t) {
    e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]
}
, function(e, t, r) {
    var n = r(155)
      , i = r(39)
      , o = function(e) {
        return "function" == typeof e ? e : void 0
    };
    e.exports = function(e, t) {
        return arguments.length < 2 ? o(n[e]) || o(i[e]) : n[e] && n[e][t] || i[e] && i[e][t]
    }
}
, function(e, t, r) {
    var n = r(114)
      , i = r(89)
      , o = n("keys");
    e.exports = function(e) {
        return o[e] || (o[e] = i(e))
    }
}
, function(e, t, r) {
    var n = r(49)
      , i = r(158)
      , o = r(80)
      , a = r(78)
      , s = r(88)
      , l = r(45)
      , c = r(116)
      , u = Object.getOwnPropertyDescriptor;
    t.f = n ? u : function getOwnPropertyDescriptor(e, t) {
        if (e = a(e),
        t = s(t, !0),
        c)
            try {
                return u(e, t)
            } catch (r) {}
        if (l(e, t))
            return o(!i.f.call(e, t), e[t])
    }
}
, function(e, t, r) {
    var n = r(119)
      , i = r(93).concat("length", "prototype");
    t.f = Object.getOwnPropertyNames || function getOwnPropertyNames(e) {
        return n(e, i)
    }
}
, function(e, t, r) {
    var n = r(50).f
      , i = r(45)
      , o = r(40)("toStringTag");
    e.exports = function(e, t, r) {
        e && !i(e = r ? e : e.prototype, o) && n(e, o, {
            configurable: !0,
            value: t
        })
    }
}
, function(e, t, r) {
    var n, i, o = r(169), a = r(170), s = RegExp.prototype.exec, l = String.prototype.replace, c = s, u = (n = /a/,
    i = /b*/g,
    s.call(n, "a"),
    s.call(i, "a"),
    0 !== n.lastIndex || 0 !== i.lastIndex), d = a.UNSUPPORTED_Y || a.BROKEN_CARET, p = void 0 !== /()??/.exec("")[1];
    (u || p || d) && (c = function exec(e) {
        var t, r, n, i, a = this, c = d && a.sticky, h = o.call(a), g = a.source, f = 0, m = e;
        return c && (-1 === (h = h.replace("y", "")).indexOf("g") && (h += "g"),
        m = String(e).slice(a.lastIndex),
        a.lastIndex > 0 && (!a.multiline || a.multiline && "\n" !== e[a.lastIndex - 1]) && (g = "(?: " + g + ")",
        m = " " + m,
        f++),
        r = new RegExp("^(?:" + g + ")",h)),
        p && (r = new RegExp("^" + g + "$(?!\\s)",h)),
        u && (t = a.lastIndex),
        n = s.call(c ? r : a, m),
        c ? n ? (n.input = n.input.slice(f),
        n[0] = n[0].slice(f),
        n.index = a.lastIndex,
        a.lastIndex += n[0].length) : a.lastIndex = 0 : u && n && (a.lastIndex = a.global ? n.index + n[0].length : t),
        p && n && n.length > 1 && l.call(n[0], r, (function() {
            for (i = 1; i < arguments.length - 2; i++)
                void 0 === arguments[i] && (n[i] = void 0)
        }
        )),
        n
    }
    ),
    e.exports = c
}
, function(e, t, r) {
    var n, i = r(124), o = r(49), a = r(39), s = r(51), l = r(45), c = r(101), u = r(47), d = r(73), p = r(50).f, h = r(82), g = r(75), f = r(40), m = r(89), y = a.Int8Array, _ = y && y.prototype, v = a.Uint8ClampedArray, b = v && v.prototype, w = y && h(y), S = _ && h(_), C = Object.prototype, A = C.isPrototypeOf, k = f("toStringTag"), E = m("TYPED_ARRAY_TAG"), I = i && !!g && "Opera" !== c(a.opera), B = !1, x = {
        Int8Array: 1,
        Uint8Array: 1,
        Uint8ClampedArray: 1,
        Int16Array: 2,
        Uint16Array: 2,
        Int32Array: 4,
        Uint32Array: 4,
        Float32Array: 4,
        Float64Array: 8
    }, P = function(e) {
        return s(e) && l(x, c(e))
    };
    for (n in x)
        a[n] || (I = !1);
    if ((!I || "function" != typeof w || w === Function.prototype) && (w = function TypedArray() {
        throw TypeError("Incorrect invocation")
    }
    ,
    I))
        for (n in x)
            a[n] && g(a[n], w);
    if ((!I || !S || S === C) && (S = w.prototype,
    I))
        for (n in x)
            a[n] && g(a[n].prototype, S);
    if (I && h(b) !== S && g(b, S),
    o && !l(S, k))
        for (n in B = !0,
        p(S, k, {
            get: function() {
                return s(this) ? this[E] : void 0
            }
        }),
        x)
            a[n] && u(a[n], E, n);
    e.exports = {
        NATIVE_ARRAY_BUFFER_VIEWS: I,
        TYPED_ARRAY_TAG: B && E,
        aTypedArray: function(e) {
            if (P(e))
                return e;
            throw TypeError("Target is not a typed array")
        },
        aTypedArrayConstructor: function(e) {
            if (g) {
                if (A.call(w, e))
                    return e
            } else
                for (var t in x)
                    if (l(x, n)) {
                        var r = a[t];
                        if (r && (e === r || A.call(r, e)))
                            return e
                    }
            throw TypeError("Target is not a typed array constructor")
        },
        exportTypedArrayMethod: function(e, t, r) {
            if (o) {
                if (r)
                    for (var n in x) {
                        var i = a[n];
                        i && l(i.prototype, e) && delete i.prototype[e]
                    }
                S[e] && !r || d(S, e, r ? t : I && _[e] || t)
            }
        },
        exportTypedArrayStaticMethod: function(e, t, r) {
            var n, i;
            if (o) {
                if (g) {
                    if (r)
                        for (n in x)
                            (i = a[n]) && l(i, e) && delete i[e];
                    if (w[e] && !r)
                        return;
                    try {
                        return d(w, e, r ? t : I && y[e] || t)
                    } catch (s) {}
                }
                for (n in x)
                    !(i = a[n]) || i[e] && !r || d(i, e, t)
            }
        },
        isView: function isView(e) {
            var t = c(e);
            return "DataView" === t || l(x, t)
        },
        isTypedArray: P,
        TypedArray: w,
        TypedArrayPrototype: S
    }
}
, function(e, t, r) {
    var n = r(184)
      , i = r(79)
      , o = r(40)("toStringTag")
      , a = "Arguments" == i(function() {
        return arguments
    }());
    e.exports = n ? i : function(e) {
        var t, r, n;
        return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (r = function(e, t) {
            try {
                return e[t]
            } catch (r) {}
        }(t = Object(e), o)) ? r : a ? i(t) : "Object" == (n = i(t)) && "function" == typeof t.callee ? "Arguments" : n
    }
}
, function(e, t, r) {
    class Range {
        constructor(e, t) {
            if (t = i(t),
            e instanceof Range)
                return e.loose === !!t.loose && e.includePrerelease === !!t.includePrerelease ? e : new Range(e.raw,t);
            if (e instanceof o)
                return this.raw = e.value,
                this.set = [[e]],
                this.format(),
                this;
            if (this.options = t,
            this.loose = !!t.loose,
            this.includePrerelease = !!t.includePrerelease,
            this.raw = e,
            this.set = e.split(/\s*\|\|\s*/).map(e => this.parseRange(e.trim())).filter(e => e.length),
            !this.set.length)
                throw new TypeError(`Invalid SemVer Range: ${e}`);
            if (this.set.length > 1) {
                const e = this.set[0];
                if (this.set = this.set.filter(e => !h(e[0])),
                0 === this.set.length)
                    this.set = [e];
                else if (this.set.length > 1)
                    for (const t of this.set)
                        if (1 === t.length && g(t[0])) {
                            this.set = [t];
                            break
                        }
            }
            this.format()
        }
        format() {
            return this.range = this.set.map(e => e.join(" ").trim()).join("||").trim(),
            this.range
        }
        toString() {
            return this.range
        }
        parseRange(e) {
            e = e.trim();
            const t = `parseRange:${Object.keys(this.options).join(",")}:${e}`
              , r = n.get(t);
            if (r)
                return r;
            const i = this.options.loose
              , s = i ? l[c.HYPHENRANGELOOSE] : l[c.HYPHENRANGE];
            e = e.replace(s, E(this.options.includePrerelease)),
            a("hyphen replace", e),
            e = e.replace(l[c.COMPARATORTRIM], u),
            a("comparator trim", e, l[c.COMPARATORTRIM]),
            e = (e = (e = e.replace(l[c.TILDETRIM], d)).replace(l[c.CARETTRIM], p)).split(/\s+/).join(" ");
            const g = i ? l[c.COMPARATORLOOSE] : l[c.COMPARATOR]
              , f = e.split(" ").map(e => m(e, this.options)).join(" ").split(/\s+/).map(e => k(e, this.options)).filter(this.options.loose ? e => !!e.match(g) : () => !0).map(e => new o(e,this.options))
              , y = (f.length,
            new Map);
            for (const n of f) {
                if (h(n))
                    return [n];
                y.set(n.value, n)
            }
            y.size > 1 && y.has("") && y.delete("");
            const _ = [...y.values()];
            return n.set(t, _),
            _
        }
        intersects(e, t) {
            if (!(e instanceof Range))
                throw new TypeError("a Range is required");
            return this.set.some(r => f(r, t) && e.set.some(e => f(e, t) && r.every(r => e.every(e => r.intersects(e, t)))))
        }
        test(e) {
            if (!e)
                return !1;
            if ("string" == typeof e)
                try {
                    e = new s(e,this.options)
                } catch (t) {
                    return !1
                }
            for (let r = 0; r < this.set.length; r++)
                if (I(this.set[r], e, this.options))
                    return !0;
            return !1
        }
    }
    e.exports = Range;
    const n = new (r(196))({
        max: 1e3
    })
      , i = r(103)
      , o = r(199)
      , a = r(83)
      , s = r(105)
      , {re: l, t: c, comparatorTrimReplace: u, tildeTrimReplace: d, caretTrimReplace: p} = r(104)
      , h = e => "<0.0.0-0" === e.value
      , g = e => "" === e.value
      , f = (e, t) => {
        let r = !0;
        const n = e.slice();
        let i = n.pop();
        for (; r && n.length; )
            r = n.every(e => i.intersects(e, t)),
            i = n.pop();
        return r
    }
      , m = (e, t) => (a("comp", e, t),
    e = b(e, t),
    a("caret", e),
    e = _(e, t),
    a("tildes", e),
    e = S(e, t),
    a("xrange", e),
    e = A(e, t),
    a("stars", e),
    e)
      , y = e => !e || "x" === e.toLowerCase() || "*" === e
      , _ = (e, t) => e.trim().split(/\s+/).map(e => v(e, t)).join(" ")
      , v = (e, t) => {
        const r = t.loose ? l[c.TILDELOOSE] : l[c.TILDE];
        return e.replace(r, (t, r, n, i, o) => {
            let s;
            return a("tilde", e, t, r, n, i, o),
            y(r) ? s = "" : y(n) ? s = `>=${r}.0.0<${+r + 1}.0.0-0` : y(i) ? s = `>=${r}.${n}.0<${r}.${+n + 1}.0-0` : o ? (a("replaceTilde pr", o),
            s = `>=${r}.${n}.${i}-${o}<${r}.${+n + 1}.0-0`) : s = `>=${r}.${n}.${i}<${r}.${+n + 1}.0-0`,
            a("tilde return", s),
            s
        }
        )
    }
      , b = (e, t) => e.trim().split(/\s+/).map(e => w(e, t)).join(" ")
      , w = (e, t) => {
        a("caret", e, t);
        const r = t.loose ? l[c.CARETLOOSE] : l[c.CARET]
          , n = t.includePrerelease ? "-0" : "";
        return e.replace(r, (t, r, i, o, s) => {
            let l;
            return a("caret", e, t, r, i, o, s),
            y(r) ? l = "" : y(i) ? l = `>=${r}.0.0${n}<${+r + 1}.0.0-0` : y(o) ? l = "0" === r ? `>=${r}.${i}.0${n}<${r}.${+i + 1}.0-0` : `>=${r}.${i}.0${n}<${+r + 1}.0.0-0` : s ? (a("replaceCaret pr", s),
            l = "0" === r ? "0" === i ? `>=${r}.${i}.${o}-${s}<${r}.${i}.${+o + 1}-0` : `>=${r}.${i}.${o}-${s}<${r}.${+i + 1}.0-0` : `>=${r}.${i}.${o}-${s}<${+r + 1}.0.0-0`) : (a("no pr"),
            l = "0" === r ? "0" === i ? `>=${r}.${i}.${o}${n}<${r}.${i}.${+o + 1}-0` : `>=${r}.${i}.${o}${n}<${r}.${+i + 1}.0-0` : `>=${r}.${i}.${o}<${+r + 1}.0.0-0`),
            a("caret return", l),
            l
        }
        )
    }
      , S = (e, t) => (a("replaceXRanges", e, t),
    e.split(/\s+/).map(e => C(e, t)).join(" "))
      , C = (e, t) => {
        e = e.trim();
        const r = t.loose ? l[c.XRANGELOOSE] : l[c.XRANGE];
        return e.replace(r, (r, n, i, o, s, l) => {
            a("xRange", e, r, n, i, o, s, l);
            const c = y(i)
              , u = c || y(o)
              , d = u || y(s)
              , p = d;
            return "=" === n && p && (n = ""),
            l = t.includePrerelease ? "-0" : "",
            c ? r = ">" === n || "<" === n ? "<0.0.0-0" : "*" : n && p ? (u && (o = 0),
            s = 0,
            ">" === n ? (n = ">=",
            u ? (i = +i + 1,
            o = 0,
            s = 0) : (o = +o + 1,
            s = 0)) : "<=" === n && (n = "<",
            u ? i = +i + 1 : o = +o + 1),
            "<" === n && (l = "-0"),
            r = `${n + i}.${o}.${s}${l}`) : u ? r = `>=${i}.0.0${l}<${+i + 1}.0.0-0` : d && (r = `>=${i}.${o}.0${l}<${i}.${+o + 1}.0-0`),
            a("xRange return", r),
            r
        }
        )
    }
      , A = (e, t) => (a("replaceStars", e, t),
    e.trim().replace(l[c.STAR], ""))
      , k = (e, t) => (a("replaceGTE0", e, t),
    e.trim().replace(l[t.includePrerelease ? c.GTE0PRE : c.GTE0], ""))
      , E = e => (t, r, n, i, o, a, s, l, c, u, d, p, h) => `${r = y(n) ? "" : y(i) ? `>=${n}.0.0${e ? "-0" : ""}` : y(o) ? `>=${n}.${i}.0${e ? "-0" : ""}` : a ? `>=${r}` : `>=${r}${e ? "-0" : ""}`} ${l = y(c) ? "" : y(u) ? `<${+c + 1}.0.0-0` : y(d) ? `<${c}.${+u + 1}.0-0` : p ? `<=${c}.${u}.${d}-${p}` : e ? `<${c}.${u}.${+d + 1}-0` : `<=${l}`}`.trim()
      , I = (e, t, r) => {
        for (let n = 0; n < e.length; n++)
            if (!e[n].test(t))
                return !1;
        if (t.prerelease.length && !r.includePrerelease) {
            for (let r = 0; r < e.length; r++)
                if (a(e[r].semver),
                e[r].semver !== o.ANY && e[r].semver.prerelease.length > 0) {
                    const n = e[r].semver;
                    if (n.major === t.major && n.minor === t.minor && n.patch === t.patch)
                        return !0
                }
            return !1
        }
        return !0
    }
}
, function(e, t) {
    const r = ["includePrerelease", "loose", "rtl"];
    e.exports = e => e ? "object" != typeof e ? {
        loose: !0
    } : r.filter(t => e[t]).reduce( (e, t) => (e[t] = !0,
    e), {}) : {}
}
, function(e, t, r) {
    const {MAX_SAFE_COMPONENT_LENGTH: n} = r(130)
      , i = r(83)
      , o = (t = e.exports = {}).re = []
      , a = t.src = []
      , s = t.t = {};
    let l = 0;
    const c = (e, t, r) => {
        const n = l++;
        i(n, t),
        s[e] = n,
        a[n] = t,
        o[n] = new RegExp(t,r ? "g" : void 0)
    }
    ;
    c("NUMERICIDENTIFIER", "0|[1-9]\\d*"),
    c("NUMERICIDENTIFIERLOOSE", "[0-9]+"),
    c("NONNUMERICIDENTIFIER", "\\d*[a-zA-Z-][a-zA-Z0-9-]*"),
    c("MAINVERSION", `(${a[s.NUMERICIDENTIFIER]})\\.` + `(${a[s.NUMERICIDENTIFIER]})\\.` + `(${a[s.NUMERICIDENTIFIER]})`),
    c("MAINVERSIONLOOSE", `(${a[s.NUMERICIDENTIFIERLOOSE]})\\.` + `(${a[s.NUMERICIDENTIFIERLOOSE]})\\.` + `(${a[s.NUMERICIDENTIFIERLOOSE]})`),
    c("PRERELEASEIDENTIFIER", `(?:${a[s.NUMERICIDENTIFIER]}|${a[s.NONNUMERICIDENTIFIER]})`),
    c("PRERELEASEIDENTIFIERLOOSE", `(?:${a[s.NUMERICIDENTIFIERLOOSE]}|${a[s.NONNUMERICIDENTIFIER]})`),
    c("PRERELEASE", `(?:-(${a[s.PRERELEASEIDENTIFIER]}(?:\\.${a[s.PRERELEASEIDENTIFIER]})*))`),
    c("PRERELEASELOOSE", `(?:-?(${a[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[s.PRERELEASEIDENTIFIERLOOSE]})*))`),
    c("BUILDIDENTIFIER", "[0-9A-Za-z-]+"),
    c("BUILD", `(?:\\+(${a[s.BUILDIDENTIFIER]}(?:\\.${a[s.BUILDIDENTIFIER]})*))`),
    c("FULLPLAIN", `v?${a[s.MAINVERSION]}${a[s.PRERELEASE]}?${a[s.BUILD]}?`),
    c("FULL", `^${a[s.FULLPLAIN]}$`),
    c("LOOSEPLAIN", `[v=\\s]*${a[s.MAINVERSIONLOOSE]}${a[s.PRERELEASELOOSE]}?${a[s.BUILD]}?`),
    c("LOOSE", `^${a[s.LOOSEPLAIN]}$`),
    c("GTLT", "((?:<|>)?=?)"),
    c("XRANGEIDENTIFIERLOOSE", `${a[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),
    c("XRANGEIDENTIFIER", `${a[s.NUMERICIDENTIFIER]}|x|X|\\*`),
    c("XRANGEPLAIN", `[v=\\s]*(${a[s.XRANGEIDENTIFIER]})` + `(?:\\.(${a[s.XRANGEIDENTIFIER]})` + `(?:\\.(${a[s.XRANGEIDENTIFIER]})` + `(?:${a[s.PRERELEASE]})?${a[s.BUILD]}?` + ")?)?"),
    c("XRANGEPLAINLOOSE", `[v=\\s]*(${a[s.XRANGEIDENTIFIERLOOSE]})` + `(?:\\.(${a[s.XRANGEIDENTIFIERLOOSE]})` + `(?:\\.(${a[s.XRANGEIDENTIFIERLOOSE]})` + `(?:${a[s.PRERELEASELOOSE]})?${a[s.BUILD]}?` + ")?)?"),
    c("XRANGE", `^${a[s.GTLT]}\\s*${a[s.XRANGEPLAIN]}$`),
    c("XRANGELOOSE", `^${a[s.GTLT]}\\s*${a[s.XRANGEPLAINLOOSE]}$`),
    c("COERCE", `(^|[^\\d])(\\d{1,${n}})` + `(?:\\.(\\d{1,${n}}))?` + `(?:\\.(\\d{1,${n}}))?` + "(?:$|[^\\d])"),
    c("COERCERTL", a[s.COERCE], !0),
    c("LONETILDE", "(?:~>?)"),
    c("TILDETRIM", `(\\s*)${a[s.LONETILDE]}\\s+`, !0),
    t.tildeTrimReplace = "$1~",
    c("TILDE", `^${a[s.LONETILDE]}${a[s.XRANGEPLAIN]}$`),
    c("TILDELOOSE", `^${a[s.LONETILDE]}${a[s.XRANGEPLAINLOOSE]}$`),
    c("LONECARET", "(?:\\^)"),
    c("CARETTRIM", `(\\s*)${a[s.LONECARET]}\\s+`, !0),
    t.caretTrimReplace = "$1^",
    c("CARET", `^${a[s.LONECARET]}${a[s.XRANGEPLAIN]}$`),
    c("CARETLOOSE", `^${a[s.LONECARET]}${a[s.XRANGEPLAINLOOSE]}$`),
    c("COMPARATORLOOSE", `^${a[s.GTLT]}\\s*(${a[s.LOOSEPLAIN]})$|^$`),
    c("COMPARATOR", `^${a[s.GTLT]}\\s*(${a[s.FULLPLAIN]})$|^$`),
    c("COMPARATORTRIM", `(\\s*)${a[s.GTLT]}\\s*(${a[s.LOOSEPLAIN]}|${a[s.XRANGEPLAIN]})`, !0),
    t.comparatorTrimReplace = "$1$2$3",
    c("HYPHENRANGE", `^\\s*(${a[s.XRANGEPLAIN]})` + "\\s+-\\s+" + `(${a[s.XRANGEPLAIN]})` + "\\s*$"),
    c("HYPHENRANGELOOSE", `^\\s*(${a[s.XRANGEPLAINLOOSE]})` + "\\s+-\\s+" + `(${a[s.XRANGEPLAINLOOSE]})` + "\\s*$"),
    c("STAR", "(<|>)?=?\\s*\\*"),
    c("GTE0", "^\\s*>=\\s*0.0.0\\s*$"),
    c("GTE0PRE", "^\\s*>=\\s*0.0.0-0\\s*$")
}
, function(e, t, r) {
    const n = r(83)
      , {MAX_LENGTH: i, MAX_SAFE_INTEGER: o} = r(130)
      , {re: a, t: s} = r(104)
      , l = r(103)
      , {compareIdentifiers: c} = r(203);
    class SemVer {
        constructor(e, t) {
            if (t = l(t),
            e instanceof SemVer) {
                if (e.loose === !!t.loose && e.includePrerelease === !!t.includePrerelease)
                    return e;
                e = e.version
            } else if ("string" != typeof e)
                throw new TypeError(`Invalid Version: ${e}`);
            if (e.length > i)
                throw new TypeError(`version is longer than ${i} characters`);
            n("SemVer", e, t),
            this.options = t,
            this.loose = !!t.loose,
            this.includePrerelease = !!t.includePrerelease;
            const r = e.trim().match(t.loose ? a[s.LOOSE] : a[s.FULL]);
            if (!r)
                throw new TypeError(`Invalid Version: ${e}`);
            if (this.raw = e,
            this.major = +r[1],
            this.minor = +r[2],
            this.patch = +r[3],
            this.major > o || this.major < 0)
                throw new TypeError("Invalid major version");
            if (this.minor > o || this.minor < 0)
                throw new TypeError("Invalid minor version");
            if (this.patch > o || this.patch < 0)
                throw new TypeError("Invalid patch version");
            r[4] ? this.prerelease = r[4].split(".").map(e => {
                if (/^[0-9]+$/.test(e)) {
                    const t = +e;
                    if (t >= 0 && t < o)
                        return t
                }
                return e
            }
            ) : this.prerelease = [],
            this.build = r[5] ? r[5].split(".") : [],
            this.format()
        }
        format() {
            return this.version = `${this.major}.${this.minor}.${this.patch}`,
            this.prerelease.length && (this.version += `-${this.prerelease.join(".")}`),
            this.version
        }
        toString() {
            return this.version
        }
        compare(e) {
            if (n("SemVer.compare", this.version, this.options, e),
            !(e instanceof SemVer)) {
                if ("string" == typeof e && e === this.version)
                    return 0;
                e = new SemVer(e,this.options)
            }
            return e.version === this.version ? 0 : this.compareMain(e) || this.comparePre(e)
        }
        compareMain(e) {
            return e instanceof SemVer || (e = new SemVer(e,this.options)),
            c(this.major, e.major) || c(this.minor, e.minor) || c(this.patch, e.patch)
        }
        comparePre(e) {
            if (e instanceof SemVer || (e = new SemVer(e,this.options)),
            this.prerelease.length && !e.prerelease.length)
                return -1;
            if (!this.prerelease.length && e.prerelease.length)
                return 1;
            if (!this.prerelease.length && !e.prerelease.length)
                return 0;
            let t = 0;
            do {
                const r = this.prerelease[t]
                  , i = e.prerelease[t];
                if (n("prerelease compare", t, r, i),
                void 0 === r && void 0 === i)
                    return 0;
                if (void 0 === i)
                    return 1;
                if (void 0 === r)
                    return -1;
                if (r !== i)
                    return c(r, i)
            } while (++t)
        }
        compareBuild(e) {
            e instanceof SemVer || (e = new SemVer(e,this.options));
            let t = 0;
            do {
                const r = this.build[t]
                  , i = e.build[t];
                if (n("prerelease compare", t, r, i),
                void 0 === r && void 0 === i)
                    return 0;
                if (void 0 === i)
                    return 1;
                if (void 0 === r)
                    return -1;
                if (r !== i)
                    return c(r, i)
            } while (++t)
        }
        inc(e, t) {
            switch (e) {
            case "premajor":
                this.prerelease.length = 0,
                this.patch = 0,
                this.minor = 0,
                this.major++,
                this.inc("pre", t);
                break;
            case "preminor":
                this.prerelease.length = 0,
                this.patch = 0,
                this.minor++,
                this.inc("pre", t);
                break;
            case "prepatch":
                this.prerelease.length = 0,
                this.inc("patch", t),
                this.inc("pre", t);
                break;
            case "prerelease":
                0 === this.prerelease.length && this.inc("patch", t),
                this.inc("pre", t);
                break;
            case "major":
                0 === this.minor && 0 === this.patch && 0 !== this.prerelease.length || this.major++,
                this.minor = 0,
                this.patch = 0,
                this.prerelease = [];
                break;
            case "minor":
                0 === this.patch && 0 !== this.prerelease.length || this.minor++,
                this.patch = 0,
                this.prerelease = [];
                break;
            case "patch":
                0 === this.prerelease.length && this.patch++,
                this.prerelease = [];
                break;
            case "pre":
                if (0 === this.prerelease.length)
                    this.prerelease = [0];
                else {
                    let e = this.prerelease.length;
                    for (; --e >= 0; )
                        "number" == typeof this.prerelease[e] && (this.prerelease[e]++,
                        e = -2);
                    -1 === e && this.prerelease.push(0)
                }
                t && (this.prerelease[0] === t ? isNaN(this.prerelease[1]) && (this.prerelease = [t, 0]) : this.prerelease = [t, 0]);
                break;
            default:
                throw new Error(`invalid increment argument: ${e}`)
            }
            return this.format(),
            this.raw = this.version,
            this
        }
    }
    e.exports = SemVer
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4IgZgTghgtgpgZxALlAgDhAlgF0QegCM4AbHIgVyzPzAHsIB3KCAEwH0BGAOnQDsA5ilCRYcYSAAeKAKwBmAOwAaEAE8UnBQCYVjDZwBsKgBYaALGYC+KiHRxQ8rFGCgkEcFTmwx4T5F4oPEAxsPABlOgoIAGM4MKwAL3FUKXMVdWQABl19IxBTZE4La2DImLjE5NA9QosTcysSkNwCYhpCKhp6JhYOTkzeQQlReAlpZAAOfvSUAzkZHMLDetqrGzsHOD8XNyCvLB8tlACg5vCy2PiksbS1FGyQGs5l-Iami4rrlKe619XLJqYFoIIikcgdajkbrMNhcHj8IQpEZVVLIBQTHR3ZBmCYPJ4vApFNYgWz2RzOVzuTzeXzHCCBFRnOIfK4o8ZFGZZRbPPKE4qMlmVCQ-MwrIkAxlAvAgtrgzpQhgwvpaQaIkTQUYpcYKACcOs5cjkoseuTF-JJG3JyB2VJA+0OfhOktCzKilyFWtuGTxpr+4oFbs+KJFZsazuBoPa8toit6XDkquGGrZKFxDwynAmE25BLe6zJR2tlL2NMLTuCUtd5VZN1qnJ9S15edKgZr3waoYlFZdMrBlEhMZ6sJVCKTYlrmc4+qxRRknBzTf++c222L1IOtP89NOlYirY9oHZxu9C87AerB5Nq07gJ7kblA+hcYTo6RydrBgmCxnmQMxvxi7+haBarrs64OnSDLdi0e4Xl8h5evcp5+uaCCCvBV5Eje4bSve-ZdLGsJmImb7jp6yCfnkGQ6pmyF8sSpIrhSYF2qWjrbjhVbuhhR71nRzZofuGEhihYbQbhsr4QqQ4cDIJHqmRCEUTq6YoAo2j8UuwFMUWLH2pu5ZMrB3EpnWWINjyZ4tnBwYdqJXZMr2UaPoRHAGPJ4DvuRBg6piGQGFoeQAVZjFWjaJYbmWHHiVxQYTseSGYbmWmCTZwp2fRDmVk5D4ETJ7AKB5yK1ricicv0ChlUlgHmqFhbheBBnRUZ6GmRy5maUBqUmel172beEaSRCeVKuwExFV5Sm4glyC+co1UhZa9VrqxkXsVBLVCW1M0WclXWtb1WH9ZxOVSYOo06hNimori2ZYui84LfZy5hSt+lRRtu4HeR7Unk9mXnj17Z9ZlA0SX2w3kCQcBgDgXBXZqSnPDRnJaFoVVPHIDyEljJR1aBtrvetO4usZcXkapZmY9jGi44D5PVBlbxg60EPRtDsNcAMr4KYjqJFOjnITGYmLU2KdPaa9elsZBJMwd9SmU+1Yt+hL3UM5hvygydeGQ-gHNw88CPbVo80ZAo0yYVj4uZHjS0ExFEFbp9pMK6iSv-rTNOFGrbsidrMWnXrBtcCOQykXzR6m5yMjoty1uq7bL3LdLa2y5xZNtor5Wez73ucL7W2HVrzM60N7Mw4bL7h7zJtmygFhBV7Nt2yBzGEzLzty+cRcUzn8f54XaXA0dAeObrFec2Haqedd7JaL+nIo1bg9J5LKcd2nXcZ274wewPLf01nmvGmP2UTwOIfVzPxU-XIgtYmjGPN4nrc6Q1q1O4ZX299nM65wXVe7xf4n2woHC+NAQ7ER5rPSOtM5B3Woo9FWOM1743bo7JqLt5YgL3v3Feh9rJA0ZiDUu4Dy6X0ruwOSMDb5Iy0MvDIEwEEH1fsnB2jUPrd1isfPB-9WGoOAcPEho8yHjwoZAqh7laGTX5gw785tF4ELYevDhn8sHcMzpePhGYAEJ0EUfS8-sxHnwkVDKhhUZFzw0PImOCg9FAPYRgzhxMd64MSrogRXshHENAcdchbNKGc3GlYuBhRbFYgsKLF+BjVHOPUVwtxwj3b4JQd4wxwkmb-BZkHSecNLqhLarqGaOpfhpLzm-KWm8v7NR-sknRtxymAJ8RrYx2Sy6BJoNgAQxhDbGwnAYGQCjUwiy8RUpxulqkaKSb43i-DlGxPVsfNp4ockQPIN03pXN+k-TMAoSmMgLL6PSXEyZmDEkxS0TxRCVMYknKWUYrJqyOnOS6VgHpht4Q11gW1AwmQ-KyCOY405H8ibp0ubvG5ys7njKIa0p5xQ1lmPwJsw208xxhMMIw2YuIxnNImaCzu39XbuLMp4hZ9y-YIrEuIzpGz3lbILjspGPlHoZBkDiPFEt0FnJceCza9SoUOMIQ8zJpD2kBNefSj57B0URyKRMeukxODRLzoQnlhKt7EpwYKsljSYX4rhcs6lWU7zItRewa+GK2pDOnObS2TTuX23iWC7eELSW-X1WqlRorbLiueZK3K0qtnQO+XQ-mtq7F3UdWg51vKEmuPdbqz1tzvWLKpf6xFLyg0ooZXDGhYbZHskjZEswTc00nI1W9IltSSXJpmtCitsLfXF1PiYs1dLc0yukYW6xtQhkGkbYA9VcbNU1OwT3etqSDVD18SsrNgazoWssb2zFMhFWDuFSoqtqdx2aMhXq1Nw6fUZtERK2lUqu1bJCau7a+zyoYi5bGtu8bXXasnbMoVT6WnGszTS0xnaLUFNvQM-5D7VXHtiTuqZFyBWfsPUO45zbT0l3PaYkggQgR8BwCCKAfBXCqCSBAZlN0C45xkBB1DQFoPnMTXBjWDSuR+IBkax5f7TWDQw3ALDOGiCuDw7EYjhTawMLZRoTIZbFhaFjotF9Y7plJvg5oPiV5pPzRYy24GWgsxgPEVxnjMp+N8EEwAWngBAAQcAhMgfIvIJV9947ThxhMSpG9aP8rqfB4ZyAINyCc7TFzGS-VnoDXpzD2BsOGZIAJqzZmrOWYgCZrAfAABuVn3AkfGAYOOWIHOa0xM51zai321p1fBymlGCsBZ-WxkLC6wvcYi7xwgRnTMYBILgPA1mb5Fo0NlxB5gZNW38z7QLILq1atKx+hjshUaOfFmNzTIiqP1fQ+F5LzXWuxfa512LyW0sQAy8Jn68gG1mCGz8Kro2isuprROnh2iPEoEqwtmrYq6v-rNfpprOV2AG0y-oGQdrUwsIpbCmjfK3X0d4U9o9SHDVLeY+2zj63Iv3nYKigHjYqrsvsd+glE290zJmwhrd6aQHzs+yjxrG3fs4DoOgLHdnB3Rt9CxiHCaPN1qUztTqqEUNtrQ191HzWSB0GiAAayx5mB+-kvzcgfoSaTN3X13f3R6sTSwFdVSVzIN7wWVtU4kt92n+Boh0BgOgFgDgGBY+k5Te+04VmGhV-J2DnmSeUwslRl3QXW26bWzTtH5u+AIHsNh9gmA6CsAoIJpnhyl5gatoL6jo7CcKeh49tEKnMYp-5xTk1SKTfB7oKH8PcMEDvPwyQaXmYlVRO5EoqDafd0Z49zDwowOmNPCb5Sgv7Gi8i5BNECgOAut2+xbNTIDY1Oyffun933OSfKY6qpobGmM3abumfYXQfeMj7H7FgAjhQKArBpflSnKqijNUGIt5g3R9vWetC86vDfqyiOaix1vxx43Q-8CsBYDtZQCqDS40Rd6GCZDfhPDabiwGCu4L6P5L4d4DaTAK7b60zwF+4jyG6-6tDF68ZgCQhWbS6ZDqTlT2LPw+afhz5VLuZQ5P7XKFBUSJQ1CBQYEpSb46b+INYGb4ACB0CuDsBQDRCxDoD07dbWq1hDIzQKAyDloFx5535yaIFc5lYk5KpHJKH67+48GB58EtAwCR62Ax5x7HZIyZAJz+SjJWyPR8haAIGt6L7qEoE560x2HmAOHYHLbaGD574gjQwHakGZCa4VTzQ975yGCOEP5qHTYd5oxLyN6RFYGsbva4F+F8Fi4CBYDRDsACCbDS7v4zgv4KFUZozRH0HvoPZMFe7chlFeGpEG6+FlwEEBF0DZG5H5F4AmZ8B2BY4qSUw4hO42I67Ngc4lb3ZXJtSa4WSK4CQC4B676ZHtE5F5GbAma27mH8zZYArhK0RI7hLKHz5OFIEuFZ61EHEqrEif6F4tH-5ZGrFdFwAmaSCbE2ZKQv6oEUZ1Ep4MIVGQ5VFTG1gXErJ-HeGXGrZLE-b4AwDJYkFbHjBDI46zCZDDE+zqbmByD-Gc4MHIFZ6v6YwYm1BYngmU54EyitEwlwmJbRDGBQDJZQCEDQxY5-jInYh-jxxElFAknjYnGxHVGmQEm0xclmA8k3ED53H+FUmSDwnvHbEvAZiUFSYGAeFaTjFq7E4d5kar5sEqkf5cEcGhb6HQlW4bayk9Z9pDKhFA6s4+bcHs736VFTYCnAluF2mGn57JJsH2nI5-5SmmnYaxasCRBMlwAX5Yg0Qz4+l2nPrHExG4lnE1Fulb4rDaZrzikpl-Bb7klECUkBldZmZYAQC2AQBbDS7ZZKxZhomZkOkqF8kJlxHnHJnRn7T941m+n4H-75nH6n7n4IkaDlSGi2nyAelHF0EAnOlAk-S7ENgjn6n97f6LHU58Glln7mlSHeQDq5b7GXa0FuYTmTEHozF1FXatlem3HkKUl1SSHyofhbmKmUajFqmOkHnq7JpuncnznnkSmXn-7XkmaiGMDlkMLlRA7hGYl7nFYamKbL4fmilflzoXm8HQn-l1SZjcxynsjqQNpgV1FPmp51nxmAlHlwX4WemIU-nIWm5h4iES7rm3nkSiachyG5yBSqkEVxlOmHkepskz56nPSNG9TtlC7LnQlh4MBQCWbhkZBGgz57KpmKrYkTFvnwZaChFSbyVZmKWknPbRnZkZHQleB4aV7iU3m1wTg6iKDkZon9Cnm1Qvk4nEWkogniZ2XXELF6FQmm5GWh5AESGFnFkMBln9mzSwFYhzC2n9D5z2WEVcUqUk6-B-QREIXwqUXGneXQAIDGDS6GhKqcC4UQljn7mOWTkHouXsY6VpVeVo4UB8CsDxa2C1UcCyjsBwDYYQCgEhWTh5VkEKGg6EgqpKXQWZ5MEzR5aYyGmDWVUfY5lMn-5NUNWRB1XsAtVtVeCqAmY4BYBWZyrmXTlWUzh17xyGnK4E71lOW6oNo2X9U2J67TXpGSl8ELUWaNXLWrWSC4D9HnaX46jQEBZihTW8lEWlWkpCmjYA0NHikzUGWm7PUCCvXNVgitUfU4CbXbUQC7U-LSEgWHWlLzZ+iA3qmTbcWXUfl+YQ06E4HNG-lSkpZFk4Cn4kDGHi6IBoRmVY3kSlLeaAI2UracBDXE3xUd4O4-Fmj833XU1UVo500QAM1CFR6xAIBs0mbdns3hrjA0SoFTjgU+zsUxWcWvmalZ7alJXuEpW-rQ2PXQky1y1M0K2s0MAmbXlgF-IPoTBonrqQW3aC1G2jVg2e0CVQ0PU018E22M3M2K3K00WS70V7UWEv5LwJxNL63jklUk085k3RXuX96W0h3W303h321K2O21XR10Vq29a1DMKgU6g60zVnXA3p2e5wXaES1Ll+l8GMBFlwDsAM18B8CkCkFziozakTXix3VA1xW+2Cmch6KGnzCU0+Ht2tCdCAGCC4bV6Eax0c1TRmDWk6iRW4EN1T0wXC0t3m21bB3iKr3JYCBRYxYV2Wl72DmZC2nSY1Q8lE1E6n3G2aFSbyFmhikGnL0yg33r18bRbGaxbmYJZY5+YsHID3x9UjYFwpFf1t54lMHeZUEFwoNyApFB2S2mJgN30QMP1xYWZ7apbpZhkhV+YzQ2E-DsX4MC3f0jWmQi2azMMEMeU76DQkP31QOJY7aH6P2YpTAQFyCj20x4NoMOXKXT3SEGj404w8M51X3EPUBr2kMtaQNtboAdaiNJbUOHa0OYUjF5VSMAI2GqOsMYOJkcPKP5ZwGL2FWzUCPo7-ZdX9BsnPA5Yxp2POGNlJnzIBNt2eWDSdohwYUWmYo+OX7+Mzqxmp0KM-0hPkphOCVU0gP4TaO-aY7eNzDMVKKZPoNBMum7LTpNoI68Mdm5IDgWoxMblIyGBsn7J9XAplOnHBPbRVOQZ97fm53X1aO3104M7S6KoQFKn-RjHyPDWMG9M6ls7zHqNEMdqXpPiwhNMMVIyTMUHwUzPPmxWG1pOLOm2NgX1pFrP8MjPgNMni5S5dUYhsklowGnkv6BPdMVMtOX4K7vPZ2DMaNmoePm6W7W4SE5VTCDkr4-D4W+6T0nPsMTikXixAOrM5PDR5Nm6l40UR5R6mHb3q2yAJ4-icpWxkVFVQU+2nMlRk0UuuNklIogs4vl7sCV4CDV5gGBRLzfWYQSZihgkItp1C3P7lX9C-E6gMtIWaMkBYsH7j4hX26z0clr4f2fP8lTlIx-2quANSvukYsguj4Fkn5n7x6hH2K5wUZ56f1zPUtIuMXeazkJ0oRovfmLkRMSQeOAHAGdXmOFBkGoEKAKHcuqwT1dMasHpd42Uhs4wT2EMGu3OkNEFkCEuV2KF5XTO6kimUve1sMLMTjatZuXN+rCVGnAuJsggCFCEiFiEQshWHKoFlp6JkU2vHPCuKPkRa3xwtt6tDMytYvGAUCEDSXmDCyLAcocEcqSvH2Iv5uVMzjloTsrBTt6vusFDf7uMVv4CGHM0EtiNtT-JKrogdNmgNHhsNnfM3SZ2nu9tAs3OyujP6xwBBFdVDLeaWUNgH0A05uq52tzsfG+OfuTUAsUV9vlsPvgMPGdEFFPP7EZhTje74VqXqsXuav8wot+jIfhN8OetbtQdrHdG9E4BY4Yi7GMM2JuUocXVKYzl-PFu6E4cr14crHQfdFvGxNtQIKhFTjIIQWYc-tu5fNofsgYdK4gepVgf3tYv4dPEvHsfNPbEaQ-gbqaxIfTtCupP2tIyic2LqfxsetMcQekOwkD37sTj-LeZmB41Ww1Rnu2t5uYOmSOvxy2e3vXO4dGcggmexa0n0n4ahmkFWcGgkuYyuczvts0u2Zk1hdZNL0GegNbuwkylmeMWT5-LVmu0utUcg1TpLPUHRWusUWluQlSePuq2kEqRu3Vktkp3FWaf-spJ5fFfie-rNebuef4Cq0mbBlDvMldWcgBTVccGmzqfnvUfN1Nd6W6h6vCX6VlweNdewmBWll9l+sFy4ozhVlSY1cCeqGodlXNmjkzc7ftdYtdcmurccfSHD2bfu3jsHW1kG0Rdaf8y8X3fZurtBsJsdern1UpdKT0MPre5627fnU5eqVwUg9uffdYvO3eNQHkaUZ62ttPf1eOciaQ+6vYd1O5OPv-mAXS6fGI91HI-ZdN3xGY9ZfY8iUeew9LSJZoW4g5WT6zhI9Y8afzPo+MWU98iFcSd3u0+Ptl2puWk3e6LyDKkFdk8itMEpp8VS+VVtdMtbumWSVmNXc-Qxyqov7fgFDaZyNtto8OMia7Ha+8t68TBqPfmzdZinePs+UmV1t+u+S7EftJFe2-sOfG+a95dRX0fZPxe4-gMO9+WO1LclnBXO8hvmxjtXh6ge+CcRug3Odx8oPkX8-ueGdYtGVZW14s8FVknhdG89Oum+9H2xduPK8ddw0I0rVI1rUdXlkbcZhGh6JcnPDS8dtKTYM4MPf6Di0V+Mvzdbs19LWI1kCtXtUbVbU7U5XkE-iDKckCug+N0y9OeoxHJckfPU9lulfgOj9NV18T9wAo2FEKniaSZWzt8D9jfg8k4p+EkA0D-6eMcJfV91WLWH-vW4Bo2z9dWDLvs8cV-J-p30i7d8ya1-aHoH0xaPsw68tWwJHXk47N+YqJUIlI29x55kmdXTnt7z-gZBrGmAqAa-yD6kM4BdtBAQ7USzlcQqNEezAc2Tor8T6L3OZOc36acF0W0AjxmQIjqUCna9PfoipwzA2lx2P+IvjgJL7kReW5zABoHVqY08s+sAguvAJZrF1hG9gGOv91RClIEGN3BgaAOYE3IgU-vOLsQJgHgNuBRdZWqXXUHl1+iQOYnhCRR4pNxBl7RjLx0zR88LaAvBQeAy7qlle6tVAejXm8YyDqI96YAarEYGzsue4ArEH9XRLiwWul9TPsPjoBi5DsuZQIGAW4K6JX647QXFZ30ENdGMlrAoXpwzQcpl2RuAgObnSHD5VAeGbIVrXmA61KhfwQoWIL-YxDGu+A-ISsA6GD9ZAguDlDmVqEMBK2pZNqv0V2LuC2hBQAYbf3J5NlIkfQ9oeUIXLDDqhqQuoZ1yiAGN1eCnI8F2zfxlCih3QkoasPmHrC3Wmw0YWkPGEopI+GvD4vyxnCXCG4o3ezvYwkF4CG47w7ENcIopzChhdwnYbVTGErc7cmXDMP8IWFfDymwnWHKUP6GAjUqwI5ACMLWQQiQQjAYwC0Dgbn9CgsIz4YbxcGIimMvQk4SiNXa3CsR9wjIaoFIBi4gKTzIbOyjyFUi1hZw3AT0L+GcirhNIqoTmXqodABA+AGttxgkJssxcxHRViS38j5UFcArbkT8N5Hd4bEyo6au82FFwBRR+AOAAACs4A0QKUQgBlEslwh8HHUMG01Ec8uhPIxjLMVtFQ1tRayWEggGiD4BB2hAdgIAVLImisApedgMlkALRAbcmg9kF+HrwB0agZLeYWNkWFr9S+5zOMQ3EWwZpUx2IFzG6KAKejLBDAX0UAUZLQxLuhwlAL5FCK9VFgOWAoFMBVGuDxM5UBsDWNTDP8M01olYNaJzLui8xFA1QYWI9Gl4B6Jop4WWMKBvshYZSWYLrxGT1jyRK+JhIsEX5-BhYerDsX8C7E5iPRjwtchAHYB0ADs0WX1s8P5jxNDqJTC-isH2RziD0C8A0JFVeEFBrxO-ErrhB7H4AzRdgFamfmEKBUWRa3EWJrjaE1B5gKwBep0K96qjxgpvRYKBL+DgTBhiDEbH5m7G5iPxMovInQGjy-jbA-4k8eyAPrNCXgIEmcUhJvGkpaOV4OCQUBQmVVya8EyVluM9Gq9LM+4w8SARHYURFgd3doVEOe7FCBybwq8DxPmFJCxUlXdoXriYn4BmAqgdAHQA2yE9USl+MKiBI4I4hyJuqB-igBupZi9WmYjSdJNknySNs7APwYgEJ5BdDqB1WMepITHwihOB3PLgZPTH94XJOZcyTKCwnQw8M7AcKMBV2JZgdaUjfoTfwclJ9dUXeeISFPaFti3Jdkjyd3S8lpC4Avkk4LXiKZxCYpbBK7HvU0lKYgJUmXKXFO-LuS1knkgAkAQMYgFMhBw5AZGLZENxlJV4TSvMIUD5TYKQk2MUST2T6SRshQ8qUlMqk+szcDQvgKQRywZBo4LUnqe1IgnfCGxRIrqQ3Fml9TqRg00siCG9bVTVA-BSYeNO8bTSppOtVqStI6lalyoiwU6diDmmISrJAojaQQG2lHjdhEAfYbXi+6PwTpq0+aQiJIrLSbp-Q26eKXukfDEpm04aTtMeGlj6pFHSzqqmum9Tfpjkj1JdJmlAy1pXIx6VtKqkvTcR+IrqqbAYYIyfpdoyCYtPUroz2hwMjMf1MYk6wKpz0mqYyJIDMicqsuBuCTIxnIyIpSmNGd1O5l3S6Z4MggIESsz7iDpa3OQmyVFIQYk8A1PicX0WlqUmxjeU8kUCIE48KpUHatqIUlFIC46-Ma0b4wXjxCAoYoX8OdPxJvcrw5sv0JbJfFbCZJQ0nWUzUNHGine+EvrJPj2RolMuBQbLFbL9pul-ZswGmRwOIEVSB6OARgAwAlzsAQ8YADrCaLn5kd4hiMxWWSP+lTSrpPUsSX6jKkMyhp0c2ORAHjlwBLcOAY8WOJ44vNmpsY1UhpJ5n7dSU2k7EI3NcmlSEp2M-AAeKsxHje61AOqYbKyyWibEDqcsYuC7HNzxuZ9PLuuIKDTzEJC8yeSLJBDuB98peJOTkThjRBbAStLHLqEkYXiKqZMhaeSLFbl8X+WsoaRvNSF8Bt5Jovya5DAK119mVBGNrM1JH2ioJsgLvHxWMGV8i5EMu+diwfnJyK8BjT6iFSDZa01KvNQXF+CDmOM4hCClYEgsdlryPxcATeeAp3kBCIAksr2UsEEE6StyNQeXCuLDbhSW5WkqKWiUoW1i42cg3frhAqmgKiCh2XefvIQB24yWGYaum4xnl3855rAq+SwtfEEB2FOCkEJwrDzPyZIduf5JWR4m6kE+e3WeVnnsFNdRBiEyTmwtvkyLaARZeRSI0KJGhBy4QtpBgrPl-TnKMcNBVQs1nyCcRhiwgiYrhgM1CFhPIATJXIWphSJNixMV31RDaL2UDCwJcwojk3yQFRi9wCHg4B7y6AB8rqhJm5oF8TUwipYek1YKZK9F3g1xbEt4zxLS8HATZjDJHkaBrRSsKRh-N0XBKwBoS-+cqUAVD9wE0i4pcaNKVssoFsotbkUXg7aLrF1C7+eTIvkOLRaTizBT3NAUlLlqXiohTXPwaa55g8QxhQEuQXSF6F3EyJc4tYVSKhpnk4ws+22p4Sa5DCCAgXBOkJSslSYvuM5JuV3Tu5JQeAPYAkAHA1eKAEAA4GiwIBMg7AYwEfkTAqBugMABwF8oABKAAcQABCAAQSzBZgQAjINjAvEzForFsYY6GF8oGByEQAAIIAA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4IgZgTghgtgpgZxALlAgDhAlgF0QegCM4AbHIgVyzPzAHsIB3KCAEwH0BGAOnQDsA5ilCRYcYSAAeKTpwAcATgA0IAJ4oArAHYVjFABYADCoAWBuQF8VEOjih5WKMFBII4KnNhjxHyTxXcQDGw8AGU6CggAYzhQrAAvcVQpAxV1ZGMQPWQjU3MrIIjo2ISk0Gz9OTycywLg3AJiGkIqGnomFg5OQ15BCVF4CWlkACZDQ300mW1dA0yzGoKbOwcnFzcPLx8Uf0D6sKKYuMSh1LUUTIr5-JUEQ5KT5IqqkAXKizrMBoQiUnIW6jkdrMNhcHj8ITJAZlFLITgKBQAZimcMMOiyc2q72stnscF8zlcgU8WG8+J2EACty+B0iR1KpxyKMumNeN0KdIeMOeWNq1JCjT+lEBtAYIK6I16kJE0EGyWG8I0nBRiJZOWuixxK3JyEJGxAJLJvl2-Ia4U5xxhw0m5wys3VvLq90tEh5bMWnwFPya-1aQLFnS4iKl-VlVpkCORtpGADZ7bl3diQMs8QT1sStjqTUEabFnQz5Wd0mqE29LLd849yuZHZ7vr9mn7RR1QZKIaGxIz4YZlLbODGSxqkynVrr05tSds-JS9rnzcUXYWmbbB46KxaC9WarXTXhvUKAW0A6Dg+2oWGuwoeyjZKvE+Xk7jR3qM5OszPd3mN1XYTbi-GhwfO5v25Gt7w+T990bEVgUDfQQ3PTsl27Xt0gHAC10fbU0yJCcjQpKkcwFed6R-a1mQw8D1wXTcMW3cC6z3BtfRg48OA0BCZSQ0Bhg0EZ0XSXsrkwkcdRfPCp2zfYvxosiiwuSiyydEDXTApTGMFaCjxbDgY048ALyXDQY1QmQ7yUrVUzWXCDUzY0PyIs1K3DZd-zo0t2WA2TQPo9TIOY4VtPFdgtH06FGRjWQb2VdzAKWJ8xPHWy33swjpJIrlGT-BTYswrzSJ8yod0cpifUC-0dPYOQwsMniIyVG9VUU9lRJw-VDUkhz0ucrKKNyqiOW81TfPyDSoJYoLAwUGruNhRUYvSORzJahK2tffDpzSuceqXbK7X6izBoK4aioY-yysPcgSDgMAcC4Ga5TquFERjASUBjG0KhtN59Hi7DrPauyCNnYidqezJ0k+gxvuh5ShqeNTRvOg8m2u26uB6M8uMeuatC0Uy4Ui+MYZyX7LOfJKOvfLbQZUpcIbOL6sTJo7MoRkaPWRrSrpuu7ZAelz5BGDQbyJ9ySf0FnWoB9bOpppy6fBlEodJ5m4eO9nTr8krNImnn0c4Ns+kQnGFQ0CZopF8W1fJxKbKp1KQYV+GldtFXJZt1nFy3LWkZ18byvwNG+dPY3scFjRzct4nPelsd7aBzandpF3YQZ5cmcTFn8rZn2Xm16SA8uoPefYI3pQM2aFX0TgozQ92Jal1aZYk6nk5kjXXchmOs-V3P3Pzv3C4C4vg-YUOK-C5D9A0AmYzja3e9ttbW8dz8Mu9tPlZ7n6+83t0C9zIvUdL+Cscr03pkMOuZDFzPd+Xlvko2qTtsVre3Z32HqM7gfiuHi6J90YcXPlPJ6nAND6AJv2GK99v5YSsvHQGKVgbrzBh-bui8H5e1ogfIeR8R5ALunpUBtU5qzytukGBX9SZ-UQeJZ+ct24b1osMdODdPY533ojTm-tCEijHqFUhVdb411FrA6Gsdm5INlm3NB782HbywfArhuCeHvDGvwmgY9qrCMvoTOQb1CYSNVkvBBFME4oKTvI1OijP7KNoT-fueDeEAJRgI0u009GCy0IiG+xiaGSzoRY5BL8upv1sTlTBcDHE4J-C4jRXM9b4GwAIEwfMBZdlngvKhEDAlN3+jI1eqCdYsLkq5RmkizGqPieovkfDAEilSekjGmTkIfX8SZfJwS7ahKYTY3+5F7ExKCU47hHNEkNPcTQZpfNwRhwvoLGMigURdIcaM8xvTZFr1KegoZ0SqnYJqYVQeriCGNJmVgNJfNy4dn0ZwXxlD3pCUOfAuODCHYlO6go+SGdXmxOOSdU5ky3HcxSVclptc2ngK0HIBazzumPyKYwuRuyfkVL+aYo56CEn1NBck2ZZdoVzQ+iMaO6yCn0MponV+tNIkYo4dUnFdSIJTLBYSiedyllyBeLkq2IzKUhO2V8iJgzfmMuxe-XFrL8WB0JWfBZYDcaIj2rIfl-yNnvOpVY2lzsxUMsRXEk5-9znTPIISkBiqyEKlhenNVhqtWWLCfLFO+q9oSpUcyiZeLTXsohcQ4lCo5CxnJQKnpK8UU7O+fS91hrAWa2BT6r0WjzX+pCoGq+TzkBrLDUij5NLwl0rdUo3NRqgUmuTRc1N1yqoZrhJHeF2aXlYredI-NOrC16v7vsypLaAVet9mcytZrwU1q8VakR9aFBGJzRqwVWzinWLRTGktc695qO9TK85JAAhfD4DgH4UA+AuFUIkCAdbuh5OjGieMibw1P0+Uu6N+r04ljvWMjdg6QXbt3dgfd3oXBHpiOe7xjJfFGO6OibIhiRJtu1c65hezNB9Wg+iQ68atwKAXofStO64B7oPUQQDfBgMAFp4AQAEHAEDE77kPJyWZKDBg0MrUKe2hDAzu0yBQ8xvKA672aMIHhgjAGSBAeo+R6jVGICkawHwAAbtRtwdaFDCxvDMP+A1HV9NRc+rj+03LSo-bUzdgnhN-sI4QYjZGMAkFwHgGjk9rUyH4lmiBTGcgsc1JsiNj7dWuv042ksXmkwYc0zh+sQnf1ycs9ZiTtn7MSbk4piAynQNLkMQx1EHmv0Pm08Kp9or9OvtvXxqVLKzPRf-cxdgwc62VEbbXB1cGnX9OXS+1dfaNlhelZV-DFnxrsFmRe-iM6yUUvvcivznaAubx7Zij2TLyumfOuZmLg2cB0HQBexEIxVU3oOqxqlrXdNFbm785a3mesVdW1VyzJA6BRAANYXuDUYrQJZxtvERJN9jbW9PneQP4qMFQvsGB+8Z41Z0Glreq1EOgMB0AsHsAwC9V49ojG6KVxMGhfvwf+2d1hUScoJNx5D8t0OAGw8I-DvgCA7D7vYJgOgrAKDAYvUqDHB2Kghbyy1nTUbCflKC-GXn66TO5a3bhu7Pxaf06PXdBAVzj0kFe1oRtMZ1VA+w62tj+PTtFv01ltUL1OH8YrZF6nsuKA4Ac3WuQpu+wadQ7BvXJ3BeG8B1mtUMGBrXeQFhi3pUrf4CiDbhzpGACOFAoCsDrYiD7KIxgeYeWLvN+uPddsB0YtUqeyup2yPCMHQ7Lcy-wKwLAtmoCqAvTXcbuSSwSxjHj93IrPdE9GEnwJzfycJqD40EPYBATUbrcZev0wPOqdd8dgXbes8d72mqKffuvWB8pz+-r638ACDoC4dgUAogxHQJtxzXKskxn8cn0X0+hWLv8x3QLPHPP59-r127m-qsNBgEzmwrP2fpfAUMCjltGdwMCtkOnyzvxmwf0B3H32gqHAM8nN3X2lw-0I2uhSx23hBvGbUREQJyE4Bb1n0K3b3KSy3G2yDwKxEIN7zzn729BDwewECwCiHYAEDxDrQ+yzQv2xzeBGCIIK3vzKRchK3CwMH4NoLEJL2DzLyYJYLYLxFIz4FsFrw0F5WmBeAqCjAgP50EOgOEMZH8RLG0KQOW0lz6xEyDjoGYNYPYLwFI1RwANhCWm4JB3UQkJ8wfQLRdRgI71EISQ8P93MPf0sLkNsMUMkEcNo0FgUEgSTyiikM1V0KgJ8IMPpify-WzmQIixkLQJ+BgDkxHycIVHnkbSv3cjT08Km28MQ3RRFwqJf2cRuxhzLwKL4AkyiBMCgDkygCEzgAvS0FniT2514y02SMjTn1mw73qJ50aPGWCJaLyPwAKMkCKOiLAxnmGI8xWTGLd2IKEKQyByfx2PQ1Xx12kIHzLyRxizWKc0nUgQJnKOyDXx0L2L0NSMOP8JQBeNMIL2+POO-VQMsOuP3Qk1YAiD6LrRGDkG4JMR+ID3nV8xqM40By+ID3OIUCyOW3hKwyl1LyWJBIjwKIgBsAgHxDrQ+iMSeP+JvwXQmJIPn3KTRPhNCzOPoKIBD0JIk2j1jzVy2PtHkBileJn3eNqPpSMIFLhTmI3SL3ZKiyWLJNj1uLP2QntWvRy3fSqL+wN0ZJEIyM1KCIExCIGxSQSlPxNhcmnSy0g14KO1v3pIOPRTRMl0kLf0WMsNEhk0P0YAvTRDc1AM3XT1bwZKmKZP1OlIlyNPdJNM9NI1EnkExnWOQkxyzWpMDK1Iz0mN8LDJXFtKu2yPwSBJNPl2e2VItIimMnU22N7GFPtOmw+PRQlLohON+NfxpJQPxMsPpwYCgCo3qzWXSCGObJJlxKDP2P0MOON3tDkBHJ7zLXZhxObwsJNM8CPSV27PNPDi7BenULhBVioN2JFJSLFI61zLogPNOLMKjKpzL1XLp0rxP3IywBJIYHJOKJkElka33Ilj5zeOPJROmMX3tBVQjKhxyMuKWNXIQBMBG0135MSN-KPIdInKdPDJXyvLlJDwoD4FYCkxsGwo4B9HYDgH3QgBr3fLhBnPiLzMREQrrORPa2KxvDfWqFovFzAsLM7JNIIrwoiBwvYCIpIs8FUFIxwCwGo1uXLKXE124IoPUQhwzODMdPpXTi1y-QUsNMwrLx4so3wv4sEskFwChJAujBMUHTYrHNFIApzMMx4QsvnLoI7NyMsJ0oED0sIr+GIsMpwFEvEogEkq3KXGhIxzMtOXssgOQobJUrQoWHss0qcogssPk2fJwBjxIB-0e0QDuE3MWS7ENmtJGPTIivrJPKYrPKMwcoQrxOcpNOSogFSr32ZxiAQGytIy5JyqVQVE4H0H8QDMW1rLpJKuspciAvWSAgLIuIYLLzqoavSqaqyoYDjLNI53GFFntEx1pKRI7Siv1W6qfw2vQr+JW2jK3xmrSoyuatapLKezLMCvATr3U00I1TosGoYoBwXwyJ-PYop3AqmqWLOsapsEusWuwuututyuTLUydw1M2q8O2tKtRJitbKaOOpvKWMYGfLgHYFSr4HaNVwou6qvXSDGCeomS0AEP-MYsRvKvUXJtdOaIAVaAr0EEPRV1PXBs6pQGDQKphsPPovhuGsZGdINImsBMiyZrkwEFE3Ew6uc2QC0H0AgwDN9wGq2o4ypo7292nMqP9xZKTXFuoGZqlqIzExIwkwo2kxG0GOYtJsVqxDpsUvHJ2sfxpuf0TAdvit+sCiNulrNpkwtqSwUyU36IJpelTMMFtuBQduKreqFz1Ndq-Q9tFv1tKglpZpNpltIwS1tw5rlu6rguvVtpC2jvGKGo1uFwyOLu+r7wSu9DTuNqs1Nps3QDsxzpk2S2DpGyhqoQjrzMVopsioRr8KRs82rscq9sPB9pqzqwJpnl3NkDkq60RLhvVvepst7X6s9QwtrpTRLnRkTLuPuTnuikXs3tiRjoFvLvjoOSXrHqqsE3rsG2GwJpGERA11PsbgHrLrXpGs6zPu62Tuqt1jlTTQPpVPAVfvfuaz-MHsFt2j-s-vptRvOUfpq02221Dr2yrOam8wvtXrjt6gTriiQYWNlWLlglBDAakvAV21VT6uIcdqsqvsIdsodEOrbOQcrVQaE0exe0wc6VPuLx6q-tjtIJcmB3jCEY0sAYfsNsltlwRyR2gBP1H0jlWRYpxxEcvp-qFpHpnjvrdMZrkfTrlwZzumZz-1zsnQTN3LTP0ABJerVoJzEcZDgJLAcYMYZpQeMeNtMYV3YCVwEBVzV0azvhQEd2wTwecd1Iiifwia3qOtIe8ZICnrDzbpUxDXVO1thuqO0YIaMmOJ1rZJ3snvkdD3D25JjzjwJt9yoQDLzz5teryZcaXBzwFLxlAuGllJKdQYryr3IqTJofnmikbyxDnKiZ1NDJcjgI-rGc8c4YNpSbKaHzICsf0Ujjc0KqvBye1MzymcZC1rom2fYZRr1qAbrp8Z+B3z3wPyPxUZqcrKyfcg8csspp0aCoyJecqsMeSanpMAoEIAvRRETzonkBJnkDJ0YbefyaeljVBaovdAhfme6YWCL3Oe9rKa-wyssdlusfGF6py3wOHFLtEZiY+YTqJfGu3ontQYwLWYjlfqTw8xMreEMC0fwZaaeipOAoljZZIevN+bKbCIULwHtzUdtA+j7poKhdgeYfSITuBWlc9s4tTsuasJsJFbgCUJUIorGAtiea0J2czJDOzPEYyJMPzOpZVcaFpesPkLsK1aiMPpckGNcL7o8Imb2dNd0YVaxECJkfOltY1YddI0iNxf0QHFhL7uXtyY5bJa7hJ3USxMSYFa4bVbaPpa7EihmcKrtsaaccme9eQkrs6ZrppfTcKK9K6J6MhIJvV3TjscqM9azLSPARLZOfmNTcWanpWMzekrzZ7u2M1ObZNdbd-GOJFuxI8dkaWfTvavj2GehvtDOdedlfeYTfgPbMvKOrOZnanvatI3BIBeuj5IlbhIxJjd2Zbc+KfxxOTY4cXPRdKbne6NBP9ufNJLfMGd-ElaXaOa+ZHeUtPNYZXe+a3etYudneNoPZ5Oqe-YVGGMlKFLtKabjf2aXCbMLylI7ZlOX3Lag5+EVNwvDctMycHb7scZXuifQ43Y0e3Y4aSbTYI9NO1BI67EMG7onwo-Zeo6Ldo+4-5blNQdjO9IvX7HDt5tVqo8LbHbsVYZdLA4WdVeY9jPjKWl9LI8YwE5le-phYwUTfTOVcmoxfTrBrY4y0d2JsKp5SNaUpQpXVdps5w5M13cDbVY3N7JDvg-CYdxRCHOg1nJ45k8nOOMC6Qcfb3bKbvPXPue88oq0DgNkBMQvJQ4La9dk+J03aB0pfmcY+7ai+gHvI3KfJfLJLg+da7CMDc2-Ns6dqHuF1GsoK+sE56bVagpgoJrRB5u08A-s+A4M4U6M7FuU6ntcvcoEs8qErIvjxMuJrMq83CpJeafjbmmYuv3dDioDYaVQbG74o8rIGItIpErEokpUyANWTcLdr4KC-S8OI13W+u5a-w9G5wt4oIom4O7gG8vj1877GbTzdiso9jd44y7hHbcB9y67ZG7Kd2-e4MtwF8tO4op6sS-+4W6B6vdHbu-B588h6E7VYBrmqBoWvM-AQeX9Mk9S+k9u9Qt9ec44uM+feNsJ4upJ7atfbt06+nT85y2a509JZo-HYTr56G5TptYJ5SvOvmpasWs9Nrw6b7AXmyAOqk+B+C7qMa5QBV+Rs7fx+Y5Z+l6ursFLNJ7mhemtLUMCQx+NaA-00166ypZTb16noN+J5l5k1BuN5utN4VDfok566W7Q74-06y8G626MeY4xrJOxuwrxpUziJALR7mdXd085dW77Ae4MDnNF-Rfhwe1Sw5ICFe1VUlOqHkBu+vdp9YfkDL8d44Zr8RbF4Ufz9l1UCPShP1aoVL8b4r6x6r4M4b9Rbr5RsH5kCb9DzoBb+3zJJIqhKwYz-hdr979t+pur9OXL6QdH8otz8n4YB+HQEiBbq84q6CsWy78X575T4F+D7k4H-X+H-GS3-L80Tz735SS-ZP6eljBL4v6H+X767Kpr8l+m-e-jvyn7YVX+ZXKEgi3P5YdgB-PZboL1v5Zcn+D-GUqAJf678C+jAEwA0Hjyd9uMv-Mfv-2dqr87+8A-3KgLAFv9VApAB7D6Qoq0Mbw3fP-lf0QE39MuueUASAKX6aJcKLQAQPgFub4YT8ATB7DgDRxIhsG7kLECQPq7X0BusgkhrIL4FwABB+AOAAACs4AUQUQQgHEEd8eqzFMykoIQFB9QezpUwUERUH+QCiCAKIPgH+aEB2AFeMkroKwB0A+A7AOTBXiiAo4fe4TBQPPQFLnF+wcguBvx1BahDs+XqfsGXyXK2DK8Dgw3gwBcGV5ei10cruA1xjz90gtFdaqchGAKBwhcrL-l3jojQlqgRQ+ZrtlYr8FNEdg5IW72yppD7Bng9oroI-7ZCbU+MFUB5kZYbc+WZgkHocVTLrULWqoGocXl2zotGh7-JUhAHYB0AUsYmAZp-3IRSC3Yi9eJqMEha9dSBHea0tsPOLCw8eO9OYfoNsACVY8++F8gwLi7dUFesAmQBa1rglD12IfXPK8OkbLYmsiLH7A0KSH4BLhd0HfCzluE2B7h6w6uMvmeHPQy+ClfYfIJ9bV9vhyLNEYCPsHAiT8nnJYSsOrxAtbQl3JqIiz2GB8Rh-fLLiSNRaQt-c1I6YLMKBHMBVA6AOgDFntzkEBS4LcZuSPV70oZiH5eIci2iGMisRzI1kTFnYBR9EAr2SoSAUXpxDEWPImBqnxW7IDc8IozfiKM0TSjvQdASfnACPTsAXwGnFUAKWLwQJ3henYYIl3NFl9aRsQ7Uf5F1FEB9R10I0bsEkH+J+wl3GsgyLYHmDDi3o5dvaOFFCidRmNH4H0xbrV5C+x-boeEzP7hMQhQogMRSOiqu1FRqLGIb8KdF8IXR0Y1YaHjb58AF2cBS7lmNvhWi0+6olMUqLDH1iIxZJKMZXhjGqBp+cAWfowKWjMCohqY4YXyP64oDNRinSsYTHRYFjWxRYg-hACP71ZZuhAwvCOKRERDPhdY7MQ2I3FNiCAhY2MVAOR58RexS4-sSuNKFri+x9YrUeGOdGRjy8U42MTgLwE1N7GfnBUcuN5E08Mx1fEcZQLzHDxJx-TfALQJID0DR8ZRdcVWLTGDjABA-H8Y6OvH5jbxdLRYZ4JGzYcrOwFAEkMNPEfDhgnI88lhLOFe0XRYRG5ofhEFOsExcIQYntDfrjDWKyopCqqKQEvD9qEwnMU7x3okS7Wfg9KloJ0GxdoRY-AgaYmV7F5X61YtUYKNdojBxJPwzicRNvHtEcAjABgE9nYC04wAdmXQfVkVFwixxYQqCZ+KHEaj+xv4hCf+KUlwAVJak4iojhwBrCqJA5LXgKXwKGSBxxkl2tXzckcT6+f4ghC6OWHUZVh2NagPGOobkIhyeQrXLUI24esPxlfL8QZ1imxV-Wy2FKeE3qE3jmxwI6yQoz4BaSWCd0KIDYBaq+kC6VnSnrgwSl98kpofSdgpIg74AXRbgGnJ4MKm6DjRbEDvgeXI6gsGGOE60RGCfxY56eP1JqS1LykT8Cp2kxXC3SMoE1YiqqHsVIWqFGTEpQ47AqtOKFPcJpt41qflI6l3RUqEAUsQTQvyNp8hFQv0aMB2keSNpgWaBM2iKFVC7pOfbcT8AOm0Bny9ODSaVIQAqZraf7CqoNJrGcDtO707KQQC+lD5Usd0ChlkIik2jr4qZJXmZFq5MNcJw0zMQw0hmIScpMMn6XNNbpejgWaMjmGtPum1TNp-3QoW9PD4BT9pU02Gb9JOlnSHh88csaTRenuhKZoMqSXCCenrUbplMvGZZIJlTS3AtODgCVLoBlSCahsCngHxVHX8LBejNAZGXZKTTCMUszwRwARk7ZHmVCBUQNJqkr9piBMXPLjIZnJptZn0nQXrICbzSJBL9OiUSNCqvTJJLEgzNjJcSiybZ9YO2blOlkx9TpF6EyMDm5kiy7p-M72VtKoTPTo5REvaTlN1E-44AyVOAFCKol+Jyhx4y8VTPNnr1hxZk+CY2IKDwA7AEgUkJ5xQAgB7AYmBAIYFqyR4QwKgdoDAHsB1yAASgAHEAAQgAEEeUPKEALcA3RjBB0wsbPrxKSAgAegwsEAB8CAA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4IgZgTghgtgpgZxALlAgDhAlgF0QegCM4AbHIgVyzPzAHsIB3KCAEwH0BGAOnQDsA5ilCRYcYSAAeKAOwBOAGwAaEAE8UAZgUAGFY1kAOFQAsUigL4qIdHFDysUYKCQRwVObDHgPkHim5AMbDwAZToKCABjOBCsAC9xVCkzFXVkXRB9ZBkjEFNkCxUEcKiY+MTQLMUTMwVzS0DMXAJiGkIqGnomFg5ObV5BCVF4CWlszly0mQBWPUMagrqrGzs4HycXAI8sLzWUPwCg5rCI6NiE0ZS1FAysnIXCwJKz8okq5Tza+qKmvAQiUjkdrUchdZhsLg8fhCJLDCrJZAGAwyVKyDRzbK5fKPay2eyOZyudyebz7CD+H7BGLPMoXJJjOSo9IY+6fRYNYqnWnw94POoc34tQGUEG0Bjg3oAJgGMJE0BG9NqKOumJZWK+yzxe2QGyJIG2ux8B0pxxp53hDKZt3mbMenNK5retT530aVP+rSBHVB4p6XA0MqG8otKD6WiZABZppw1S7Nat1oStiTtca3aauY7FQUrbHbUsnpnXklefnXUc-gC2t6xd0IdLoUGxJdsnJGSrJQpJXnsQXcQmCZtiTtSb5yYdBScHcXQJaVdbVWWimaZ5lnWWBe6q17RWC-QHG7Dgy3kR80lplXd1ez4-idUnh4ayRT06EV3TZ1c0gvWb2Oe+eXXP9N2aD1hWBTpfQhCNAyPZts2Rds0k7dsrzjEB+zvXVkxHVNxxNN8iw-BEkJuHsNULadiNLYCCKFatdygjhplguV4M-AppjPTQZG7NdFz-W9tWwx9RzTCtqSIkMc3ncib0ol5qKAr4QMrT0RUgusOAUVjwGPbM5GmUjkElGQIzknEViwh99RTI18NfSSqOk4yf2vO0AKdRYXVU+id00iV2BkXS4RPbRzJVTgFAitClwwqzhJsg0xIciSp0Ulzc3438KPtDKvOqDc6LAhiAr9AwQv0jikQitJOBkGNsvcvsEsTIdbNw+yXzSzyDKy2LBIU7kCo+WjHJK-yfS09g5Eq9iSOipl6o+AaKMwxL2uSvDusnXqONciyCzy4aS2U9lfImjTyBIOAwBwLg5oVDjOElAxjOmCNUJQZEFmRBp1ravUtq6icqXSk6OIyNIvsRZV8j+5cpJGnziu3K78Buu6uH6Q82KehEo0a6GYu+uHSf+1rByBuzn1BjNnJbKGriyH62QRoas0qM6LAutGIOu277s4KFBjg-Gxg+pnEVyFmydhimtUBnCnzHHawb2hEpZh1n4Zkf8kdO7yivGvma0xoWG1FvHpK7YyDAXHXyaEpXRO2unCIZ7MtYxR35cRz2uaNsaJMu-mMcF-1Huk+RJlkWZ+N99mAap5WUrV+n8q9pltbl9njs5-jCuDwVQ7NiPLdlPT5rGTgIwmJkPpJ2Hfr152U9dkG6PBguxm9hPc9bjnVxolTUfUsPzfYA8rar8XQ2mbRlTSRufYHhWB3vTaadV92nMzyHs9Xlv9YDwvRtHk3x7LrGYNx2fpM4IzuOQFf++PtvN+pzraa7jXe8Pt+bNB752HtzfkY9wLX3uixO+oVsxRQMPHZeEYm6J0HsnT+qc3a-wNgfFUOd35DyUkHC+IdTaiknjpWBVUEQTAjEvFAr9ZaEIwSJDqKtxK7VwZrABzCgEn33mfFGl9IEUIjsFah1cUBRnRJFAwsi+G63XtZLe38d44NPv-fBR9+H+0ESPc6EDSoCyxhVSRc8X4Rj4nVGQl5SYsMppgjuP9HLd1XFo6GOilF6IhkI42ZCr5iKxrNcx0dH5LRkAo+xuj4qK3buwtOu83HEQ8czaJ3iiGARIYYkRxj8DYAEMYIWUcWzCyipGHQXinaxI3mw4GLiercLnJ4wBGSQHEKLqQku5CaAFKKdjEp8DhYMOQH0VBa8P51O3pw9WTSvxpObjE9pWTOk5ICaI3pWBClCxFpXOBz1JTaGfmMqpfsakqK-hw1KXDNHzJkoo6pyzkb+O6YEzZ2yuAVybBYsZIzGoPLOawpK0zrmzNuTJFpAK84awMTzIxk18lbP6ZwaeeyaE1xRcc+OUL0GOKmWomZGdfHNIWWggRvjYXgNyQivp90vliwfocpB0jKmtOqUC1RVz04e0ESS+56THkwrAeWV5GzyC0qnoM562gNDGVeitAVgK8XAoJaColPc7kEKWUK7JcLqXowlbfGe+zaEoqlhoBqpyk7Ks5YkjRvLNVWuATq1Zer1l5IlTA416LQwvVjiZAwfEcXKI2pcu1ri-6OrZWcp5htXVUvdTSpF90qHeqkaMyUnBjIWv+Yq61cSnEJOwRGuZELSUTMyc84uW43niuTUFKVtDM0jNekGvNuKC34q5UkyNZb+WLLaS68+azRUevrWYtNPzha1VDHIKJA72U2rDcWxp4LjJasHdwylIqa1isRR8kJk7GUyqWnOp1IaXZFs7iWtdvD23koLtu3mhASD+CaHwHA-woB8GcKoBIEBG012ijOgopkMTxovfE+p6ib0OuZLJPxg1Y2Bwg8+19cB32fqIM4b90QAOhJbHISU1i0S5tGbxdCHLl3XtXXB4W-VQwUbish-iWa+LVtAkQdDmGPQ4b4HhgAtPACAAg4D4aPS2GQCgiYoAUOGQusjsQaEg4W6DhKeXEs0EtcDimzDKZ8Y+4VaG33YA-bxkguGxNCbE6JiAAmsB8AAG5idcIB2d0wSPZA0E3QyDx9PnNDVgmjNy4NSzI7520-mWNPrHtx0zWHCB8cExgEguA8DibRemxBz85MKoKLp-LKmu3hto5p5Asi6o6b8w+0BuqE2vLiw5hLSWrMpbS1ZhzzmICuYI-Awynm5Mwwi0porKru32rK2F8D8cRsGdq6h2LJmmsTXYObNzoztDEYbp9c9kyxslZC5Nu9C6Y1DuEQExrZntzsFpetl62gpYfQ3Yuzt+2V2HY1X257p2t1GcWxh+LK2cB0HQOthqcquyHVG7a97YK4MHSauhaLf3L6XYSyQOgkQADW62owgZlt9ArBgIzQ+ow0j77jZBMjsYiInJO5sdOHW6hrS2ruRDoDAdALA7AMFxwoEZ0UFyrLeqToL5O4dHYQwYkXDOVlM-qzWtH-x2d8AQLYD97BMB0FYBQPDd3pMC40POuQjVBpUbFzB0rn2QNC9N7lM7LzFes6wyrtX377oIC2T+kgd3bEgaYbIO3SrXsw+CxLz7KKGPjEIcjurO7OMvud8rigOB0t3dMp5wNMN6rsbWkui36m95lfo1Lxjuf5Kx7Y+dlnAPlv4EiCn9LAmACOFAoCsDuxUhcGhoyUfz84y3FOUmhmft33vzGdUaGJ9Xp3terusCwClqAqh1tyZkyZfnPsmecFFwPwvyTpLMpflvh4O-ZdVq6bPnjtAQRifW1xCrpGMQTAyGb-vV7xfqspxtqPL+kc6qr0dwTyV3wAEDoGcHYCgEiGiHQGBwy2+Qfgailjk2NyD0shDzJ0H3D2-xt3AzQKOgdw4zUhAOaBgE12sB1z116w4i0HXyihpyRAeGmF3w-ywK-2H2P1L2liYJq0Zxn2AKT3Di63v1lWpwxAUGvHkBYLUzVQ0wj393EMkLkF4Ll34OIMEIxwECwEiHYAEFWD50ey4nA2HUDWkJBW5SL0+yliFxMMlBUIvxHSv0BwxjoC0J0L0LwAEz4BsFXw0HXy0AdgK3QNqTezD3YOjij3kX-1+zj2Mznyw00O0N0NWAE152oIRAUCMJVGmAXmMN+n83Nz31kMsO-2sLyLZii0IMvwEPiP+ESPcJSMkDSIk2zA+iPwjEh0Q2+hagwIL2KIP0Zij2FwIJiIW1R0EJgAczv3SJrisWMhQPA3L2CIuT6IsIGOzEf3gyqCWJGNPhi3GNqPwEmL4Cs0iGMCgAcygBfTgDuw802IWMLh2LMNVTWN7U2KFyePPzjXl3j3UMOMmMkGmJaOemFn9SIxp3qhmzz16KKNeNLX9QXEhOiL2NnSeLiOvy5yayBMywsS0GMkiTI0ALfxhNYP317TKNYyI2RP0VRLUJaBAMxI-Ss1YHCGuM7w7EtUpPLwmA7RCND0-zkNKN-ypLZB5PsMNiJNRN+PpMEMZKb0mIgGsAgDWHWyIxA3BOfxFOJL5MwLJNLQpKyElIrwAK1OqL+IxIuKZLs1b3b3WzxOzjA34h73bG1JWNhJ7XhKj2dOpIpU0GnyAPNOcOVPb2xIQNKQUGk2pz8Omz7xJJkLhPBXXyFyhONNGJ+PRKDISngIZVKTMk8w1K6PkkKNJP6PJKGJ+K+JQ3TP+2v3Wjs2gMYDuwvCjPCwrIC0vXjI9PBQNOFUrMLOZycLrzrIE3Whf31ysSZCz3KNdMC3dImysPLJ9MM1iJrOcLd2x1DJzOzDMiPwJOfxmFjJ1NWK7LgwRP3JTI8hiKNIHJqOvzVwYCgFEzuwi2QgjOf0yIWDY2ePG1g2L1wNYw-NFKI3FMDiNK-IzLrw8G-U93vOzOtlKXChGTkAXAkMPLdJLITNCyj1QonzTLpI9BAKgtV0XzgKEywEVIYBVJmNDGIyPzy03zimLM7PnO-0lARyyAYqQyqMcNvOcKgoQGMF9wjClinP7J6KPLnN-IXK4Igz7P2Iu0EIoD4FYBs2sCUo4E9HYDgA-QgBX2ooKAFyqzZBmG-IO2wI4M80zSMvyBMrkpRwUsOPUtUvCGUvYE0u0o8FUAExwCwDE3pXgoQinwblyIU1+np3bKg3MJPLK08xemsu+nCtjzGIcuvycpEzUtcvcskFwFVPqkjBkCFwK1soitUyipYosqGKKuYLspXIONSuUucvUrcsBC0uypwG8t8ogH8vvlKSZDyzkAihsuqpKuK1h3CJbE8yF0GrjhArEulIIsEMc3IpwDbxIHIMx0QGKDgp6uzAjPuJ72nLMHCqYrKqkqFI7EOoKESu4pvMDLryWogBWogK12iAQC2oEzlM3ICo4hkSZAz1OWWNnIwuis+3YsVUvJRNqpSucIeqerWpes2oYBHKzLuzehyyNwxFEMYvf2YrOosrBvKxdPtzwoDJlMONhtWvWtevevXKxy+p2o4g+ksrfOjUBo7NOqt2-wJt9ghppKhpr2vwpueusGpqRqUtpvppNRrgfxbMurZsipeJBvOu-Dlt2L5uSoFucMYHIrgHYBWr4BOJ930pRW8z6qCtCttDPxGtCIFJKIqouotuxCtqSurMvg6AX0EC-W9z-Ulp9VGRQWflEu3T235LYMFI4J7Ljxqo1prXdocwEHM0s22qltDHoXXwLMNM5JnPZsVvKofiTP3PwNmsNNNJ4rUjjs9uwws34ys2E1szu1rhAzkwJ3y1P1MrGvDukk2LbVbstuLvsteQroTqrqTusxEw6ycxcxuONvCn9WbvA2moKCtpOtzrxukilh7oGrbujtdoCSHsTprrsza1T19vTReixrSHnsdrMGXpxo5qHy7r+viqXv7v5tjuoA9uHsS2ruS3QFSxPrs06yntVPH0vvNqqAvNvrjPvvMvXqfsLkgdfpjoT33uuzW30rnU2I+gYIrRXp-M5ojuOzJR3vwp6RMXuhxmBJIgxuyPoV22ttDr1O7KIYrRdtIYgk-pW1u2NrKW22+3zQkuBrzsIxYZjxuoVwTz3QlUoZxPzpL2QX4d5PQtxoIcym0WjWhRJqIJaFQc0uB1B30oamfgCKhxDt1NLNLQJpylTMhuQbUj3T3AhBkbDO3PKRVBMcR2xugdXtUZEa4Osd5t9LfpQY-vjoIsxxx0MY+mCodnL3kXbrCM7skzEITjicqK0bNJ0dCcrvZ0525zgLtIUHmOEsuplwYfMcwslxVsLLKbYdJo9FQdd3V3ui10oNPtxM6PPE6JZiJqLLvp8YfpbCPwdl6cCeXLsayZIE4frzoFV2afYE9wEG93Ty3pVA6LIwKt+nEuUZgfGvgXeJZFf26KQd3sHuyeHobwAbu20EKimGjNYyzuhMEZUcGaGV-0eZsb5uvIkfLvOeTwAZbzbw730vtJVCDs0BCuzoVvwdeeelH0xsheJshqn0XtusmemYXyXz0qobGEiRGSjBbv9OxG0ASdtvWI4hyx9lRZJZIfqY0mmbAFv2Tr9pNyP3BfI1Ge2aBpedgdKQLoec5dfu+fmvpbCdAPALWqgJgIKZBc6ZQE7FQUFbMePOEdaMiKVcrW+PYdQeMAoEIHZMvqyKyC0GHQvFJbDrtrUbqm7xZvyDNZqpRYWBRZFY4bFdIPWraeZfTVoOpwdjlkMnNaYbg2GYBuGrqe0Yab+aEPaYfg0COT+v9I4uHVsUDYscTLovEOTedQybLvRbFfqOSLwEKc8xyJp2Fygeed2aSazhkpMOdvEZddQYLY8LgC8J8P0rXyWiKZ9k+PKZVbXpPEiN7fDcycjamfzdcKSJbdSK9YsRyP9RyJsPyNTcqekuqel3SdsdOffvHcrubcaOaNkZbBQXxZwuly5Zzphd5ZrfXbOgMDVqCYmbHemeOJjdKXtn2p8zQOGrwbMr2ZoKGO-ZOe1ajdffrPOMuLZJBeibWdZSqCA+Vckt8Y2MA54NpYjdFcroBLffgRucDrYv3NRYvehb-erf2neaI6FdLrRefbFc+tnejjjYdIhOo+I9KoGevbwVvdGVY6o7RLHlQfo4ExZL1ZugNcJ01O5PvZXaVsIa4LAuk5qrAuAufUE8tPlPIqVKopxdkCsrBYI65LQu5arctcGPk946U949U6jaE5tOBZ09GWCpbu9K8crY4--YRDPKdKMiXNq0dbpddcruDJUoY-ffNrSHZeGyeZ2fc7I9oSGIvIffGe3ZCd3eHrrOfIOv06G0S5k9VeegS9874IC9QeHIbN92mH9T3IQaM8vdI9M-gUK9wq3ZA7S-+GHNHPtlRpyNlpq9c5i6vY85ria64pzZo8w+HoltC-gTYqPwzsY0o8Q6EYHb6nk7MiK6yWFes7a-wFgsfOnoc6zV3PnSikXqzQrYG-q-JdoRA0JMWiAvravNLvAoE6jaIpgplcO-Clu8YP4hwqhfY8G7i9SS2Nk2amA5K7e+gGItgrIoouVPs6Pf2e0H9S0HnVtei+M9i4a5oMjox8+cfZS9+Z2-4sEuNo6OO9bNq5I47px54VrY24cPG8C+HrSoEAyo0pao8t0uufk3PAPMeIWDMjy5W4A47E3vL2F-Q9HYm-+DZ45+arIC0p0q8p8r8vW0DU2Ip8WOXaW55aG600imNzSYh4w5Z7l4avSpcs56V7gDaqbJZrSA6J80l+Ov6aB7p7GAOcF+MuurG5+bzcrvl+t8V-ujt9wA6vV-J9ZSd7PbMFd5F+Q7F+49Lql81arNa+maFvhpFsRum8ZsArAexW5jd+8Y9+u5B83qZz95a8h52+z6prz4+vU5w5+umE2ItT9ep8B6u97W5v9aS-myJ8D+Hob4RreqRoy+NotQXZKadPB715M4r80EjvNtG9r7N9QbH9z4n6PtsA3Pz4RCZqZC0HGW79GsSc97uS7+a-VuH9o8ru342t34E3Fv37psP5rjnTBMdODr7aQ9hb08U+bZEdrmwf7D1taypPWkpUNqr4IwWvSrjr1tA0t-+y3JPgiA75IDiWpvGXuzgxzdYuM-gDXoghP4055MdrUvm53L5lkHaxrU1jXz5rkDNAAfZXHQHwHK5VA36VUpKA75kD6BifQAZX0xr8CHWprFgTM3YGgFlS2lO7PAOfhWJnOIg1Afr2B5kRaBzAp1gwKCZMDys4gvAQwH+DoAIgf9A7kj2ehyCT+IpOgZoIEGccgB8rYQTYNEFOs9BbAgwfkm05mCbu63NZhoB7o6DvMtgg3vBmQiOC2QgQ5weENcGSClK+ghHrIJ8HnhCo1g8IZQMu609l+IQhwU6SUGx4Ah0Q9wYwGMDNBbicVXwf4KUG-sMhNA0ITkKcHp86hUQkVnEP+CqBSAGORssbWjCeZZUeWAIWkKx7UD9S8DFIRQNfr5CRWKldoAIHwBSsMMcBBZhjhwB2ksilWBOL9CCGqCshoPREBsJqrXgDAkwuANMPwBwAAAVnAEiALCEASwwpsch9h7DlBS-GoWoJZiPDY8BwkVpMQQCRB8AurQgOwAXzKkrhWAWZuwAcwL5IgPOT-iPlWZO9x8xrcvH4M2FX9th3eJEXYQdYYivhi+X4ePy2qAjF8VxG6IjxcbPRquTvVmFkHb4LAciKIzIZS34g0i2QdImqvd3yDRQcRPw-APiIYCEifhszE4lcM8FkjaEOQeQSQP4goJaRSjQYb31LTyNGEGIaUSyOzaQ12RsmEnLzG+G-DguYmdgHQC6wWZsWXg3FqyFfKHMFg9Cekb2kjwdhi+2QI5sgGtHS8wBRxXEbtyWFuV28kBCip0MO5sVYqqzLIJKEXqhibRCo7TPxFDELBwxNVTsLGPEE6jPRNgXQnQG1y+jrA-o00TRRFLIRDkGIGMWyE7ARjEyUeIsfkBLHxjh0JY7UR6L26iYDRRo5fKjSkwNwyhHFJ0XG1LFYUuCrKO1igNjz9iV+XI34cwFUDoA6ATWFZpZQjAt0Ex4QzEU8Ox6ZDveIY01kuLyHYi6x3I8cZOKazsBIBiAW4iFSd5uNERTrJcVUMv6ZDV+2IrEZeJFZHiPQ6Ym6N+nYDYQVmR+U7oWKDyvQexZWYxr+NjGHCHxi4p8TrRfFsC4A74g4OtkOR+DJycgCEimX-GL8VxvaEZCd1QmgSGhF48CbzGfH4BMWf9ZfIQNMGiixgiCKWHP2NYFYjcAEtdq8M0D0TN2jA1iRBOVL-ASJxo+vJwL4CyC+eELMgRxPQlDDmGXBGhnazYnaCOJhEyCcRMXykTVAUguADIONom5jI9CESU6wKLu95REk7jlJJYnjC5JqMIiTxLIlGCIAJgk8SBijDd5RJy48Sb2KMlOS8hZkk2BZKUm8T4hXQt6JGBCp0TdJjE5WsxPKzuTJ8nkshN5Kxb4AihJQ42l2HslBSWJIUsSQZNcnhTjJEU0ySFPklcTFJcUtoSQA6H64fOazVKRFPSnOTMpVTbKZFJiI5SGJBUggDdC6wGiBJHbG5lGI4q9MU2GU6oQqPuLiF+paou-qQyIn1EICcw2Aoe0omhh5EnmNOsqMl4Xc5RQ08FK9CjwTljKj3DfjLymmTsoRa1c4ZcM+45jRkp4CpA6LrhWif2+kzaXBgM7cc7pbIKMDgLdFESTiOARgAwCxzsAVcYAVLFcP1z1w1m4M-CQONClyc1hUMkcWBLtZ2FWp-wH6X9IgAAy4AnOHACaIWmjJMiy088fK2vDIjBpN4t4uWJJmbjJ8248yQpMNFiZjRetagBRK3IcQ2KUsGnBqOQCciyZZLF4TsO5m8y8JmohYJyJRm7c4ALuWZsDO0L3RIg1gN6unm7Yqhquf-a8fzOGEM9b+hPSaQpNcDSy+Assq4R+KYhNk2x7jFmoaQX61SnpZWC+uFPBnr8JpdLIiQbNYFGyQZHuP+jlQ0mxUfMw6aYLKLq52ymJhNS6kHM+njc3ZUsj2cbPugrUIAXUw7jkXsmSjqRcsSOXzItarjs0MMIOTKKjniCY5WGRlt1nlmKyEAtxFURFwM7qzHp5MrWcAMZ5atXZ+s2OTfnLmmytITZW5swLyxOzMeIcxueCgdk7DB5BPZLnrMKnuzO5auBZj7OWHQdjkVPVUTDLgbuMhsgc8abrLbkzyO5Zc+eYnOTmXSoodoykQ6ILlrzs5Qbe2XnIxBXz8gWckWcE0rAlz-grgFXBwAVl0AlZxtYnFrF-69lbZI8rKTsNkovyn28U9uVhk-mzMOAjjUkWzJu5uMumA8m2RrJzlvECaE8sZkP2nkEBZ5cC1ysfVXz2wu2Ec4OTT1AX1Tw5hZZ+aAOjkwKP5lw+BdAKTn64mMF8h+ZnKoU99Q53+MeVjQzmFzXRTCwqc+PIJwAlqcAbMXjMfj+kzxfQ+8SAs1mGTspKircY+NdDwBbAEgHYPtxQAgA7AFmBANoHYAwBm8gYFQF0BgB2AjFAAJQADiAAIQACCSIJECACKC1ZDkc4z8ptkSonTEgIAfoNMBAD1AgAA"))
}
, function(e, t, r) {
    var n = r(229)
      , i = r(110)
      , o = r(69)
      , a = r(132)
      , s = r(231);
    function resolve(e, t, r) {
        var n = this._refs[r];
        if ("string" == typeof n) {
            if (!this._refs[n])
                return resolve.call(this, e, t, n);
            n = this._refs[n]
        }
        if ((n = n || this._schemas[r])instanceof a)
            return inlineRef(n.schema, this._opts.inlineRefs) ? n.schema : n.validate || this._compile(n);
        var i, o, s, l = resolveSchema.call(this, t, r);
        return l && (i = l.schema,
        t = l.root,
        s = l.baseId),
        i instanceof a ? o = i.validate || e.call(this, i.schema, t, void 0, s) : void 0 !== i && (o = inlineRef(i, this._opts.inlineRefs) ? i : e.call(this, i, t, void 0, s)),
        o
    }
    function resolveSchema(e, t) {
        var r = n.parse(t)
          , i = _getFullPath(r)
          , o = getFullPath(this._getId(e.schema));
        if (0 === Object.keys(e.schema).length || i !== o) {
            var s = normalizeId(i)
              , l = this._refs[s];
            if ("string" == typeof l)
                return resolveRecursive.call(this, e, l, r);
            if (l instanceof a)
                l.validate || this._compile(l),
                e = l;
            else {
                if (!((l = this._schemas[s])instanceof a))
                    return;
                if (l.validate || this._compile(l),
                s == normalizeId(t))
                    return {
                        schema: l,
                        root: e,
                        baseId: o
                    };
                e = l
            }
            if (!e.schema)
                return;
            o = getFullPath(this._getId(e.schema))
        }
        return getJsonPointer.call(this, r, o, e.schema, e)
    }
    function resolveRecursive(e, t, r) {
        var n = resolveSchema.call(this, e, t);
        if (n) {
            var i = n.schema
              , o = n.baseId;
            e = n.root;
            var a = this._getId(i);
            return a && (o = resolveUrl(o, a)),
            getJsonPointer.call(this, r, o, i, e)
        }
    }
    e.exports = resolve,
    resolve.normalizeId = normalizeId,
    resolve.fullPath = getFullPath,
    resolve.url = resolveUrl,
    resolve.ids = function resolveIds(e) {
        var t = normalizeId(this._getId(e))
          , r = {
            "": t
        }
          , a = {
            "": getFullPath(t, !1)
        }
          , l = {}
          , c = this;
        return s(e, {
            allKeys: !0
        }, (function(e, t, s, u, d, p, h) {
            if ("" !== t) {
                var g = c._getId(e)
                  , f = r[u]
                  , m = a[u] + "/" + d;
                if (void 0 !== h && (m += "/" + ("number" == typeof h ? h : o.escapeFragment(h))),
                "string" == typeof g) {
                    g = f = normalizeId(f ? n.resolve(f, g) : g);
                    var y = c._refs[g];
                    if ("string" == typeof y && (y = c._refs[y]),
                    y && y.schema) {
                        if (!i(e, y.schema))
                            throw new Error('id "' + g + '" resolves to more than one schema')
                    } else if (g != normalizeId(m))
                        if ("#" == g[0]) {
                            if (l[g] && !i(e, l[g]))
                                throw new Error('id "' + g + '" resolves to more than one schema');
                            l[g] = e
                        } else
                            c._refs[g] = m
                }
                r[t] = f,
                a[t] = m
            }
        }
        )),
        l
    }
    ,
    resolve.inlineRef = inlineRef,
    resolve.schema = resolveSchema;
    var l = o.toHash(["properties", "patternProperties", "enum", "dependencies", "definitions"]);
    function getJsonPointer(e, t, r, n) {
        if (e.fragment = e.fragment || "",
        "/" == e.fragment.slice(0, 1)) {
            for (var i = e.fragment.split("/"), a = 1; a < i.length; a++) {
                var s = i[a];
                if (s) {
                    if (void 0 === (r = r[s = o.unescapeFragment(s)]))
                        break;
                    var c;
                    if (!l[s] && ((c = this._getId(r)) && (t = resolveUrl(t, c)),
                    r.$ref)) {
                        var u = resolveUrl(t, r.$ref)
                          , d = resolveSchema.call(this, n, u);
                        d && (r = d.schema,
                        n = d.root,
                        t = d.baseId)
                    }
                }
            }
            return void 0 !== r && r !== n.schema ? {
                schema: r,
                root: n,
                baseId: t
            } : void 0
        }
    }
    var c = o.toHash(["type", "format", "pattern", "maxLength", "minLength", "maxProperties", "minProperties", "maxItems", "minItems", "maximum", "minimum", "uniqueItems", "multipleOf", "required", "enum"]);
    function inlineRef(e, t) {
        return !1 !== t && (void 0 === t || !0 === t ? function checkNoRef(e) {
            var t;
            if (Array.isArray(e)) {
                for (var r = 0; r < e.length; r++)
                    if ("object" == typeof (t = e[r]) && !checkNoRef(t))
                        return !1
            } else
                for (var n in e) {
                    if ("$ref" == n)
                        return !1;
                    if ("object" == typeof (t = e[n]) && !checkNoRef(t))
                        return !1
                }
            return !0
        }(e) : t ? function countKeys(e) {
            var t, r = 0;
            if (Array.isArray(e)) {
                for (var n = 0; n < e.length; n++)
                    if ("object" == typeof (t = e[n]) && (r += countKeys(t)),
                    Infinity == r)
                        return Infinity
            } else
                for (var i in e) {
                    if ("$ref" == i)
                        return Infinity;
                    if (c[i])
                        r++;
                    else if ("object" == typeof (t = e[i]) && (r += countKeys(t) + 1),
                    Infinity == r)
                        return Infinity
                }
            return r
        }(e) <= t : void 0)
    }
    function getFullPath(e, t) {
        return !1 !== t && (e = normalizeId(e)),
        _getFullPath(n.parse(e))
    }
    function _getFullPath(e) {
        return n.serialize(e).split("#")[0] + "#"
    }
    var u = /#\/?$/;
    function normalizeId(e) {
        return e ? e.replace(u, "") : ""
    }
    function resolveUrl(e, t) {
        return t = normalizeId(t),
        n.resolve(e, t)
    }
}
, function(e, t, r) {
    e.exports = function equal(e, t) {
        if (e === t)
            return !0;
        if (e && t && "object" == typeof e && "object" == typeof t) {
            if (e.constructor !== t.constructor)
                return !1;
            var r, n, i;
            if (Array.isArray(e)) {
                if ((r = e.length) != t.length)
                    return !1;
                for (n = r; 0 != n--; )
                    if (!equal(e[n], t[n]))
                        return !1;
                return !0
            }
            if (e.constructor === RegExp)
                return e.source === t.source && e.flags === t.flags;
            if (e.valueOf !== Object.prototype.valueOf)
                return e.valueOf() === t.valueOf();
            if (e.toString !== Object.prototype.toString)
                return e.toString() === t.toString();
            if ((r = (i = Object.keys(e)).length) !== Object.keys(t).length)
                return !1;
            for (n = r; 0 != n--; )
                if (!Object.prototype.hasOwnProperty.call(t, i[n]))
                    return !1;
            for (n = r; 0 != n--; ) {
                var o = i[n];
                if (!equal(e[o], t[o]))
                    return !1
            }
            return !0
        }
        return e != e && t != t
    }
}
, function(e, t, r) {
    var n = r(109);
    function MissingRefError(e, t, r) {
        this.message = r || MissingRefError.message(e, t),
        this.missingRef = n.url(e, t),
        this.missingSchema = n.normalizeId(n.fullPath(this.missingRef))
    }
    function errorSubclass(e) {
        return e.prototype = Object.create(Error.prototype),
        e.prototype.constructor = e,
        e
    }
    e.exports = {
        Validation: errorSubclass((function ValidationError(e) {
            this.message = "validation failed",
            this.errors = e,
            this.ajv = this.validation = !0
        }
        )),
        MissingRef: errorSubclass(MissingRefError)
    },
    MissingRefError.message = function(e, t) {
        return "can't resolve reference " + t + " from id " + e
    }
}
, function(e, t, r) {
    !function webpackUniversalModuleDefinition(t, r) {
        e.exports = r()
    }("undefined" != typeof self && self, (function() {
        return function(e) {
            var t = {};
            function __webpack_require__(r) {
                if (t[r])
                    return t[r].exports;
                var n = t[r] = {
                    i: r,
                    l: !1,
                    exports: {}
                };
                return e[r].call(n.exports, n, n.exports, __webpack_require__),
                n.l = !0,
                n.exports
            }
            return __webpack_require__.m = e,
            __webpack_require__.c = t,
            __webpack_require__.d = function(e, t, r) {
                __webpack_require__.o(e, t) || Object.defineProperty(e, t, {
                    configurable: !1,
                    enumerable: !0,
                    get: r
                })
            }
            ,
            __webpack_require__.n = function(e) {
                var t = e && e.__esModule ? function getDefault() {
                    return e.default
                }
                : function getModuleExports() {
                    return e
                }
                ;
                return __webpack_require__.d(t, "a", t),
                t
            }
            ,
            __webpack_require__.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }
            ,
            __webpack_require__.p = "",
            __webpack_require__(__webpack_require__.s = 3)
        }([function(e, t, r) {
            var n = r(5)
              , i = r(1)
              , o = i.toHex
              , a = i.ceilHeapSize
              , s = r(6)
              , l = function(e) {
                for (e += 9; e % 64 > 0; e += 1)
                    ;
                return e
            }
              , c = function(e, t) {
                var r = new Int32Array(e,t + 320,5)
                  , n = new Int32Array(5)
                  , i = new DataView(n.buffer);
                return i.setInt32(0, r[0], !1),
                i.setInt32(4, r[1], !1),
                i.setInt32(8, r[2], !1),
                i.setInt32(12, r[3], !1),
                i.setInt32(16, r[4], !1),
                n
            }
              , u = function() {
                function Rusha(e) {
                    if (function _classCallCheck(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, Rusha),
                    (e = e || 65536) % 64 > 0)
                        throw new Error("Chunk size must be a multiple of 128 bit");
                    this._offset = 0,
                    this._maxChunkLen = e,
                    this._padMaxChunkLen = l(e),
                    this._heap = new ArrayBuffer(a(this._padMaxChunkLen + 320 + 20)),
                    this._h32 = new Int32Array(this._heap),
                    this._h8 = new Int8Array(this._heap),
                    this._core = new n({
                        Int32Array
                    },{},this._heap)
                }
                return Rusha.prototype._initState = function _initState(e, t) {
                    this._offset = 0;
                    var r = new Int32Array(e,t + 320,5);
                    r[0] = 1732584193,
                    r[1] = -271733879,
                    r[2] = -1732584194,
                    r[3] = 271733878,
                    r[4] = -1009589776
                }
                ,
                Rusha.prototype._padChunk = function _padChunk(e, t) {
                    var r = l(e)
                      , n = new Int32Array(this._heap,0,r >> 2);
                    return function(e, t) {
                        var r = new Uint8Array(e.buffer)
                          , n = t % 4
                          , i = t - n;
                        switch (n) {
                        case 0:
                            r[i + 3] = 0;
                        case 1:
                            r[i + 2] = 0;
                        case 2:
                            r[i + 1] = 0;
                        case 3:
                            r[i + 0] = 0
                        }
                        for (var o = 1 + (t >> 2); o < e.length; o++)
                            e[o] = 0
                    }(n, e),
                    function(e, t, r) {
                        e[t >> 2] |= 128 << 24 - (t % 4 << 3),
                        e[14 + (2 + (t >> 2) & -16)] = r / (1 << 29) | 0,
                        e[15 + (2 + (t >> 2) & -16)] = r << 3
                    }(n, e, t),
                    r
                }
                ,
                Rusha.prototype._write = function _write(e, t, r, n) {
                    s(e, this._h8, this._h32, t, r, n || 0)
                }
                ,
                Rusha.prototype._coreCall = function _coreCall(e, t, r, n, i) {
                    var o = r;
                    this._write(e, t, r),
                    i && (o = this._padChunk(r, n)),
                    this._core.hash(o, this._padMaxChunkLen)
                }
                ,
                Rusha.prototype.rawDigest = function rawDigest(e) {
                    var t = e.byteLength || e.length || e.size || 0;
                    this._initState(this._heap, this._padMaxChunkLen);
                    var r = 0
                      , n = this._maxChunkLen;
                    for (r = 0; t > r + n; r += n)
                        this._coreCall(e, r, n, t, !1);
                    return this._coreCall(e, r, t - r, t, !0),
                    c(this._heap, this._padMaxChunkLen)
                }
                ,
                Rusha.prototype.digest = function digest(e) {
                    return o(this.rawDigest(e).buffer)
                }
                ,
                Rusha.prototype.digestFromString = function digestFromString(e) {
                    return this.digest(e)
                }
                ,
                Rusha.prototype.digestFromBuffer = function digestFromBuffer(e) {
                    return this.digest(e)
                }
                ,
                Rusha.prototype.digestFromArrayBuffer = function digestFromArrayBuffer(e) {
                    return this.digest(e)
                }
                ,
                Rusha.prototype.resetState = function resetState() {
                    return this._initState(this._heap, this._padMaxChunkLen),
                    this
                }
                ,
                Rusha.prototype.append = function append(e) {
                    var t = 0
                      , r = e.byteLength || e.length || e.size || 0
                      , n = this._offset % this._maxChunkLen
                      , i = void 0;
                    for (this._offset += r; t < r; )
                        i = Math.min(r - t, this._maxChunkLen - n),
                        this._write(e, t, i, n),
                        t += i,
                        (n += i) === this._maxChunkLen && (this._core.hash(this._maxChunkLen, this._padMaxChunkLen),
                        n = 0);
                    return this
                }
                ,
                Rusha.prototype.getState = function getState() {
                    var e = void 0;
                    if (this._offset % this._maxChunkLen)
                        e = this._heap.slice(0);
                    else {
                        var t = new Int32Array(this._heap,this._padMaxChunkLen + 320,5);
                        e = t.buffer.slice(t.byteOffset, t.byteOffset + t.byteLength)
                    }
                    return {
                        offset: this._offset,
                        heap: e
                    }
                }
                ,
                Rusha.prototype.setState = function setState(e) {
                    return this._offset = e.offset,
                    20 === e.heap.byteLength ? new Int32Array(this._heap,this._padMaxChunkLen + 320,5).set(new Int32Array(e.heap)) : this._h32.set(new Int32Array(e.heap)),
                    this
                }
                ,
                Rusha.prototype.rawEnd = function rawEnd() {
                    var e = this._offset
                      , t = e % this._maxChunkLen
                      , r = this._padChunk(t, e);
                    this._core.hash(r, this._padMaxChunkLen);
                    var n = c(this._heap, this._padMaxChunkLen);
                    return this._initState(this._heap, this._padMaxChunkLen),
                    n
                }
                ,
                Rusha.prototype.end = function end() {
                    return o(this.rawEnd().buffer)
                }
                ,
                Rusha
            }();
            e.exports = u,
            e.exports._core = n
        }
        , function(e, t) {
            for (var r = new Array(256), n = 0; n < 256; n++)
                r[n] = (n < 16 ? "0" : "") + n.toString(16);
            e.exports.toHex = function(e) {
                for (var t = new Uint8Array(e), n = new Array(e.byteLength), i = 0; i < n.length; i++)
                    n[i] = r[t[i]];
                return n.join("")
            }
            ,
            e.exports.ceilHeapSize = function(e) {
                var t = 0;
                if (e <= 65536)
                    return 65536;
                if (e < 16777216)
                    for (t = 1; t < e; t <<= 1)
                        ;
                else
                    for (t = 16777216; t < e; t += 16777216)
                        ;
                return t
            }
            ,
            e.exports.isDedicatedWorkerScope = function(e) {
                var t = "WorkerGlobalScope"in e && e instanceof e.WorkerGlobalScope
                  , r = "SharedWorkerGlobalScope"in e && e instanceof e.SharedWorkerGlobalScope
                  , n = "ServiceWorkerGlobalScope"in e && e instanceof e.ServiceWorkerGlobalScope;
                return t && !r && !n
            }
        }
        , function(e, t, r) {
            e.exports = function() {
                var e = r(0)
                  , t = function(e, r, n, i, o) {
                    var a = new self.FileReader;
                    a.onloadend = function onloadend() {
                        if (a.error)
                            return o(a.error);
                        var s = a.result;
                        r += a.result.byteLength;
                        try {
                            e.append(s)
                        } catch (l) {
                            return void o(l)
                        }
                        r < i.size ? t(e, r, n, i, o) : o(null, e.end())
                    }
                    ,
                    a.readAsArrayBuffer(i.slice(r, r + n))
                }
                  , n = !0;
                return self.onmessage = function(r) {
                    if (n) {
                        var i = r.data.data
                          , o = r.data.file
                          , a = r.data.id;
                        if (void 0 !== a && (o || i)) {
                            var s = r.data.blockSize || 4194304
                              , l = new e(s);
                            l.resetState();
                            var c = function(e, t) {
                                e ? self.postMessage({
                                    id: a,
                                    error: e.name
                                }) : self.postMessage({
                                    id: a,
                                    hash: t
                                })
                            };
                            i && function(e, t, r) {
                                try {
                                    r(null, e.digest(t))
                                } catch (n) {
                                    return r(n)
                                }
                            }(l, i, c),
                            o && t(l, 0, s, o, c)
                        }
                    }
                }
                ,
                function() {
                    n = !1
                }
            }
        }
        , function(e, t, r) {
            var n = r(4)
              , i = r(0)
              , o = r(7)
              , a = r(2)
              , s = r(1).isDedicatedWorkerScope
              , l = "undefined" != typeof self && s(self);
            i.disableWorkerBehaviour = l ? a() : function() {}
            ,
            i.createWorker = function() {
                var e = n(2)
                  , t = e.terminate;
                return e.terminate = function() {
                    URL.revokeObjectURL(e.objectURL),
                    t.call(e)
                }
                ,
                e
            }
            ,
            i.createHash = o,
            e.exports = i
        }
        , function(e, t, r) {
            function webpackBootstrapFunc(e) {
                var t = {};
                function __webpack_require__(r) {
                    if (t[r])
                        return t[r].exports;
                    var n = t[r] = {
                        i: r,
                        l: !1,
                        exports: {}
                    };
                    return e[r].call(n.exports, n, n.exports, __webpack_require__),
                    n.l = !0,
                    n.exports
                }
                __webpack_require__.m = e,
                __webpack_require__.c = t,
                __webpack_require__.i = function(e) {
                    return e
                }
                ,
                __webpack_require__.d = function(e, t, r) {
                    __webpack_require__.o(e, t) || Object.defineProperty(e, t, {
                        configurable: !1,
                        enumerable: !0,
                        get: r
                    })
                }
                ,
                __webpack_require__.r = function(e) {
                    Object.defineProperty(e, "__esModule", {
                        value: !0
                    })
                }
                ,
                __webpack_require__.n = function(e) {
                    var t = e && e.__esModule ? function getDefault() {
                        return e.default
                    }
                    : function getModuleExports() {
                        return e
                    }
                    ;
                    return __webpack_require__.d(t, "a", t),
                    t
                }
                ,
                __webpack_require__.o = function(e, t) {
                    return Object.prototype.hasOwnProperty.call(e, t)
                }
                ,
                __webpack_require__.p = "/",
                __webpack_require__.oe = function(e) {
                    throw console.error(e),
                    e
                }
                ;
                var r = __webpack_require__(__webpack_require__.s = ENTRY_MODULE);
                return r.default || r
            }
            var n = "[\\.|\\-|\\+|\\w|/|@]+"
              , i = "\\((/\\*.*?\\*/)?s?.*?(" + n + ").*?\\)";
            function quoteRegExp(e) {
                return (e + "").replace(/[.?*+^$[\]\\(){}|-]/g, "\\$&")
            }
            function getModuleDependencies(e, t, o) {
                var a = {};
                a[o] = [];
                var s = t.toString()
                  , l = s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);
                if (!l)
                    return a;
                for (var c, u = l[1], d = new RegExp("(\\\\n|\\W)" + quoteRegExp(u) + i,"g"); c = d.exec(s); )
                    "dll-reference" !== c[3] && a[o].push(c[3]);
                for (d = new RegExp("\\(" + quoteRegExp(u) + '\\("(dll-reference\\s(' + n + '))"\\)\\)' + i,"g"); c = d.exec(s); )
                    e[c[2]] || (a[o].push(c[1]),
                    e[c[2]] = r(c[1]).m),
                    a[c[2]] = a[c[2]] || [],
                    a[c[2]].push(c[4]);
                return a
            }
            function hasValuesInQueues(e) {
                return Object.keys(e).reduce((function(t, r) {
                    return t || e[r].length > 0
                }
                ), !1)
            }
            e.exports = function(e, t) {
                t = t || {};
                var n = {
                    main: r.m
                }
                  , i = t.all ? {
                    main: Object.keys(n)
                } : function getRequiredModules(e, t) {
                    for (var r = {
                        main: [t]
                    }, n = {
                        main: []
                    }, i = {
                        main: {}
                    }; hasValuesInQueues(r); )
                        for (var o = Object.keys(r), a = 0; a < o.length; a++) {
                            var s = o[a]
                              , l = r[s].pop();
                            if (i[s] = i[s] || {},
                            !i[s][l] && e[s][l]) {
                                i[s][l] = !0,
                                n[s] = n[s] || [],
                                n[s].push(l);
                                for (var c = getModuleDependencies(e, e[s][l], s), u = Object.keys(c), d = 0; d < u.length; d++)
                                    r[u[d]] = r[u[d]] || [],
                                    r[u[d]] = r[u[d]].concat(c[u[d]])
                            }
                        }
                    return n
                }(n, e)
                  , o = "";
                Object.keys(i).filter((function(e) {
                    return "main" !== e
                }
                )).forEach((function(e) {
                    for (var t = 0; i[e][t]; )
                        t++;
                    i[e].push(t),
                    n[e][t] = "(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",
                    o = o + "var " + e + " = (" + webpackBootstrapFunc.toString().replace("ENTRY_MODULE", JSON.stringify(t)) + ")({" + i[e].map((function(t) {
                        return JSON.stringify(t) + ": " + n[e][t].toString()
                    }
                    )).join(",") + "});\n"
                }
                )),
                o = o + "(" + webpackBootstrapFunc.toString().replace("ENTRY_MODULE", JSON.stringify(e)) + ")({" + i.main.map((function(e) {
                    return JSON.stringify(e) + ": " + n.main[e].toString()
                }
                )).join(",") + "})(self);";
                var a = new window.Blob([o],{
                    type: "text/javascript"
                });
                if (t.bare)
                    return a;
                var s = (window.URL || window.webkitURL || window.mozURL || window.msURL).createObjectURL(a)
                  , l = new window.Worker(s);
                return l.objectURL = s,
                l
            }
        }
        , function(e, t) {
            e.exports = function RushaCore(e, t, r) {
                "use asm";
                var n = new e.Int32Array(r);
                function hash$850(e, t) {
                    e = e | 0;
                    t = t | 0;
                    var r = 0
                      , i = 0
                      , o = 0
                      , a = 0
                      , s = 0
                      , l = 0
                      , c = 0
                      , u = 0
                      , d = 0
                      , p = 0
                      , h = 0
                      , g = 0
                      , f = 0
                      , m = 0;
                    o = n[t + 320 >> 2] | 0;
                    s = n[t + 324 >> 2] | 0;
                    c = n[t + 328 >> 2] | 0;
                    d = n[t + 332 >> 2] | 0;
                    h = n[t + 336 >> 2] | 0;
                    for (r = 0; (r | 0) < (e | 0); r = r + 64 | 0) {
                        a = o;
                        l = s;
                        u = c;
                        p = d;
                        g = h;
                        for (i = 0; (i | 0) < 64; i = i + 4 | 0) {
                            m = n[r + i >> 2] | 0;
                            f = ((o << 5 | o >>> 27) + (s & c | ~s & d) | 0) + ((m + h | 0) + 1518500249 | 0) | 0;
                            h = d;
                            d = c;
                            c = s << 30 | s >>> 2;
                            s = o;
                            o = f;
                            n[e + i >> 2] = m
                        }
                        for (i = e + 64 | 0; (i | 0) < (e + 80 | 0); i = i + 4 | 0) {
                            m = (n[i - 12 >> 2] ^ n[i - 32 >> 2] ^ n[i - 56 >> 2] ^ n[i - 64 >> 2]) << 1 | (n[i - 12 >> 2] ^ n[i - 32 >> 2] ^ n[i - 56 >> 2] ^ n[i - 64 >> 2]) >>> 31;
                            f = ((o << 5 | o >>> 27) + (s & c | ~s & d) | 0) + ((m + h | 0) + 1518500249 | 0) | 0;
                            h = d;
                            d = c;
                            c = s << 30 | s >>> 2;
                            s = o;
                            o = f;
                            n[i >> 2] = m
                        }
                        for (i = e + 80 | 0; (i | 0) < (e + 160 | 0); i = i + 4 | 0) {
                            m = (n[i - 12 >> 2] ^ n[i - 32 >> 2] ^ n[i - 56 >> 2] ^ n[i - 64 >> 2]) << 1 | (n[i - 12 >> 2] ^ n[i - 32 >> 2] ^ n[i - 56 >> 2] ^ n[i - 64 >> 2]) >>> 31;
                            f = ((o << 5 | o >>> 27) + (s ^ c ^ d) | 0) + ((m + h | 0) + 1859775393 | 0) | 0;
                            h = d;
                            d = c;
                            c = s << 30 | s >>> 2;
                            s = o;
                            o = f;
                            n[i >> 2] = m
                        }
                        for (i = e + 160 | 0; (i | 0) < (e + 240 | 0); i = i + 4 | 0) {
                            m = (n[i - 12 >> 2] ^ n[i - 32 >> 2] ^ n[i - 56 >> 2] ^ n[i - 64 >> 2]) << 1 | (n[i - 12 >> 2] ^ n[i - 32 >> 2] ^ n[i - 56 >> 2] ^ n[i - 64 >> 2]) >>> 31;
                            f = ((o << 5 | o >>> 27) + (s & c | s & d | c & d) | 0) + ((m + h | 0) - 1894007588 | 0) | 0;
                            h = d;
                            d = c;
                            c = s << 30 | s >>> 2;
                            s = o;
                            o = f;
                            n[i >> 2] = m
                        }
                        for (i = e + 240 | 0; (i | 0) < (e + 320 | 0); i = i + 4 | 0) {
                            m = (n[i - 12 >> 2] ^ n[i - 32 >> 2] ^ n[i - 56 >> 2] ^ n[i - 64 >> 2]) << 1 | (n[i - 12 >> 2] ^ n[i - 32 >> 2] ^ n[i - 56 >> 2] ^ n[i - 64 >> 2]) >>> 31;
                            f = ((o << 5 | o >>> 27) + (s ^ c ^ d) | 0) + ((m + h | 0) - 899497514 | 0) | 0;
                            h = d;
                            d = c;
                            c = s << 30 | s >>> 2;
                            s = o;
                            o = f;
                            n[i >> 2] = m
                        }
                        o = o + a | 0;
                        s = s + l | 0;
                        c = c + u | 0;
                        d = d + p | 0;
                        h = h + g | 0
                    }
                    n[t + 320 >> 2] = o;
                    n[t + 324 >> 2] = s;
                    n[t + 328 >> 2] = c;
                    n[t + 332 >> 2] = d;
                    n[t + 336 >> 2] = h
                }
                return {
                    hash: hash$850
                }
            }
        }
        , function(e, t) {
            var r = this
              , n = void 0;
            "undefined" != typeof self && void 0 !== self.FileReaderSync && (n = new self.FileReaderSync);
            var i = function(e, t, r, n, i, o) {
                var a = void 0
                  , s = o % 4
                  , l = (i + s) % 4
                  , c = i - l;
                switch (s) {
                case 0:
                    t[o] = e[n + 3];
                case 1:
                    t[o + 1 - (s << 1) | 0] = e[n + 2];
                case 2:
                    t[o + 2 - (s << 1) | 0] = e[n + 1];
                case 3:
                    t[o + 3 - (s << 1) | 0] = e[n]
                }
                if (!(i < l + (4 - s))) {
                    for (a = 4 - s; a < c; a = a + 4 | 0)
                        r[o + a >> 2 | 0] = e[n + a] << 24 | e[n + a + 1] << 16 | e[n + a + 2] << 8 | e[n + a + 3];
                    switch (l) {
                    case 3:
                        t[o + c + 1 | 0] = e[n + c + 2];
                    case 2:
                        t[o + c + 2 | 0] = e[n + c + 1];
                    case 1:
                        t[o + c + 3 | 0] = e[n + c]
                    }
                }
            };
            e.exports = function(e, t, o, a, s, l) {
                if ("string" == typeof e)
                    return function(e, t, r, n, i, o) {
                        var a = void 0
                          , s = o % 4
                          , l = (i + s) % 4
                          , c = i - l;
                        switch (s) {
                        case 0:
                            t[o] = e.charCodeAt(n + 3);
                        case 1:
                            t[o + 1 - (s << 1) | 0] = e.charCodeAt(n + 2);
                        case 2:
                            t[o + 2 - (s << 1) | 0] = e.charCodeAt(n + 1);
                        case 3:
                            t[o + 3 - (s << 1) | 0] = e.charCodeAt(n)
                        }
                        if (!(i < l + (4 - s))) {
                            for (a = 4 - s; a < c; a = a + 4 | 0)
                                r[o + a >> 2] = e.charCodeAt(n + a) << 24 | e.charCodeAt(n + a + 1) << 16 | e.charCodeAt(n + a + 2) << 8 | e.charCodeAt(n + a + 3);
                            switch (l) {
                            case 3:
                                t[o + c + 1 | 0] = e.charCodeAt(n + c + 2);
                            case 2:
                                t[o + c + 2 | 0] = e.charCodeAt(n + c + 1);
                            case 1:
                                t[o + c + 3 | 0] = e.charCodeAt(n + c)
                            }
                        }
                    }(e, t, o, a, s, l);
                if (e instanceof Array)
                    return i(e, t, o, a, s, l);
                if (r && r.Buffer && r.Buffer.isBuffer(e))
                    return i(e, t, o, a, s, l);
                if (e instanceof ArrayBuffer)
                    return i(new Uint8Array(e), t, o, a, s, l);
                if (e.buffer instanceof ArrayBuffer)
                    return i(new Uint8Array(e.buffer,e.byteOffset,e.byteLength), t, o, a, s, l);
                if (e instanceof Blob)
                    return function(e, t, r, i, o, a) {
                        var s = void 0
                          , l = a % 4
                          , c = (o + l) % 4
                          , u = o - c
                          , d = new Uint8Array(n.readAsArrayBuffer(e.slice(i, i + o)));
                        switch (l) {
                        case 0:
                            t[a] = d[3];
                        case 1:
                            t[a + 1 - (l << 1) | 0] = d[2];
                        case 2:
                            t[a + 2 - (l << 1) | 0] = d[1];
                        case 3:
                            t[a + 3 - (l << 1) | 0] = d[0]
                        }
                        if (!(o < c + (4 - l))) {
                            for (s = 4 - l; s < u; s = s + 4 | 0)
                                r[a + s >> 2 | 0] = d[s] << 24 | d[s + 1] << 16 | d[s + 2] << 8 | d[s + 3];
                            switch (c) {
                            case 3:
                                t[a + u + 1 | 0] = d[u + 2];
                            case 2:
                                t[a + u + 2 | 0] = d[u + 1];
                            case 1:
                                t[a + u + 3 | 0] = d[u]
                            }
                        }
                    }(e, t, o, a, s, l);
                throw new Error("Unsupported data type.")
            }
        }
        , function(e, t, r) {
            var n = r(0)
              , i = r(1).toHex
              , o = function() {
                function Hash() {
                    !function _classCallCheck(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, Hash),
                    this._rusha = new n,
                    this._rusha.resetState()
                }
                return Hash.prototype.update = function update(e) {
                    return this._rusha.append(e),
                    this
                }
                ,
                Hash.prototype.digest = function digest(e) {
                    var digest = this._rusha.rawEnd().buffer;
                    if (!e)
                        return digest;
                    if ("hex" === e)
                        return i(digest);
                    throw new Error("unsupported digest encoding")
                }
                ,
                Hash
            }();
            e.exports = function() {
                return new o
            }
        }
        ])
    }
    ))
}
, function(e, t, r) {
    var n = r(44)
      , i = r(79)
      , o = "".split;
    e.exports = n((function() {
        return !Object("z").propertyIsEnumerable(0)
    }
    )) ? function(e) {
        return "String" == i(e) ? o.call(e, "") : Object(e)
    }
    : Object
}
, function(e, t, r) {
    var n = r(86)
      , i = r(115);
    (e.exports = function(e, t) {
        return i[e] || (i[e] = void 0 !== t ? t : {})
    }
    )("versions", []).push({
        version: "3.6.5",
        mode: n ? "pure" : "global",
        copyright: "\xa9 2020 Denis Pushkarev (zloirock.ru)"
    })
}
, function(e, t, r) {
    var n = r(39)
      , i = r(87)
      , o = n["__core-js_shared__"] || i("__core-js_shared__", {});
    e.exports = o
}
, function(e, t, r) {
    var n = r(49)
      , i = r(44)
      , o = r(117);
    e.exports = !n && !i((function() {
        return 7 != Object.defineProperty(o("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    }
    ))
}
, function(e, t, r) {
    var n = r(39)
      , i = r(51)
      , o = n.document
      , a = i(o) && i(o.createElement);
    e.exports = function(e) {
        return a ? o.createElement(e) : {}
    }
}
, function(e, t, r) {
    var n = r(44);
    e.exports = !!Object.getOwnPropertySymbols && !n((function() {
        return !String(Symbol())
    }
    ))
}
, function(e, t, r) {
    var n = r(45)
      , i = r(78)
      , o = r(153).indexOf
      , a = r(92);
    e.exports = function(e, t) {
        var r, s = i(e), l = 0, c = [];
        for (r in s)
            !n(a, r) && n(s, r) && c.push(r);
        for (; t.length > l; )
            n(s, r = t[l++]) && (~o(c, r) || c.push(r));
        return c
    }
}
, function(e, t, r) {
    var n = r(115)
      , i = Function.toString;
    "function" != typeof n.inspectSource && (n.inspectSource = function(e) {
        return i.call(e)
    }
    ),
    e.exports = n.inspectSource
}
, function(e, t, r) {
    var n = r(45)
      , i = r(159)
      , o = r(96)
      , a = r(50);
    e.exports = function(e, t) {
        for (var r = i(t), s = a.f, l = o.f, c = 0; c < r.length; c++) {
            var u = r[c];
            n(e, u) || s(e, u, l(t, u))
        }
    }
}
, function(e, t, r) {
    var n, i, o, a = r(82), s = r(47), l = r(45), c = r(40), u = r(86), d = c("iterator"), p = !1;
    [].keys && ("next"in (o = [].keys()) ? (i = a(a(o))) !== Object.prototype && (n = i) : p = !0),
    null == n && (n = {}),
    u || l(n, d) || s(n, d, (function() {
        return this
    }
    )),
    e.exports = {
        IteratorPrototype: n,
        BUGGY_SAFARI_ITERATORS: p
    }
}
, function(e, t, r) {
    var n = r(39)
      , i = r(49)
      , o = r(124)
      , a = r(47)
      , s = r(176)
      , l = r(44)
      , c = r(125)
      , u = r(59)
      , d = r(56)
      , p = r(126)
      , h = r(177)
      , g = r(82)
      , f = r(75)
      , m = r(97).f
      , y = r(50).f
      , _ = r(178)
      , v = r(98)
      , b = r(81)
      , w = b.get
      , S = b.set
      , C = n.ArrayBuffer
      , A = C
      , k = n.DataView
      , E = k && k.prototype
      , I = Object.prototype
      , B = n.RangeError
      , x = h.pack
      , P = h.unpack
      , T = function(e) {
        return [255 & e]
    }
      , M = function(e) {
        return [255 & e, e >> 8 & 255]
    }
      , O = function(e) {
        return [255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255]
    }
      , z = function(e) {
        return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0]
    }
      , L = function(e) {
        return x(e, 23, 4)
    }
      , R = function(e) {
        return x(e, 52, 8)
    }
      , D = function(e, t) {
        y(e.prototype, t, {
            get: function() {
                return w(this)[t]
            }
        })
    }
      , U = function(e, t, r, n) {
        var i = p(r)
          , o = w(e);
        if (i + t > o.byteLength)
            throw B("Wrong index");
        var a = w(o.buffer).bytes
          , s = i + o.byteOffset
          , l = a.slice(s, s + t);
        return n ? l : l.reverse()
    }
      , F = function(e, t, r, n, i, o) {
        var a = p(r)
          , s = w(e);
        if (a + t > s.byteLength)
            throw B("Wrong index");
        for (var l = w(s.buffer).bytes, c = a + s.byteOffset, u = n(+i), d = 0; d < t; d++)
            l[c + d] = u[o ? d : t - d - 1]
    };
    if (o) {
        if (!l((function() {
            C(1)
        }
        )) || !l((function() {
            new C(-1)
        }
        )) || l((function() {
            return new C,
            new C(1.5),
            new C(NaN),
            "ArrayBuffer" != C.name
        }
        ))) {
            for (var j, V = (A = function ArrayBuffer(e) {
                return c(this, A),
                new C(p(e))
            }
            ).prototype = C.prototype, H = m(C), G = 0; H.length > G; )
                (j = H[G++])in A || a(A, j, C[j]);
            V.constructor = A
        }
        f && g(E) !== I && f(E, I);
        var W = new k(new A(2))
          , N = E.setInt8;
        W.setInt8(0, 2147483648),
        W.setInt8(1, 2147483649),
        !W.getInt8(0) && W.getInt8(1) || s(E, {
            setInt8: function setInt8(e, t) {
                N.call(this, e, t << 24 >> 24)
            },
            setUint8: function setUint8(e, t) {
                N.call(this, e, t << 24 >> 24)
            }
        }, {
            unsafe: !0
        })
    } else
        A = function ArrayBuffer(e) {
            c(this, A, "ArrayBuffer");
            var t = p(e);
            S(this, {
                bytes: _.call(new Array(t), 0),
                byteLength: t
            }),
            i || (this.byteLength = t)
        }
        ,
        k = function DataView(e, t, r) {
            c(this, k, "DataView"),
            c(e, A, "DataView");
            var n = w(e).byteLength
              , o = u(t);
            if (o < 0 || o > n)
                throw B("Wrong offset");
            if (o + (r = void 0 === r ? n - o : d(r)) > n)
                throw B("Wrong length");
            S(this, {
                buffer: e,
                byteLength: r,
                byteOffset: o
            }),
            i || (this.buffer = e,
            this.byteLength = r,
            this.byteOffset = o)
        }
        ,
        i && (D(A, "byteLength"),
        D(k, "buffer"),
        D(k, "byteLength"),
        D(k, "byteOffset")),
        s(k.prototype, {
            getInt8: function getInt8(e) {
                return U(this, 1, e)[0] << 24 >> 24
            },
            getUint8: function getUint8(e) {
                return U(this, 1, e)[0]
            },
            getInt16: function getInt16(e) {
                var t = U(this, 2, e, arguments.length > 1 ? arguments[1] : void 0);
                return (t[1] << 8 | t[0]) << 16 >> 16
            },
            getUint16: function getUint16(e) {
                var t = U(this, 2, e, arguments.length > 1 ? arguments[1] : void 0);
                return t[1] << 8 | t[0]
            },
            getInt32: function getInt32(e) {
                return z(U(this, 4, e, arguments.length > 1 ? arguments[1] : void 0))
            },
            getUint32: function getUint32(e) {
                return z(U(this, 4, e, arguments.length > 1 ? arguments[1] : void 0)) >>> 0
            },
            getFloat32: function getFloat32(e) {
                return P(U(this, 4, e, arguments.length > 1 ? arguments[1] : void 0), 23)
            },
            getFloat64: function getFloat64(e) {
                return P(U(this, 8, e, arguments.length > 1 ? arguments[1] : void 0), 52)
            },
            setInt8: function setInt8(e, t) {
                F(this, 1, e, T, t)
            },
            setUint8: function setUint8(e, t) {
                F(this, 1, e, T, t)
            },
            setInt16: function setInt16(e, t) {
                F(this, 2, e, M, t, arguments.length > 2 ? arguments[2] : void 0)
            },
            setUint16: function setUint16(e, t) {
                F(this, 2, e, M, t, arguments.length > 2 ? arguments[2] : void 0)
            },
            setInt32: function setInt32(e, t) {
                F(this, 4, e, O, t, arguments.length > 2 ? arguments[2] : void 0)
            },
            setUint32: function setUint32(e, t) {
                F(this, 4, e, O, t, arguments.length > 2 ? arguments[2] : void 0)
            },
            setFloat32: function setFloat32(e, t) {
                F(this, 4, e, L, t, arguments.length > 2 ? arguments[2] : void 0)
            },
            setFloat64: function setFloat64(e, t) {
                F(this, 8, e, R, t, arguments.length > 2 ? arguments[2] : void 0)
            }
        });
    v(A, "ArrayBuffer"),
    v(k, "DataView"),
    e.exports = {
        ArrayBuffer: A,
        DataView: k
    }
}
, function(e, t) {
    e.exports = "undefined" != typeof ArrayBuffer && "undefined" != typeof DataView
}
, function(e, t) {
    e.exports = function(e, t, r) {
        if (!(e instanceof t))
            throw TypeError("Incorrect " + (r ? r + " " : "") + "invocation");
        return e
    }
}
, function(e, t, r) {
    var n = r(59)
      , i = r(56);
    e.exports = function(e) {
        if (void 0 === e)
            return 0;
        var t = n(e)
          , r = i(t);
        if (t !== r)
            throw RangeError("Wrong length or index");
        return r
    }
}
, function(e, t) {
    e.exports = function(e) {
        if ("function" != typeof e)
            throw TypeError(String(e) + " is not a function");
        return e
    }
}
, function(e, t, r) {
    var n = r(127);
    e.exports = function(e, t, r) {
        if (n(e),
        void 0 === t)
            return e;
        switch (r) {
        case 0:
            return function() {
                return e.call(t)
            }
            ;
        case 1:
            return function(r) {
                return e.call(t, r)
            }
            ;
        case 2:
            return function(r, n) {
                return e.call(t, r, n)
            }
            ;
        case 3:
            return function(r, n, i) {
                return e.call(t, r, n, i)
            }
        }
        return function() {
            return e.apply(t, arguments)
        }
    }
}
, function(e, t, r) {
    var n = r(79);
    e.exports = Array.isArray || function isArray(e) {
        return "Array" == n(e)
    }
}
, function(e, t) {
    const r = Number.MAX_SAFE_INTEGER || 9007199254740991;
    e.exports = {
        SEMVER_SPEC_VERSION: "2.0.0",
        MAX_LENGTH: 256,
        MAX_SAFE_INTEGER: r,
        MAX_SAFE_COMPONENT_LENGTH: 16
    }
}
, function(e, t, r) {
    var n = window.URL || window.webkitURL;
    e.exports = function(e, t) {
        try {
            try {
                var r;
                try {
                    (r = new (window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder)).append(e),
                    r = r.getBlob()
                } catch (i) {
                    r = new Blob([e])
                }
                return new Worker(n.createObjectURL(r))
            } catch (i) {
                return new Worker("data:application/javascript," + encodeURIComponent(e))
            }
        } catch (i) {
            if (!t)
                throw Error("Inline worker is not supported");
            return new Worker(t)
        }
    }
}
, function(e, t, r) {
    var n = r(69);
    e.exports = function SchemaObject(e) {
        n.copy(e, this)
    }
}
, function(e, t, r) {
    e.exports = function(e, t) {
        t || (t = {}),
        "function" == typeof t && (t = {
            cmp: t
        });
        var r, n = "boolean" == typeof t.cycles && t.cycles, i = t.cmp && (r = t.cmp,
        function(e) {
            return function(t, n) {
                var i = {
                    key: t,
                    value: e[t]
                }
                  , o = {
                    key: n,
                    value: e[n]
                };
                return r(i, o)
            }
        }
        ), o = [];
        return function stringify(e) {
            if (e && e.toJSON && "function" == typeof e.toJSON && (e = e.toJSON()),
            void 0 !== e) {
                if ("number" == typeof e)
                    return isFinite(e) ? "" + e : "null";
                if ("object" != typeof e)
                    return JSON.stringify(e);
                var t, r;
                if (Array.isArray(e)) {
                    for (r = "[",
                    t = 0; t < e.length; t++)
                        t && (r += ","),
                        r += stringify(e[t]) || "null";
                    return r + "]"
                }
                if (null === e)
                    return "null";
                if (-1 !== o.indexOf(e)) {
                    if (n)
                        return JSON.stringify("__cycle__");
                    throw new TypeError("Converting circular structure to JSON")
                }
                var a = o.push(e) - 1
                  , s = Object.keys(e).sort(i && i(e));
                for (r = "",
                t = 0; t < s.length; t++) {
                    var l = s[t]
                      , c = stringify(e[l]);
                    c && (r && (r += ","),
                    r += JSON.stringify(l) + ":" + c)
                }
                return o.splice(a, 1),
                "{" + r + "}"
            }
        }(e)
    }
}
, function(e, t, r) {
    e.exports = function generate_validate(e, t, r) {
        var n = ""
          , i = !0 === e.schema.$async
          , o = e.util.schemaHasRulesExcept(e.schema, e.RULES.all, "$ref")
          , a = e.self._getId(e.schema);
        if (e.opts.strictKeywords) {
            var s = e.util.schemaUnknownRules(e.schema, e.RULES.keywords);
            if (s) {
                var l = "unknown keyword: " + s;
                if ("log" !== e.opts.strictKeywords)
                    throw new Error(l);
                e.logger.warn(l)
            }
        }
        if (e.isTop && (n += " var validate = ",
        i && (e.async = !0,
        n += "async "),
        n += "function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",
        a && (e.opts.sourceCode || e.opts.processCode) && (n += " /*# sourceURL=" + a + " */ ")),
        "boolean" == typeof e.schema || !o && !e.schema.$ref) {
            var c = e.level
              , u = e.dataLevel
              , d = e.schema["false schema"]
              , p = e.schemaPath + e.util.getProperty("false schema")
              , h = e.errSchemaPath + "/false schema"
              , g = !e.opts.allErrors
              , f = "data" + (u || "")
              , m = "valid" + c;
            if (!1 === e.schema) {
                e.isTop ? g = !0 : n += " var " + m + " = false; ",
                (q = q || []).push(n),
                n = "",
                !1 !== e.createErrors ? (n += " { keyword: 'false schema' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(h) + " , params: {} ",
                !1 !== e.opts.messages && (n += " , message: 'boolean schema is false' "),
                e.opts.verbose && (n += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + f + " "),
                n += " } ") : n += " {} ";
                var y = n;
                n = q.pop(),
                !e.compositeRule && g ? e.async ? n += " throw new ValidationError([" + y + "]); " : n += " validate.errors = [" + y + "]; return false; " : n += " var err = " + y + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "
            } else
                e.isTop ? n += i ? " return data; " : " validate.errors = null; return true; " : n += " var " + m + " = true; ";
            return e.isTop && (n += " }; return validate; "),
            n
        }
        if (e.isTop) {
            var _ = e.isTop;
            if (c = e.level = 0,
            u = e.dataLevel = 0,
            f = "data",
            e.rootId = e.resolve.fullPath(e.self._getId(e.root.schema)),
            e.baseId = e.baseId || e.rootId,
            delete e.isTop,
            e.dataPathArr = [void 0],
            void 0 !== e.schema.default && e.opts.useDefaults && e.opts.strictDefaults) {
                var v = "default is ignored in the schema root";
                if ("log" !== e.opts.strictDefaults)
                    throw new Error(v);
                e.logger.warn(v)
            }
            n += " var vErrors = null; ",
            n += " var errors = 0;     ",
            n += " if (rootData === undefined) rootData = data; "
        } else {
            if (c = e.level,
            f = "data" + ((u = e.dataLevel) || ""),
            a && (e.baseId = e.resolve.url(e.baseId, a)),
            i && !e.async)
                throw new Error("async schema in sync schema");
            n += " var errs_" + c + " = errors;"
        }
        m = "valid" + c,
        g = !e.opts.allErrors;
        var b = ""
          , w = ""
          , S = e.schema.type
          , C = Array.isArray(S);
        if (S && e.opts.nullable && !0 === e.schema.nullable && (C ? -1 == S.indexOf("null") && (S = S.concat("null")) : "null" != S && (S = [S, "null"],
        C = !0)),
        C && 1 == S.length && (S = S[0],
        C = !1),
        e.schema.$ref && o) {
            if ("fail" == e.opts.extendRefs)
                throw new Error('$ref: validation keywords used in schema at path "' + e.errSchemaPath + '" (see option extendRefs)');
            !0 !== e.opts.extendRefs && (o = !1,
            e.logger.warn('$ref: keywords ignored in schema at path "' + e.errSchemaPath + '"'))
        }
        if (e.schema.$comment && e.opts.$comment && (n += " " + e.RULES.all.$comment.code(e, "$comment")),
        S) {
            if (e.opts.coerceTypes)
                var A = e.util.coerceToTypes(e.opts.coerceTypes, S);
            var k = e.RULES.types[S];
            if (A || C || !0 === k || k && !$shouldUseGroup(k)) {
                p = e.schemaPath + ".type",
                h = e.errSchemaPath + "/type",
                p = e.schemaPath + ".type",
                h = e.errSchemaPath + "/type";
                var E = C ? "checkDataTypes" : "checkDataType";
                if (n += " if (" + e.util[E](S, f, !0) + ") { ",
                A) {
                    var I = "dataType" + c
                      , B = "coerced" + c;
                    n += " var " + I + " = typeof " + f + "; ",
                    "array" == e.opts.coerceTypes && (n += " if (" + I + " == 'object' && Array.isArray(" + f + ")) " + I + " = 'array'; "),
                    n += " var " + B + " = undefined; ";
                    var x = ""
                      , P = A;
                    if (P)
                        for (var T, M = -1, O = P.length - 1; M < O; )
                            T = P[M += 1],
                            M && (n += " if (" + B + " === undefined) { ",
                            x += "}"),
                            "array" == e.opts.coerceTypes && "array" != T && (n += " if (" + I + " == 'array' && " + f + ".length == 1) { " + B + " = " + f + " = " + f + "[0]; " + I + " = typeof " + f + ";  } "),
                            "string" == T ? n += " if (" + I + " == 'number' || " + I + " == 'boolean') " + B + " = '' + " + f + "; else if (" + f + " === null) " + B + " = ''; " : "number" == T || "integer" == T ? (n += " if (" + I + " == 'boolean' || " + f + " === null || (" + I + " == 'string' && " + f + " && " + f + " == +" + f + " ",
                            "integer" == T && (n += " && !(" + f + " % 1)"),
                            n += ")) " + B + " = +" + f + "; ") : "boolean" == T ? n += " if (" + f + " === 'false' || " + f + " === 0 || " + f + " === null) " + B + " = false; else if (" + f + " === 'true' || " + f + " === 1) " + B + " = true; " : "null" == T ? n += " if (" + f + " === '' || " + f + " === 0 || " + f + " === false) " + B + " = null; " : "array" == e.opts.coerceTypes && "array" == T && (n += " if (" + I + " == 'string' || " + I + " == 'number' || " + I + " == 'boolean' || " + f + " == null) " + B + " = [" + f + "]; ");
                    n += " " + x + " if (" + B + " === undefined) {   ",
                    (q = q || []).push(n),
                    n = "",
                    !1 !== e.createErrors ? (n += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(h) + " , params: { type: '",
                    n += C ? "" + S.join(",") : "" + S,
                    n += "' } ",
                    !1 !== e.opts.messages && (n += " , message: 'should be ",
                    n += C ? "" + S.join(",") : "" + S,
                    n += "' "),
                    e.opts.verbose && (n += " , schema: validate.schema" + p + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + f + " "),
                    n += " } ") : n += " {} ",
                    y = n,
                    n = q.pop(),
                    !e.compositeRule && g ? e.async ? n += " throw new ValidationError([" + y + "]); " : n += " validate.errors = [" + y + "]; return false; " : n += " var err = " + y + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    n += " } else {  ";
                    var z = u ? "data" + (u - 1 || "") : "parentData";
                    n += " " + f + " = " + B + "; ",
                    u || (n += "if (" + z + " !== undefined)"),
                    n += " " + z + "[" + (u ? e.dataPathArr[u] : "parentDataProperty") + "] = " + B + "; } "
                } else
                    (q = q || []).push(n),
                    n = "",
                    !1 !== e.createErrors ? (n += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(h) + " , params: { type: '",
                    n += C ? "" + S.join(",") : "" + S,
                    n += "' } ",
                    !1 !== e.opts.messages && (n += " , message: 'should be ",
                    n += C ? "" + S.join(",") : "" + S,
                    n += "' "),
                    e.opts.verbose && (n += " , schema: validate.schema" + p + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + f + " "),
                    n += " } ") : n += " {} ",
                    y = n,
                    n = q.pop(),
                    !e.compositeRule && g ? e.async ? n += " throw new ValidationError([" + y + "]); " : n += " validate.errors = [" + y + "]; return false; " : n += " var err = " + y + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
                n += " } "
            }
        }
        if (e.schema.$ref && !o)
            n += " " + e.RULES.all.$ref.code(e, "$ref") + " ",
            g && (n += " } if (errors === ",
            n += _ ? "0" : "errs_" + c,
            n += ") { ",
            w += "}");
        else {
            var L = e.RULES;
            if (L)
                for (var R = -1, D = L.length - 1; R < D; )
                    if ($shouldUseGroup(k = L[R += 1])) {
                        if (k.type && (n += " if (" + e.util.checkDataType(k.type, f) + ") { "),
                        e.opts.useDefaults)
                            if ("object" == k.type && e.schema.properties) {
                                d = e.schema.properties;
                                var U = Object.keys(d);
                                if (U)
                                    for (var F, j = -1, V = U.length - 1; j < V; )
                                        if (void 0 !== (W = d[F = U[j += 1]]).default) {
                                            var H = f + e.util.getProperty(F);
                                            if (e.compositeRule) {
                                                if (e.opts.strictDefaults) {
                                                    if (v = "default is ignored for: " + H,
                                                    "log" !== e.opts.strictDefaults)
                                                        throw new Error(v);
                                                    e.logger.warn(v)
                                                }
                                            } else
                                                n += " if (" + H + " === undefined ",
                                                "empty" == e.opts.useDefaults && (n += " || " + H + " === null || " + H + " === '' "),
                                                n += " ) " + H + " = ",
                                                "shared" == e.opts.useDefaults ? n += " " + e.useDefault(W.default) + " " : n += " " + JSON.stringify(W.default) + " ",
                                                n += "; "
                                        }
                            } else if ("array" == k.type && Array.isArray(e.schema.items)) {
                                var G = e.schema.items;
                                if (G) {
                                    M = -1;
                                    for (var W, N = G.length - 1; M < N; )
                                        if (void 0 !== (W = G[M += 1]).default)
                                            if (H = f + "[" + M + "]",
                                            e.compositeRule) {
                                                if (e.opts.strictDefaults) {
                                                    if (v = "default is ignored for: " + H,
                                                    "log" !== e.opts.strictDefaults)
                                                        throw new Error(v);
                                                    e.logger.warn(v)
                                                }
                                            } else
                                                n += " if (" + H + " === undefined ",
                                                "empty" == e.opts.useDefaults && (n += " || " + H + " === null || " + H + " === '' "),
                                                n += " ) " + H + " = ",
                                                "shared" == e.opts.useDefaults ? n += " " + e.useDefault(W.default) + " " : n += " " + JSON.stringify(W.default) + " ",
                                                n += "; "
                                }
                            }
                        var q, K = k.rules;
                        if (K)
                            for (var Q, Y = -1, J = K.length - 1; Y < J; )
                                if ($shouldUseRule(Q = K[Y += 1])) {
                                    var Z = Q.code(e, Q.keyword, k.type);
                                    Z && (n += " " + Z + " ",
                                    g && (b += "}"))
                                }
                        if (g && (n += " " + b + " ",
                        b = ""),
                        k.type && (n += " } ",
                        S && S === k.type && !A))
                            n += " else { ",
                            p = e.schemaPath + ".type",
                            h = e.errSchemaPath + "/type",
                            (q = q || []).push(n),
                            n = "",
                            !1 !== e.createErrors ? (n += " { keyword: 'type' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(h) + " , params: { type: '",
                            n += C ? "" + S.join(",") : "" + S,
                            n += "' } ",
                            !1 !== e.opts.messages && (n += " , message: 'should be ",
                            n += C ? "" + S.join(",") : "" + S,
                            n += "' "),
                            e.opts.verbose && (n += " , schema: validate.schema" + p + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + f + " "),
                            n += " } ") : n += " {} ",
                            y = n,
                            n = q.pop(),
                            !e.compositeRule && g ? e.async ? n += " throw new ValidationError([" + y + "]); " : n += " validate.errors = [" + y + "]; return false; " : n += " var err = " + y + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                            n += " } ";
                        g && (n += " if (errors === ",
                        n += _ ? "0" : "errs_" + c,
                        n += ") { ",
                        w += "}")
                    }
        }
        function $shouldUseGroup(e) {
            for (var t = e.rules, r = 0; r < t.length; r++)
                if ($shouldUseRule(t[r]))
                    return !0
        }
        function $shouldUseRule(t) {
            return void 0 !== e.schema[t.keyword] || t.implements && function $ruleImplementsSomeKeyword(t) {
                for (var r = t.implements, n = 0; n < r.length; n++)
                    if (void 0 !== e.schema[r[n]])
                        return !0
            }(t)
        }
        return g && (n += " " + w + " "),
        _ ? (i ? (n += " if (errors === 0) return data;           ",
        n += " else throw new ValidationError(vErrors); ") : (n += " validate.errors = vErrors; ",
        n += " return errors === 0;       "),
        n += " }; return validate;") : n += " var " + m + " = errors === errs_" + c + ";",
        n = e.util.cleanUpCode(n),
        _ && (n = e.util.finalCleanUpCode(n, i)),
        n
    }
}
, function(e, t, r) {
    e.exports = function generate__limit(e, t, r) {
        var n, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], l = e.schemaPath + e.util.getProperty(t), c = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), p = e.opts.$data && s && s.$data;
        p ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        n = "schema" + o) : n = s;
        var h = "maximum" == t
          , g = h ? "exclusiveMaximum" : "exclusiveMinimum"
          , f = e.schema[g]
          , m = e.opts.$data && f && f.$data
          , y = h ? "<" : ">"
          , _ = h ? ">" : "<"
          , v = void 0;
        if (m) {
            var b, w = e.util.getData(f.$data, a, e.dataPathArr), S = "exclusive" + o, C = "exclType" + o, A = "exclIsNumber" + o, k = "' + " + (I = "op" + o) + " + '";
            i += " var schemaExcl" + o + " = " + w + "; ",
            i += " var " + S + "; var " + C + " = typeof " + (w = "schemaExcl" + o) + "; if (" + C + " != 'boolean' && " + C + " != 'undefined' && " + C + " != 'number') { ",
            v = g,
            (b = b || []).push(i),
            i = "",
            !1 !== e.createErrors ? (i += " { keyword: '" + (v || "_exclusiveLimit") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: {} ",
            !1 !== e.opts.messages && (i += " , message: '" + g + " should be boolean' "),
            e.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
            i += " } ") : i += " {} ";
            var E = i;
            i = b.pop(),
            !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + E + "]); " : i += " validate.errors = [" + E + "]; return false; " : i += " var err = " + E + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            i += " } else if ( ",
            p && (i += " (" + n + " !== undefined && typeof " + n + " != 'number') || "),
            i += " " + C + " == 'number' ? ( (" + S + " = " + n + " === undefined || " + w + " " + y + "= " + n + ") ? " + d + " " + _ + "= " + w + " : " + d + " " + _ + " " + n + " ) : ( (" + S + " = " + w + " === true) ? " + d + " " + _ + "= " + n + " : " + d + " " + _ + " " + n + " ) || " + d + " !== " + d + ") { var op" + o + " = " + S + " ? '" + y + "' : '" + y + "='; ",
            void 0 === s && (v = g,
            c = e.errSchemaPath + "/" + g,
            n = w,
            p = m)
        } else if (k = y,
        (A = "number" == typeof f) && p) {
            var I = "'" + k + "'";
            i += " if ( ",
            p && (i += " (" + n + " !== undefined && typeof " + n + " != 'number') || "),
            i += " ( " + n + " === undefined || " + f + " " + y + "= " + n + " ? " + d + " " + _ + "= " + f + " : " + d + " " + _ + " " + n + " ) || " + d + " !== " + d + ") { "
        } else
            A && void 0 === s ? (S = !0,
            v = g,
            c = e.errSchemaPath + "/" + g,
            n = f,
            _ += "=") : (A && (n = Math[h ? "min" : "max"](f, s)),
            f === (!A || n) ? (S = !0,
            v = g,
            c = e.errSchemaPath + "/" + g,
            _ += "=") : (S = !1,
            k += "=")),
            I = "'" + k + "'",
            i += " if ( ",
            p && (i += " (" + n + " !== undefined && typeof " + n + " != 'number') || "),
            i += " " + d + " " + _ + " " + n + " || " + d + " !== " + d + ") { ";
        return v = v || t,
        (b = b || []).push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: '" + (v || "_limit") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { comparison: " + I + ", limit: " + n + ", exclusive: " + S + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should be " + k + " ",
        i += p ? "' + " + n : n + "'"),
        e.opts.verbose && (i += " , schema:  ",
        i += p ? "validate.schema" + l : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ",
        E = i,
        i = b.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + E + "]); " : i += " validate.errors = [" + E + "]; return false; " : i += " var err = " + E + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += " } ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, r) {
    e.exports = function generate__limitItems(e, t, r) {
        var n, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], l = e.schemaPath + e.util.getProperty(t), c = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), p = e.opts.$data && s && s.$data;
        p ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        n = "schema" + o) : n = s,
        i += "if ( ",
        p && (i += " (" + n + " !== undefined && typeof " + n + " != 'number') || "),
        i += " " + d + ".length " + ("maxItems" == t ? ">" : "<") + " " + n + ") { ";
        var h = t
          , g = g || [];
        g.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: '" + (h || "_limitItems") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { limit: " + n + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should NOT have ",
        i += "maxItems" == t ? "more" : "fewer",
        i += " than ",
        i += p ? "' + " + n + " + '" : "" + s,
        i += " items' "),
        e.opts.verbose && (i += " , schema:  ",
        i += p ? "validate.schema" + l : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var f = i;
        return i = g.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + f + "]); " : i += " validate.errors = [" + f + "]; return false; " : i += " var err = " + f + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, r) {
    e.exports = function generate__limitLength(e, t, r) {
        var n, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], l = e.schemaPath + e.util.getProperty(t), c = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), p = e.opts.$data && s && s.$data;
        p ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        n = "schema" + o) : n = s;
        var h = "maxLength" == t ? ">" : "<";
        i += "if ( ",
        p && (i += " (" + n + " !== undefined && typeof " + n + " != 'number') || "),
        !1 === e.opts.unicode ? i += " " + d + ".length " : i += " ucs2length(" + d + ") ",
        i += " " + h + " " + n + ") { ";
        var g = t
          , f = f || [];
        f.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: '" + (g || "_limitLength") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { limit: " + n + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should NOT be ",
        i += "maxLength" == t ? "longer" : "shorter",
        i += " than ",
        i += p ? "' + " + n + " + '" : "" + s,
        i += " characters' "),
        e.opts.verbose && (i += " , schema:  ",
        i += p ? "validate.schema" + l : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var m = i;
        return i = f.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + m + "]); " : i += " validate.errors = [" + m + "]; return false; " : i += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, r) {
    e.exports = function generate__limitProperties(e, t, r) {
        var n, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], l = e.schemaPath + e.util.getProperty(t), c = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), p = e.opts.$data && s && s.$data;
        p ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        n = "schema" + o) : n = s,
        i += "if ( ",
        p && (i += " (" + n + " !== undefined && typeof " + n + " != 'number') || "),
        i += " Object.keys(" + d + ").length " + ("maxProperties" == t ? ">" : "<") + " " + n + ") { ";
        var h = t
          , g = g || [];
        g.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: '" + (h || "_limitProperties") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { limit: " + n + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should NOT have ",
        i += "maxProperties" == t ? "more" : "fewer",
        i += " than ",
        i += p ? "' + " + n + " + '" : "" + s,
        i += " properties' "),
        e.opts.verbose && (i += " , schema:  ",
        i += p ? "validate.schema" + l : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var f = i;
        return i = g.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + f + "]); " : i += " validate.errors = [" + f + "]; return false; " : i += " var err = " + f + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQCQM4GMAWBTAtgQygLmkgLvgA7YD0pAVnAPYB2AtIqpgHTUBOA5qQCbsYAzfPQAMAdlJN0GAMRQANOEiwAljxx5CJclTqNk0tl178hoiVMxzFkaPhX4ANig1QAwhxRhLGMGhT4GPrMWDbKPCgCKrQOKnRwGqC2tlA+AILs-ACeiUrJyVD4WUQuuFAYmRg5YfkpaNEAkvjoCbgAjDW1EFAOLYnQMOyRrnJgAL55yWOdKbR0AHIonBj2AG4oDbTNnCjsuV0pRSWu0du7CpNdUPUxaACuaBoil5DTL91ztIvLaxtbS7sACKRDB3Rz4ET7A7dDCORwAeQEGgA2u8DsABkMkWUZLxItFYvFSJ9visVOtNmc9uMZtCwBioBEBKDwU9xmjbABdNFvK5wFRoIjOAAqxRQrXpHOUKFoDxRUvy5Uq1QVBQARtRqM4MLQLnSCqcAXtadCoLK4Xr9cpZWg1ecTQcoNQ1RQUAh8JardA4Ph2NFOFBVdyurzaqlff6MtkoaajqVoBVow6Ur00BKGXHXD6-bQAzTVVA7jEAI53DbNNMaX1l5PhEFgj24ZHB2oTWyh7qZptOl1uj3yaAarUoHVQTmdKBEdjUErsezimMFGBqRdXLveiO5z2OgQcTCN6B3P30LG7GUIFw8h2wHyrsPr8M5gO17q79j71xHlSBkPXwbDXAkjpQoxSzTdnwLN8PzKL8T0iM9aAvH9Wz-BBqDQfwtjvRUH2zf1kPyDsCnsJx4yA2NQLKPCtyvNFGXFBA-SIew6Gw4jKI3J8CKma8mRZA9qxQa8hgwHh4VoRwckAgsHyHbVdRfaA+IbDRmUcOAUFoq4UAADwwQVnHTGSOKVJMC1TCVBK0sN7nBFQhRQRE2MOEybTtY0C10hBHDufl1gAWQJe5HlwZ5fzozAdIFOVpP1EDjjKNzzmsxUvJ8vyUH8jAouC5zlAfJK9hSgobmikLJTigqHnc7j22vNLfPJTKgpiirgKq21kvCq5IoAGRlTh8CQfpYCxEY8SiGIWNoOBiQWJYyQpf4dmpIi6mifrcyGkb-2xaBcSZAlptmkkFt+SkjWBZkG0hfMriIFZmnYXVYvakzqIguKoJWVwhh2HTatea9RJ4QlaFhJo+kAzEAP2qA7rDCy8phWgsicptVVsBldpGeG1rpbGxpxCajriGbJAMTAoyqPGg0U+jrtZXArO6mzsshytodG2GoAO-EprJk75p+JqLpWvHrxuDn0xhvbeZJgWiVOkWlqpK7+Nu-HuiLFRS3LKG2oohLB01eTtyuZSmbANSNOKlI0K2DBohl7m5dGLXoEigAFadZ3nF2ceJw7FfJ5XFr+KkJYi6IfZnXZ-Z2on9oVsGha+M7ReWoF63BTXhJQUsVCGdQucD5Pg9TyRwOpnIEcVEGwdhWO-ZUBdS6T3mo4t-nU+RuwTOdV13XNsMG+mpvffj1uA47936ctg9gDbFC6KnOO52nvv4vjHsh-7Asx7Jif14T9uebngsF8SZfCOvB7CF2Whm6ntvDcdB9B77Ef654UHx8cZ+G9X6E3Pl3YCa8-ZZHmPpYB0BvoHigH9XSYDTRX0AjfHidEIglFoBERCm9XpGx3p-Ye9ND50GPi3YBmNlA6jRntVEXp8ggLdigphEAWHjQrsdKuT4a603YS2aEGC6qr0nnOKBMCZ6gLrgUB2PoqzsBrHRGUrVyLvxMomGm9MkbMyUUJAsUsKwSg6AWHWetpaKLLHbfKHF1FXDoejMAjCmGcKDj3Hh-IDIoFFCUBIsj9T2KYdvVwWiVTsJTMYxO58U6eIFA5XxC4AnBKMQbUxETlDmLLJYvR1j2EiNqEIzBVx4EjVwuBNh9s6DNC2P5FAoMMCJLKe9CpyTugOxqfgAAoohagoMtxc3KVxNp0AVB7WAK7XGHtCioBevSSZOIoDTJQOpMiCy4bTNhAicZssuEeMFhTEI-CRnlFRk4tx5d9lEnSMqSpyg6COR2es+W3CDk3OjCcuYi9dmLPZKIlIaCwBWQmEAA"))
}
, function(e, t, r) {
    var n = r(60)
      , i = r(274).trim;
    n({
        target: "String",
        proto: !0,
        forced: r(275)("trim")
    }, {
        trim: function trim() {
            return i(this)
        }
    })
}
, function(e, t) {
    e.exports = "\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"
}
, function(e, t, r) {
    const n = r(102);
    e.exports = (e, t) => {
        try {
            return new n(e,t).range || "*"
        } catch (r) {
            return null
        }
    }
}
, function(e, t, r) {
    const n = r(102);
    e.exports = (e, t, r) => {
        try {
            t = new n(t,r)
        } catch (i) {
            return !1
        }
        return t.test(e)
    }
}
, function(e, t, r) {
    e.exports = function() {
        return r(131)('/* shapez.io Codebase - Copyright 2022 tobspr Games - 1.0.0-cmg @ 39e50782 */\n!function(e){var r={};function __webpack_require__(_){if(r[_])return r[_].exports;var t=r[_]={i:_,l:!1,exports:{}};return e[_].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}__webpack_require__.m=e,__webpack_require__.c=r,__webpack_require__.d=function(e,r,_){__webpack_require__.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:_})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,r){if(1&r&&(e=__webpack_require__(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var _=Object.create(null);if(__webpack_require__.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)__webpack_require__.d(_,t,function(r){return e[r]}.bind(null,t));return _},__webpack_require__.n=function(e){var r=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(r,"a",r),r},__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,r){var _=performance.now();setInterval((function tick(){var e=performance.now(),r=e-_;_=e,self.postMessage({delta:r})}),1e3/30)}]);', null)
    }
}
, function(e, t, r) {
    e.exports = function() {
        return r(131)('/* shapez.io Codebase - Copyright 2022 tobspr Games - 1.0.0-cmg @ 39e50782 */\n!function(t){var e={};function __webpack_require__(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(r,n,function(e){return t[e]}.bind(null,n));return r},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=108)}([function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r(39))},function(t,e,r){var n=r(0),o=r(45),i=r(3),f=r(28),u=r(51),a=r(71),c=o("wks"),s=n.Symbol,h=a?s:s&&s.withoutSetter||f;t.exports=function(t){return i(c,t)||(u&&i(s,t)?c[t]=s[t]:c[t]=h("Symbol."+t)),c[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(5),o=r(7),i=r(17);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(2);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){var n=r(5),o=r(41),i=r(8),f=r(24),u=Object.defineProperty;e.f=n?u:function defineProperty(t,e,r){if(i(t),e=f(e,!0),i(r),o)try{return u(t,e,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(6);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,r){var n=r(11),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){(function(t){var n=r(99),o=r(100),i=r(101);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,r)}function from(t,e,r,n){if("number"==typeof e)throw new TypeError(\'"value" argument must not be a number\');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function fromArrayBuffer(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("\'offset\' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("\'length\' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),Buffer.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Buffer.prototype:t=fromArrayLike(t,e),t}(t,e,r,n):"string"==typeof e?function fromString(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError(\'"encoding" must be a valid string encoding\');var n=0|byteLength(e,r),o=(t=createBuffer(t,n)).write(e,r);return o!==n&&(t=t.slice(0,o)),t}(t,e,r):function fromObject(t,e){if(Buffer.isBuffer(e)){var r=0|checked(e.length);return 0===(t=createBuffer(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function isnan(t){return t!=t}(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&i(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be a number\');if(t<0)throw new RangeError(\'"size" argument must not be negative\')}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function fromArrayLike(t,e){var r=e.length<0?0:0|checked(e.length);t=createBuffer(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"latin1":case"binary":return latin1Slice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function swap(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function bidirectionalIndexOf(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,n,o);if("number"==typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,n,o){var i,f=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;f=2,u/=2,a/=2,r/=2}function read(t,e){return 1===f?t[e]:t.readUInt16BE(e*f)}if(o){var c=-1;for(i=r;i<u;i++)if(read(t,i)===read(e,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===a)return c*f}else-1!==c&&(i-=i-c),c=-1}else for(r+a>u&&(r=u-a),i=r;i>=0;i--){for(var s=!0,h=0;h<a;h++)if(read(t,i+h)!==read(e,h)){s=!1;break}if(s)return i}return-1}function hexWrite(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var f=0;f<n;++f){var u=parseInt(e.substr(2*f,2),16);if(isNaN(u))return f;t[r+f]=u}return f}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(function asciiToBytes(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function latin1Write(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(function utf16leToBytes(t,e){for(var r,n,o,i=[],f=0;f<t.length&&!((e-=2)<0);++f)n=(r=t.charCodeAt(f))>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,u,a,c,s=t[o],h=null,l=s>239?4:s>223?3:s>191?2:1;if(o+l<=r)switch(l){case 1:s<128&&(h=s);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&s)<<6|63&i)>127&&(h=c);break;case 3:i=t[o+1],u=t[o+2],128==(192&i)&&128==(192&u)&&(c=(15&s)<<12|(63&i)<<6|63&u)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:i=t[o+1],u=t[o+2],a=t[o+3],128==(192&i)&&128==(192&u)&&128==(192&a)&&(c=(15&s)<<18|(63&i)<<12|(63&u)<<6|63&a)>65535&&c<1114112&&(h=c)}null===h?(h=65533,l=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),o+=l}return function decodeCodePointsArray(t){var e=t.length;if(e<=f)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=f));return r}(n)}e.Buffer=Buffer,e.SlowBuffer=function SlowBuffer(t){return+t!=t&&(t=0),Buffer.alloc(+t)},e.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,r){return from(null,t,e,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,r){return function alloc(t,e,r,n){return assertSize(e),e<=0?createBuffer(t,e):void 0!==r?"string"==typeof n?createBuffer(t,e).fill(r,n):createBuffer(t,e).fill(r):createBuffer(t,e)}(null,t,e,r)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function isBuffer(t){return!(null==t||!t._isBuffer)},Buffer.compare=function compare(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function isEncoding(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(t,e){if(!i(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return Buffer.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Buffer.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var f=t[r];if(!Buffer.isBuffer(f))throw new TypeError(\'"list" argument must be an Array of Buffers\');f.copy(n,o),o+=f.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function swap32(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function swap64(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function toString(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function inspect(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function compare(t,e,r,n,o){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),f=(r>>>=0)-(e>>>=0),u=Math.min(i,f),a=this.slice(n,o),c=t.slice(e,r),s=0;s<u;++s)if(a[s]!==c[s]){i=a[s],f=c[s];break}return i<f?-1:f<i?1:0},Buffer.prototype.includes=function includes(t,e,r){return-1!==this.indexOf(t,e,r)},Buffer.prototype.indexOf=function indexOf(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function write(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"latin1":case"binary":return latin1Write(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var f=4096;function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function latin1Slice(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function hexSlice(t,e,r){var n,o=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>o)&&(r=o);for(var i="",f=e;f<r;++f)i+=(n=t[f])<16?"0"+n.toString(16):n.toString(16);return i}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function checkOffset(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,o,i){if(!Buffer.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>o||e<i)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function checkIEEE754(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(t,e,r,n,i){return i||checkIEEE754(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,i){return i||checkIEEE754(t,0,r,8),o.write(t,e,r,n,52,8),r+8}Buffer.prototype.slice=function slice(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Buffer.prototype;else{var o=e-t;r=new Buffer(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},Buffer.prototype.readUIntLE=function readUIntLE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},Buffer.prototype.readUIntBE=function readUIntBE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},Buffer.prototype.readUInt8=function readUInt8(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function readUInt16LE(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function readIntLE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function readIntBE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function readInt8(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function readInt16LE(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function readFloatLE(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(t,e,r,n){t=+t,e|=0,r|=0,n||checkInt(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},Buffer.prototype.writeUIntBE=function writeUIntBE(t,e,r,n){t=+t,e|=0,r|=0,n||checkInt(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},Buffer.prototype.writeUInt8=function writeUInt8(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function writeIntLE(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,t,e,r,o-1,-o)}var i=0,f=1,u=0;for(this[e]=255&t;++i<r&&(f*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/f>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function writeIntBE(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,t,e,r,o-1,-o)}var i=r-1,f=1,u=0;for(this[e+i]=255&t;--i>=0&&(f*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/f>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function writeInt8(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function writeInt16LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function writeInt16BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function writeInt32LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function writeInt32BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function writeFloatLE(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function copy(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function fill(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var f=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,n).toString()),u=f.length;for(i=0;i<r-e;++i)this[i+e]=f[i%u]}return this};var u=/[^+\\/0-9A-Za-z-_]/g;function utf8ToBytes(t,e){var r;e=e||Infinity;for(var n=t.length,o=null,i=[],f=0;f<n;++f){if((r=t.charCodeAt(f))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(f+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function base64ToBytes(t){return n.toByteArray(function base64clean(t){if((t=function stringtrim(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,"")}(t).replace(u,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function blitBuffer(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(39))},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(0),o=r(4),i=r(3),f=r(25),u=r(43),a=r(21),c=a.get,s=a.enforce,h=String(String).split("String");(t.exports=function(t,e,r,u){var a=!!u&&!!u.unsafe,c=!!u&&!!u.enumerable,l=!!u&&!!u.noTargetGet;"function"==typeof r&&("string"!=typeof e||i(r,"name")||o(r,"name",e),s(r).source=h.join("string"==typeof e?e:"")),t!==n?(a?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=r:o(t,e,r)):c?t[e]=r:f(e,r)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&c(this).source||u(this)}))},function(t,e,r){var n=r(20);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(8),o=r(69);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(i){}return function setPrototypeOf(r,i){return n(r),o(i),e?t.call(r,i):r.__proto__=i,r}}():void 0)},function(t,e){t.exports={}},function(t,e,r){var n=r(0),o=r(23).f,i=r(4),f=r(12),u=r(25),a=r(60),c=r(65);t.exports=function(t,e){var r,s,h,l,p,y=t.target,d=t.global,g=t.stat;if(r=d?n:g?n[y]||u(y,{}):(n[y]||{}).prototype)for(s in e){if(l=e[s],h=t.noTargetGet?(p=o(r,s))&&p.value:r[s],!c(d?s:y+(g?".":"#")+s,t.forced)&&void 0!==h){if(typeof l==typeof h)continue;a(l,h)}(t.sham||h&&h.sham)&&i(l,"sham",!0),f(r,s,l,t)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(40),o=r(20);t.exports=function(t){return n(o(t))}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can\'t call method on "+t);return t}},function(t,e,r){var n,o,i,f=r(59),u=r(0),a=r(6),c=r(4),s=r(3),h=r(26),l=r(29),p=u.WeakMap;if(f){var y=new p,d=y.get,g=y.has,v=y.set;n=function(t,e){return v.call(y,t,e),e},o=function(t){return d.call(y,t)||{}},i=function(t){return g.call(y,t)}}else{var _=h("state");l[_]=!0,n=function(t,e){return c(t,_,e),e},o=function(t){return s(t,_)?t[_]:{}},i=function(t){return s(t,_)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!a(e)||(r=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){var n=r(3),o=r(13),i=r(26),f=r(68),u=i("IE_PROTO"),a=Object.prototype;t.exports=f?Object.getPrototypeOf:function(t){return t=o(t),n(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){var n=r(5),o=r(58),i=r(17),f=r(18),u=r(24),a=r(3),c=r(41),s=Object.getOwnPropertyDescriptor;e.f=n?s:function getOwnPropertyDescriptor(t,e){if(t=f(t),e=u(e,!0),c)try{return s(t,e)}catch(r){}if(a(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,r){var n=r(6);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can\'t convert object to primitive value")}},function(t,e,r){var n=r(0),o=r(4);t.exports=function(t,e){try{o(n,t,e)}catch(r){n[t]=e}return e}},function(t,e,r){var n=r(45),o=r(28),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports=!1},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},function(t,e){t.exports={}},function(t,e,r){var n=r(62),o=r(0),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t])||i(o[t]):n[t]&&n[t][e]||o[t]&&o[t][e]}},function(t,e,r){var n=r(46),o=r(33).concat("length","prototype");e.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return n(t,o)}},function(t,e,r){var n=r(11),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,r){var n=r(7).f,o=r(3),i=r(1)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},function(t,e,r){var n,o,i=r(76),f=r(77),u=RegExp.prototype.exec,a=String.prototype.replace,c=u,s=(n=/a/,o=/b*/g,u.call(n,"a"),u.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),h=f.UNSUPPORTED_Y||f.BROKEN_CARET,l=void 0!==/()??/.exec("")[1];(s||l||h)&&(c=function exec(t){var e,r,n,o,f=this,c=h&&f.sticky,p=i.call(f),y=f.source,d=0,g=t;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\\n"!==t[f.lastIndex-1])&&(y="(?: "+y+")",g=" "+g,d++),r=new RegExp("^(?:"+y+")",p)),l&&(r=new RegExp("^"+y+"$(?!\\\\s)",p)),s&&(e=f.lastIndex),n=u.call(c?r:f,g),c?n?(n.input=n.input.slice(d),n[0]=n[0].slice(d),n.index=f.lastIndex,f.lastIndex+=n[0].length):f.lastIndex=0:s&&n&&(f.lastIndex=f.global?n.index+n[0].length:e),l&&n&&n.length>1&&a.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=c},function(t,e,r){var n,o=r(48),i=r(5),f=r(0),u=r(6),a=r(3),c=r(37),s=r(4),h=r(12),l=r(7).f,p=r(22),y=r(14),d=r(1),g=r(28),v=f.Int8Array,_=v&&v.prototype,w=f.Uint8ClampedArray,b=w&&w.prototype,A=v&&p(v),B=_&&p(_),m=Object.prototype,E=m.isPrototypeOf,x=d("toStringTag"),S=g("TYPED_ARRAY_TAG"),I=o&&!!y&&"Opera"!==c(f.opera),k=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O=function(t){return u(t)&&a(R,c(t))};for(n in R)f[n]||(I=!1);if((!I||"function"!=typeof A||A===Function.prototype)&&(A=function TypedArray(){throw TypeError("Incorrect invocation")},I))for(n in R)f[n]&&y(f[n],A);if((!I||!B||B===m)&&(B=A.prototype,I))for(n in R)f[n]&&y(f[n].prototype,B);if(I&&p(b)!==B&&y(b,B),i&&!a(B,x))for(n in k=!0,l(B,x,{get:function(){return u(this)?this[S]:void 0}}),R)f[n]&&s(f[n],S,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:k&&S,aTypedArray:function(t){if(O(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(y){if(E.call(A,t))return t}else for(var e in R)if(a(R,n)){var r=f[e];if(r&&(t===r||E.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(i){if(r)for(var n in R){var o=f[n];o&&a(o.prototype,t)&&delete o.prototype[t]}B[t]&&!r||h(B,t,r?e:I&&_[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(i){if(y){if(r)for(n in R)(o=f[n])&&a(o,t)&&delete o[t];if(A[t]&&!r)return;try{return h(A,t,r?e:I&&v[t]||e)}catch(u){}}for(n in R)!(o=f[n])||o[t]&&!r||h(o,t,e)}},isView:function isView(t){var e=c(t);return"DataView"===e||a(R,e)},isTypedArray:O,TypedArray:A,TypedArrayPrototype:B}},function(t,e,r){var n=r(85),o=r(19),i=r(1)("toStringTag"),f="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=Object(t),i))?r:f?o(e):"Object"==(n=o(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,r){var n,o=r(8),i=r(88),f=r(33),u=r(29),a=r(90),c=r(42),s=r(26)("IE_PROTO"),h=function(){},l=function(t){return"<script>"+t+"<\\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(o){}var t,e;p=n?function(t){t.write(l("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=c("iframe")).style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(l("document.F=Object")),t.close(),t.F);for(var r=f.length;r--;)delete p.prototype[f[r]];return p()};u[s]=!0,t.exports=Object.create||function create(t,e){var r;return null!==t?(h.prototype=o(t),r=new h,h.prototype=null,r[s]=t):r=p(),void 0===e?r:i(r,e)}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(2),o=r(19),i="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,r){var n=r(5),o=r(2),i=r(42);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(0),o=r(6),i=n.document,f=o(i)&&o(i.createElement);t.exports=function(t){return f?i.createElement(t):{}}},function(t,e,r){var n=r(44),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},function(t,e,r){var n=r(0),o=r(25),i=n["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,r){var n=r(27),o=r(44);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"\\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){var n=r(3),o=r(18),i=r(63).indexOf,f=r(29);t.exports=function(t,e){var r,u=o(t),a=0,c=[];for(r in u)!n(f,r)&&n(u,r)&&c.push(r);for(;e.length>a;)n(u,r=e[a++])&&(~i(c,r)||c.push(r));return c}},function(t,e,r){var n=r(0),o=r(5),i=r(48),f=r(4),u=r(66),a=r(2),c=r(49),s=r(11),h=r(9),l=r(50),p=r(67),y=r(22),d=r(14),g=r(31).f,v=r(7).f,_=r(70),w=r(34),b=r(21),A=b.get,B=b.set,m=n.ArrayBuffer,E=m,x=n.DataView,S=x&&x.prototype,I=Object.prototype,k=n.RangeError,R=p.pack,O=p.unpack,T=function(t){return[255&t]},L=function(t){return[255&t,t>>8&255]},P=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},U=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},C=function(t){return R(t,23,4)},M=function(t){return R(t,52,8)},j=function(t,e){v(t.prototype,e,{get:function(){return A(this)[e]}})},D=function(t,e,r,n){var o=l(r),i=A(t);if(o+e>i.byteLength)throw k("Wrong index");var f=A(i.buffer).bytes,u=o+i.byteOffset,a=f.slice(u,u+e);return n?a:a.reverse()},Y=function(t,e,r,n,o,i){var f=l(r),u=A(t);if(f+e>u.byteLength)throw k("Wrong index");for(var a=A(u.buffer).bytes,c=f+u.byteOffset,s=n(+o),h=0;h<e;h++)a[c+h]=s[i?h:e-h-1]};if(i){if(!a((function(){m(1)}))||!a((function(){new m(-1)}))||a((function(){return new m,new m(1.5),new m(NaN),"ArrayBuffer"!=m.name}))){for(var F,q=(E=function ArrayBuffer(t){return c(this,E),new m(l(t))}).prototype=m.prototype,N=g(m),W=0;N.length>W;)(F=N[W++])in E||f(E,F,m[F]);q.constructor=E}d&&y(S)!==I&&d(S,I);var z=new x(new E(2)),V=S.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||u(S,{setInt8:function setInt8(t,e){V.call(this,t,e<<24>>24)},setUint8:function setUint8(t,e){V.call(this,t,e<<24>>24)}},{unsafe:!0})}else E=function ArrayBuffer(t){c(this,E,"ArrayBuffer");var e=l(t);B(this,{bytes:_.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},x=function DataView(t,e,r){c(this,x,"DataView"),c(t,E,"DataView");var n=A(t).byteLength,i=s(e);if(i<0||i>n)throw k("Wrong offset");if(i+(r=void 0===r?n-i:h(r))>n)throw k("Wrong length");B(this,{buffer:t,byteLength:r,byteOffset:i}),o||(this.buffer=t,this.byteLength=r,this.byteOffset=i)},o&&(j(E,"byteLength"),j(x,"buffer"),j(x,"byteLength"),j(x,"byteOffset")),u(x.prototype,{getInt8:function getInt8(t){return D(this,1,t)[0]<<24>>24},getUint8:function getUint8(t){return D(this,1,t)[0]},getInt16:function getInt16(t){var e=D(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function getUint16(t){var e=D(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function getInt32(t){return U(D(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function getUint32(t){return U(D(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function getFloat32(t){return O(D(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function getFloat64(t){return O(D(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function setInt8(t,e){Y(this,1,t,T,e)},setUint8:function setUint8(t,e){Y(this,1,t,T,e)},setInt16:function setInt16(t,e){Y(this,2,t,L,e,arguments.length>2?arguments[2]:void 0)},setUint16:function setUint16(t,e){Y(this,2,t,L,e,arguments.length>2?arguments[2]:void 0)},setInt32:function setInt32(t,e){Y(this,4,t,P,e,arguments.length>2?arguments[2]:void 0)},setUint32:function setUint32(t,e){Y(this,4,t,P,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function setFloat32(t,e){Y(this,4,t,C,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function setFloat64(t,e){Y(this,8,t,M,e,arguments.length>2?arguments[2]:void 0)}});w(E,"ArrayBuffer"),w(x,"DataView"),t.exports={ArrayBuffer:E,DataView:x}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},function(t,e,r){var n=r(11),o=r(9);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=o(e);if(e!==r)throw RangeError("Wrong length or index");return r}},function(t,e,r){var n=r(2);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,r){var n=r(52);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var n,o,i,f=r(22),u=r(4),a=r(3),c=r(1),s=r(27),h=c("iterator"),l=!1;[].keys&&("next"in(i=[].keys())?(o=f(f(i)))!==Object.prototype&&(n=o):l=!0),null==n&&(n={}),s||a(n,h)||u(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:l}},function(t,e,r){!function webpackUniversalModuleDefinition(e,r){t.exports=r()}("undefined"!=typeof self&&self,(function(){return function(t){var e={};function __webpack_require__(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(t,e,r){var n=r(5),o=r(1),i=o.toHex,f=o.ceilHeapSize,u=r(6),a=function(t){for(t+=9;t%64>0;t+=1);return t},c=function(t,e){var r=new Int32Array(t,e+320,5),n=new Int32Array(5),o=new DataView(n.buffer);return o.setInt32(0,r[0],!1),o.setInt32(4,r[1],!1),o.setInt32(8,r[2],!1),o.setInt32(12,r[3],!1),o.setInt32(16,r[4],!1),n},s=function(){function Rusha(t){if(function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Rusha),(t=t||65536)%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=t,this._padMaxChunkLen=a(t),this._heap=new ArrayBuffer(f(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new n({Int32Array},{},this._heap)}return Rusha.prototype._initState=function _initState(t,e){this._offset=0;var r=new Int32Array(t,e+320,5);r[0]=1732584193,r[1]=-271733879,r[2]=-1732584194,r[3]=271733878,r[4]=-1009589776},Rusha.prototype._padChunk=function _padChunk(t,e){var r=a(t),n=new Int32Array(this._heap,0,r>>2);return function(t,e){var r=new Uint8Array(t.buffer),n=e%4,o=e-n;switch(n){case 0:r[o+3]=0;case 1:r[o+2]=0;case 2:r[o+1]=0;case 3:r[o+0]=0}for(var i=1+(e>>2);i<t.length;i++)t[i]=0}(n,t),function(t,e,r){t[e>>2]|=128<<24-(e%4<<3),t[14+(2+(e>>2)&-16)]=r/(1<<29)|0,t[15+(2+(e>>2)&-16)]=r<<3}(n,t,e),r},Rusha.prototype._write=function _write(t,e,r,n){u(t,this._h8,this._h32,e,r,n||0)},Rusha.prototype._coreCall=function _coreCall(t,e,r,n,o){var i=r;this._write(t,e,r),o&&(i=this._padChunk(r,n)),this._core.hash(i,this._padMaxChunkLen)},Rusha.prototype.rawDigest=function rawDigest(t){var e=t.byteLength||t.length||t.size||0;this._initState(this._heap,this._padMaxChunkLen);var r=0,n=this._maxChunkLen;for(r=0;e>r+n;r+=n)this._coreCall(t,r,n,e,!1);return this._coreCall(t,r,e-r,e,!0),c(this._heap,this._padMaxChunkLen)},Rusha.prototype.digest=function digest(t){return i(this.rawDigest(t).buffer)},Rusha.prototype.digestFromString=function digestFromString(t){return this.digest(t)},Rusha.prototype.digestFromBuffer=function digestFromBuffer(t){return this.digest(t)},Rusha.prototype.digestFromArrayBuffer=function digestFromArrayBuffer(t){return this.digest(t)},Rusha.prototype.resetState=function resetState(){return this._initState(this._heap,this._padMaxChunkLen),this},Rusha.prototype.append=function append(t){var e=0,r=t.byteLength||t.length||t.size||0,n=this._offset%this._maxChunkLen,o=void 0;for(this._offset+=r;e<r;)o=Math.min(r-e,this._maxChunkLen-n),this._write(t,e,o,n),e+=o,(n+=o)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),n=0);return this},Rusha.prototype.getState=function getState(){var t=void 0;if(this._offset%this._maxChunkLen)t=this._heap.slice(0);else{var e=new Int32Array(this._heap,this._padMaxChunkLen+320,5);t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}return{offset:this._offset,heap:t}},Rusha.prototype.setState=function setState(t){return this._offset=t.offset,20===t.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(t.heap)):this._h32.set(new Int32Array(t.heap)),this},Rusha.prototype.rawEnd=function rawEnd(){var t=this._offset,e=t%this._maxChunkLen,r=this._padChunk(e,t);this._core.hash(r,this._padMaxChunkLen);var n=c(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),n},Rusha.prototype.end=function end(){return i(this.rawEnd().buffer)},Rusha}();t.exports=s,t.exports._core=n},function(t,e){for(var r=new Array(256),n=0;n<256;n++)r[n]=(n<16?"0":"")+n.toString(16);t.exports.toHex=function(t){for(var e=new Uint8Array(t),n=new Array(t.byteLength),o=0;o<n.length;o++)n[o]=r[e[o]];return n.join("")},t.exports.ceilHeapSize=function(t){var e=0;if(t<=65536)return 65536;if(t<16777216)for(e=1;e<t;e<<=1);else for(e=16777216;e<t;e+=16777216);return e},t.exports.isDedicatedWorkerScope=function(t){var e="WorkerGlobalScope"in t&&t instanceof t.WorkerGlobalScope,r="SharedWorkerGlobalScope"in t&&t instanceof t.SharedWorkerGlobalScope,n="ServiceWorkerGlobalScope"in t&&t instanceof t.ServiceWorkerGlobalScope;return e&&!r&&!n}},function(t,e,r){t.exports=function(){var t=r(0),e=function(t,r,n,o,i){var f=new self.FileReader;f.onloadend=function onloadend(){if(f.error)return i(f.error);var u=f.result;r+=f.result.byteLength;try{t.append(u)}catch(a){return void i(a)}r<o.size?e(t,r,n,o,i):i(null,t.end())},f.readAsArrayBuffer(o.slice(r,r+n))},n=!0;return self.onmessage=function(r){if(n){var o=r.data.data,i=r.data.file,f=r.data.id;if(void 0!==f&&(i||o)){var u=r.data.blockSize||4194304,a=new t(u);a.resetState();var c=function(t,e){t?self.postMessage({id:f,error:t.name}):self.postMessage({id:f,hash:e})};o&&function(t,e,r){try{r(null,t.digest(e))}catch(n){return r(n)}}(a,o,c),i&&e(a,0,u,i,c)}}},function(){n=!1}}},function(t,e,r){var n=r(4),o=r(0),i=r(7),f=r(2),u=r(1).isDedicatedWorkerScope,a="undefined"!=typeof self&&u(self);o.disableWorkerBehaviour=a?f():function(){},o.createWorker=function(){var t=n(2),e=t.terminate;return t.terminate=function(){URL.revokeObjectURL(t.objectURL),e.call(t)},t},o.createHash=i,t.exports=o},function(t,e,r){function webpackBootstrapFunc(t){var e={};function __webpack_require__(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/",__webpack_require__.oe=function(t){throw console.error(t),t};var r=__webpack_require__(__webpack_require__.s=ENTRY_MODULE);return r.default||r}var n="[\\\\.|\\\\-|\\\\+|\\\\w|/|@]+",o="\\\\((/\\\\*.*?\\\\*/)?s?.*?("+n+").*?\\\\)";function quoteRegExp(t){return(t+"").replace(/[.?*+^$[\\]\\\\(){}|-]/g,"\\\\$&")}function getModuleDependencies(t,e,i){var f={};f[i]=[];var u=e.toString(),a=u.match(/^function\\s?\\(\\w+,\\s*\\w+,\\s*(\\w+)\\)/);if(!a)return f;for(var c,s=a[1],h=new RegExp("(\\\\\\\\n|\\\\W)"+quoteRegExp(s)+o,"g");c=h.exec(u);)"dll-reference"!==c[3]&&f[i].push(c[3]);for(h=new RegExp("\\\\("+quoteRegExp(s)+\'\\\\("(dll-reference\\\\s(\'+n+\'))"\\\\)\\\\)\'+o,"g");c=h.exec(u);)t[c[2]]||(f[i].push(c[1]),t[c[2]]=r(c[1]).m),f[c[2]]=f[c[2]]||[],f[c[2]].push(c[4]);return f}function hasValuesInQueues(t){return Object.keys(t).reduce((function(e,r){return e||t[r].length>0}),!1)}t.exports=function(t,e){e=e||{};var n={main:r.m},o=e.all?{main:Object.keys(n)}:function getRequiredModules(t,e){for(var r={main:[e]},n={main:[]},o={main:{}};hasValuesInQueues(r);)for(var i=Object.keys(r),f=0;f<i.length;f++){var u=i[f],a=r[u].pop();if(o[u]=o[u]||{},!o[u][a]&&t[u][a]){o[u][a]=!0,n[u]=n[u]||[],n[u].push(a);for(var c=getModuleDependencies(t,t[u][a],u),s=Object.keys(c),h=0;h<s.length;h++)r[s[h]]=r[s[h]]||[],r[s[h]]=r[s[h]].concat(c[s[h]])}}return n}(n,t),i="";Object.keys(o).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;o[t][e];)e++;o[t].push(e),n[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",i=i+"var "+t+" = ("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map((function(e){return JSON.stringify(e)+": "+n[t][e].toString()})).join(",")+"});\\n"})),i=i+"("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map((function(t){return JSON.stringify(t)+": "+n.main[t].toString()})).join(",")+"})(self);";var f=new window.Blob([i],{type:"text/javascript"});if(e.bare)return f;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(f),a=new window.Worker(u);return a.objectURL=u,a}},function(t,e){t.exports=function RushaCore(t,e,r){"use asm";var n=new t.Int32Array(r);function hash$850(t,e){t=t|0;e=e|0;var r=0,o=0,i=0,f=0,u=0,a=0,c=0,s=0,h=0,l=0,p=0,y=0,d=0,g=0;i=n[e+320>>2]|0;u=n[e+324>>2]|0;c=n[e+328>>2]|0;h=n[e+332>>2]|0;p=n[e+336>>2]|0;for(r=0;(r|0)<(t|0);r=r+64|0){f=i;a=u;s=c;l=h;y=p;for(o=0;(o|0)<64;o=o+4|0){g=n[r+o>>2]|0;d=((i<<5|i>>>27)+(u&c|~u&h)|0)+((g+p|0)+1518500249|0)|0;p=h;h=c;c=u<<30|u>>>2;u=i;i=d;n[t+o>>2]=g}for(o=t+64|0;(o|0)<(t+80|0);o=o+4|0){g=(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])<<1|(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])>>>31;d=((i<<5|i>>>27)+(u&c|~u&h)|0)+((g+p|0)+1518500249|0)|0;p=h;h=c;c=u<<30|u>>>2;u=i;i=d;n[o>>2]=g}for(o=t+80|0;(o|0)<(t+160|0);o=o+4|0){g=(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])<<1|(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])>>>31;d=((i<<5|i>>>27)+(u^c^h)|0)+((g+p|0)+1859775393|0)|0;p=h;h=c;c=u<<30|u>>>2;u=i;i=d;n[o>>2]=g}for(o=t+160|0;(o|0)<(t+240|0);o=o+4|0){g=(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])<<1|(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])>>>31;d=((i<<5|i>>>27)+(u&c|u&h|c&h)|0)+((g+p|0)-1894007588|0)|0;p=h;h=c;c=u<<30|u>>>2;u=i;i=d;n[o>>2]=g}for(o=t+240|0;(o|0)<(t+320|0);o=o+4|0){g=(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])<<1|(n[o-12>>2]^n[o-32>>2]^n[o-56>>2]^n[o-64>>2])>>>31;d=((i<<5|i>>>27)+(u^c^h)|0)+((g+p|0)-899497514|0)|0;p=h;h=c;c=u<<30|u>>>2;u=i;i=d;n[o>>2]=g}i=i+f|0;u=u+a|0;c=c+s|0;h=h+l|0;p=p+y|0}n[e+320>>2]=i;n[e+324>>2]=u;n[e+328>>2]=c;n[e+332>>2]=h;n[e+336>>2]=p}return{hash:hash$850}}},function(t,e){var r=this,n=void 0;"undefined"!=typeof self&&void 0!==self.FileReaderSync&&(n=new self.FileReaderSync);var o=function(t,e,r,n,o,i){var f=void 0,u=i%4,a=(o+u)%4,c=o-a;switch(u){case 0:e[i]=t[n+3];case 1:e[i+1-(u<<1)|0]=t[n+2];case 2:e[i+2-(u<<1)|0]=t[n+1];case 3:e[i+3-(u<<1)|0]=t[n]}if(!(o<a+(4-u))){for(f=4-u;f<c;f=f+4|0)r[i+f>>2|0]=t[n+f]<<24|t[n+f+1]<<16|t[n+f+2]<<8|t[n+f+3];switch(a){case 3:e[i+c+1|0]=t[n+c+2];case 2:e[i+c+2|0]=t[n+c+1];case 1:e[i+c+3|0]=t[n+c]}}};t.exports=function(t,e,i,f,u,a){if("string"==typeof t)return function(t,e,r,n,o,i){var f=void 0,u=i%4,a=(o+u)%4,c=o-a;switch(u){case 0:e[i]=t.charCodeAt(n+3);case 1:e[i+1-(u<<1)|0]=t.charCodeAt(n+2);case 2:e[i+2-(u<<1)|0]=t.charCodeAt(n+1);case 3:e[i+3-(u<<1)|0]=t.charCodeAt(n)}if(!(o<a+(4-u))){for(f=4-u;f<c;f=f+4|0)r[i+f>>2]=t.charCodeAt(n+f)<<24|t.charCodeAt(n+f+1)<<16|t.charCodeAt(n+f+2)<<8|t.charCodeAt(n+f+3);switch(a){case 3:e[i+c+1|0]=t.charCodeAt(n+c+2);case 2:e[i+c+2|0]=t.charCodeAt(n+c+1);case 1:e[i+c+3|0]=t.charCodeAt(n+c)}}}(t,e,i,f,u,a);if(t instanceof Array)return o(t,e,i,f,u,a);if(r&&r.Buffer&&r.Buffer.isBuffer(t))return o(t,e,i,f,u,a);if(t instanceof ArrayBuffer)return o(new Uint8Array(t),e,i,f,u,a);if(t.buffer instanceof ArrayBuffer)return o(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e,i,f,u,a);if(t instanceof Blob)return function(t,e,r,o,i,f){var u=void 0,a=f%4,c=(i+a)%4,s=i-c,h=new Uint8Array(n.readAsArrayBuffer(t.slice(o,o+i)));switch(a){case 0:e[f]=h[3];case 1:e[f+1-(a<<1)|0]=h[2];case 2:e[f+2-(a<<1)|0]=h[1];case 3:e[f+3-(a<<1)|0]=h[0]}if(!(i<c+(4-a))){for(u=4-a;u<s;u=u+4|0)r[f+u>>2|0]=h[u]<<24|h[u+1]<<16|h[u+2]<<8|h[u+3];switch(c){case 3:e[f+s+1|0]=h[s+2];case 2:e[f+s+2|0]=h[s+1];case 1:e[f+s+3|0]=h[s]}}}(t,e,i,f,u,a);throw new Error("Unsupported data type.")}},function(t,e,r){var n=r(0),o=r(1).toHex,i=function(){function Hash(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Hash),this._rusha=new n,this._rusha.resetState()}return Hash.prototype.update=function update(t){return this._rusha.append(t),this},Hash.prototype.digest=function digest(t){var digest=this._rusha.rawEnd().buffer;if(!t)return digest;if("hex"===t)return o(digest);throw new Error("unsupported digest encoding")},Hash}();t.exports=function(){return new i}}])}))},function(t,e,r){r.r(e),e.default={}},function(t,e,r){var n=r(16),o=r(2),i=r(47),f=r(8),u=r(32),a=r(9),c=r(72),s=i.ArrayBuffer,h=i.DataView,l=s.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new s(2).slice(1,void 0).byteLength}))},{slice:function slice(t,e){if(void 0!==l&&void 0===e)return l.call(f(this),t);for(var r=f(this).byteLength,n=u(t,r),o=u(void 0===e?r:e,r),i=new(c(this,s))(a(o-n)),p=new h(this),y=new h(i),d=0;n<o;)y.setUint8(d++,p.getUint8(n++));return i}})},function(t,e,r){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);e.f=i?function propertyIsEnumerable(t){var e=o(this,t);return!!e&&e.enumerable}:n},function(t,e,r){var n=r(0),o=r(43),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,r){var n=r(3),o=r(61),i=r(23),f=r(7);t.exports=function(t,e){for(var r=o(e),u=f.f,a=i.f,c=0;c<r.length;c++){var s=r[c];n(t,s)||u(t,s,a(e,s))}}},function(t,e,r){var n=r(30),o=r(31),i=r(64),f=r(8);t.exports=n("Reflect","ownKeys")||function ownKeys(t){var e=o.f(f(t)),r=i.f;return r?e.concat(r(t)):e}},function(t,e,r){var n=r(0);t.exports=n},function(t,e,r){var n=r(18),o=r(9),i=r(32),f=function(t){return function(e,r,f){var u,a=n(e),c=o(a.length),s=i(f,c);if(t&&r!=r){for(;c>s;)if((u=a[s++])!=u)return!0}else for(;c>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}};t.exports={includes:f(!0),indexOf:f(!1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(2),o=/#|\\.prototype\\./,i=function(t,e){var r=u[f(t)];return r==c||r!=a&&("function"==typeof e?n(e):!!e)},f=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=i.data={},a=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},function(t,e,r){var n=r(12);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},function(t,e){var r=Math.abs,n=Math.pow,o=Math.floor,i=Math.log,f=Math.LN2;t.exports={pack:function(t,e,u){var a,c,s,h=new Array(u),l=8*u-e-1,p=(1<<l)-1,y=p>>1,d=23===e?n(2,-24)-n(2,-77):0,g=t<0||0===t&&1/t<0?1:0,v=0;for((t=r(t))!=t||t===1/0?(c=t!=t?1:0,a=p):(a=o(i(t)/f),t*(s=n(2,-a))<1&&(a--,s*=2),(t+=a+y>=1?d/s:d*n(2,1-y))*s>=2&&(a++,s/=2),a+y>=p?(c=0,a=p):a+y>=1?(c=(t*s-1)*n(2,e),a+=y):(c=t*n(2,y-1)*n(2,e),a=0));e>=8;h[v++]=255&c,c/=256,e-=8);for(a=a<<e|c,l+=e;l>0;h[v++]=255&a,a/=256,l-=8);return h[--v]|=128*g,h},unpack:function(t,e){var r,o=t.length,i=8*o-e-1,f=(1<<i)-1,u=f>>1,a=i-7,c=o-1,s=t[c--],h=127&s;for(s>>=7;a>0;h=256*h+t[c],c--,a-=8);for(r=h&(1<<-a)-1,h>>=-a,a+=e;a>0;r=256*r+t[c],c--,a-=8);if(0===h)h=1-u;else{if(h===f)return r?NaN:s?-1/0:1/0;r+=n(2,e),h-=u}return(s?-1:1)*r*n(2,h-e)}}},function(t,e,r){var n=r(2);t.exports=!n((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},function(t,e,r){var n=r(6);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can\'t set "+String(t)+" as a prototype");return t}},function(t,e,r){var n=r(13),o=r(32),i=r(9);t.exports=function fill(t){for(var e=n(this),r=i(e.length),f=arguments.length,u=o(f>1?arguments[1]:void 0,r),a=f>2?arguments[2]:void 0,c=void 0===a?r:o(a,r);c>u;)e[u++]=t;return e}},function(t,e,r){var n=r(51);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var n=r(8),o=r(52),i=r(1)("species");t.exports=function(t,e){var r,f=n(t).constructor;return void 0===f||null==(r=n(f)[i])?e:o(r)}},function(t,e,r){var n=r(74),o=r(8),i=r(13),f=r(9),u=r(11),a=r(20),c=r(78),s=r(80),h=Math.max,l=Math.min,p=Math.floor,y=/\\$([$&\'`]|\\d\\d?|<[^>]*>)/g,d=/\\$([$&\'`]|\\d\\d?)/g;n("replace",2,(function(t,e,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,_=g?"$":"$0";return[function replace(r,n){var o=a(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):e.call(String(o),r,n)},function(t,n){if(!g&&v||"string"==typeof n&&-1===n.indexOf(_)){var i=r(e,t,this,n);if(i.done)return i.value}var a=o(t),p=String(this),y="function"==typeof n;y||(n=String(n));var d=a.global;if(d){var w=a.unicode;a.lastIndex=0}for(var b=[];;){var A=s(a,p);if(null===A)break;if(b.push(A),!d)break;""===String(A[0])&&(a.lastIndex=c(p,f(a.lastIndex),w))}for(var B,m="",E=0,x=0;x<b.length;x++){A=b[x];for(var S=String(A[0]),I=h(l(u(A.index),p.length),0),k=[],R=1;R<A.length;R++)k.push(void 0===(B=A[R])?B:String(B));var O=A.groups;if(y){var T=[S].concat(k,I,p);void 0!==O&&T.push(O);var L=String(n.apply(void 0,T))}else L=getSubstitution(S,p,I,k,O,n);I>=E&&(m+=p.slice(E,I)+L,E=I+S.length)}return m+p.slice(E)}];function getSubstitution(t,r,n,o,f,u){var a=n+t.length,c=o.length,s=d;return void 0!==f&&(f=i(f),s=y),e.call(u,s,(function(e,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"\'":return r.slice(a);case"<":u=f[i.slice(1,-1)];break;default:var s=+i;if(0===s)return e;if(s>c){var h=p(s/10);return 0===h?e:h<=c?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):e}u=o[s-1]}return void 0===u?"":u}))}}))},function(t,e,r){r(75);var n=r(12),o=r(2),i=r(1),f=r(35),u=r(4),a=i("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),s="$0"==="a".replace(/./,"$0"),h=i("replace"),l=!!/./[h]&&""===/./[h]("a","$0"),p=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,h){var y=i(t),d=!o((function(){var e={};return e[y]=function(){return 7},7!=""[t](e)})),g=d&&!o((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[a]=function(){return r},r.flags="",r[y]=/./[y]),r.exec=function(){return e=!0,null},r[y](""),!e}));if(!d||!g||"replace"===t&&(!c||!s||l)||"split"===t&&!p){var v=/./[y],_=r(y,""[t],(function(t,e,r,n,o){return e.exec===f?d&&!o?{done:!0,value:v.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}),w=_[0],b=_[1];n(String.prototype,t,w),n(RegExp.prototype,y,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}h&&u(RegExp.prototype[y],"sham",!0)}},function(t,e,r){var n=r(16),o=r(35);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,r){var n=r(8);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,r){var n=r(2);function RE(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=RE("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=RE("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,r){var n=r(79).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},function(t,e,r){var n=r(11),o=r(20),i=function(t){return function(e,r){var i,f,u=String(o(e)),a=n(r),c=u.length;return a<0||a>=c?t?"":void 0:(i=u.charCodeAt(a))<55296||i>56319||a+1===c||(f=u.charCodeAt(a+1))<56320||f>57343?t?u.charAt(a):i:t?u.slice(a,a+2):f-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,r){var n=r(19),o=r(35);t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var i=r.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,r){r(82)("Uint8",(function(t){return function Uint8Array(e,r,n){return t(this,e,r,n)}}))},function(t,e,r){var n=r(16),o=r(0),i=r(5),f=r(83),u=r(36),a=r(47),c=r(49),s=r(17),h=r(4),l=r(9),p=r(50),y=r(86),d=r(24),g=r(3),v=r(37),_=r(6),w=r(38),b=r(14),A=r(31).f,B=r(91),m=r(94).forEach,E=r(97),x=r(7),S=r(23),I=r(21),k=r(98),R=I.get,O=I.set,T=x.f,L=S.f,P=Math.round,U=o.RangeError,C=a.ArrayBuffer,M=a.DataView,j=u.NATIVE_ARRAY_BUFFER_VIEWS,D=u.TYPED_ARRAY_TAG,Y=u.TypedArray,F=u.TypedArrayPrototype,q=u.aTypedArrayConstructor,N=u.isTypedArray,W=function(t,e){for(var r=0,n=e.length,o=new(q(t))(n);n>r;)o[r]=e[r++];return o},z=function(t,e){T(t,e,{get:function(){return R(this)[e]}})},V=function(t){var e;return t instanceof C||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},G=function(t,e){return N(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},$=function getOwnPropertyDescriptor(t,e){return G(t,e=d(e,!0))?s(2,t[e]):L(t,e)},H=function defineProperty(t,e,r){return!(G(t,e=d(e,!0))&&_(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?T(t,e,r):(t[e]=r.value,t)};i?(j||(S.f=$,x.f=H,z(F,"buffer"),z(F,"byteOffset"),z(F,"byteLength"),z(F,"length")),n({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:$,defineProperty:H}),t.exports=function(t,e,r){var i=t.match(/\\d+$/)[0]/8,u=t+(r?"Clamped":"")+"Array",a="get"+t,s="set"+t,d=o[u],g=d,v=g&&g.prototype,x={},S=function(t,e){T(t,e,{get:function(){return function(t,e){var r=R(t);return r.view[a](e*i+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var o=R(t);r&&(n=(n=P(n))<0?0:n>255?255:255&n),o.view[s](e*i+o.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};j?f&&(g=e((function(t,e,r,n){return c(t,g,u),k(_(e)?V(e)?void 0!==n?new d(e,y(r,i),n):void 0!==r?new d(e,y(r,i)):new d(e):N(e)?W(g,e):B.call(g,e):new d(p(e)),t,g)})),b&&b(g,Y),m(A(d),(function(t){t in g||h(g,t,d[t])})),g.prototype=v):(g=e((function(t,e,r,n){c(t,g,u);var o,f,a,s=0,h=0;if(_(e)){if(!V(e))return N(e)?W(g,e):B.call(g,e);o=e,h=y(r,i);var d=e.byteLength;if(void 0===n){if(d%i)throw U("Wrong length");if((f=d-h)<0)throw U("Wrong length")}else if((f=l(n)*i)+h>d)throw U("Wrong length");a=f/i}else a=p(e),o=new C(f=a*i);for(O(t,{buffer:o,byteOffset:h,byteLength:f,length:a,view:new M(o)});s<a;)S(t,s++)})),b&&b(g,Y),v=g.prototype=w(F)),v.constructor!==g&&h(v,"constructor",g),D&&h(v,D,u),x[u]=g,n({global:!0,forced:g!=d,sham:!j},x),"BYTES_PER_ELEMENT"in g||h(g,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in v||h(v,"BYTES_PER_ELEMENT",i),E(u)}):t.exports=function(){}},function(t,e,r){var n=r(0),o=r(2),i=r(84),f=r(36).NATIVE_ARRAY_BUFFER_VIEWS,u=n.ArrayBuffer,a=n.Int8Array;t.exports=!f||!o((function(){a(1)}))||!o((function(){new a(-1)}))||!i((function(t){new a,new a(null),new a(1.5),new a(t)}),!0)||o((function(){return 1!==new a(new u(2),1,void 0).length}))},function(t,e,r){var n=r(1)("iterator"),o=!1;try{var i=0,f={next:function(){return{done:!!i++}},return:function(){o=!0}};f[n]=function(){return this},Array.from(f,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(u){}return r}},function(t,e,r){var n={};n[r(1)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n=r(87);t.exports=function(t,e){var r=n(t);if(r%e)throw RangeError("Wrong offset");return r}},function(t,e,r){var n=r(11);t.exports=function(t){var e=n(t);if(e<0)throw RangeError("The argument can\'t be less than 0");return e}},function(t,e,r){var n=r(5),o=r(7),i=r(8),f=r(89);t.exports=n?Object.defineProperties:function defineProperties(t,e){i(t);for(var r,n=f(e),u=n.length,a=0;u>a;)o.f(t,r=n[a++],e[r]);return t}},function(t,e,r){var n=r(46),o=r(33);t.exports=Object.keys||function keys(t){return n(t,o)}},function(t,e,r){var n=r(30);t.exports=n("document","documentElement")},function(t,e,r){var n=r(13),o=r(9),i=r(92),f=r(93),u=r(53),a=r(36).aTypedArrayConstructor;t.exports=function from(t){var e,r,c,s,h,l,p=n(t),y=arguments.length,d=y>1?arguments[1]:void 0,g=void 0!==d,v=i(p);if(null!=v&&!f(v))for(l=(h=v.call(p)).next,p=[];!(s=l.call(h)).done;)p.push(s.value);for(g&&y>2&&(d=u(d,arguments[2],2)),r=o(p.length),c=new(a(this))(r),e=0;r>e;e++)c[e]=g?d(p[e],e):p[e];return c}},function(t,e,r){var n=r(37),o=r(15),i=r(1)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e,r){var n=r(1),o=r(15),i=n("iterator"),f=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||f[i]===t)}},function(t,e,r){var n=r(53),o=r(40),i=r(13),f=r(9),u=r(95),a=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,s=4==t,h=6==t,l=5==t||h;return function(p,y,d,g){for(var v,_,w=i(p),b=o(w),A=n(y,d,3),B=f(b.length),m=0,E=g||u,x=e?E(p,B):r?E(p,0):void 0;B>m;m++)if((l||m in b)&&(_=A(v=b[m],m,w),t))if(e)x[m]=_;else if(_)switch(t){case 3:return!0;case 5:return v;case 6:return m;case 2:a.call(x,v)}else if(s)return!1;return h?-1:c||s?s:x}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,r){var n=r(6),o=r(96),i=r(1)("species");t.exports=function(t,e){var r;return o(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},function(t,e,r){var n=r(19);t.exports=Array.isArray||function isArray(t){return"Array"==n(t)}},function(t,e,r){var n=r(30),o=r(7),i=r(1),f=r(5),u=i("species");t.exports=function(t){var e=n(t),r=o.f;f&&e&&!e[u]&&r(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(6),o=r(14);t.exports=function(t,e,r){var i,f;return o&&"function"==typeof(i=e.constructor)&&i!==r&&n(f=i.prototype)&&f!==r.prototype&&o(t,f),t}},function(t,e,r){e.byteLength=function byteLength(t){var e=getLens(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function toByteArray(t){var e,r,n=getLens(t),f=n[0],u=n[1],a=new i(function _byteLength(t,e,r){return 3*(e+r)/4-r}(0,f,u)),c=0,s=u>0?f-4:f;for(r=0;r<s;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;return 2===u&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,a[c++]=255&e),1===u&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e),a},e.fromByteArray=function fromByteArray(t){for(var e,r=t.length,o=r%3,i=[],f=0,u=r-o;f<u;f+=16383)i.push(encodeChunk(t,f,f+16383>u?u:f+16383));return 1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,a=f.length;u<a;++u)n[u]=f[u],o[f.charCodeAt(u)]=u;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function encodeChunk(t,e,r){for(var o,i,f=[],u=e;u<r;u+=3)o=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),f.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return f.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,f,u=8*o-n-1,a=(1<<u)-1,c=a>>1,s=-7,h=r?o-1:0,l=r?-1:1,p=t[e+h];for(h+=l,i=p&(1<<-s)-1,p>>=-s,s+=u;s>0;i=256*i+t[e+h],h+=l,s-=8);for(f=i&(1<<-s)-1,i>>=-s,s+=n;s>0;f=256*f+t[e+h],h+=l,s-=8);if(0===i)i=1-c;else{if(i===a)return f?NaN:Infinity*(p?-1:1);f+=Math.pow(2,n),i-=c}return(p?-1:1)*f*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var f,u,a,c=8*i-o-1,s=(1<<c)-1,h=s>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,y=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||Infinity===e?(u=isNaN(e)?1:0,f=s):(f=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-f))<1&&(f--,a*=2),(e+=f+h>=1?l/a:l*Math.pow(2,1-h))*a>=2&&(f++,a/=2),f+h>=s?(u=0,f=s):f+h>=1?(u=(e*a-1)*Math.pow(2,o),f+=h):(u=e*Math.pow(2,h-1)*Math.pow(2,o),f=0));o>=8;t[r+p]=255&u,p+=y,u/=256,o-=8);for(f=f<<o|u,c+=o;c>0;t[r+p]=255&f,p+=y,f/=256,c-=8);t[r+p-y]|=128*d}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){var n=r(0),o=r(103),i=r(104),f=r(4),u=r(1),a=u("iterator"),c=u("toStringTag"),s=i.values;for(var h in o){var l=n[h],p=l&&l.prototype;if(p){if(p[a]!==s)try{f(p,a,s)}catch(d){p[a]=s}if(p[c]||f(p,c,h),o[h])for(var y in i)if(p[y]!==i[y])try{f(p,y,i[y])}catch(d){p[y]=i[y]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){var n=r(18),o=r(105),i=r(15),f=r(21),u=r(106),a=f.set,c=f.getterFor("Array Iterator");t.exports=u(Array,"Array",(function(t,e){a(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,r){var n=r(1),o=r(38),i=r(7),f=n("unscopables"),u=Array.prototype;null==u[f]&&i.f(u,f,{configurable:!0,value:o(null)}),t.exports=function(t){u[f][t]=!0}},function(t,e,r){var n=r(16),o=r(107),i=r(22),f=r(14),u=r(34),a=r(4),c=r(12),s=r(1),h=r(27),l=r(15),p=r(54),y=p.IteratorPrototype,d=p.BUGGY_SAFARI_ITERATORS,g=s("iterator"),v=function(){return this};t.exports=function(t,e,r,s,p,_,w){o(r,e,s);var b,A,B,m=function(t){if(t===p&&k)return k;if(!d&&t in S)return S[t];switch(t){case"keys":return function keys(){return new r(this,t)};case"values":return function values(){return new r(this,t)};case"entries":return function entries(){return new r(this,t)}}return function(){return new r(this)}},E=e+" Iterator",x=!1,S=t.prototype,I=S[g]||S["@@iterator"]||p&&S[p],k=!d&&I||m(p),R="Array"==e&&S.entries||I;if(R&&(b=i(R.call(new t)),y!==Object.prototype&&b.next&&(h||i(b)===y||(f?f(b,y):"function"!=typeof b[g]&&a(b,g,v)),u(b,E,!0,!0),h&&(l[E]=v))),"values"==p&&I&&"values"!==I.name&&(x=!0,k=function values(){return I.call(this)}),h&&!w||S[g]===k||a(S,g,k),l[e]=k,p)if(A={values:m("values"),keys:_?k:m("keys"),entries:m("entries")},w)for(B in A)!d&&!x&&B in S||c(S,B,A[B]);else n({target:e,proto:!0,forced:d||x},A);return A}},function(t,e,r){var n=r(54).IteratorPrototype,o=r(38),i=r(17),f=r(34),u=r(15),a=function(){return this};t.exports=function(t,e,r){var c=e+" Iterator";return t.prototype=o(n,{next:i(1,r)}),f(t,c,!1,!0),u[c]=a,t}},function(t,e,r){r.r(e);var n={tileSize:32,halfTileSize:16,assetsDpi:6,assetsSharpness:1.5,shapesSharpness:1.3,achievementSliceDuration:10,statisticsGraphDpi:2.5,statisticsGraphSlices:100,analyticsSliceDurationSeconds:10,minimumTickRate:25,maximumTickRate:500,mapChunkSize:16,chunkAggregateSize:4,mapChunkOverviewMinZoom:.9,mapChunkWorldSize:null,maxBeltShapeBundleSize:20,beltSpeedItemsPerSecond:2,minerSpeedItemsPerSecond:0,defaultItemDiameter:20,itemSpacingOnBelts:.63,wiresSpeedItemsPerSecond:6,undergroundBeltMaxTilesByTier:[5,9],readerAnalyzeIntervalSeconds:10,goalAcceptorItemsRequired:12,goalAcceptorsPerProducer:5,puzzleModeSpeed:3,puzzleMinBoundsSize:2,puzzleMaxBoundsSize:20,puzzleValidationDurationSeconds:30,buildingSpeeds:{cutter:.25,cutterQuad:.25,rotater:1,rotaterCCW:1,rotater180:1,painter:1/6,painterDouble:1/8,painterQuad:.5,mixer:.2,stacker:1/8},initialZoom:1.9,minZoomLevel:.1,maxZoomLevel:3,gameSpeed:1,warmupTimeSecondsFast:.5,warmupTimeSecondsRegular:1.5,smoothing:{smoothMainCanvas:!0,quality:"low"},rendering:{},debug:r(56).default,info:{file:"Ec\'])@^+*9zMevK3uMV4432x9%iK\'=",sgSalt:"}95Q3%8/.837Lqym_BJx%q7)pAHJbF",analyticsApiKey:"baf6a50f0cc7dfdec5a0e21c88a1c69a4b34bc4a"}};/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),n.minerSpeedItemsPerSecond=.4,n.mapChunkWorldSize=32*n.mapChunkSize,"".disableMapOverview&&(n.mapChunkOverviewMinZoom=0),"".fastGameEnter&&("".noArtificialDelays=!0),r(57),r(73),r(81),String.fromCharCode;var o=Object.prototype.hasOwnProperty,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$";function _ref(t){return i.charAt(t)}function compressX64(t){return null==t?"":function _compress(t,e,r){if(null==t)return"";var n,i,f,u={},a={},c="",s="",h="",l=2,p=3,y=2,d=[],g=0,v=0;for(f=0;f<t.length;f+=1)if(c=t.charAt(f),o.call(u,c)||(u[c]=p++,a[c]=!0),s=h+c,o.call(u,s))h=s;else{if(o.call(a,h)){if(h.charCodeAt(0)<256){for(n=0;n<y;n++)g<<=1,v==e-1?(v=0,d.push(r(g)),g=0):v++;for(i=h.charCodeAt(0),n=0;n<8;n++)g=g<<1|1&i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i>>=1}else{for(i=1,n=0;n<y;n++)g=g<<1|i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i=0;for(i=h.charCodeAt(0),n=0;n<16;n++)g=g<<1|1&i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i>>=1}0==--l&&(l=Math.pow(2,y),y++),delete a[h]}else for(i=u[h],n=0;n<y;n++)g=g<<1|1&i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i>>=1;0==--l&&(l=Math.pow(2,y),y++),u[s]=p++,h=String(c)}if(""!==h){if(o.call(a,h)){if(h.charCodeAt(0)<256){for(n=0;n<y;n++)g<<=1,v==e-1?(v=0,d.push(r(g)),g=0):v++;for(i=h.charCodeAt(0),n=0;n<8;n++)g=g<<1|1&i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i>>=1}else{for(i=1,n=0;n<y;n++)g=g<<1|i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i=0;for(i=h.charCodeAt(0),n=0;n<16;n++)g=g<<1|1&i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i>>=1}0==--l&&(l=Math.pow(2,y),y++),delete a[h]}else for(i=u[h],n=0;n<y;n++)g=g<<1|1&i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i>>=1;0==--l&&(l=Math.pow(2,y),y++)}for(i=2,n=0;n<y;n++)g=g<<1|1&i,v==e-1?(v=0,d.push(r(g)),g=0):v++,i>>=1;for(;;){if(g<<=1,v==e-1){d.push(r(g));break}v++}return d.join("")}(t,6,_ref)}r(55);var f=r(10),u=f.Buffer.from&&f.Buffer.alloc&&f.Buffer.allocUnsafe&&f.Buffer.allocUnsafeSlow?f.Buffer.from:t=>new f.Buffer(t);let a=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(a=new Int32Array(a));var c=function(t,e){const r=(t,r)=>e(t,r)>>>0;return r.signed=e,r.unsigned=r,r.model="crc-32",r}(0,(function(t,e){f.Buffer.isBuffer(t)||(t=u(t));let r=0===e?0:-1^~~e;for(let n=0;n<t.length;n++){const e=t[n];r=a[255&(r^e)]^r>>>8}return-1^r})),s="crc32".padEnd(32,"-");r(102);var h="!#%&\'()*+,-./:;<=>?@[]^_`{|}~\\xa5\\xa6\\xa7\\xa8\\xa9\\xaa\\xab\\xac\\xad\\xae\\xaf\\xb0\\xb1\\xb2\\xb3\\xb4\\xb5\\xb6\\xb7\\xb8\\xb9\\xba\\xbb\\xbc\\xbd\\xbe\\xbf\\xc0\\xc1\\xc2\\xc3\\xc4\\xc5\\xc6\\xc7\\xc8\\xc9\\xca\\xcb\\xcc\\xcd\\xce\\xcf\\xd0\\xd1\\xd2\\xd3\\xd4\\xd5\\xd6\\xd7\\xd8\\xd9\\xda\\xdb\\xdc\\xdd\\xde\\xdf\\xe0\\xe1\\xe2\\xe3\\xe4\\xe5\\xe6\\xe7\\xe8\\xe9\\xea\\xeb\\xec\\xed\\xee\\xef\\xf0\\xf1\\xf2\\xf3\\xf4\\xf5\\xf6\\xf7\\xf8\\xf9\\xfa\\xfb\\xfc\\xfd\\xfe\\xffABCDEFGHIJKLMNOPQRSTUVWXYZ",l={};function compressInt(t){var e=t+=1;if(l[e])return l[e];var r="";do{r+=h[t%h.length],t=Math.floor(t/h.length)}while(t>0);return l[e]=r}function indexMapToArray(t){var e=new Array(t.size);return t.forEach((t,r)=>{e[t]=r}),e}var p=function accessNestedPropertyReverse(t,e){for(var r=t,n=e.length-1;n>=0;--n)r=r[e[n]];return r}(n,["file","info"]);self.addEventListener("message",t=>{var{jobId:e,job:r,data:n}=t.data,o=function performJob(t,e){switch(t){case"compressX64":return compressX64(e);case"compressObject":var r=function compressObject(t){var e=new Map,r=new Map,n=function compressObjectInternal(t,e,r){if(Array.isArray(t)){for(var n=[],o=0;o<t.length;++o)n.push(compressObjectInternal(t[o],e,r));return n}if("object"==typeof t&&null!==t){var i={};for(var f in t){var u=e.get(f);void 0===u&&(u=e.size,e.set(f,u));var a=t[f];i[compressInt(u)]=compressObjectInternal(a,e,r)}return i}if("string"==typeof t){var c=r.get(t);return void 0===c&&(c=r.size,r.set(t,c)),compressInt(c)}return t}(t,e,r);return{keys:indexMapToArray(e),values:indexMapToArray(r),data:n}}(e.obj),n=JSON.stringify(r),o=function computeCrc(t){return s+c(t).toString(16).padStart(8,"0")}(n+p);return e.compressionPrefix+compressX64(o+n);default:throw new Error("Webworker: Unknown job: "+t)}}(r,n);self.postMessage({jobId:e,result:o})})}]);', null)
    }
}
, function(e, t, r) {
    e.exports = r(277)
}
, function(e, t) {
    e.exports = {
        CSSRuleList: 0,
        CSSStyleDeclaration: 0,
        CSSValueList: 0,
        ClientRectList: 0,
        DOMRectList: 0,
        DOMStringList: 0,
        DOMTokenList: 1,
        DataTransferItemList: 0,
        FileList: 0,
        HTMLAllCollection: 0,
        HTMLCollection: 0,
        HTMLFormElement: 0,
        HTMLSelectElement: 0,
        MediaList: 0,
        MimeTypeArray: 0,
        NamedNodeMap: 0,
        NodeList: 1,
        PaintRequestList: 0,
        Plugin: 0,
        PluginArray: 0,
        SVGLengthList: 0,
        SVGNumberList: 0,
        SVGPathSegList: 0,
        SVGPointList: 0,
        SVGStringList: 0,
        SVGTransformList: 0,
        SourceBufferList: 0,
        StyleSheetList: 0,
        TextTrackCueList: 0,
        TextTrackList: 0,
        TouchList: 0
    }
}
, function(e, t, r) {
    var n = r(78)
      , i = r(149)
      , o = r(72)
      , a = r(81)
      , s = r(157)
      , l = a.set
      , c = a.getterFor("Array Iterator");
    e.exports = s(Array, "Array", (function(e, t) {
        l(this, {
            type: "Array Iterator",
            target: n(e),
            index: 0,
            kind: t
        })
    }
    ), (function() {
        var e = c(this)
          , t = e.target
          , r = e.kind
          , n = e.index++;
        return !t || n >= t.length ? (e.target = void 0,
        {
            value: void 0,
            done: !0
        }) : "keys" == r ? {
            value: n,
            done: !1
        } : "values" == r ? {
            value: t[n],
            done: !1
        } : {
            value: [n, t[n]],
            done: !1
        }
    }
    ), "values"),
    o.Arguments = o.Array,
    i("keys"),
    i("values"),
    i("entries")
}
, function(e, t, r) {
    var n = r(40)
      , i = r(90)
      , o = r(50)
      , a = n("unscopables")
      , s = Array.prototype;
    null == s[a] && o.f(s, a, {
        configurable: !0,
        value: i(null)
    }),
    e.exports = function(e) {
        s[a][e] = !0
    }
}
, function(e, t, r) {
    var n = r(118);
    e.exports = n && !Symbol.sham && "symbol" == typeof Symbol.iterator
}
, function(e, t, r) {
    var n = r(49)
      , i = r(50)
      , o = r(55)
      , a = r(152);
    e.exports = n ? Object.defineProperties : function defineProperties(e, t) {
        o(e);
        for (var r, n = a(t), s = n.length, l = 0; s > l; )
            i.f(e, r = n[l++], t[r]);
        return e
    }
}
, function(e, t, r) {
    var n = r(119)
      , i = r(93);
    e.exports = Object.keys || function keys(e) {
        return n(e, i)
    }
}
, function(e, t, r) {
    var n = r(78)
      , i = r(56)
      , o = r(91)
      , a = function(e) {
        return function(t, r, a) {
            var s, l = n(t), c = i(l.length), u = o(a, c);
            if (e && r != r) {
                for (; c > u; )
                    if ((s = l[u++]) != s)
                        return !0
            } else
                for (; c > u; u++)
                    if ((e || u in l) && l[u] === r)
                        return e || u || 0;
            return !e && -1
        }
    };
    e.exports = {
        includes: a(!0),
        indexOf: a(!1)
    }
}
, function(e, t, r) {
    var n = r(94);
    e.exports = n("document", "documentElement")
}
, function(e, t, r) {
    var n = r(39);
    e.exports = n
}
, function(e, t, r) {
    var n = r(39)
      , i = r(120)
      , o = n.WeakMap;
    e.exports = "function" == typeof o && /native code/.test(i(o))
}
, function(e, t, r) {
    var n = r(60)
      , i = r(162)
      , o = r(82)
      , a = r(75)
      , s = r(98)
      , l = r(47)
      , c = r(73)
      , u = r(40)
      , d = r(86)
      , p = r(72)
      , h = r(122)
      , g = h.IteratorPrototype
      , f = h.BUGGY_SAFARI_ITERATORS
      , m = u("iterator")
      , y = function() {
        return this
    };
    e.exports = function(e, t, r, u, h, _, v) {
        i(r, t, u);
        var b, w, S, C = function(e) {
            if (e === h && B)
                return B;
            if (!f && e in E)
                return E[e];
            switch (e) {
            case "keys":
                return function keys() {
                    return new r(this,e)
                }
                ;
            case "values":
                return function values() {
                    return new r(this,e)
                }
                ;
            case "entries":
                return function entries() {
                    return new r(this,e)
                }
            }
            return function() {
                return new r(this)
            }
        }, A = t + " Iterator", k = !1, E = e.prototype, I = E[m] || E["@@iterator"] || h && E[h], B = !f && I || C(h), x = "Array" == t && E.entries || I;
        if (x && (b = o(x.call(new e)),
        g !== Object.prototype && b.next && (d || o(b) === g || (a ? a(b, g) : "function" != typeof b[m] && l(b, m, y)),
        s(b, A, !0, !0),
        d && (p[A] = y))),
        "values" == h && I && "values" !== I.name && (k = !0,
        B = function values() {
            return I.call(this)
        }
        ),
        d && !v || E[m] === B || l(E, m, B),
        p[t] = B,
        h)
            if (w = {
                values: C("values"),
                keys: _ ? B : C("keys"),
                entries: C("entries")
            },
            v)
                for (S in w)
                    !f && !k && S in E || c(E, S, w[S]);
            else
                n({
                    target: t,
                    proto: !0,
                    forced: f || k
                }, w);
        return w
    }
}
, function(e, t, r) {
    var n = {}.propertyIsEnumerable
      , i = Object.getOwnPropertyDescriptor
      , o = i && !n.call({
        1: 2
    }, 1);
    t.f = o ? function propertyIsEnumerable(e) {
        var t = i(this, e);
        return !!t && t.enumerable
    }
    : n
}
, function(e, t, r) {
    var n = r(94)
      , i = r(97)
      , o = r(160)
      , a = r(55);
    e.exports = n("Reflect", "ownKeys") || function ownKeys(e) {
        var t = i.f(a(e))
          , r = o.f;
        return r ? t.concat(r(e)) : t
    }
}
, function(e, t) {
    t.f = Object.getOwnPropertySymbols
}
, function(e, t, r) {
    var n = r(44)
      , i = /#|\.prototype\./
      , o = function(e, t) {
        var r = s[a(e)];
        return r == c || r != l && ("function" == typeof t ? n(t) : !!t)
    }
      , a = o.normalize = function(e) {
        return String(e).replace(i, ".").toLowerCase()
    }
      , s = o.data = {}
      , l = o.NATIVE = "N"
      , c = o.POLYFILL = "P";
    e.exports = o
}
, function(e, t, r) {
    var n = r(122).IteratorPrototype
      , i = r(90)
      , o = r(80)
      , a = r(98)
      , s = r(72)
      , l = function() {
        return this
    };
    e.exports = function(e, t, r) {
        var c = t + " Iterator";
        return e.prototype = i(n, {
            next: o(1, r)
        }),
        a(e, c, !1, !0),
        s[c] = l,
        e
    }
}
, function(e, t, r) {
    var n = r(44);
    e.exports = !n((function() {
        function F() {}
        return F.prototype.constructor = null,
        Object.getPrototypeOf(new F) !== F.prototype
    }
    ))
}
, function(e, t, r) {
    var n = r(51);
    e.exports = function(e) {
        if (!n(e) && null !== e)
            throw TypeError("Can't set " + String(e) + " as a prototype");
        return e
    }
}
, function(e, t, r) {
    r.r(t),
    t.default = {}
}
, function(e, t) {
    var r = "~"
      , n = "\\x" + ("0" + r.charCodeAt(0).toString(16)).slice(-2)
      , i = "\\" + n
      , o = new RegExp(n,"g")
      , a = new RegExp(i,"g")
      , s = new RegExp("(?:^|([^\\\\]))" + i)
      , l = [].indexOf || function(e) {
        for (var t = this.length; t-- && this[t] !== e; )
            ;
        return t
    }
      , c = String;
    var u = {
        stringify: function stringify(e, t, a, s) {
            return u.parser.stringify(e, function generateReplacer(e, t, a) {
                var s, c, u = !1, d = !!t, p = [], h = [e], g = [e], f = [a ? r : "[Circular]"], m = e, y = 1;
                return d && (c = "object" == typeof t ? function(e, r) {
                    return "" !== e && t.indexOf(e) < 0 ? void 0 : r
                }
                : t),
                function(e, t) {
                    return d && (t = c.call(this, e, t)),
                    u ? (m !== this && (s = y - l.call(h, this) - 1,
                    y -= s,
                    h.splice(y, h.length),
                    p.splice(y - 1, p.length),
                    m = this),
                    "object" == typeof t && t ? (l.call(h, t) < 0 && h.push(m = t),
                    y = h.length,
                    (s = l.call(g, t)) < 0 ? (s = g.push(t) - 1,
                    a ? (p.push(("" + e).replace(o, n)),
                    f[s] = r + p.join(r)) : f[s] = f[0]) : t = f[s]) : "string" == typeof t && a && (t = t.replace(n, i).replace(r, n))) : u = !0,
                    t
                }
            }(e, t, !s), a)
        },
        parse: function parse(e, t) {
            return u.parser.parse(e, function generateReviver(e) {
                return function(t, o) {
                    var l = "string" == typeof o;
                    return l && o.charAt(0) === r ? new c(o.slice(1)) : ("" === t && (o = function regenerate(e, t, n) {
                        return t instanceof Array ? function regenerateArray(e, t, r) {
                            for (var n = 0, i = t.length; n < i; n++)
                                t[n] = regenerate(e, t[n], r);
                            return t
                        }(e, t, n) : t instanceof c ? t.length ? n.hasOwnProperty(t) ? n[t] : n[t] = function retrieveFromPath(e, t) {
                            for (var n = 0, i = t.length; n < i; e = e[t[n++].replace(a, r)])
                                ;
                            return e
                        }(e, t.split(r)) : e : t instanceof Object ? function regenerateObject(e, t, r) {
                            for (var n in t)
                                t.hasOwnProperty(n) && (t[n] = regenerate(e, t[n], r));
                            return t
                        }(e, t, n) : t
                    }(o, o, {})),
                    l && (o = o.replace(s, "$1" + r).replace(i, n)),
                    e ? e.call(this, t, o) : o)
                }
            }(t))
        },
        parser: JSON
    };
    e.exports = u
}
, function(e, t, r) {
    r(168);
    var n = r(73)
      , i = r(44)
      , o = r(40)
      , a = r(99)
      , s = r(47)
      , l = o("species")
      , c = !i((function() {
        var e = /./;
        return e.exec = function() {
            var e = [];
            return e.groups = {
                a: "7"
            },
            e
        }
        ,
        "7" !== "".replace(e, "$<a>")
    }
    ))
      , u = "$0" === "a".replace(/./, "$0")
      , d = o("replace")
      , p = !!/./[d] && "" === /./[d]("a", "$0")
      , h = !i((function() {
        var e = /(?:)/
          , t = e.exec;
        e.exec = function() {
            return t.apply(this, arguments)
        }
        ;
        var r = "ab".split(e);
        return 2 !== r.length || "a" !== r[0] || "b" !== r[1]
    }
    ));
    e.exports = function(e, t, r, d) {
        var g = o(e)
          , f = !i((function() {
            var t = {};
            return t[g] = function() {
                return 7
            }
            ,
            7 != ""[e](t)
        }
        ))
          , m = f && !i((function() {
            var t = !1
              , r = /a/;
            return "split" === e && ((r = {}).constructor = {},
            r.constructor[l] = function() {
                return r
            }
            ,
            r.flags = "",
            r[g] = /./[g]),
            r.exec = function() {
                return t = !0,
                null
            }
            ,
            r[g](""),
            !t
        }
        ));
        if (!f || !m || "replace" === e && (!c || !u || p) || "split" === e && !h) {
            var y = /./[g]
              , _ = r(g, ""[e], (function(e, t, r, n, i) {
                return t.exec === a ? f && !i ? {
                    done: !0,
                    value: y.call(t, r, n)
                } : {
                    done: !0,
                    value: e.call(r, t, n)
                } : {
                    done: !1
                }
            }
            ), {
                REPLACE_KEEPS_$0: u,
                REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: p
            })
              , v = _[0]
              , b = _[1];
            n(String.prototype, e, v),
            n(RegExp.prototype, g, 2 == t ? function(e, t) {
                return b.call(e, this, t)
            }
            : function(e) {
                return b.call(e, this)
            }
            )
        }
        d && s(RegExp.prototype[g], "sham", !0)
    }
}
, function(e, t, r) {
    var n = r(60)
      , i = r(99);
    n({
        target: "RegExp",
        proto: !0,
        forced: /./.exec !== i
    }, {
        exec: i
    })
}
, function(e, t, r) {
    var n = r(55);
    e.exports = function() {
        var e = n(this)
          , t = "";
        return e.global && (t += "g"),
        e.ignoreCase && (t += "i"),
        e.multiline && (t += "m"),
        e.dotAll && (t += "s"),
        e.unicode && (t += "u"),
        e.sticky && (t += "y"),
        t
    }
}
, function(e, t, r) {
    var n = r(44);
    function RE(e, t) {
        return RegExp(e, t)
    }
    t.UNSUPPORTED_Y = n((function() {
        var e = RE("a", "y");
        return e.lastIndex = 2,
        null != e.exec("abcd")
    }
    )),
    t.BROKEN_CARET = n((function() {
        var e = RE("^r", "gy");
        return e.lastIndex = 2,
        null != e.exec("str")
    }
    ))
}
, function(e, t, r) {
    var n = r(172).charAt;
    e.exports = function(e, t, r) {
        return t + (r ? n(e, t).length : 1)
    }
}
, function(e, t, r) {
    var n = r(59)
      , i = r(71)
      , o = function(e) {
        return function(t, r) {
            var o, a, s = String(i(t)), l = n(r), c = s.length;
            return l < 0 || l >= c ? e ? "" : void 0 : (o = s.charCodeAt(l)) < 55296 || o > 56319 || l + 1 === c || (a = s.charCodeAt(l + 1)) < 56320 || a > 57343 ? e ? s.charAt(l) : o : e ? s.slice(l, l + 2) : a - 56320 + (o - 55296 << 10) + 65536
        }
    };
    e.exports = {
        codeAt: o(!1),
        charAt: o(!0)
    }
}
, function(e, t, r) {
    var n = r(79)
      , i = r(99);
    e.exports = function(e, t) {
        var r = e.exec;
        if ("function" == typeof r) {
            var o = r.call(e, t);
            if ("object" != typeof o)
                throw TypeError("RegExp exec method returned something other than an Object or null");
            return o
        }
        if ("RegExp" !== n(e))
            throw TypeError("RegExp#exec called on incompatible receiver");
        return i.call(e, t)
    }
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABGBEDOAuCmBDAtgBUQc3pAXGUEEMAFgPYBOsAKvAB6y5TTGIAO8AXgHQCWpYPaGERgMKeMIBGpAK6wwkmTwA2AEx4A7DGABmiAMawKPeEKPC5pZIgRhYxCfvJJYfDcI2qwrcqX2noTW1SHQENJyRArWUATzB9K1ZlOjBmNlNhJ1JoIUR3TR1NHgRYsDpWPPUtMGtWLkgAGnBCSHVoBPJVABlNAGsAZTJKRkgAeR1C-R5EZTAAEUEO1Ubmok1YXxG5-hjZMGUeXolES2tXUncxZFMAfjAqB3ddmWFnMLsHMHIeDGJ5JIM8AAhAAdDRpdjcPgCXJfeDKRC0eBeK4STRgADuxB4+mIYGeYBYADcJOZFCovHpDMYMjoKB9jqcbMjvL5VDJDG4wCFRPArPANjjUix2NAuGAAIJmT7JEmzTQRRDQUwNBnC9JCSTwBLXGoUY6ePVvHVJOiqyr4vbE0n8aA+JBeWTyC5qgpFWy1LhgiWGpUCUL2GyYpUaADk8ngGlkv1VBJm0H41rs-B8pHZ-jKtFYF0jrhmpWQ+uTqRsgh0cXsElU8GsniEAFo1RdSvYgh8gw5lKwhIJUvoZkEgWAAOrY5KWl7NuJJ8yp-w5dWi4TySsKeAYTQaIKxvYYlSzBEIciExAk4sJZT0yvIMCNyRxOgbAyuaoW5A8Whti8UaCgjQAIRkGI21XVFuXcfoEBQUQeBJIQ430eczH4VcdBkZRZhJchAguVVFHkAl+3ceMUwROIRGrQtl0XTheH4QpsPkC1qymat9mZcggRWQgoCxGwAH1SErbD+OgRAYhGUcg3YUhTRLcjpDkGioVIbiWijYSNAOC5+J1a4NAYPBIAeXswNM5wg0bABJUMb2JNsRAxC5q3INDZlcXUAWArRzUNDyJBYIQdEvDF3Hveomh4yANNxXSrH0wyoFGPEnDYcUrLhfM4mYWQ1FSZJ4FYPClIy1sNF6MAMoAKxkOBdB+GRnEdJSyAxYtrCOYR4kSOR4GPdEIVovg1KIOAkGQfjnCJEwMTi5AEpGEyhDAwLUiMZJ3GQOIDh0A0vAy1QLnDYMDIEeRJAMXpxQANT6uJcX3XRnwoOIwMDeQnLDeRknkXU4FkmpEF6Nstv2TQMkLN54AmHETAM+pmgAX0iqAMEvC7lEYAgWkvRAqgwEYulIPGghGqA+t8cgRgAUXISmycgS8MA3LQrI0QnSGZttNAZ+xZDEusFmmlyRgaBmWJ4axlH6QrEHIGwKBGCLViYGQYdoLGVaIPnasqaARl6MmiHfDC3H1oyAFkjagSR9zNkZ-2tyBBVNi5zagKhIBV5GVcgN0twQEYCl5yXsDwbGopzGWEk8CUMFUoyc1SbVnOEeOndoaPnOgOOE6gAAeWgAD5k5j1RcnTlHI40eALc0Xrc5GJP3w0Xq09UquWloOvW4QHP06MwuS5b3qK47rWoBzAAJWRyEbxOa8JWf24zmfGv7vPICHpf15XzuiBzOZxPnyfF9UcS94nyBaCPmIN5Gbfz7vy+eNGlO60GChEq35Uy+gIv9b7ygCPPuPpVBZw-kMb++cQGmCLjefOv9s4AKdmQdeYCe6j0-sMQeaDsJFzxDA+ufd4EZ0wX3B+xcajENMF7HiPsopHDvprV+UBYCIEkItCUjsgGQBjhsUgmMjIAGEqAACUuhOxmN-CUXRPa8NMP2dgNN+jCKdswHgOhv79CnlZAAYvIq+dpAQjH6KgCUwjqZ0MIIjJGKNWg1lIP+PINdsIsJaK4WAyQab0EjNWLwt1sJuAZusTYRkADiAo1SPj8SyMCLpILjV0PSSGEhdo2EahkC0-DcxcTsc0SA1hNAW0jDIdxRAvIjFQGRBm-D65hygMIi4L4ZDYE7tFeAGJwniBGAAOU6WAbp1xaksC0PCTmIxhGjKwEzBm0AZCSCauob+YjkTLJCcgbMlB+innXD0oyVlNlfwZrJSM-RZ7+CnusRa2JlriBhNydg7gEyNX8FxdpbQlg9HKiMcYkxpizAWO0CgXgZbkCwgzTsrAqDy3BIeBpkAp7wlYHYWF0B4XvN9tYas-4JKWzxhIe8YB84nD5uQesBxypFwZos0gGJlTkGHHLLcWhTEUHIDEYqK5PhmSEL0KMoVizkBkM8kKpQXTPGPLS+lfUhyRO5RIGJngWRYRwu4ekh1Qq4y8OE0gnNxxTN8LqOkx5ULoVmOUPqcN-DKyimJEkqIujwDlITZ18JiXFzmbsx1brlAAFVyoCvZkZAN-K6XuCdS69p9q9nXADRocQywQ0aATdcZY7TWAyA4BwZIFs0wItQFmnNEg83VhpZdB2FaM1FuSHMZQ+gaD0C2DsPYkYqqkHuokZ8DlDSyQ8jwDgbYqRGG+LcQZUTVyFuzeOOYXRhFgAFeBMAiToImrKCSTaRY0IaExVFTN074B1v0MOQQxADhwEkqe898gBW7paPu4tR7rozV6XSkYz6BlHoZoWcu5SPHFG8UZCUnIzylsAVfDEzKghTsfXOqpZEQKfBgzOudDyNLeGyIESQ449z2D1OXcU1TIhVkEBw8c+Z8PIW8GRNUs7hEI3ofkipNba6lL-ZASpRlqniQZsiYoNN1ntM8YBqAyGS35tqRZBAYnJlSYkDJ9p2qZNGSJnjBmU0ZrKagKs6aAyABkYBC3YdPQzIkA5z4vgwFpyA11zOlmqAp328zJDvlgJZ6z-QFmucs4ZljDMoxifdsZBwbw5aOEas4AypQozeBYz2dwrYhC-3OBoW1LRVD1quQZKprzAoslXHR4QygLKqBiHcC2QMJDzLeMUB53azMIC8ES74vx5D6AOPoYG1RBoqXeJKsGiy5acuTskTkDnfDsEoCYIQJc6NilqcyeOo73YRxxr6oLkb4TgdYR0jEfTOlOyMKwes8tGuLQBmI5k6ar4twRcIuT12duRDxVAamSoJK8LTTwGQyARglPUD91Bcsk1QCnsDp2JofrIkmYkKHj3X6QBCP8mYi1LDfBR7wjYfjSZGRhdj6oRgn6Hci-jesGJ4DwF6LERaJO2zk8p9T3h-YEBLem5MxbNJtsI-UDDfQ6FXC0KMri+YmjJj84+1fAwCQRXfwtnEQL6ikDkFxKYpXKvvbRrV8QP9RBu0XFV3LFXvCAT+DIGoPqNMDJ9S6g+8c9JSVDAXT03hCplAyGrE0zZcORhs3a+7iQnvTRnd4TzsXygBcrYnrrjQL3IA+jiAsXn4vrZEGezTd7KfgF8cB5bbPv2gFEBYJ0EYYPi8TwYdzxqpY3Y65aHkWP8f5hV5S5nkgxyjLYPkAACnzmAAATNQjQABKVvX2c9QFfeQKWrfLyspUxcbQXeS4AEYAAMg+R-l4177UPOJ+ds-DlfNPRk3vQAlztsfv3c8A-z1fIvIPEXg94SKsNoURgBtO9D7fUUzMHAs8Ew-HbYTBFNmX-HgLwRzHbALNkDkPqILIjJUCQE3Y4MAJpcEdhU6VAGA-wTiJ2KMXVGYYDfwVgEdeA5IRA6jQELqAg2YIgwqEdO9KKeOQgxCegigV9KyBAK-JKReFJIsGgyUVgkgn8E8M8dDGIKJJUQIDAGuLwPIM6GscUOYeEWCa3EQQaYsa8YsZUJiUQYmZQNLJg-Qug4Q8gS7BAV9WAEpb+UYXg48VJQZfQwQ4g0g14CQdDLANzNsSMaMPEYoGsMUMACrTqarUkFgBVMIdQZnEQsLUQZwSMZJY8CjKXNg7CQwlockNQIIUYOQcYf8WQOsX5Owo0QlJQLIrQXIN4J0QINiHkVcTI8+bDY4CycUamYoELMIRUZUNUMLEQekZwQsM8a8dI3XSwQPKHEYAATWXlt0ZCMEhwFAyGKGVGUB0CHAQO6I6iq0yQnGPBjjgDyH+GwLgLcIXSEjAHUGcEMFKGrAOCwhAhbUaj0JmEyBcJ-AYxsSYygHUBmE5kjyinwiMHBFr0R0NiMlGAAGknZbjFith4RYSmc8h-AhFGkkT4QnZ4UqYVMOInZnADicFtNTB2FhheE8SBQRhVkdCnZPDIJKhfia4fEEBlUAk4DgkQ94SEAhkQCwBX9MRwjKphAbxDpSZeFdMMQ-VWALMEUP02oJSpT1FWoJSMB5ZqwgtP5ZTWBlSCUuc7VWoIT4AYhbZPAgg1TWowB9TDTNB8YdSWhnANhY9Vl7SIdml6kYcDJXTjcyI-lKUC0aNvTwZrEIAK81gjltlvVxBaZ6ZACEdgCfdQz5BIzFZMdHwRg9FEAVB8t+BJYtkCJl4Y1UQcBAywBgyoBsyv4dkHVxBPNWCcgQTYyO9wzdRDkczodkym0jJpinj8z7lVotQEj5kazoA3JSgyzKBkQPigz2lHViZVA0yVBMk6yAMEUuSHlaUjh2Y2zv45zkgvBzBtVdiSxKzrhCzv8WgY4GJkAKzY1D0OSGlVttYly3SLyLiOS2Sr4EB2yoAJQ3gCRQiJwToVx+AYTbBUJBEQo2xUQbh85Fki5oLyAS5QxEFGz4BelxAi5QxqJZR3UkKjz4BNtlBYKYK4KS4lp4h5D0MtQwARVDoa48l6Fo1kLlCfo3BEysT8B3zHyjJtzMyXyJjNzUz0ydzixgKwiqtkKTz6LfY8TiTYBVkABHJQJqRcrxBFSkmSuEBSngJS-ijsvYGuHi6SuWCIt6fgNgJICsT4HQyzebU81PZZC0o0-GZSkTSAKZPILAc0g0xykUq+VU-QKpPE6UCQJhbkew-mUotzCVXcQ44sKQn4DQVUekRRdIc8NEgwosksyAMk2AByq0k0tAi86vYNdioAziwknQnkryvKio6ExRG5XsPcDCOECqijJhbyiozQhwLSl8vQfnMAX-VpQIjYxwC4C8ic4s9pNq6qjAaASkgUUYMEkqmMsqyAXK40jq7K2q9oEYCUJqqa9ama0QwlCndwbKzq+Abq6sXq8PIQAa0wOimxdpdJWATJNS74TkfXaMqKes17XxZksAQJNVLa-y3Sl4QUHilIhcEQZ6nYnvGG5wIuIfPknEPwoQdDU8QSsjNEBLT4C6bo1VNwcUNAmo63TwnzVcJVfxfq1kl0BJKCG8NdM1Jqy1UdcIYEDK9pKOZCnoVzZyhFHm-wrwbs64G0ogPyqYvYIicCUoJMJOYW44XQ-yd4eoiggmi4Qjcg7ogY0gIYz4OgQQHzJOekTw6JP6qmtWndDm32GQSU5kTzeaIbPm-bNqG2qUxg9LOqoyJFULN4VcXEdyjIKIDMAkBEOqLyZECSx662zUlU0wNmARdMFvL6-9FS9-LSPwCqJU2O0W74z2r8pqwaeCPYVMdMRweQyi2qHikVS8TrKimO7U28YlOAXwLQIuGi46VUgROIfrQRSkZ6ZbIEfOAAemboXxIs+Btq1NVLsA4TIrCjSQKMdBxptBRRaz+G6nIFcW5ADEsoiEjHGsyusByCYsWIKq0u4PvLYRWrPqn14oRN8rzsgE7NOOAocn2HOJ5AaJNLAB72lwMhLjJEVVoGfCHyHG-IkF-J2IJEg1OnMEOg+EEBuCtqiiPugGETkBvovo4tTpEVGvPviDkGBolpeFiL5y8NfHfudFCC-o6t-oKNgAAf4EoroBAbAZ-L2D-OgZirgZQluSQdsuASkPQdgDZnmV5zhlgEwadtwY0GfLIaIdBrnrOKYgmBBWLAqDGgQcqKQDYYgY4ageitgf4DIbOn4ckoBLd0Km+AMmgEsIDRrqOBB0vudhWssKovTs6xZAkIYHZO2twa90WP2F9TAGXwH3MGrozrAH-EsZ8HWF-GQZaH2utPjuwKTqWu+pWr9WVDckqstIOpzocT8Y9luVEB7L9BEEvCodyfasOqxBRsBk6lq0iBMFNSYbKKax+CempGW3FG9uaJQN2gxC5TXFSB2PMEQQEVbtxG1AqidDVCSZNOHtHtbsHqIpguJQSDYnaykIAF5QwFmtBQwi5REJFh7Nn4AS4ABqeYeWDAPAGWUbJiYiFo4ijZ-NeIUO6APZg5jAI5nRfRKgM5-NIuPAGePKWcBEDMZAffOSHkJOGhjALgV5-Oc5j53Z-Zqqg6o52RQFoe85kFyqDQLCZ0Vm9hFLbeyg-wJreEWAMUYihJogRUBACrcgI4Ni5xn6yAfpNqFltlw7Jc6mdZE-ZZIIuWPl3xkGqAcJVQs6Lqa4PIIIHJ1NeAHcF4KWkiTot3NiEQCZlujAABKBXJpZyZ-Vil9QkUCQLvUcepwieQrAVxZkYlSlXoAhPqeAYe51xGhl8mZZfoeKlHZOh8nBqAGWeQP1mQjHB+9oTggIyZMgbIFA+0esK68GLwfw5AQsiVzvC0pWLgcUJKq3U1T4XVsenKSgI1kek1kuHkc1lKq17EXEf8qW+1vqR1-OT1kLd1oez1zfcxloPjSRt2DA2ALAtMWA9l7Bly0NyqLg71wpMVvqZQwsAWxKZx8WxRqWqceIOTOwJyAh-6G8awVlk49EFW-Gmm1LcdCIymlVC9pdFdBm+kauyWQWwGY97CB6yc32cocsve8EMgWAJlTenHdJlOly6mLML+PseI-9oSBRqAZ+5wBSoknin98t-rPG44WEdoGDnKWADW4jZRsIoMRLTER6SizS2wdFOlRIrqW2Zma3TDjwLwaXPKbMJkvMDCe6eWZgA81ET9iaqSyMKs5C6Rwk5V5dUTiV4hpRyLe5freWwkN1g+oTNHAFZ9asUgCUMzFQLGsT4yNTl47TzGpo+D4LN1urOwQzzCcAvkYQHThEJo2j0jrC5QIcYcXKLwEOw4G0YMWARt4oMxqO766zjTvkYz3TpovRfUeKrodymQTAO8ydhFKgazyUBzvT6T3HTtyzl6kdAFfq2z0yjLpzxmkp1z4Z2rXsLdjGyL8cdEamaIU9cUDz9CLzvYA4TqcwSDfzvw2AILr9vdFjVTWcwS6HQNq+4NyAQLJ6DM3c-gbVMzgNE1F6hNEoCypAuLbqNr5RkZ7VCOud5zVzLTDllazzFzWrSA7nRRVC4ZCJGV-rWYrqZVzNqN-QKyGOeDQj3MNQ9xngZD4UKDphVUOpxtxq2YSinKQVP0VcHEWm0IR7ljH+5+5tyMVtkChwBBDtt1j1voIuRKvY+N7oo2neiQWFQ6ZAUoeZBjsaIWi1zUcZDEIfV7nbZAs3FyW7gtJHqgR8gRjjFjSkgdeAZxVQQCCkE0-TwXjgdw847MHIHgUzrLhDyWvIY6LYtUDgJOevVIKWZIcgPCbUE4boysZ5fkBQdp7+pyHbyi6o2zjXnMFT32WYkb1i-TkX3zA9Mzh4Tbg9WboSvcmcyOwbloJHH00tJL0qqb-0xecPsz4cEatrr6TKRt1cBlVVVUBMNUFaGH-gYVfIdVCYH0-DeAAjig9Xzhq0XZDwTIVwM8dYPqGuNrC4GuD61LOd2Y7YLVGc13iblxqbzv9OvGMAV3pXyAbi+bi48Nfc1cWYoPwTobg9c71zHv0DoNqdrzQQNVYfumJMt7gSub7Qjf3Mp42f9vljJf4oBa-TsTXzYzZgVsvfmRrUl6w8M2IcTs48J73sk62LO-hwOQw0FLUXSUVw6TWOIEJBCyBEUe5FGjoUENBVdl6YAEEJADlyxYD00AZAaXBSyO8F+xae7C4HgDR8I+y1KPoX3BhBEJMo-P1mzX-KxFQ+4MVVmRyaoUVjgTncwDGmY5D16QmaP-geVmItdPO-5OAI9E66+c6krceAAN3n73oWM3GGIKsgwDoQ5YqyPSH4iKqS8U480NQS3lH4ZQS2rdZZmjBiDGs9WJcK4vFD8SUFvI2gVcFGCnwvETKQTOUCEwHxagTUCtLgiQUQw+9i08wOdIlWEh7huiBIawA+HCD0Nrc1wf2luH0Bo1zi3jMIAnVgKqAlCjxNaI9BgaAVuo7pCQVIMyqzFBgYWfTp3k8pxAmkrAEwPDiijrtimVWQ1iFTqKfAnuPeJhIjRPAM8EiCQCoTxX6ztYeArAaQMDiHCcElGzDQtiyFPZNCke+kMGqZUHJqh+BZ-A9KshzIaCcyHvYtE7D7T2wJuFSXwHoAZJcZ9heQNpFHigAioEwygMzKZyMhuNLh1w7xAXjYS+BTYc+D2C8MpQEwt8fbZjMsMKhfxxisJXvpyweB5AKoBINdP1l2jIgLonWd2mLUfre80Bvg7-gkWCiYAsAKQpYcWhWFfwV+p3KbuPyFT-CSSj-ZXk8WcDrDWOXgDwlEjnABADufPZ3jOWzYGl9OjXI8ID3LZMIzOHI63Kn3qEGkKWM-JHgHyH7FAcBMgg9CfUDjAiVqMo+TCxiQaj9wGQggxi8EyHCVbyYARCsAXQp3BSKQA84hXU8A5gBOh9NMNAETy7RIs-gfTqWhHBQZWUo-JEXzjpi5gRy6BfMCyB-RCBQ81uHQEajVC+i1QinSDEICZYshcMxAcUKRXfCtYyKldUMchWLCLIkAszY8Ohn3JBh8w4oVUZA3YYajuGxjF0rkKdjvh5eWgMDH9k35thqxvCGuBiGrG3DOknog4hhBZDVjvYXxP2FoH2SgdIAPzaAKMCwg1Je+gxWuGwD+w61ThO2FYtqFgBi9yiM1VXI8zcKIB1ER2bjP4AWgd4jslLGsLmFxJCRmQS4pykZDEQnjbACLJ2MgQtgwsXK24iQNC3Dz9DHhV8KaHAUIGkt1BF4t1NhAkA0gDI6gkPKRiaIShLAowH8Wk0gBAosaFgIwPWCAlks3yQBTmGjHgBTx3c52ZmOOCnh+o5gt4yFsLwt5vDpuxE83uL2dFXxIxvLC3CIh3ZHtxWD9CYkZAVG3ilQCAOLnAGiatJYm2WLjJxIkCh1zoMTaxj4yvgON-wNLBYFcRgmNd4JWocPJQRTQW5PSLiPqP0Fwy4g-WZaLigcBRQAhVJx4EmhDjkAPMFxABRpIQyZyyQYgFk1vjDlYDn4Ec7WJXNJJuqTJyCUqGlgUzclywHJME4RN5JGyWT9cxufoQKFlGiZIpbmWcQjmgDaTiAcXCQm4g7xJT2IqU-WHz2-BpTV+UAJSn+KqEtBlSJ1EYOEhg5OxsMrSB2JYydgSEMIb6DsvCBCi3jGopoP7Il2AkQ4YgeQSZL1I3IQZsQ0UyANa0Di8JsMFaIXJC0NjP5whl4QqVK3lgSQ+eCLJ8buPyl8IYgbks8UEFszo4bGAVAIMSlaHnhtp44MzAdNpYjEoAAHJhHFyUkl4hITCPAPnFaFOwCgpARtLS1ryjR2A43ENv9OKlRRYUWACkgHVbz-Rbmd2NgAYGKAuSdsOYGNmgE0nvwH8y+BQjeCHqlxnIredNtAFQCoyy4lCEuPjLADYyc6awLggTKJnORtgCyFyl3loB94R8TwlxskCCzbxXAHMoskGT56udARFhISJohxC-jNprnHnlN3wpOtfU1KWyQEzOz+Mg8D-HbBE06zfS06DjFkPnGcCQZOgRceETbDkBAl+k9AfCvtnoBgBzZfPDSCLOZw7DNpjYrOgSh2oLoBkk9WOnVhK7JBDZkAVEFeQfwf9SmuoVEc8l2RYjeEgYinF5HwqCz+awTdtrLPaFrhOhsORYqoHNHRoyArAfTs7NVJVTjZFwexhnXfz10y0mOFpotBaYeo5ZN2REJLB+zmzLYEoAABpWQLYfqC2FbOpjXRqYXQH+v0CBlgBaAKLCLLmHvHh4vWfPA4q4GEGxDihKEueQUwsyIBzkryQXPlNGgjoAZl9DJlN0gj6hgZ13HDv0Jgm7VZghdNaIfLI5lQ1QWEyQONR+EI4S6yQ36WBwLTHEj51QxRN8C8GfV86F8+nqyDHZUsb52IJ4MvGHQvRVQrud3NzELZfZHWL8wwDZVYTB8dstxVQotN3nvy4SdxN1l-I9ony-5xVSAIUKXCg88QsRLUG2EwVYQeKq4e+Y-M+KsISyRAKMOQtMCjtS6D+V9DRCEBJg+y7gZBSyEz56ByAN0kgBqCBReQA0yxN+TADRkPxC6JcCmaPhoTKL6eqimoK3jwSaKNQ2i7XN8OC4tArKJpEpK3BBJeR-I8GcSDYommkSZqT4h-LtJqoTTfJzih2L5LnZ5djAMwLLD9LlFTd+kLIKFMqKMStQAlpiM0uAokk7ZsQ1YKJSIkvDKg521UqxusCfETsdsCQC9LgwvR89IMMQbMHExBJFKSlh0-FO+wKbEAFkJeP1Dwje6-yYJTqLRPWD6G10RATE-kfwBqibJiwxQVUGvVgDtKOsFUOBtqIlHEViKWBY6W9Mxb4xGG27AgXKwXbHhAxVgNUG6MizyAxSBPJulW2GWjKcQvQEwWPXPA7sulay6iKn3hKGAWQNdIqpIqZZuBqySESwnbLFkoDrloc5ZVdklGjQLWMpeiZtM5YpS4CTsGsCQVjzUxNksABGWeTsk5tcGzk0oXO3r7ywQM8AVLvlwDagqVqOKvxZjF4SxL-iaCyAMvn4iUrHwmKkdLYozDyF9B+rGlf3TOWt0l0+4mtgctMFTBlc44QaGytNbmAWVhgM6IbKICUq+8cUIlgaUVgyMW+17egLSvpDRiuoTKouDHBJC7AfJ4eQVUsv6y1LJAqzeCsRR56sBXphg45mMuY4XFbmeqtUEpI+jtEDyhYSuuKqgCUqAAzPxHKCVB6qPYIQOqt6SjBcWlq6vuAXHD8com7TEopmCfDdNcghoR1VRjgGnos+ThTSp4wkXTKYKZq0Fr3W5Vj1-mBie1RCyoIvjXAckEVaQV8heAkx6qsRKWtz5XjRKyAG6UQClWUrkCukY2SCq5Y0dkCaqy1cIyPBNqCGERXlW5Piy7tEwMwOCMasIrwVDM-QPAK6N7VJFlARSiMXICChBj1V+4skEJCMDIB7VzgMQJ0A5lCAeQyxUKhIyeWt4pVUq7tU+GYA3JwscUvYoystXtZOYNq9scoD1ULrXmWTFAvup47EAx1Jtb4I6FJ4EN3RUWOIF3iBBI10M+lKmuGIQDtqoAUq71akh7UfqgsuqNMGAHbRGqwAr6NqIOvVUD4HCZDI8NADHV2gKcdalFKR2o6UbfASEIDes1QArqwAIGtUOqtXz1gAAnEvFgBMIGNlbUwbFXmEIsgoQk3AmzO9WUq5J7lHmbcJo4-RQwQgatakDN5qbog91Qta3TPFgAAALHGuVXYR7V2SZvguIZA3hzAq4Q1UizWZLreN+avKOquLWhqq2yNccKoFuYsxtAIgR1bJtr6Ot6iNLFSa4ndWQA+8lKrtcRP4gKU8Y-ECoBivpWiUTN+rNLV4Ey2FtbNhoE2gmF1DqrJ1HMvVaqHVV1MEAxWrwOqqaj2rcp8WxLfxClWJTigsUIwPxD3B4lTEGU5zZ8H60ZAyIjHOIPaErHaB1V1MQDTmqXXe93AFW+zaKoox0gnimgTNLS3tWNCkC6ZQtmArIpNF4mbM9rd6u7WAl-5cecnGVuBDkaB1FEnVpaq0ndaIN0m85XZtUmirasqq0badrOEJbKV5mjLYFX4hXbSFsyhcKnyG38B1etWdVTWFqwiANgcgYgNlH9YAaPt7Ki0PYFqg19YIUWpoQdqPBuaTVPGvjc-XbryAZwJY77UxCapbad1Q4GFHEH61tgt2sAJyMwtsRPy+Eq2xrD3AhW98cw-EW7GxQpXD8lV-dPAmLvBh5St4KAehiXAg7xrSCGJF9o1n4j4zCYmunijAkRD8R7AvgGQL8G23UpClHEJifp3lSm0mS5tC9mZ2CknKlOvtW0BTh6KqAzMwErAFetg03svAFtX2Z4UEgaBRI9NcqROj1pm1b2QSWmhBAj3TyMC58WfPAAlBe7DiiXMlXvJcorkFijWRurbopox7A9F7X2VGCN2jJegQWV9KqEDDlQAdrPUgKUt2FQBXO2e8lZy1CbkaBk+FSmUQslZj97cyYdhLMB5B94AAbE4K2wCcn5AJRxR3sj4uVl8AADh71tRXFK4p4QiKKZj9zU5EJkLYChH90Ygs+kxTtgMDYg3UCURfSQJcrAYr9JIG-Znh32D6sJsDTHkVjc68zz9COD2dqTflr8EUgAPCJ+NZciQDzwhXb7c6u+0ihbWTlbsAArGfvQUI5uleUnBUAZGCgG6JbiaA4U0H39IsIvIb6NkHkDohj93TU-T-tQNRR-tgBybi5RPQDb8DNQuPO4FzBaV4QcQRsRcVDjgg3AKB6QRgrFY-piBaCxgwiiPissKB5cs4a-tMT7jalU2aoP1gNL3UaDxZYxagf54HpBWxQCgKG2soglNeNcSWS5QABaOYJ2KYfgAnpVA9gS9A4e1y8JbDSKH4H8BLwXVWsxOSWFYcOHvDJYEObycjKCzBSlcM7WNkzm8mb6wjIU2I7iVMAChrMc1eQFd11JFCO8ReeKSDJJErI8j2I5IPoZHRoEBEygW-X30fFI98BCsKmC7nQLCpW+7sAANqA7l8GtKguquJrDtDMxxGzdjqFUphfAwsOoRqBtW5SqMM-cbXUcB195xQZmo2mFTeCXyuGH+pAtMdTExrMSNquhdblqzmBFjsa9VQIRMKkE9VreT1eKFsIMrHCRnIQiOjhD+BVC2HC1rRxEA4F2E6IJXTLmFGhwYF8gdVTGh7BMRYQzBLHWGvegLCNj0LMOscXYiciu8bMKIldgUAbdctRcUqQkQuiqAsAeqofFhsgDmaia1q1cOqocbm9IqGgXbcREonLjhKYE+rvh1byIGrjNAwiNao0ydJVWn-JHuDxGZgEpSAA9rmq3kI8Dz0fXAkxPvFASkXQzgTWiq3RMUZ5NTAiHmT0cQkhVA9qugC4Wc5IY+jianVE4VOMiFGwoI2ADpoWFGV2wERcOv1CSw205ePFQoIoKqJKQyuAReEHBHNBaI1CTVHAL21fgABdJkSxkFlWSCRVR33nHIzn8sVKPQI4F5Jd0ualc5BhHh1x867kphB6FnnfvgDmEQOiKGjrvj5zKT1Awp+qH5CzPFpwlS+vM-ZgwDKFd9Qc07HTkehQoagvndXgSC1AfrRmNPFLNOrNQvVnAzpHIa0n-CwBSF+pQqIZgQzUSL8pSCc6QosVlIGxj4azKbLSN+YQzB6awnjBsAbje+DuOVV+TR2785xUCZFSG0NY5tSS9ZrYKLj3zh5soHQHI3XiwiJc5gzeKyXHiJCIsm8LZ8KTRLTkpZzCd2EC1yE-wZUexOUVgHnI3mrZIAjqkEsqy8U3VVQQKQUPhHpAGZUuqk8o8DWaU-nB5zG4eaPPg1WF+cJcQAEmEZFxsRPIYZztxdKF-sZAFV20rUJx8pwKfOItDyR52y8eVRbAC0WR59Fqi+3040BAfwLFu7tZPIYYBVQl4lCdUAMy0lOsPlDBT-J4vXaSLLIfi2PIMgMWaLdFzpEZfb4k6QOzjVC5bA-BtgDM6AdYBpa4tEWdLfF8izsqMvCWTLTY8S92OD5IWF97GQ1SCV2MS6mKWCw7KQGLmdYRg4TDxrNMkm+pO88jFTNdEkQKJPA4wJdpvCL3R77dsetVJnN9jIXe+V1E4OHgUXWXGkFwLVfSA8lxLyVflFy6QphR5A7QX8YEwEVVDs8djtzdRhRIrVviS+P+3nb-sKTy6Qr0Mcq6u0B1VW2L0u7pq3iavaXIdFEmcUkRoihVuoC04sHpolEjWmcLATQHp1b3RRWL7F-uj-TcqaBWZgO5ayQuy3chiDtbdgFtdym7WFr5B-DqgXLqOAjrshHnXz2op9RlSi9cHTS0mvXUZrEhs67JYM74WlrWlh60Bkan0p-yzmkVDXFmB4kLkGQYG1KgX02rk1POiuX1D7yVXWLeFrG-cGrlWQrIiN4hWfNRtF1ZhVnfC81VxtCB8btJ60kTd8mA2+dGMNEtkuu5Q2KbcN5xAiDZozGYb91mCQxc0QipW+LxRsNTA3Q3EDa3wfCFkkZ0aBttV6gyKZSapOh9bJNm7CDZBU4LYbCKEpOQCwDHgu8JoEBgze4vI2oAtt33TOuyG1WdVtLRIfwAd4HXzbdtvqPWE0CqpxDCOOax7etyO2u0hgW67LaRvy2LbZgPdpqtlW+34sBxmuGbbnFJBigR4cWwikHkHBezcdzZM7bZly3eLZdg2yNRlXaq1wyk9YChG51B387Zdo8GHZlUATi7piAu+XadsJ2XbzVge3XfAgN2fbzd8g4bZnUC2xrdGy2w-TFunW5rI6tSXdeTs-nhGSWIBRsqc0AxD1kVG8BaBNs7qFAEAk8FcNMDih1VVkNMy8CTFbsk4FQSgAb1GZu6Xyo9NExAOtxv2SWsrPkz+tC2Gh-1g9AYxbtYW8J8t-dkROup-oABFBLqoETuNXt7123e-wv9vJIT+RlQIvfcftUVieWkcAYvAAcf2-yEyn+02GEjeB8HW137Y9BAd-rR9bnc49oeEMFSW1It7+avc3lQA5rSl2o6PZWsUkW1e9sYz+s6xBDCUcQETevmrCYnUFr8NhVAEQh7Y17rF4Rw8a7zCJhEw4NB5pcZs-mdHgdIBX-W7vSPegsj1E2AAUcvllHedhHL4DJbwBV9q+OB9pivH0gu8HjgAA1GPnLYji8RI+wdEoPHjj+Iio8Yx86DiWayG9Na8dkL2ECT6uxg9IWe4jSSxP20ztpaJVEBYkXUBsc0QYZ5eTRAISFlserhhlYQbbQ8nieOMOVAMPbUEy0R1O5AC9nQ++CRC8OPa-Dq2+vcET0g64vT0R27ZQEfgMgXOksQtK5tRBQtqgZZDKyaIHUunXDjjCTuXuaWBns11iw5cLbjOYJBzv26uCxCCJRjr1l0KuGSDtO8nR2v2sM-WVBjVw+4vJ845QZaVKYO8vZ3DZOeb2k7Jj67Sc6Cp8kLnm165zKGhiz36nqqx5ztYPsOqj1my95x3e5yyAbhAj621Ui2cO36ZTRIJ9-KBeZOnnoLy+ZC+EnQuOnftuF58HeuIvXnAMVF+XhgcoPkn-zh28g7xiEuB9Y9lGyFBZvngnnZQS-WAHy2woqmAolKnlWFgJcuOrJqnpUyECqrntVbVHfYAx0RtwT-mil2RzxKZTrcfJkAVs5jOcPMqL67XKVamv85knrV19ek+Jc7V7j8WfW7oCDEUYSaBp7+13SCptqwA0XT8RIpGtJ6KAiXRJza60dw2D50Mo58Re3m6baASETGdAFVA21YqMEDdGRQqBTB4VhGb4MYFcDS9QXtz50HIHqfZJfrxDlkOU3VRYRgoNHMQJhuDd87Rt4biq5G4RTMG3zRL12zBNavggbRSWTHSm+RqNspalFfGaqG-C7x6Q0gC521Z-oYz6Qq+fEyLgmBusEN7S4Z5ki8D-bJ+u3GOAqt2uiu-7Qbll0YiUUdvL0I5h1725-P9uhyJxaQgmnKMg8G2KUSt5O+2uzwr1UqPVOQXBCLutrK7pQqLg3deIYgW7y8Du71cZB4G6GQ9w5uFUnvhI6zzKqNqN2Y30SVr3ZzDbmtdvUCvgabbG+u3ny6Uad-gHu-MBZAFw0YuZoh7Gw2D+ASARtqe7Q-tJ9iw7USJjrbfQ3yVQzr0adHDYvuSPpC2FTeveNDsYqz7mYG+-qbjvFU7RX7oNCnfCvZ3-7pAO4D8fAf8Tzbsa1hT6cIjcP-H1i69t66if2c89ZMLhNQ6uY6OGn+QjJ9mDafl3SNXV3u+mNyex38hE3iM0roT9+ELw7qEchrg2NVQa6FhgE3DVcF6o4ePqOx99hMwcQ-ERt5HaM9JOr3QGXpHMEGTMgLPJ+VzLCDncAekBFKzAaU+kB4Y8n2jVFGjpiDigu8MKOrx2YXcqfv3x4dT-O-cDIDl8yAgM3PsEdwdMvE+ENbl-Glb3HXBXiT5fa6+lfevkAf0K6D1tKRew6GdV+joa9NeNXLXwD21-eudeSvPXvr2i6ii0ATzgz1iy3NGBiIxv3b3lyE9eyFf7Ps3o7wt9Kck8lvrr3sOt+Gz4RdulXmMT-S2-o6dvkj9gKp52sHfNPc347+e8RmGf1IrF677d-y+PfpvxX6H698W8ffYey33J2YGFQavNvhPkH-K128WsIf9IKH-IVe-9eWFY1p8AIahm8fbXaKA2uefQeTeoAAbvWeXCRcn3qXi31Pnb3uffeSfiGl6wqf2-HhafHzloO+B37YLfnKXNn8z9vd8vufFAXn6C8q-HrBfpT4X2xFF8E-mvXeSX5T468y+yvkAXT2a6eoqAi7OHjL1i7mt6IHfALzn3e8wcC6uoTnoVE6GOBNUzgD0aoGTOG0r0bVNTmsAdoeJqhhlRNSt4F7ApRjnVGPxz8O+TCkAEv1QwQJxk2llWI3Lv1izIpqTq+HvrlH3+oUx3aEzStWXV20C8iN0RhCn33xT-a9bW0-bfO30JwJQI+HExnqAqxfqtgBVkvf1H3HmZvtRIgYzT4Lsmhkz2PgJus3Z07AA5FYArrm55xMyhpsYv7nrg0IA2Nd4LgGYNWY41t+sK+eeQGYDEGl59+C-7bov1G9eM+hr-t-8fy-9iBFu1Q+42p+K5iqtOQoIkgNcOvWDQ0ILQO0kahAPG9TADABJ52z9EVSu1OxzvFe2d8LvOG0DwihMvwmdHSSAM1AHPbr2t9FvAH1SAM-WIhYZriB8DS0DCH63cAnbZY3p4LfL1078Ynenx0NpoSgDldQdPwCks7-a1wf80A6Ui0oXqF4g3sZbT3w18bMIQLldSgMhjJdXjVuy9sWAG+xYDaDbhzccEfdhVYtn0DgJeIdHDn2McvfUhW0DhArji+AwnKV1etrHWRzl8iAC4VSc+WYb0kCdA2YADRGnD3wMCJA4wOkCHwT61BcjsQsDqgNjcPy+APDUt3X8lIXHU+ABiGP2qAcwSYyhctEGwKYB7A7ZxM84bLwJeI1LZiUBdDA99CkCsoNaEuhQXWpw0JmkXhkpdEgk73vRcXZJwyDZgDl3H86g0oEK1TnSyleMGXXGmRcbwe51pcRqSH0QFanZlwv8+ddNi4DS6XgIH8o7Vi2RlejEBXcDgnCZwi5HOerjDlPAaQFoBi+aWmGxz7VoIkANwTNz98OgiQA89xIa3F1cz1JQWPBpjeAMZYpPAyDGDx2Fn0cDujGKm4VHgrAKCk7giD25Ay3C+3UJ2AKYEKBRFV43pBcpG4NRh9CfiBSJTCJ4Mf9lyI03uN9AhYJglwrYg0vlggsE1eJUibQij0awYQFBN9CcEKQsHGWEIEDapEuQ+CfzMjzRsCQMkHJMUdDMjQ8YLEdHkFOkYHA70sqNkM6B8NI8ChDPAI3XA19OEdTbBOFZeUfpn6GqDqhT-fLGLZv1ddWq1R3FKAvtL5dECUDQgBlyPsmGLoPRMz1YHEvUKWG9WQkiqebXc0i4aSU-tfOKDXAJhREbSEl9lU91sd1VJhyaoWHC0H-V7VRsADctGWLHIBHTAUiTB9ghIlpDZQtV3A0FQyhW9dfAZ+H-EYgMqG0ACQepwUDigIq1yNefSaB4dJeK8Scse3N9R1CfHcgHtVflaUIzkZ2MwLccwfDICsDBAOR3sdFHdcGicAVAqS5DVADLRqCglR8Qst5zLi1zD1VFoL6hCwv0CEV3GLWS8BVbT6301dQd6xJBNAIQC7xJQkE3-J4GVVULokaOzWQBsnIB2dVJfZWmJ0MVIVx2trwbjXgpPNSqCIdSGJ52MxPAOvRy5ewVVx5ULwylC8AxDe1UmEqsKKRNIUw20mbC5dMZ3bDwLHa1GdswgfR7DLVHp37DIHZOSHDiwpv1+gpnCj3a95nNsHVU8YZZzPBVnfGEA052XWWBxw9S6FSCc9EuxSCxAnMI3YYBNqB1ANwy+V6D0TNwILDIHIcHyIqvPHxq8KI1NlrUhfBwHuhK3epxrhLZZD1Y9hIa8KFEjXCQHVU0IZUE1NIHdKFCANIISJCCExY3xoiUgpemTBWAXbVg0S3al0-CiAbCO5ChbaWzd4ZgYWy95PgQa23RlbWYHVV9InAgHCOhdwGgjrINrErd-PTYwpAFAH4HtsumfLgyAiUQE0HsfMN8BBtuYamWpNzAQazkhk1bSKbC0w1bixt9OKm3RIXREMNMFYo+EFsiU5eyPisWQRsGgF3ARdFSj5QamWbsaOZNSJtCbVVWTCsI78NccOIXSH0BNHfFSm59HYcBH8swrsJIjyRI6mHCM6at36o5YaYFOhWnJrXzCPQ0sPzByPdG2bU3HbB0sdQ7KsOVAWdNpjcjBlUKVFUanfMJtVewwKh1EqADCmo9zpMIiX8+uW6n6jDiKTUtUoozkLTDxdXSH+sTrRqJcprrFlG0ALrRa1H5n6JMGgjSTb9X+sWQatQoBANUsKloxIrX2BwzoIQBxt15c6P80DjOh3+jsIfTSbZ5CBwmhh-kD0R8C1dDmyhijwkuBPCkRAtXhjIIn-kpFiJNNggUniIwEEQLoTMTpRLo3SJbD8bUG2opwbcPCN0WmDrXiisPWYEgNjwOmzM4PoqvmgiRAXg0ukBoyV2Six6AqNGiRhVaDvCx6ejk8jQZLtktV2I21mIhyjOHQ-B6wDQHrBg-PED5hjeLmLiEMQOmO-DrgEOz79OWDANFUY7YiOAjFGT6Kyi5CdE3Nj7be1VFj--WDSsijI6W2limIZ1y9tqvG1VdjpnT-QUD4WGllNi0wu0C7t8I3BSVlnwZdH8j5ghQwdjBYp2KHUq2GOMLtwIsNQ9jBor2MtVrI3OP81HIrEJIJ67QXzdDB7X1xwcZnKOJwjHVSaAdA44rAyFwYtErBTiYDQfQFixCGji+iJY1unC1O4uiIuixoyf1pC4daf19pPgY3V8J6nLlUdUydRdSLgwEYMFqwZcFQH-JT-WDwbAGQfIHkBPCCGKQBTAyujcgG47kKXtyAVLTZc-wkYC5cvAUQP5jK+M8CFi+oq6RtDRIuUI-U-Yr-QmjJ48dWwd0QEGLwdKAaGJk0ZwqCBg0SNWqBXAnIC+JbC+w6+MOgGZNL0kNm0VBMMxOwgmHeiX4iQDfj848WK-iq2JBN-inIVliHcTYOWHOo4QRQQRBP+XFwpNgFJCAyB91PdkvkgwY-2Viq2VT3BAfsNsHnDJ7dv0gSHQYUXgSqo6OJHQw3O+L3FQ3MGVwSXgR2JHDBNS1ShlEue1QRYYIv+JpC9gdgW3lk3OunTdAw2gNhkc3U-QW0S4EYViYC3IXmLcqXHYIz40hdVg1iq3WVhrd0Tda3rc2oVL0wi+eemPB0xJFvQeiEUXiQyVDpBRKUZF0FbVRULQDRnq0IIgBz90DyKBQ5QhwQKWr5eiH+jBZH48RC6AhI9wCC1MAI7X6xXVZUCHx2IqbSEBQwYRD2iSxVFSmVTQ9AGEFQ-cg0DVLVdDCjluE0wUYE0NdRjhMrIwJNOhC6MdUQBVGToDFUgfMgGCE9gQRNCtkQc-zGt-EmqN5CPHTMLJZfHAJx5cCDGTkESB4iQEiclHaJzzD1k0eKrYhwMuPGidE1m2WSUCDQgicV9OsOUcB5dqW+AFosABwA5gOn0yp-E-7VbCMVPkJbCDPCo05Yu3IQAMwH4rBKy0Ik3ZIzjvoqtlBSrZU4NOTTBPABGFbw5ODftHWDY2ucWnWDQuD6E4AJtVQkOYNhBKmCll4MohUZBxBfwCxP9crwXGnXBNwNsAyhoI4MOITTBCFI5dRotAiPdU+JV3-IrePKFEF1GEnSO09-fV2mMcY+4FtBYdNUBODUpVUEqT0TObSkjiUU0OXULVKtgUknOUlRfDCnd8I6pzAerCJ1jg-fys5cVb-T8TvwwoDi9LYlahmC3fW1Ofin7WFMHj9WB1Pd9kUsemGEnVJqhN1bAMmQuo6HYIM5Ui2MnlCCfg8IPkBqwJ5Hxgl0LEAFAOiSsDiA9Y0MWr8jg3eMJT6QDSGXjXmXKKKxM+DRmnUwtfAJICtXID1c9drd0jlNyIEDEdYNUBkzRAmTK1LTCG-McWCSHzGOJ4wIkpRJ6jMzdlLHoS-cSG5TK-MtJfcOVEbTNSgg-gGmh5kAcGl4xVWlJPCFgcs1tkMwaLWUkR41hzkTAJX4IVRuqESW39MZA0Q5RAePcBaSl0CiFz8yIBBOlUDie4Kc8hQr4OXQePCJL2T0TTj2k9MdDRMcUJ001IlSkUlnRKZewM+PQghXenVlZxmS1XTZYvejXtUIvYBgCZc09ZldFn0v3ylokdXQkBMLWBUJW0FpXbWPArI-APtUXPY8BA8JEnCKS99AFL2ZBgUlaiJgNwfQFu8xQpsz2BoIsk05ghQVL3ATvUsACp0joGnSr5AGTMBzdq3RSG5RBASrnNNcgQwG8DRmSbG6hBEKVJPQ8MKjNKY+4JGLyiaOE0DbgJQbL1VBrvVUCu8bvC0GDUqAR5HR4zYZDKXUpQez1bgDbVSIFINWQRLEAzwOMHRNGfQIChlfEvnX8T2AkwK4CkISy2S48g5wNmCgs9qPtioAaqFgTSmM8EcgzcUonCA8QHkF4NlTCMMuTJomiIbl4UBYUktptClmGT6I2lPzTF0QIBfFHWd43XUhlfMIz4iI4OKLBxUsbUAyRwZ1VI4CQRdBnBiAeIkeQBzcDJaQctAslpTGwMzS-Uq2UlCsAUTawBD8uk85Wo9LlGPDKcsMflVeMkOQagL0iURhQaUf6DKHMEtBPyBQhT05MPxNhs6NTci7tOMMUzZgP7X39rMkuEbBSjepH6sL4OwV156vWlKkgEAYg0IgieBUwGIawLUFaYuo7dEuiK9emP05NzafWJUyRYLF7BXOOLL0YXgGLHpjhmWwUfAhE8HiHAl0vjWklezdDE7oowg8n1pmk7QBSS4gHKNkBQwZgVItkIjCFLUpky52azORKDKrYd4--VVIfMsazBzrU+Ijz8IzBFEhzXOJ3QXxTsJQQHNb0zpL5yQsril5zS-GHKp1rQ5ML4y2M11IHTW6TpPrBG-Z8Poj7gEpjJ9pQIMA4S3gKJMtVyeKwFiB7VFtk-wM5WlOoF10z4ENUVTDSkUpQNS1TnjTdYgG214MoMUXRcIf0I8NSgPbP0gJ+BolWUZsxUIQlJs1wH7BTA0K2KD4AZDlp4aIKVKRF8Jf8EjSN-KIITz1s4EJSomsg-yRTHEr-X-Jadfd2+9TKF9xv8m0m1QmyzgUWVMDzyBqELF1lE-QUBECFSPehGwq6JwjKIUgB9VPAdkV7RqGVWkd0e0qvgshpmftLKAh8h1RHy49HdCvY7dWJFL158+9npp+sp7K8hBwaC38tfRdjE5Z6xX2GPMJdCCTJRTMR3SMhAaTi2Ng0wePkkBAgEaTvyH8t80RwnkaLnNwJdUYCeRZDIQHfyRYJ6l7o+oWwliBaSTwHpIEUL-MjBvBfDGSQP8h5C3Y5eZbOODHgL4ExtoCgPWpp589IiQtfAGVGbEoAf8FwLuiQ-JQZLRNmDpBzsMIH-Vg4q-w8pfRVT1RUtCYIJDE6QOAujFXw4ORIw5JF6HFB80jViTFVwUMEgL3AMDDpSP8jCgh0-0xzPj9-MUgFLRPMVgFWFFGXpOL18rFfK346aJJHMBIEijF9FsCowFwkggT3CCBzkf+X5yYcFuG0BTCwaQ8Dy-bVM+EtrNoDIwQYS0QeQBLBDS2ClshXnHAiULoWsFgxYjRtS0kIMSvBygyjGxlWClyF6Y6Uf8QN4HINgRQh0JccC0IbwoQCMlZCN410A5AHYldpmQc0RgsDUlcWTpKjEu0KKbSPhA5xlsEEity8VSAEiQHWaHNVkGUeOj6gqQBFBA1eYwtjaKpEDPTZoH8dPW90qWW8VaKKAWsDtEuMEYvsE2aOdgtoReX3UmsiQOEjlBZIBaF4QDiELUUNMAICL2E0wAKhAUW8VaXaYj4EaSXEATGwGTZmQWuQyZOsT-CngOAB+G+N-6MADuL1MAOn6A-8PqEJllcXMGkSC4R4oYYwAAAFJ-MTpDmKBczpHdpGYDhC2wQSJQH6AY8tBLbjosroqoJ2gGYDu9X9CQLcoxkMlyF5P4qt36gUSm1F1zsaI8DaKnc4QQLoEStvIkil0frGrBpofwAtMcbN3BSxUckpjMVqgJP3KMeiV1QLi+wAcC0ACTNEo00BHUaBto+oUSF15TECUpMlpS-A2gBpSjvHlL5DJsLoS5YCknXBLgl-Tb05YMGWxIQ7HUsgBalfUtBxTdbADOFRrAb0gAJsmNBaLwUPFSttOWU-OyAq+e0t-xx-UoxeEBFGjhCAmSLPnuQgTSPLryY82IF4KVedWMz4nCpziaZq07g1d1hrNmQxVf8W-Wrh4AOXV7gEUDGXIQMSjxCcgMy0eBGAB8HMv70iAQoBJACyihCMhEDIIhoRSythEjBKyjeQpV18EsqNKudXMBiAmyoLD7xWyusqNLoynck7SsaZYEtK4fBKSyAMIUcApxpYSMAfzYIeGQUVOWKw02VlQAQ1r5FyykMwdpkDIDNI1y+ct1oJATXhRdZwtojodSk5ApnKtreNV6AKgVB2FK5y4oAXL4VBgxgBZS0SFakO8WUvyg30BUs-KQ2VqXwN8UjUr-F1Su2J2w9APJW59OJI0vmRJsfiEgrtEb8sQrNDK0t-0b8p-VzBdLJxkB0D8mcQShUgIGU9Kdyn0rahEKtUDFI9QOCD5IEiWqGgK2qYmHGS+CaaAJxTI8KhoScOH-mkBOgOAmFKgZVMtMV3y9jRlKFM4Sr-KmpACt-LVSzkLArNS2SvwMUKrihgqFS98sUqQ2b8rTIL0fAxpVDxWIAQqYKk-CVVdKuIE0qGAMcugdJJeLl+KnS+jKsr5Eib1yCREHcrVApbRQUS48xJqk8zX+N2FOJK6clEC8FeXqCFNqEBMQndwhBWXZpxyqKGE4miJpAWlomK0iRQuwVuPjjqrHawSrDQWPi3KxPBNBO134vgHx1KYnkoyzUbLLMb9QIe5FKc4wY0GFdLwrESiqWgYck4rIwJcpWo9Ec1GaqbC8QPL80U4+NUF-qMtTRMzIdwCaq-2YsBNpotOqBZprUEvlX9SHezhM4VgpfP+oLaJIJgBF6aAHvFFZLFwPy24NeUKJsqn3FCAYqnclVBoWDTI9dF6MoHXcUFNaphMcQLap+cYbXatsB7xQIH8pDqg5GOrcq06pqBR4YvPur9ANapeRPAa6EEQfsREvQSO8K6rBq3cYZE+qQ2XEP6pwa41HpAQarwFRiFxbKQsqL8Oiv0BYaiGtaqpuN6qFACa+GocqJA6dlXAiQFGoXp7CPGqqDtYTHkhqSi8qXuRrwXMoIMsS37IDLdQDmp-oDgBMWxlz4Vll082ZDmoEqxaMVi2Bpa-A0FrPDFTFCDUKhqp0joYPEmIAwLImpcoeeWuk1qEa2HL9FFiKfHBhSKwGEWy3oE5QEUzKBIlEq0ZdKEuA0eeWGUBzQQkA8N+RF3U-xQfNcF7N7QKYC34-vDVnITuiSbBNQxi2atsJ36cnFNQTlT-BHdXnbrPnilIUIX+8gGZ8DWqZgLdQVtkCLWptsHxExH1qH7afJHLzQJqnSzHoA4myg7lAvVGTORZAgIrN42YDVjkSM6FjFgM3TU0pf8XMHAz7074PZ4RQ3RAMQ1qpHD6gAlAStZqvaOJjABcLazn70ua8v2nLg0gO3XdjwUlUj8Z6gLXWNxIIIA8rM+BJUrC+oT43cA-UDKHhIb9QxKNSM3BInhywoyrFlZmmHpRIM64nlHEA1qk6uxUuY-oCPZ1-YiRzrTEL+vuAjY8f2nKODH6uRBFUyFhAgjYp3NrzSwUMriBtaV+O+0AgIbBntAiUig1Y36wVzgY+rAqK9dtTY6VwancqDXVNxyRmqgBpoGQiikWazlmfRKGuKXH97C0OIkAKGxvgQAvPPEBFr1yMlzGqOgVxC9ctiMwHRz76oHJKw1q5ZLcBcUTfV-rQnFCRdAiUTRPhVlEfWrexG2BRuKU1Ta4HXCTidaNkbyY9iDqgKqfYyzJjSWVyyhW63sGTrKKWjSsAVueCSqq9gKOWQ4PCrrV65va+nGEUIG6oH9EdlHmxAh1GlQK4dbgyu0MBN9cgrzgbKpqPjt5ATfUJY6QWeprsdLKBDnKwgOkEvskQIKFndCbIlC3YoebwW6pALQIlGBAhasK6gEm4iHgFrADyl7AoeLvxxrucRtOEYFRIDmeix6zljgknOYRiHoFRR0WA43FCmvL92mjmTlSnRbQB+ImYQagUAjo+QDTcE02gONkggIelfpqgBwnr0QmVfHXxODCPDWqQoLlzLsYgCrFYBKSTm2kaoAImDahdm+GVFYUUI5qhjx-P1i9wRZJhrhBlUaxmCBQgSGO+KHM1cFqAaK9wGPK00ZWizJNkYYyQJJisOvSgIwTN0vBSAavQ+ZNPPqCLzIeMZkOy4gOvzkAz9NR1aBG0nnmSAKpcAhObYJRtMGRoNcf0GboC7mT2DoNJRnbNqIkOtGK0ScxtyAXEgRt5rhJPVAqh-JOLTIa+EbyXQZsICgFsImmscHgBtxYLOerr6EKT5aEwDr3cAxECNOd0YrZRtAawBHqmmsp3byVBc3RaVt+b-xf8lqcOlCqDqZxwAkCTAwtX9PnF7lSkG4FiJBKGki+DMSCaJVARgSloRKXxo6pmsUIOOV1LaoCNbN6qYAoYEWbZrpQLm+FW+lMkVpvoyaOKgMuaPyYcwyAu8P1CMEeXTEvL8QNA-yja5XGNsfBw27Qir46WqYuJLSKPk3V4Kq4p3ZbMCuIFN1YgDFtAku0mICmQX8fIh4qMDXCvlFr0i+AbbyoKJhBQoDfpomckRXlD4MRjMmOo9alBvQpZl8CfVoBJ2uwAzIR3A3w5LCih5Dfqp87ipcgkkljxSgx2iqFiI2004Pqq6mvdBOUhdcgFsJ0Acz1OtOWdJMJjZTUwFxt6HczyVaRyux3v9YADPirrQXQmPsan7Y3iaFYpWwFmal4e4goYPmjMAqBeuYGuzIdoSoXqsI2-eSg7HmrwFg6f6RNtiBk27uIkDtgDIHQwScRjhi1A0xN3oJfmoDqtRWK46mUl2BPNrBaGWgUng9ziIPMsFBqh50Xb5LRbwJA6OpiHvzwa9bjdkZQ0Ftch6WtmlfrQGvNErp0AYqgiap2MasFYPKcTuej3-SfwqAU0aAp+aiUQYmgKtW0IuiQcTDIFadOq1uqqxJyi+SHkY0vxC+bPgPNEwqhPIeU5LEWblv+aqAUgClbkA8Vqm4Vyw+219UCdeCRCe3CQMLrjUgvVXB-mp3JFBv8jgsuIwpAvhdV2KuXifK-ch0JKaOC98CWc7cUAL-Y7qtgBubPm+EvRKCWg5pH872qGJfTpeT0uaRvStNIXS9OoBV1cfm9a0oqu8QDv+aOdOQAWTrSwaEc7BEStV2ot1WwgJbOFaVM67+hRunVJJQTdXEh4mjJ0kgHAReqKwt1M9NDFXjIqsrViOsgGA7tAeTRgV0CURJ5B7IAnETAC1UMBxZQwJkP8shxffJWo1qa0khRrkXHH6E8Ac0Koc4dW+uftQgE5jyTl0AevMyLQHFiAyhRN+r4Nl6rurrqu67YTdhsC7Kku6JeP8SpIOPSopiAHpGEt74ailEjjxFCjrBAkr4IIFYsuSPAlPAfgL5VQoKG+83UkdxI8S4wbWo8U+wpCQKU6kFwGnocUqJIooILf05Kx3UiJQEAShS0R5oV11pLuq56gQvAxuxLRPYuHa7HLsT51agCoRqpe+RvKnwnyc+iqkppAgqrQ65VgEs74ACUmnEzwTXqp61emcTlafDS2BnER-JWt171egfi16JAC3rN6ZxVpVlxjeu3vLE2AdXtMq+1dXv9dFNCHB+5yAA5smRveq5qd7WAdzrZgRgdzrCBA+9zrX9Q+vVBvAnQCHDkxcDWTBWVE+z7FKRhCz+BzkQ0cAwKYZhdPrJY1SReWjyc+0pGCkE2LyQTYgiNjExwkizCWwlccGvueKCJSKxs89EXjTCacJDCX9deNG1WUJFAbQHb61ipKXBUFdMz0bZpjApjQ5YAeEtw4AOHxHWFznccGcRuiP0EOQw3dxQf8K-RuzqsIbCaR9icCStClt9+uaRcgmY-kJKsPYLmPLEJrQyrV0fO9R3XVJkB-tJIMwmRpEc1ioiM2K0nG7CmcJdOKpGcf+jiSy1BJKFPfJBQ3HEFD3+ndMUMoB3hFbcjILt1HMe67jy1c3SHupfSUB3hCoyaMkaQYyhQbpHG8dsAz0G03tJ2BtTHfbn09SnYDDwKjr3APCI8FnaEnbbY8IdIRVVasf3bjlJUf3-yr4fzM4D6RHIBPMnAkwK86P1YnDat2fCXQfcJBqREry3-LIxSoP-KvPAr1HLtCQDf+1Qbu8-YLggeD9+g5Bi83gnAgHlKgdYK2TP0+4JEV1BwTzSM+jakkhDoQulQiQEQt4mUHiQkuWmkKQq+AqF2Aehq4x-2zQZuTrWZIFFayJMx2PE3HUAi-F+eyuSN6ecFpjwAzHVAgMcqCqBLCHmQRzs17X+hADwBUAZvVOgdej8RbVHOi3syH4AbIdyH5Aa3oKG3HRzoN6Fa7xzccyh9YBN6fDZ-uqHSAR3pKHGh06Ed6mcA6M319pMWLCMDogGlOjwk4C1kZz6CrGPpbyPBUCZeiDiTGhuJRcUGTv4JpNsBD09JX4kGrKKH0A+hwKxERhhhI0wGM6eq1klIuy3EUkYtdIq7iYAJKTOHW+ImE6xdJX0g0lyAe5gylTJWyWcku3WzDql4B-fzwByhOIDupio8iO86XB1BkClaSAkkLM8oZiBwbbQGSid6cgKEarqs6qdirq-q18TkheiHPup6q6oEaclyICyGRHoAQKWEZH+piBJGqelEYJHvJLyQiNk1dntJ6DIQZrT1IJaCR-M2R4Mtgbb1H4p0FPB4iXRHCIi+HRBge06DENmR+AAiG+7A5F7smIQ-SFBwtI0IFGLzOlE4UOu7EeiUaOUoL3TM-LUb8tpBG0vEzzuqbglBxM70Jx72kaQFKx-VTgvgLv8l5G+KdjX1FOQVWklEJBnAHQB2ZkBP4HX9oAHACHoh6DcDx0H5HUCHojAe-J8BMBYkk8IfRyAACSwRZASLhHO22D9BB5V5vAjEAEuC7xSOCxvgATs00LBBC61YyyEAq7WyncHAWujmYPR7rOhh4x-OBDHDVT1hjG9SgUHjHEx8qGTGesOiCXRpWWAHvlh6bMbuywQUijAhBU1QCT5BFH-kQLvC01J1hjKKTBFxgUcZL0gRUS5rlgrq0GFRA945+hygduCyFMD20DgtrGvRhsc+QQUFsYW9Yx9seQFOx3oGTGgUJYGThwULMYNkLE0ccspF6G8uDAhAbFBrDTx+sd9G3MbsEDGR6Reh-V3cLgHDHvB+jQhqDgWqFbGQ7WAA7HJpLscgAi4QmUUK1yocfuzni+AAtNEAW7X5ARxjQDd8X3WIG6tzS9sHHawouIC1A6oQMThhGtEQDrHvR4Cf9GwJpsYWRoJqwCHotwKnCVALis9CQm4xu8bQmHxjCd6RDgUOlwnG6FTLQRS3Y8DTJumaEGVB5eN2GvDTIe5AnG3ZYgyTBicxrA+IK8PhB3LZkYoqtizJiZB7Fe89jHhoELD8SJJjALQC5IgsNSmcntAeWgKZRySzFcm4yHMjbAvJrYRrguSFdl11XMHijlopOGiVgSrAIXkh7pe6yQPYB0NsASmt9I-Eg4VDDACX6EUCDgCmfWxLKiYKCFfsqaLSuJ0KLLCJYPuj+1JiG9lsaWfPPYsC6xBMnYRdclUBWKDkM-wDgXmkUZYifNssKDyPXEA9KYt12zzcwUvm6JIMZHXcimTdpHDtzMesDYAeAesB5ElKg-mo94odceZx5x-WNxo8Iq8OoxCOe0mLBcihACHpDKctlLbLWUAnMxJQCoVKExa62gTQzzb4Gl4H8IkQ2n5oLacdZqI1qb8RwGo6dPTwmW2jOmLp4ynuQE256bJQhee8vLRVAesCMB1yffn94SxL6ZiEfptrL2nPGA6dNAKCY6eBmpSc6aJIrTK6Z-p3eRzvXJHpgEjxgw7B-Bum-8ZEXq5qwd0gF7sCjSHrANtAfOy49g1QmEUkeakRTrcHTwGwLsTdpTh7cw4xLIoWcF6G248oFgSFmI5Yqxpmy2EZVWnahS+ueRBRVFviwBTbAtTADheAARmVqIOSe5gCbIUPq0i44UXhyEgjDhmjZlSgRm9UXWPrx6wYxHnBiGHk194zZ8vNtAoEEWeVmLWFaYNIe7esEwzyBuPGyE0BiweTl5CeaYZn02f2fhnBoIOcg9NAesDBNXZTEPsH6QWWPz4BTTGTZnSAUOe8xhdckU9nfBQ6Gw7zifhAO0PATtCsHgFcYPmx2kKMHTn9CILBNmkeSubiEm+YCS+Nzapwmzm0iOZCgQU5xaeKwHQSD3YQkZ7LmqatZurAnm8YCsEqwEqQ6YoIkxPIFPdJ7bAqIhtYoSBOw8jesElQkJUKE1y-MUiK0z5ASkSg4e6QVEWFrRmmYqAYgRbm5nncoAJrmZwsIHzmV5ROfrAEWTXIp6BJMucZmG7C2a-nbp5AiawF9fQtDg4+1+bWygA-yGahZp32EpjnZmPApQfOaAHHmSsWPCREnuGYFwW9CQCie7Fs0QUCISxjhm5lrs4sThAJxM6ABmKCGudFU4KnMgAABHsb4BIS1ucmwKxIGkUYOOrqJn4+oPha5BZwMFu9Chp4yfsRK1Fo19gkRR3L5N7BuuepdVQdDEES-aAy3kBBoSEuCJtiZvK8jOcU4h-RLgxumdDZgJ+cjTIS7YCT5Q8kaZ-VjeMIsNV9lcxZGYulAIEhLC6xp1oVSAKuY+gKAXoDr1T0lxpD8bBT4Gq9sC-NIMLO+jdP+ApbLegi7W+Ox0qSkIyQCLhG1IejSXsC7JNSXjmXJOHo0l7RL9FgtDnWoZfJMBTmYJspCU5H1aBmHzNsgQoLRMinBUz9BZ8ULSZbZgdnKyQqiQp3uQeY7ArBQCuOgG1A5ALkAsaiwVGNhgu61ZsxSOxdKnaRn6Pkx3iHCQhKSTlTbYw4L+OBmHzT61NJdxZCl9gQykezdxoB6bRLutWWBlmIC0Fjp3sCYRIS-NPJwq+bxumWWmJJNwbsC1nVci8oYe3kAUk6bDMXfUixYvgnQSEvwXGE2WOoRFfFVFGGPod900zVop1TwxoKFMYKWriloDBwWKsJfDTQq39IKanc6wE-B3wBdMmWpgSMF2HsCiUF+h65aFhvAKuMABrL4Y5V0egbU2YCr8jNGe2wKbF46BNQTaDhDmZcG+5b2BqdXjon51AEY0MTA09WziA10Ycmuq0Y8IHq8GYHJeqBkV3zVRXoGutIx5yOuJdeHVQH6B8wEwiiTaWwYGuDWXyl5pjDKGYUQKZa5ukxmJZ68yidoS9Q46T21uqFUcJoGYUZ2LzjdD3ViYj2TtDmdxqqJDq1Ey+RcsopEjykUBl61kD4BvgWeSebNInYOwKIhuqCVoyQGNUpEXAeCVVJ4qPeOKALTchKq9YASEuVWZtNJbVXMlkuB+hBXQdXCifCwmxzFZ264EiWIypeG800lnFnVXtC+UbVBEl8lh5BIF1BuwLqYcRjJXtZ3JkhL+u8DumYDcqkbSRGoOhyImL4DNMdzYiaxoCZaAbAoqwZsq2viywYCKaFogZVUDFW7eLQjTc10AlYbkbwEletRFV9pAE1i4hGJvrCVvErUNR1hVewKoJMQC3AOAIqgeQfJw4ljFT0tb2MZ6B720ztkIOHQ5AYxBmG4x8+YQF6L-AFxcBW3FjsxyBrFgTLoXjenujyg-l4zU7Iqc2YBULP9OK3JMul5ufkXT0rUHrMoc-vHXx6QSfTpLl4cNDXB3BZOEpwh0HOeRQMNpPkhxRZDHhNIglisERGL4crJxHDQZ4EI29CJ6CDcFlvYGTqVC3PngAkxPDYLzORTZZfqzsvKEoNvIqjEopnAXWCaIBl-kH8gR3NWIrNnYtDVzzXrJLrYAKlpSBeUL05cKIiKNqKHaqmqc9NUATYcoyHopehNK2xIk3VuMRBUNbirx5XK1eFcFOIBTcEiwOjU437CalZ+w5VqZY-WGYBSfwx0IFUEIqqCfMZrSbcPqBcI3AAAG4uoGOBwIRqvgkoAXifSC3Xb69QllhPazYfElDFjlAM6YgUMBqx4yGKgvWx2DmWyWq+d4xSVrcaFp3aJ1YVzAj9eG1X6xE8vrJEiPARKQIVsCgTWRW3u9VeuYFW8ZXd01xeQl6JsCmJvsWhtmhMdzUeWe2GbwBUIG2NUwKqCxqPlv9vyAY4N2T4jmPUVw0IOCrpbBgw6T+aMbQxdLs9WPwb1brGkCb4H9WEI9qFvqQ1wVcUSBt-PlTUPQNKHmBMN1KH6UdN6BUzAlOmM3aRdqTPmOmVJ-LlIAfUi01Bg9AGmrjW9gl+oZgkRfLXHVORWQI+YM6WRzqyjKIdBedZ4gGBkK5NkUwKSp+GcgPIvJncOfFa5mYVBWSmbPlJSP6UIFAzZgIcQYj9FsQSrHZmJSFuV5LNIvcqKdkXbKYxdqpls6R3JFq-tpmWui0IQV7ZeXhHc9AxjmdeCjCdtodfkih5lXOFb7Wxl1pLCBQV4xhClk1Kd0V3Z-CyEj8UCuJOrySOSynuRHlbAVg3tovREs12BM0n6xW+-oBtUdaiqDAtsCqHV-yI9vcHXTfZmjlecMyClhKT2Kit3NjEAFtc52PmF3REApejItKDEBTSJJoTpvW3RB9rZoGDNEYIAA"))
}
, function(e, t, r) {
    var n = r(60)
      , i = r(44)
      , o = r(123)
      , a = r(55)
      , s = r(91)
      , l = r(56)
      , c = r(179)
      , u = o.ArrayBuffer
      , d = o.DataView
      , p = u.prototype.slice;
    n({
        target: "ArrayBuffer",
        proto: !0,
        unsafe: !0,
        forced: i((function() {
            return !new u(2).slice(1, void 0).byteLength
        }
        ))
    }, {
        slice: function slice(e, t) {
            if (void 0 !== p && void 0 === t)
                return p.call(a(this), e);
            for (var r = a(this).byteLength, n = s(e, r), i = s(void 0 === t ? r : t, r), o = new (c(this, u))(l(i - n)), h = new d(this), g = new d(o), f = 0; n < i; )
                g.setUint8(f++, h.getUint8(n++));
            return o
        }
    })
}
, function(e, t, r) {
    var n = r(73);
    e.exports = function(e, t, r) {
        for (var i in t)
            n(e, i, t[i], r);
        return e
    }
}
, function(e, t) {
    var r = Math.abs
      , n = Math.pow
      , i = Math.floor
      , o = Math.log
      , a = Math.LN2;
    e.exports = {
        pack: function(e, t, s) {
            var l, c, u, d = new Array(s), p = 8 * s - t - 1, h = (1 << p) - 1, g = h >> 1, f = 23 === t ? n(2, -24) - n(2, -77) : 0, m = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0, y = 0;
            for ((e = r(e)) != e || e === 1 / 0 ? (c = e != e ? 1 : 0,
            l = h) : (l = i(o(e) / a),
            e * (u = n(2, -l)) < 1 && (l--,
            u *= 2),
            (e += l + g >= 1 ? f / u : f * n(2, 1 - g)) * u >= 2 && (l++,
            u /= 2),
            l + g >= h ? (c = 0,
            l = h) : l + g >= 1 ? (c = (e * u - 1) * n(2, t),
            l += g) : (c = e * n(2, g - 1) * n(2, t),
            l = 0)); t >= 8; d[y++] = 255 & c,
            c /= 256,
            t -= 8)
                ;
            for (l = l << t | c,
            p += t; p > 0; d[y++] = 255 & l,
            l /= 256,
            p -= 8)
                ;
            return d[--y] |= 128 * m,
            d
        },
        unpack: function(e, t) {
            var r, i = e.length, o = 8 * i - t - 1, a = (1 << o) - 1, s = a >> 1, l = o - 7, c = i - 1, u = e[c--], d = 127 & u;
            for (u >>= 7; l > 0; d = 256 * d + e[c],
            c--,
            l -= 8)
                ;
            for (r = d & (1 << -l) - 1,
            d >>= -l,
            l += t; l > 0; r = 256 * r + e[c],
            c--,
            l -= 8)
                ;
            if (0 === d)
                d = 1 - s;
            else {
                if (d === a)
                    return r ? NaN : u ? -1 / 0 : 1 / 0;
                r += n(2, t),
                d -= s
            }
            return (u ? -1 : 1) * r * n(2, d - t)
        }
    }
}
, function(e, t, r) {
    var n = r(74)
      , i = r(91)
      , o = r(56);
    e.exports = function fill(e) {
        for (var t = n(this), r = o(t.length), a = arguments.length, s = i(a > 1 ? arguments[1] : void 0, r), l = a > 2 ? arguments[2] : void 0, c = void 0 === l ? r : i(l, r); c > s; )
            t[s++] = e;
        return t
    }
}
, function(e, t, r) {
    var n = r(55)
      , i = r(127)
      , o = r(40)("species");
    e.exports = function(e, t) {
        var r, a = n(e).constructor;
        return void 0 === a || null == (r = n(a)[o]) ? t : i(r)
    }
}
, function(e, t, r) {
    r(181)("Uint8", (function(e) {
        return function Uint8Array(t, r, n) {
            return e(this, t, r, n)
        }
    }
    ))
}
, function(e, t, r) {
    var n = r(60)
      , i = r(39)
      , o = r(49)
      , a = r(182)
      , s = r(100)
      , l = r(123)
      , c = r(125)
      , u = r(80)
      , d = r(47)
      , p = r(56)
      , h = r(126)
      , g = r(185)
      , f = r(88)
      , m = r(45)
      , y = r(101)
      , _ = r(51)
      , v = r(90)
      , b = r(75)
      , w = r(97).f
      , S = r(187)
      , C = r(190).forEach
      , A = r(192)
      , k = r(50)
      , E = r(96)
      , I = r(81)
      , B = r(193)
      , x = I.get
      , P = I.set
      , T = k.f
      , M = E.f
      , O = Math.round
      , z = i.RangeError
      , L = l.ArrayBuffer
      , R = l.DataView
      , D = s.NATIVE_ARRAY_BUFFER_VIEWS
      , U = s.TYPED_ARRAY_TAG
      , F = s.TypedArray
      , j = s.TypedArrayPrototype
      , V = s.aTypedArrayConstructor
      , H = s.isTypedArray
      , G = function(e, t) {
        for (var r = 0, n = t.length, i = new (V(e))(n); n > r; )
            i[r] = t[r++];
        return i
    }
      , W = function(e, t) {
        T(e, t, {
            get: function() {
                return x(this)[t]
            }
        })
    }
      , N = function(e) {
        var t;
        return e instanceof L || "ArrayBuffer" == (t = y(e)) || "SharedArrayBuffer" == t
    }
      , q = function(e, t) {
        return H(e) && "symbol" != typeof t && t in e && String(+t) == String(t)
    }
      , K = function getOwnPropertyDescriptor(e, t) {
        return q(e, t = f(t, !0)) ? u(2, e[t]) : M(e, t)
    }
      , Q = function defineProperty(e, t, r) {
        return !(q(e, t = f(t, !0)) && _(r) && m(r, "value")) || m(r, "get") || m(r, "set") || r.configurable || m(r, "writable") && !r.writable || m(r, "enumerable") && !r.enumerable ? T(e, t, r) : (e[t] = r.value,
        e)
    };
    o ? (D || (E.f = K,
    k.f = Q,
    W(j, "buffer"),
    W(j, "byteOffset"),
    W(j, "byteLength"),
    W(j, "length")),
    n({
        target: "Object",
        stat: !0,
        forced: !D
    }, {
        getOwnPropertyDescriptor: K,
        defineProperty: Q
    }),
    e.exports = function(e, t, r) {
        var o = e.match(/\d+$/)[0] / 8
          , s = e + (r ? "Clamped" : "") + "Array"
          , l = "get" + e
          , u = "set" + e
          , f = i[s]
          , m = f
          , y = m && m.prototype
          , k = {}
          , E = function(e, t) {
            T(e, t, {
                get: function() {
                    return function(e, t) {
                        var r = x(e);
                        return r.view[l](t * o + r.byteOffset, !0)
                    }(this, t)
                },
                set: function(e) {
                    return function(e, t, n) {
                        var i = x(e);
                        r && (n = (n = O(n)) < 0 ? 0 : n > 255 ? 255 : 255 & n),
                        i.view[u](t * o + i.byteOffset, n, !0)
                    }(this, t, e)
                },
                enumerable: !0
            })
        };
        D ? a && (m = t((function(e, t, r, n) {
            return c(e, m, s),
            B(_(t) ? N(t) ? void 0 !== n ? new f(t,g(r, o),n) : void 0 !== r ? new f(t,g(r, o)) : new f(t) : H(t) ? G(m, t) : S.call(m, t) : new f(h(t)), e, m)
        }
        )),
        b && b(m, F),
        C(w(f), (function(e) {
            e in m || d(m, e, f[e])
        }
        )),
        m.prototype = y) : (m = t((function(e, t, r, n) {
            c(e, m, s);
            var i, a, l, u = 0, d = 0;
            if (_(t)) {
                if (!N(t))
                    return H(t) ? G(m, t) : S.call(m, t);
                i = t,
                d = g(r, o);
                var f = t.byteLength;
                if (void 0 === n) {
                    if (f % o)
                        throw z("Wrong length");
                    if ((a = f - d) < 0)
                        throw z("Wrong length")
                } else if ((a = p(n) * o) + d > f)
                    throw z("Wrong length");
                l = a / o
            } else
                l = h(t),
                i = new L(a = l * o);
            for (P(e, {
                buffer: i,
                byteOffset: d,
                byteLength: a,
                length: l,
                view: new R(i)
            }); u < l; )
                E(e, u++)
        }
        )),
        b && b(m, F),
        y = m.prototype = v(j)),
        y.constructor !== m && d(y, "constructor", m),
        U && d(y, U, s),
        k[s] = m,
        n({
            global: !0,
            forced: m != f,
            sham: !D
        }, k),
        "BYTES_PER_ELEMENT"in m || d(m, "BYTES_PER_ELEMENT", o),
        "BYTES_PER_ELEMENT"in y || d(y, "BYTES_PER_ELEMENT", o),
        A(s)
    }
    ) : e.exports = function() {}
}
, function(e, t, r) {
    var n = r(39)
      , i = r(44)
      , o = r(183)
      , a = r(100).NATIVE_ARRAY_BUFFER_VIEWS
      , s = n.ArrayBuffer
      , l = n.Int8Array;
    e.exports = !a || !i((function() {
        l(1)
    }
    )) || !i((function() {
        new l(-1)
    }
    )) || !o((function(e) {
        new l,
        new l(null),
        new l(1.5),
        new l(e)
    }
    ), !0) || i((function() {
        return 1 !== new l(new s(2),1,void 0).length
    }
    ))
}
, function(e, t, r) {
    var n = r(40)("iterator")
      , i = !1;
    try {
        var o = 0
          , a = {
            next: function() {
                return {
                    done: !!o++
                }
            },
            return: function() {
                i = !0
            }
        };
        a[n] = function() {
            return this
        }
        ,
        Array.from(a, (function() {
            throw 2
        }
        ))
    } catch (s) {}
    e.exports = function(e, t) {
        if (!t && !i)
            return !1;
        var r = !1;
        try {
            var o = {};
            o[n] = function() {
                return {
                    next: function() {
                        return {
                            done: r = !0
                        }
                    }
                }
            }
            ,
            e(o)
        } catch (s) {}
        return r
    }
}
, function(e, t, r) {
    var n = {};
    n[r(40)("toStringTag")] = "z",
    e.exports = "[object z]" === String(n)
}
, function(e, t, r) {
    var n = r(186);
    e.exports = function(e, t) {
        var r = n(e);
        if (r % t)
            throw RangeError("Wrong offset");
        return r
    }
}
, function(e, t, r) {
    var n = r(59);
    e.exports = function(e) {
        var t = n(e);
        if (t < 0)
            throw RangeError("The argument can't be less than 0");
        return t
    }
}
, function(e, t, r) {
    var n = r(74)
      , i = r(56)
      , o = r(188)
      , a = r(189)
      , s = r(128)
      , l = r(100).aTypedArrayConstructor;
    e.exports = function from(e) {
        var t, r, c, u, d, p, h = n(e), g = arguments.length, f = g > 1 ? arguments[1] : void 0, m = void 0 !== f, y = o(h);
        if (null != y && !a(y))
            for (p = (d = y.call(h)).next,
            h = []; !(u = p.call(d)).done; )
                h.push(u.value);
        for (m && g > 2 && (f = s(f, arguments[2], 2)),
        r = i(h.length),
        c = new (l(this))(r),
        t = 0; r > t; t++)
            c[t] = m ? f(h[t], t) : h[t];
        return c
    }
}
, function(e, t, r) {
    var n = r(101)
      , i = r(72)
      , o = r(40)("iterator");
    e.exports = function(e) {
        if (null != e)
            return e[o] || e["@@iterator"] || i[n(e)]
    }
}
, function(e, t, r) {
    var n = r(40)
      , i = r(72)
      , o = n("iterator")
      , a = Array.prototype;
    e.exports = function(e) {
        return void 0 !== e && (i.Array === e || a[o] === e)
    }
}
, function(e, t, r) {
    var n = r(128)
      , i = r(113)
      , o = r(74)
      , a = r(56)
      , s = r(191)
      , l = [].push
      , c = function(e) {
        var t = 1 == e
          , r = 2 == e
          , c = 3 == e
          , u = 4 == e
          , d = 6 == e
          , p = 5 == e || d;
        return function(h, g, f, m) {
            for (var y, _, v = o(h), b = i(v), w = n(g, f, 3), S = a(b.length), C = 0, A = m || s, k = t ? A(h, S) : r ? A(h, 0) : void 0; S > C; C++)
                if ((p || C in b) && (_ = w(y = b[C], C, v),
                e))
                    if (t)
                        k[C] = _;
                    else if (_)
                        switch (e) {
                        case 3:
                            return !0;
                        case 5:
                            return y;
                        case 6:
                            return C;
                        case 2:
                            l.call(k, y)
                        }
                    else if (u)
                        return !1;
            return d ? -1 : c || u ? u : k
        }
    };
    e.exports = {
        forEach: c(0),
        map: c(1),
        filter: c(2),
        some: c(3),
        every: c(4),
        find: c(5),
        findIndex: c(6)
    }
}
, function(e, t, r) {
    var n = r(51)
      , i = r(129)
      , o = r(40)("species");
    e.exports = function(e, t) {
        var r;
        return i(e) && ("function" != typeof (r = e.constructor) || r !== Array && !i(r.prototype) ? n(r) && null === (r = r[o]) && (r = void 0) : r = void 0),
        new (void 0 === r ? Array : r)(0 === t ? 0 : t)
    }
}
, function(e, t, r) {
    var n = r(94)
      , i = r(50)
      , o = r(40)
      , a = r(49)
      , s = o("species");
    e.exports = function(e) {
        var t = n(e)
          , r = i.f;
        a && t && !t[s] && r(t, s, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, function(e, t, r) {
    var n = r(51)
      , i = r(75);
    e.exports = function(e, t, r) {
        var o, a;
        return i && "function" == typeof (o = t.constructor) && o !== r && n(a = o.prototype) && a !== r.prototype && i(e, a),
        e
    }
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4WAUABFEEQLYEMAOMBcFSWtmAjBAxgNYDmATgPYCuAdgCZqwDEAzAKYsBmALAOwwAacNhzkAlg3QwyJfAAoATAFYlAiMtXqVagAwA6HQoCUg4SKgxxdADJiabAOoSALgAtG+1eDPmYAZzYAGzYCZzEKGgB5ADc2MkCEAE9GaVkEOV5uNQBGADYWNQUFAoh9XhMhLF8A4NDwqKpnQLs2FJl5TJz8wuLdPSUKnxF-IJCwiIAhQlJKWklYdvTOiDySopL9Y1MwIZwCV1oiCYoyOji-NrS5bIVeHIBOHULtUoNuQZ2q4boxMjH66wUYiMTDmXx-EhUBJkEG7MF7CiBE6XXAZLLqFh3FYsd7beHwvDTcjUegopbo4pY7I4vpbOHmAC+lXx0BgAHdfmwLuhQSzhgREcipO00YVMTkcR8+cN8MRiXMyaKMVSaa86V94Uz6cM4pQYTztQSBUj9QtZIoXtSVeU8dLWbKZiT5ql5BoJdbaSZDdAGdqtZ8jYKyBNmvQAApiYhxAAqYmCirdWk0ic8H210i51DIBC5sI1YP8rmQrSkTCUdCUnFyCFtLIzzqYAA4lNxOEpcrX8ZY-mwaCkmLlcrx7rluJ2CbhAlQS8wlGxeAQEGO-cyC-tDjE4tExGw2XnpTA2HAkM5kqXuBfmx3V3XOHHgg3R7lcLwGDeu7ggs4AMJB-uPEcEBYGAV28fMLA5P5uQwb0LAoWJ4iSX8TUVe4qVybIciUBQ+l4AZxwLJA-m3XdkKFM1UTQrpMJWbC+nw98CVcMQSFcZpWJ-P9hSuJ5SmeTRUxA8CIH9dMBRoexQjYOgAFkWjIaDeTreC4gSM8KPSbheKUXjcl4wTGILZw2AAD04lDS04KyCN8YyzLIshv2QJBpP7Ng2x0XgFBsmUiVmUluPkLS1B0tQ9L6RsvWE0ThJgAAvCIZyUj8TjOMgAGVEQkBMSmye4cKTHIpT5GBqGMxyuI0xQdAgQpeOUeios1IYYpwMRjLgRT0zK0MZxgJhskG7hskbHzSsaXqnDoNwPD0PDDIsAhfgIYIpjlfznUWaq1BYXjgteFgmp9SohkLYtowoREwhQA1YodeUAqqhRuAK57kxbPp7mK3wepafsL24UdWha8BfTAIA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4WAUABFEEQLYEMAOMBcFSWtmAjBAxgNYDmATgPYCuAdgCZqwDEAZmzADTjY7kCWDdDFYIWohJ248oMfnQAyfGgFMA6gIAuAC0YBGLmCnSYAZ2UAbZQQ18KNAPIA3ZWXMIAnoxhkS+ABQA7AAsHBC6AGwAzKEATDHREAAMAHQBAJSSWMZmlta2DlQa5krKXj7+waERCXEJKQCsGQbSMjlWNnYAQoSklLSCsOUIgSFhUbHxoSkxTeBGPDAEWrREnRRkdC4mZb7DiaGR+xD1RymJkbOGWQt0fGTt+fIUxIyYLQv3JFRuZK-z7zgCBRzOsdrgRrFIgEqpEgpcAS08D1yNR6GDhpUIPFoWFYVNkjMYP8WgBfZoI2AAdzuym26DeFMBwNBQnKEKxUJhcMyjJw+GIKP66PZ2K5+MJxOkZMlCxclF+9Jl70WzIVg18fhi9XqMJxuih8N5Mn5vVRA28u012t1NqSBIySugJJl0quyqBILInWK9AACnxiC4ACp8SzCk6hCPHU7JbkGGXeWnUMgEWl-a7KkxaZClIRMZQIZS4Kw8imJ82sFi4FgEXSlhGye7KGheJgEas1oL1gF4cxUXPMat0UQsIkZp3x8cyJYrJwuRx8ZSU9OMmDKOBIDSePMIcKiXC4bvKlihywVgj1AgEOjhI+I4vmDQAYVVrYC77H71dCep9zpGEdGQKGcVwPBfT1hQATj1cJ9DCeoYnxAJGjvYwkHuBcl3All1XBaCqlgqoEPxONANgLQ+BILRiio59X1ZS0AkQ3EcS1HUwgdKcIG-LiVRoFRrGUOgAFkSjIf8GQbYCXDcbdcOGIIjijcIYxQ8kGw0ZQAA86IgvM2FHdSe00nTsLIJ9kCQITW2UFgTiY1CFhNQU0QY-xFMjI4VPxAAOTiv0nZUAC87AHSSe1wdZNjIABlYEBGFSYwkg5i2KqQ0pMKFwzMSjysTytK7RQl15h4nA+E0uAJITagihKVttXqZCJCMnBap9NRNB0dAUmQ1roEWO4CEsboBT6Vz5L8PLlPYlJdH8ic5muUxsysoMKGBGwUEVXjnPGitNmUXQC0cmB2vqvN6iCepwnqUpSvAZ0wCAA"))
}
, function(e, t, r) {
    const n = r(197)
      , i = Symbol("max")
      , o = Symbol("length")
      , a = Symbol("lengthCalculator")
      , s = Symbol("allowStale")
      , l = Symbol("maxAge")
      , c = Symbol("dispose")
      , u = Symbol("noDisposeOnSet")
      , d = Symbol("lruList")
      , p = Symbol("cache")
      , h = Symbol("updateAgeOnGet")
      , g = () => 1
      , f = (e, t, r) => {
        const n = e[p].get(t);
        if (n) {
            const t = n.value;
            if (m(e, t)) {
                if (_(e, n),
                !e[s])
                    return
            } else
                r && (e[h] && (n.value.now = Date.now()),
                e[d].unshiftNode(n));
            return t.value
        }
    }
      , m = (e, t) => {
        if (!t || !t.maxAge && !e[l])
            return !1;
        const r = Date.now() - t.now;
        return t.maxAge ? r > t.maxAge : e[l] && r > e[l]
    }
      , y = e => {
        if (e[o] > e[i])
            for (let t = e[d].tail; e[o] > e[i] && null !== t; ) {
                const r = t.prev;
                _(e, t),
                t = r
            }
    }
      , _ = (e, t) => {
        if (t) {
            const r = t.value;
            e[c] && e[c](r.key, r.value),
            e[o] -= r.length,
            e[p].delete(r.key),
            e[d].removeNode(t)
        }
    }
    ;
    class Entry {
        constructor(e, t, r, n, i) {
            this.key = e,
            this.value = t,
            this.length = r,
            this.now = n,
            this.maxAge = i || 0
        }
    }
    const v = (e, t, r, n) => {
        let i = r.value;
        m(e, i) && (_(e, r),
        e[s] || (i = void 0)),
        i && t.call(n, i.value, i.key, e)
    }
    ;
    e.exports = class LRUCache {
        constructor(e) {
            if ("number" == typeof e && (e = {
                max: e
            }),
            e || (e = {}),
            e.max && ("number" != typeof e.max || e.max < 0))
                throw new TypeError("max must be a non-negative number");
            this[i] = e.max || Infinity;
            const t = e.length || g;
            if (this[a] = "function" != typeof t ? g : t,
            this[s] = e.stale || !1,
            e.maxAge && "number" != typeof e.maxAge)
                throw new TypeError("maxAge must be a number");
            this[l] = e.maxAge || 0,
            this[c] = e.dispose,
            this[u] = e.noDisposeOnSet || !1,
            this[h] = e.updateAgeOnGet || !1,
            this.reset()
        }
        set max(e) {
            if ("number" != typeof e || e < 0)
                throw new TypeError("max must be a non-negative number");
            this[i] = e || Infinity,
            y(this)
        }
        get max() {
            return this[i]
        }
        set allowStale(e) {
            this[s] = !!e
        }
        get allowStale() {
            return this[s]
        }
        set maxAge(e) {
            if ("number" != typeof e)
                throw new TypeError("maxAge must be a non-negative number");
            this[l] = e,
            y(this)
        }
        get maxAge() {
            return this[l]
        }
        set lengthCalculator(e) {
            "function" != typeof e && (e = g),
            e !== this[a] && (this[a] = e,
            this[o] = 0,
            this[d].forEach(e => {
                e.length = this[a](e.value, e.key),
                this[o] += e.length
            }
            )),
            y(this)
        }
        get lengthCalculator() {
            return this[a]
        }
        get length() {
            return this[o]
        }
        get itemCount() {
            return this[d].length
        }
        rforEach(e, t) {
            t = t || this;
            for (let r = this[d].tail; null !== r; ) {
                const n = r.prev;
                v(this, e, r, t),
                r = n
            }
        }
        forEach(e, t) {
            t = t || this;
            for (let r = this[d].head; null !== r; ) {
                const n = r.next;
                v(this, e, r, t),
                r = n
            }
        }
        keys() {
            return this[d].toArray().map(e => e.key)
        }
        values() {
            return this[d].toArray().map(e => e.value)
        }
        reset() {
            this[c] && this[d] && this[d].length && this[d].forEach(e => this[c](e.key, e.value)),
            this[p] = new Map,
            this[d] = new n,
            this[o] = 0
        }
        dump() {
            return this[d].map(e => !m(this, e) && {
                k: e.key,
                v: e.value,
                e: e.now + (e.maxAge || 0)
            }).toArray().filter(e => e)
        }
        dumpLru() {
            return this[d]
        }
        set(e, t, r) {
            if ((r = r || this[l]) && "number" != typeof r)
                throw new TypeError("maxAge must be a number");
            const n = r ? Date.now() : 0
              , s = this[a](t, e);
            if (this[p].has(e)) {
                if (s > this[i])
                    return _(this, this[p].get(e)),
                    !1;
                const a = this[p].get(e).value;
                return this[c] && (this[u] || this[c](e, a.value)),
                a.now = n,
                a.maxAge = r,
                a.value = t,
                this[o] += s - a.length,
                a.length = s,
                this.get(e),
                y(this),
                !0
            }
            const h = new Entry(e,t,s,n,r);
            return h.length > this[i] ? (this[c] && this[c](e, t),
            !1) : (this[o] += h.length,
            this[d].unshift(h),
            this[p].set(e, this[d].head),
            y(this),
            !0)
        }
        has(e) {
            if (!this[p].has(e))
                return !1;
            const t = this[p].get(e).value;
            return !m(this, t)
        }
        get(e) {
            return f(this, e, !0)
        }
        peek(e) {
            return f(this, e, !1)
        }
        pop() {
            const e = this[d].tail;
            return e ? (_(this, e),
            e.value) : null
        }
        del(e) {
            _(this, this[p].get(e))
        }
        load(e) {
            this.reset();
            const t = Date.now();
            for (let r = e.length - 1; r >= 0; r--) {
                const n = e[r]
                  , i = n.e || 0;
                if (0 === i)
                    this.set(n.k, n.v);
                else {
                    const e = i - t;
                    e > 0 && this.set(n.k, n.v, e)
                }
            }
        }
        prune() {
            this[p].forEach( (e, t) => f(this, t, !1))
        }
    }
}
, function(e, t, r) {
    function Yallist(e) {
        var t = this;
        if (t instanceof Yallist || (t = new Yallist),
        t.tail = null,
        t.head = null,
        t.length = 0,
        e && "function" == typeof e.forEach)
            e.forEach((function(e) {
                t.push(e)
            }
            ));
        else if (arguments.length > 0)
            for (var r = 0, n = arguments.length; r < n; r++)
                t.push(arguments[r]);
        return t
    }
    function insert(e, t, r) {
        var n = t === e.head ? new Node(r,null,t,e) : new Node(r,t,t.next,e);
        return null === n.next && (e.tail = n),
        null === n.prev && (e.head = n),
        e.length++,
        n
    }
    function push(e, t) {
        e.tail = new Node(t,e.tail,null,e),
        e.head || (e.head = e.tail),
        e.length++
    }
    function unshift(e, t) {
        e.head = new Node(t,null,e.head,e),
        e.tail || (e.tail = e.head),
        e.length++
    }
    function Node(e, t, r, n) {
        if (!(this instanceof Node))
            return new Node(e,t,r,n);
        this.list = n,
        this.value = e,
        t ? (t.next = this,
        this.prev = t) : this.prev = null,
        r ? (r.prev = this,
        this.next = r) : this.next = null
    }
    e.exports = Yallist,
    Yallist.Node = Node,
    Yallist.create = Yallist,
    Yallist.prototype.removeNode = function(e) {
        if (e.list !== this)
            throw new Error("removing node which does not belong to this list");
        var t = e.next
          , r = e.prev;
        return t && (t.prev = r),
        r && (r.next = t),
        e === this.head && (this.head = t),
        e === this.tail && (this.tail = r),
        e.list.length--,
        e.next = null,
        e.prev = null,
        e.list = null,
        t
    }
    ,
    Yallist.prototype.unshiftNode = function(e) {
        if (e !== this.head) {
            e.list && e.list.removeNode(e);
            var t = this.head;
            e.list = this,
            e.next = t,
            t && (t.prev = e),
            this.head = e,
            this.tail || (this.tail = e),
            this.length++
        }
    }
    ,
    Yallist.prototype.pushNode = function(e) {
        if (e !== this.tail) {
            e.list && e.list.removeNode(e);
            var t = this.tail;
            e.list = this,
            e.prev = t,
            t && (t.next = e),
            this.tail = e,
            this.head || (this.head = e),
            this.length++
        }
    }
    ,
    Yallist.prototype.push = function() {
        for (var e = 0, t = arguments.length; e < t; e++)
            push(this, arguments[e]);
        return this.length
    }
    ,
    Yallist.prototype.unshift = function() {
        for (var e = 0, t = arguments.length; e < t; e++)
            unshift(this, arguments[e]);
        return this.length
    }
    ,
    Yallist.prototype.pop = function() {
        if (this.tail) {
            var e = this.tail.value;
            return this.tail = this.tail.prev,
            this.tail ? this.tail.next = null : this.head = null,
            this.length--,
            e
        }
    }
    ,
    Yallist.prototype.shift = function() {
        if (this.head) {
            var e = this.head.value;
            return this.head = this.head.next,
            this.head ? this.head.prev = null : this.tail = null,
            this.length--,
            e
        }
    }
    ,
    Yallist.prototype.forEach = function(e, t) {
        t = t || this;
        for (var r = this.head, n = 0; null !== r; n++)
            e.call(t, r.value, n, this),
            r = r.next
    }
    ,
    Yallist.prototype.forEachReverse = function(e, t) {
        t = t || this;
        for (var r = this.tail, n = this.length - 1; null !== r; n--)
            e.call(t, r.value, n, this),
            r = r.prev
    }
    ,
    Yallist.prototype.get = function(e) {
        for (var t = 0, r = this.head; null !== r && t < e; t++)
            r = r.next;
        if (t === e && null !== r)
            return r.value
    }
    ,
    Yallist.prototype.getReverse = function(e) {
        for (var t = 0, r = this.tail; null !== r && t < e; t++)
            r = r.prev;
        if (t === e && null !== r)
            return r.value
    }
    ,
    Yallist.prototype.map = function(e, t) {
        t = t || this;
        for (var r = new Yallist, n = this.head; null !== n; )
            r.push(e.call(t, n.value, this)),
            n = n.next;
        return r
    }
    ,
    Yallist.prototype.mapReverse = function(e, t) {
        t = t || this;
        for (var r = new Yallist, n = this.tail; null !== n; )
            r.push(e.call(t, n.value, this)),
            n = n.prev;
        return r
    }
    ,
    Yallist.prototype.reduce = function(e, t) {
        var r, n = this.head;
        if (arguments.length > 1)
            r = t;
        else {
            if (!this.head)
                throw new TypeError("Reduce of empty list with no initial value");
            n = this.head.next,
            r = this.head.value
        }
        for (var i = 0; null !== n; i++)
            r = e(r, n.value, i),
            n = n.next;
        return r
    }
    ,
    Yallist.prototype.reduceReverse = function(e, t) {
        var r, n = this.tail;
        if (arguments.length > 1)
            r = t;
        else {
            if (!this.tail)
                throw new TypeError("Reduce of empty list with no initial value");
            n = this.tail.prev,
            r = this.tail.value
        }
        for (var i = this.length - 1; null !== n; i--)
            r = e(r, n.value, i),
            n = n.prev;
        return r
    }
    ,
    Yallist.prototype.toArray = function() {
        for (var e = new Array(this.length), t = 0, r = this.head; null !== r; t++)
            e[t] = r.value,
            r = r.next;
        return e
    }
    ,
    Yallist.prototype.toArrayReverse = function() {
        for (var e = new Array(this.length), t = 0, r = this.tail; null !== r; t++)
            e[t] = r.value,
            r = r.prev;
        return e
    }
    ,
    Yallist.prototype.slice = function(e, t) {
        (t = t || this.length) < 0 && (t += this.length),
        (e = e || 0) < 0 && (e += this.length);
        var r = new Yallist;
        if (t < e || t < 0)
            return r;
        e < 0 && (e = 0),
        t > this.length && (t = this.length);
        for (var n = 0, i = this.head; null !== i && n < e; n++)
            i = i.next;
        for (; null !== i && n < t; n++,
        i = i.next)
            r.push(i.value);
        return r
    }
    ,
    Yallist.prototype.sliceReverse = function(e, t) {
        (t = t || this.length) < 0 && (t += this.length),
        (e = e || 0) < 0 && (e += this.length);
        var r = new Yallist;
        if (t < e || t < 0)
            return r;
        e < 0 && (e = 0),
        t > this.length && (t = this.length);
        for (var n = this.length, i = this.tail; null !== i && n > t; n--)
            i = i.prev;
        for (; null !== i && n > e; n--,
        i = i.prev)
            r.push(i.value);
        return r
    }
    ,
    Yallist.prototype.splice = function(e, t, ...r) {
        e > this.length && (e = this.length - 1),
        e < 0 && (e = this.length + e);
        for (var n = 0, i = this.head; null !== i && n < e; n++)
            i = i.next;
        var o = [];
        for (n = 0; i && n < t; n++)
            o.push(i.value),
            i = this.removeNode(i);
        for (null === i && (i = this.tail),
        i !== this.head && i !== this.tail && (i = i.prev),
        n = 0; n < r.length; n++)
            i = insert(this, i, r[n]);
        return o
    }
    ,
    Yallist.prototype.reverse = function() {
        for (var e = this.head, t = this.tail, r = e; null !== r; r = r.prev) {
            var n = r.prev;
            r.prev = r.next,
            r.next = n
        }
        return this.head = t,
        this.tail = e,
        this
    }
    ;
    try {
        r(198)(Yallist)
    } catch (n) {}
}
, function(e, t, r) {
    e.exports = function(e) {
        e.prototype[Symbol.iterator] = function*() {
            for (let e = this.head; e; e = e.next)
                yield e.value
        }
    }
}
, function(e, t, r) {
    const n = Symbol("SemVer ANY");
    class Comparator {
        static get ANY() {
            return n
        }
        constructor(e, t) {
            if (t = i(t),
            e instanceof Comparator) {
                if (e.loose === !!t.loose)
                    return e;
                e = e.value
            }
            l("comparator", e, t),
            this.options = t,
            this.loose = !!t.loose,
            this.parse(e),
            this.semver === n ? this.value = "" : this.value = this.operator + this.semver.version,
            l("comp", this)
        }
        parse(e) {
            const t = this.options.loose ? o[a.COMPARATORLOOSE] : o[a.COMPARATOR]
              , r = e.match(t);
            if (!r)
                throw new TypeError(`Invalid comparator: ${e}`);
            this.operator = void 0 !== r[1] ? r[1] : "",
            "=" === this.operator && (this.operator = ""),
            r[2] ? this.semver = new c(r[2],this.options.loose) : this.semver = n
        }
        toString() {
            return this.value
        }
        test(e) {
            if (l("Comparator.test", e, this.options.loose),
            this.semver === n || e === n)
                return !0;
            if ("string" == typeof e)
                try {
                    e = new c(e,this.options)
                } catch (t) {
                    return !1
                }
            return s(e, this.operator, this.semver, this.options)
        }
        intersects(e, t) {
            if (!(e instanceof Comparator))
                throw new TypeError("a Comparator is required");
            if (t && "object" == typeof t || (t = {
                loose: !!t,
                includePrerelease: !1
            }),
            "" === this.operator)
                return "" === this.value || new u(e.value,t).test(this.value);
            if ("" === e.operator)
                return "" === e.value || new u(this.value,t).test(e.semver);
            const r = !(">=" !== this.operator && ">" !== this.operator || ">=" !== e.operator && ">" !== e.operator)
              , n = !("<=" !== this.operator && "<" !== this.operator || "<=" !== e.operator && "<" !== e.operator)
              , i = this.semver.version === e.semver.version
              , o = !(">=" !== this.operator && "<=" !== this.operator || ">=" !== e.operator && "<=" !== e.operator)
              , a = s(this.semver, "<", e.semver, t) && (">=" === this.operator || ">" === this.operator) && ("<=" === e.operator || "<" === e.operator)
              , l = s(this.semver, ">", e.semver, t) && ("<=" === this.operator || "<" === this.operator) && (">=" === e.operator || ">" === e.operator);
            return r || n || i && o || a || l
        }
    }
    e.exports = Comparator;
    const i = r(103)
      , {re: o, t: a} = r(104)
      , s = r(201)
      , l = r(83)
      , c = r(105)
      , u = r(102)
}
, function(e, t) {
    var r, n, i = e.exports = {};
    function defaultSetTimout() {
        throw new Error("setTimeout has not been defined")
    }
    function defaultClearTimeout() {
        throw new Error("clearTimeout has not been defined")
    }
    function runTimeout(e) {
        if (r === setTimeout)
            return setTimeout(e, 0);
        if ((r === defaultSetTimout || !r) && setTimeout)
            return r = setTimeout,
            setTimeout(e, 0);
        try {
            return r(e, 0)
        } catch (t) {
            try {
                return r.call(null, e, 0)
            } catch (t) {
                return r.call(this, e, 0)
            }
        }
    }
    !function() {
        try {
            r = "function" == typeof setTimeout ? setTimeout : defaultSetTimout
        } catch (e) {
            r = defaultSetTimout
        }
        try {
            n = "function" == typeof clearTimeout ? clearTimeout : defaultClearTimeout
        } catch (e) {
            n = defaultClearTimeout
        }
    }();
    var o, a = [], s = !1, l = -1;
    function cleanUpNextTick() {
        s && o && (s = !1,
        o.length ? a = o.concat(a) : l = -1,
        a.length && drainQueue())
    }
    function drainQueue() {
        if (!s) {
            var e = runTimeout(cleanUpNextTick);
            s = !0;
            for (var t = a.length; t; ) {
                for (o = a,
                a = []; ++l < t; )
                    o && o[l].run();
                l = -1,
                t = a.length
            }
            o = null,
            s = !1,
            function runClearTimeout(e) {
                if (n === clearTimeout)
                    return clearTimeout(e);
                if ((n === defaultClearTimeout || !n) && clearTimeout)
                    return n = clearTimeout,
                    clearTimeout(e);
                try {
                    n(e)
                } catch (t) {
                    try {
                        return n.call(null, e)
                    } catch (t) {
                        return n.call(this, e)
                    }
                }
            }(e)
        }
    }
    function Item(e, t) {
        this.fun = e,
        this.array = t
    }
    function noop() {}
    i.nextTick = function(e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var r = 1; r < arguments.length; r++)
                t[r - 1] = arguments[r];
        a.push(new Item(e,t)),
        1 !== a.length || s || runTimeout(drainQueue)
    }
    ,
    Item.prototype.run = function() {
        this.fun.apply(null, this.array)
    }
    ,
    i.title = "browser",
    i.browser = !0,
    i.env = {},
    i.argv = [],
    i.version = "",
    i.versions = {},
    i.on = noop,
    i.addListener = noop,
    i.once = noop,
    i.off = noop,
    i.removeListener = noop,
    i.removeAllListeners = noop,
    i.emit = noop,
    i.prependListener = noop,
    i.prependOnceListener = noop,
    i.listeners = function(e) {
        return []
    }
    ,
    i.binding = function(e) {
        throw new Error("process.binding is not supported")
    }
    ,
    i.cwd = function() {
        return "/"
    }
    ,
    i.chdir = function(e) {
        throw new Error("process.chdir is not supported")
    }
    ,
    i.umask = function() {
        return 0
    }
}
, function(e, t, r) {
    const n = r(202)
      , i = r(204)
      , o = r(205)
      , a = r(206)
      , s = r(207)
      , l = r(208);
    e.exports = (e, t, r, c) => {
        switch (t) {
        case "===":
            return "object" == typeof e && (e = e.version),
            "object" == typeof r && (r = r.version),
            e === r;
        case "!==":
            return "object" == typeof e && (e = e.version),
            "object" == typeof r && (r = r.version),
            e !== r;
        case "":
        case "=":
        case "==":
            return n(e, r, c);
        case "!=":
            return i(e, r, c);
        case ">":
            return o(e, r, c);
        case ">=":
            return a(e, r, c);
        case "<":
            return s(e, r, c);
        case "<=":
            return l(e, r, c);
        default:
            throw new TypeError(`Invalid operator: ${t}`)
        }
    }
}
, function(e, t, r) {
    const n = r(68);
    e.exports = (e, t, r) => 0 === n(e, t, r)
}
, function(e, t) {
    const r = /^[0-9]+$/
      , n = (e, t) => {
        const n = r.test(e)
          , i = r.test(t);
        return n && i && (e = +e,
        t = +t),
        e === t ? 0 : n && !i ? -1 : i && !n ? 1 : e < t ? -1 : 1
    }
    ;
    e.exports = {
        compareIdentifiers: n,
        rcompareIdentifiers: (e, t) => n(t, e)
    }
}
, function(e, t, r) {
    const n = r(68);
    e.exports = (e, t, r) => 0 !== n(e, t, r)
}
, function(e, t, r) {
    const n = r(68);
    e.exports = (e, t, r) => n(e, t, r) > 0
}
, function(e, t, r) {
    const n = r(68);
    e.exports = (e, t, r) => n(e, t, r) >= 0
}
, function(e, t, r) {
    const n = r(68);
    e.exports = (e, t, r) => n(e, t, r) < 0
}
, function(e, t, r) {
    const n = r(68);
    e.exports = (e, t, r) => n(e, t, r) <= 0
}
, function(e, t, r) {
    var n = {
        "./atlas0_hq.json": 106,
        "./atlas0_lq.json": 107,
        "./atlas0_mq.json": 108
    };
    function webpackContext(e) {
        var t = webpackContextResolve(e);
        return r(t)
    }
    function webpackContextResolve(e) {
        if (!r.o(n, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw t.code = "MODULE_NOT_FOUND",
            t
        }
        return n[e]
    }
    webpackContext.keys = function webpackContextKeys() {
        return Object.keys(n)
    }
    ,
    webpackContext.resolve = webpackContextResolve,
    e.exports = webpackContext,
    webpackContext.id = 209
}
, function(e, t, r) {
    var n = {
        "./atlas0_hq": 106,
        "./atlas0_hq.atlas": 211,
        "./atlas0_hq.json": 106,
        "./atlas0_hq.png": 212,
        "./atlas0_lq": 107,
        "./atlas0_lq.atlas": 213,
        "./atlas0_lq.json": 107,
        "./atlas0_lq.png": 214,
        "./atlas0_mq": 108,
        "./atlas0_mq.atlas": 215,
        "./atlas0_mq.json": 108,
        "./atlas0_mq.png": 216
    };
    function webpackContext(e) {
        var t = webpackContextResolve(e);
        return r(t)
    }
    function webpackContextResolve(e) {
        if (!r.o(n, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw t.code = "MODULE_NOT_FOUND",
            t
        }
        return n[e]
    }
    webpackContext.keys = function webpackContextKeys() {
        return Object.keys(n)
    }
    ,
    webpackContext.resolve = webpackContextResolve,
    e.exports = webpackContext,
    webpackContext.id = 210
}
, function(e, t) {
    atlas0_hq.png,
    RGBA8888,
    Nearest,
    Nearest,
    none,
    sprites,
    belt,
    built,
    forward_1,
    sprites,
    belt,
    built,
    forward_10,
    sprites,
    belt,
    built,
    forward_11,
    sprites,
    belt,
    built,
    forward_12,
    sprites,
    belt,
    built,
    forward_13,
    sprites,
    belt,
    built,
    forward_2,
    sprites,
    belt,
    built,
    forward_3,
    sprites,
    belt,
    built,
    forward_4,
    sprites,
    belt,
    built,
    forward_5,
    sprites,
    belt,
    built,
    forward_6,
    sprites,
    belt,
    built,
    forward_7,
    sprites,
    belt,
    built,
    forward_8,
    sprites,
    belt,
    built,
    forward_9,
    sprites,
    belt,
    built,
    left_1,
    sprites,
    belt,
    built,
    left_10,
    sprites,
    belt,
    built,
    left_11,
    sprites,
    belt,
    built,
    left_12,
    sprites,
    belt,
    built,
    left_13,
    sprites,
    belt,
    built,
    left_2,
    sprites,
    belt,
    built,
    left_3,
    sprites,
    belt,
    built,
    left_4,
    sprites,
    belt,
    built,
    left_5,
    sprites,
    belt,
    built,
    left_6,
    sprites,
    belt,
    built,
    left_7,
    sprites,
    belt,
    built,
    left_8,
    sprites,
    belt,
    built,
    left_9,
    sprites,
    belt,
    built,
    right_1,
    sprites,
    belt,
    built,
    right_10,
    sprites,
    belt,
    built,
    right_11,
    sprites,
    belt,
    built,
    right_12,
    sprites,
    belt,
    built,
    right_13,
    sprites,
    belt,
    built,
    right_2,
    sprites,
    belt,
    built,
    right_3,
    sprites,
    belt,
    built,
    right_4,
    sprites,
    belt,
    built,
    right_5,
    sprites,
    belt,
    built,
    right_6,
    sprites,
    belt,
    built,
    right_7,
    sprites,
    belt,
    built,
    right_8,
    sprites,
    belt,
    built,
    right_9,
    sprites,
    blueprints,
    analyzer,
    sprites,
    blueprints,
    balancer,
    sprites,
    blueprints,
    balancer,
    merger,
    sprites,
    blueprints,
    balancer,
    merger,
    inverse,
    sprites,
    blueprints,
    balancer,
    splitter,
    sprites,
    blueprints,
    balancer,
    splitter,
    inverse,
    sprites,
    blueprints,
    belt_left,
    sprites,
    blueprints,
    belt_right,
    sprites,
    blueprints,
    belt_top,
    sprites,
    blueprints,
    block,
    sprites,
    blueprints,
    comparator,
    sprites,
    blueprints,
    constant_producer,
    sprites,
    blueprints,
    constant_signal,
    sprites,
    blueprints,
    cutter,
    sprites,
    blueprints,
    cutter,
    quad,
    sprites,
    blueprints,
    display,
    sprites,
    blueprints,
    filter,
    sprites,
    blueprints,
    goal_acceptor,
    sprites,
    blueprints,
    item_producer,
    sprites,
    blueprints,
    lever,
    sprites,
    blueprints,
    logic_gate,
    sprites,
    blueprints,
    logic_gate,
    not,
    sprites,
    blueprints,
    logic_gate,
    or,
    sprites,
    blueprints,
    logic_gate,
    xor,
    sprites,
    blueprints,
    miner,
    sprites,
    blueprints,
    miner,
    chainable,
    sprites,
    blueprints,
    mixer,
    sprites,
    blueprints,
    painter,
    sprites,
    blueprints,
    painter,
    double,
    sprites,
    blueprints,
    painter,
    mirrored,
    sprites,
    blueprints,
    painter,
    quad,
    sprites,
    blueprints,
    reader,
    sprites,
    blueprints,
    rotater,
    sprites,
    blueprints,
    rotater,
    ccw,
    sprites,
    blueprints,
    rotater,
    rotate180,
    sprites,
    blueprints,
    stacker,
    sprites,
    blueprints,
    storage,
    sprites,
    blueprints,
    transistor,
    sprites,
    blueprints,
    transistor,
    mirrored,
    sprites,
    blueprints,
    trash,
    sprites,
    blueprints,
    underground_belt_entry,
    sprites,
    blueprints,
    underground_belt_entry,
    tier2,
    sprites,
    blueprints,
    underground_belt_exit,
    sprites,
    blueprints,
    underground_belt_exit,
    tier2,
    sprites,
    blueprints,
    virtual_processor,
    sprites,
    blueprints,
    virtual_processor,
    painter,
    sprites,
    blueprints,
    virtual_processor,
    rotater,
    sprites,
    blueprints,
    virtual_processor,
    stacker,
    sprites,
    blueprints,
    virtual_processor,
    unstacker,
    sprites,
    blueprints,
    wire_tunnel,
    sprites,
    buildings,
    analyzer,
    sprites,
    buildings,
    balancer,
    sprites,
    buildings,
    balancer,
    merger,
    sprites,
    buildings,
    balancer,
    merger,
    inverse,
    sprites,
    buildings,
    balancer,
    splitter,
    sprites,
    buildings,
    balancer,
    splitter,
    inverse,
    sprites,
    buildings,
    belt_left,
    sprites,
    belt,
    built,
    left_0,
    sprites,
    buildings,
    belt_right,
    sprites,
    belt,
    built,
    right_0,
    sprites,
    buildings,
    belt_top,
    sprites,
    belt,
    built,
    forward_0,
    sprites,
    buildings,
    block,
    sprites,
    buildings,
    comparator,
    sprites,
    buildings,
    constant_producer,
    sprites,
    buildings,
    constant_signal,
    sprites,
    buildings,
    cutter,
    sprites,
    buildings,
    cutter,
    quad,
    sprites,
    buildings,
    display,
    sprites,
    buildings,
    filter,
    sprites,
    buildings,
    goal_acceptor,
    sprites,
    buildings,
    hub,
    sprites,
    buildings,
    item_producer,
    sprites,
    buildings,
    lever,
    sprites,
    buildings,
    logic_gate,
    sprites,
    buildings,
    logic_gate,
    not,
    sprites,
    buildings,
    logic_gate,
    or,
    sprites,
    buildings,
    logic_gate,
    xor,
    sprites,
    buildings,
    miner,
    sprites,
    buildings,
    miner,
    chainable,
    sprites,
    buildings,
    mixer,
    sprites,
    buildings,
    painter,
    sprites,
    buildings,
    painter,
    double,
    sprites,
    buildings,
    painter,
    mirrored,
    sprites,
    buildings,
    painter,
    quad,
    sprites,
    buildings,
    reader,
    sprites,
    buildings,
    rotater,
    sprites,
    buildings,
    rotater,
    ccw,
    sprites,
    buildings,
    rotater,
    rotate180,
    sprites,
    buildings,
    stacker,
    sprites,
    buildings,
    storage,
    sprites,
    buildings,
    transistor,
    sprites,
    buildings,
    transistor,
    mirrored,
    sprites,
    buildings,
    trash,
    sprites,
    buildings,
    underground_belt_entry,
    sprites,
    buildings,
    underground_belt_entry,
    tier2,
    sprites,
    buildings,
    underground_belt_exit,
    sprites,
    buildings,
    underground_belt_exit,
    tier2,
    sprites,
    buildings,
    virtual_processor,
    sprites,
    buildings,
    virtual_processor,
    painter,
    sprites,
    buildings,
    virtual_processor,
    rotater,
    sprites,
    buildings,
    virtual_processor,
    stacker,
    sprites,
    buildings,
    virtual_processor,
    unstacker,
    sprites,
    buildings,
    wire_tunnel,
    sprites,
    colors,
    blue,
    sprites,
    colors,
    cyan,
    sprites,
    colors,
    green,
    sprites,
    colors,
    purple,
    sprites,
    colors,
    red,
    sprites,
    colors,
    uncolored,
    sprites,
    colors,
    white,
    sprites,
    colors,
    yellow,
    sprites,
    debug,
    acceptor_slot,
    sprites,
    debug,
    ejector_slot,
    sprites,
    misc,
    hub_direction_indicator,
    sprites,
    misc,
    processor_disabled,
    sprites,
    misc,
    processor_disconnected,
    sprites,
    misc,
    reader_overlay,
    sprites,
    misc,
    slot_bad_arrow,
    sprites,
    misc,
    slot_good_arrow,
    sprites,
    misc,
    storage_overlay,
    sprites,
    misc,
    waypoint,
    sprites,
    misc,
    waypoint_wires,
    sprites,
    wires,
    boolean_false,
    sprites,
    wires,
    boolean_true,
    sprites,
    wires,
    display,
    blue,
    sprites,
    wires,
    display,
    cyan,
    sprites,
    wires,
    display,
    green,
    sprites,
    wires,
    display,
    purple,
    sprites,
    wires,
    display,
    red,
    sprites,
    wires,
    display,
    white,
    sprites,
    wires,
    display,
    yellow,
    sprites,
    wires,
    lever_on,
    sprites,
    wires,
    logical_acceptor,
    sprites,
    wires,
    logical_ejector,
    sprites,
    wires,
    network_conflict,
    sprites,
    wires,
    network_empty,
    sprites,
    wires,
    overlay_tile,
    sprites,
    wires,
    sets,
    conflict_cross,
    sprites,
    wires,
    sets,
    conflict_forward,
    sprites,
    wires,
    sets,
    conflict_split,
    sprites,
    wires,
    sets,
    conflict_turn,
    sprites,
    wires,
    sets,
    first_cross,
    sprites,
    wires,
    sets,
    first_forward,
    sprites,
    wires,
    sets,
    first_split,
    sprites,
    wires,
    sets,
    first_turn,
    sprites,
    wires,
    sets,
    second_cross,
    sprites,
    wires,
    sets,
    second_forward,
    sprites,
    wires,
    sets,
    second_split,
    sprites,
    wires,
    sets,
    second_turn,
    sprites,
    wires,
    wires_preview
}
, function(e, t) {}
, function(e, t) {
    atlas0_lq.png,
    RGBA8888,
    Nearest,
    Nearest,
    none,
    sprites,
    belt,
    built,
    forward_1,
    sprites,
    belt,
    built,
    forward_10,
    sprites,
    belt,
    built,
    forward_11,
    sprites,
    belt,
    built,
    forward_12,
    sprites,
    belt,
    built,
    forward_13,
    sprites,
    belt,
    built,
    forward_2,
    sprites,
    belt,
    built,
    forward_3,
    sprites,
    belt,
    built,
    forward_4,
    sprites,
    belt,
    built,
    forward_5,
    sprites,
    belt,
    built,
    forward_6,
    sprites,
    belt,
    built,
    forward_7,
    sprites,
    belt,
    built,
    forward_8,
    sprites,
    belt,
    built,
    forward_9,
    sprites,
    belt,
    built,
    left_1,
    sprites,
    belt,
    built,
    left_10,
    sprites,
    belt,
    built,
    left_11,
    sprites,
    belt,
    built,
    left_12,
    sprites,
    belt,
    built,
    left_13,
    sprites,
    belt,
    built,
    left_2,
    sprites,
    belt,
    built,
    left_3,
    sprites,
    belt,
    built,
    left_4,
    sprites,
    belt,
    built,
    left_5,
    sprites,
    belt,
    built,
    left_6,
    sprites,
    belt,
    built,
    left_7,
    sprites,
    belt,
    built,
    left_8,
    sprites,
    belt,
    built,
    left_9,
    sprites,
    belt,
    built,
    right_1,
    sprites,
    belt,
    built,
    right_10,
    sprites,
    belt,
    built,
    right_11,
    sprites,
    belt,
    built,
    right_12,
    sprites,
    belt,
    built,
    right_13,
    sprites,
    belt,
    built,
    right_2,
    sprites,
    belt,
    built,
    right_3,
    sprites,
    belt,
    built,
    right_4,
    sprites,
    belt,
    built,
    right_5,
    sprites,
    belt,
    built,
    right_6,
    sprites,
    belt,
    built,
    right_7,
    sprites,
    belt,
    built,
    right_8,
    sprites,
    belt,
    built,
    right_9,
    sprites,
    blueprints,
    analyzer,
    sprites,
    blueprints,
    balancer,
    sprites,
    blueprints,
    balancer,
    merger,
    sprites,
    blueprints,
    balancer,
    merger,
    inverse,
    sprites,
    blueprints,
    balancer,
    splitter,
    sprites,
    blueprints,
    balancer,
    splitter,
    inverse,
    sprites,
    blueprints,
    belt_left,
    sprites,
    blueprints,
    belt_right,
    sprites,
    blueprints,
    belt_top,
    sprites,
    blueprints,
    block,
    sprites,
    blueprints,
    comparator,
    sprites,
    blueprints,
    constant_producer,
    sprites,
    blueprints,
    constant_signal,
    sprites,
    blueprints,
    cutter,
    sprites,
    blueprints,
    cutter,
    quad,
    sprites,
    blueprints,
    display,
    sprites,
    blueprints,
    filter,
    sprites,
    blueprints,
    goal_acceptor,
    sprites,
    blueprints,
    item_producer,
    sprites,
    blueprints,
    lever,
    sprites,
    blueprints,
    logic_gate,
    sprites,
    blueprints,
    logic_gate,
    not,
    sprites,
    blueprints,
    logic_gate,
    or,
    sprites,
    blueprints,
    logic_gate,
    xor,
    sprites,
    blueprints,
    miner,
    sprites,
    blueprints,
    miner,
    chainable,
    sprites,
    blueprints,
    mixer,
    sprites,
    blueprints,
    painter,
    sprites,
    blueprints,
    painter,
    double,
    sprites,
    blueprints,
    painter,
    mirrored,
    sprites,
    blueprints,
    painter,
    quad,
    sprites,
    blueprints,
    reader,
    sprites,
    blueprints,
    rotater,
    sprites,
    blueprints,
    rotater,
    ccw,
    sprites,
    blueprints,
    rotater,
    rotate180,
    sprites,
    blueprints,
    stacker,
    sprites,
    blueprints,
    storage,
    sprites,
    blueprints,
    transistor,
    sprites,
    blueprints,
    transistor,
    mirrored,
    sprites,
    blueprints,
    trash,
    sprites,
    blueprints,
    underground_belt_entry,
    sprites,
    blueprints,
    underground_belt_entry,
    tier2,
    sprites,
    blueprints,
    underground_belt_exit,
    sprites,
    blueprints,
    underground_belt_exit,
    tier2,
    sprites,
    blueprints,
    virtual_processor,
    sprites,
    blueprints,
    virtual_processor,
    painter,
    sprites,
    blueprints,
    virtual_processor,
    rotater,
    sprites,
    blueprints,
    virtual_processor,
    stacker,
    sprites,
    blueprints,
    virtual_processor,
    unstacker,
    sprites,
    blueprints,
    wire_tunnel,
    sprites,
    buildings,
    analyzer,
    sprites,
    buildings,
    balancer,
    sprites,
    buildings,
    balancer,
    merger,
    sprites,
    buildings,
    balancer,
    merger,
    inverse,
    sprites,
    buildings,
    balancer,
    splitter,
    sprites,
    buildings,
    balancer,
    splitter,
    inverse,
    sprites,
    buildings,
    belt_left,
    sprites,
    belt,
    built,
    left_0,
    sprites,
    buildings,
    belt_right,
    sprites,
    belt,
    built,
    right_0,
    sprites,
    buildings,
    belt_top,
    sprites,
    belt,
    built,
    forward_0,
    sprites,
    buildings,
    block,
    sprites,
    buildings,
    comparator,
    sprites,
    buildings,
    constant_producer,
    sprites,
    buildings,
    constant_signal,
    sprites,
    buildings,
    cutter,
    sprites,
    buildings,
    cutter,
    quad,
    sprites,
    buildings,
    display,
    sprites,
    buildings,
    filter,
    sprites,
    buildings,
    goal_acceptor,
    sprites,
    buildings,
    hub,
    sprites,
    buildings,
    item_producer,
    sprites,
    buildings,
    lever,
    sprites,
    buildings,
    logic_gate,
    sprites,
    buildings,
    logic_gate,
    not,
    sprites,
    buildings,
    logic_gate,
    or,
    sprites,
    buildings,
    logic_gate,
    xor,
    sprites,
    buildings,
    miner,
    sprites,
    buildings,
    miner,
    chainable,
    sprites,
    buildings,
    mixer,
    sprites,
    buildings,
    painter,
    sprites,
    buildings,
    painter,
    double,
    sprites,
    buildings,
    painter,
    mirrored,
    sprites,
    buildings,
    painter,
    quad,
    sprites,
    buildings,
    reader,
    sprites,
    buildings,
    rotater,
    sprites,
    buildings,
    rotater,
    ccw,
    sprites,
    buildings,
    rotater,
    rotate180,
    sprites,
    buildings,
    stacker,
    sprites,
    buildings,
    storage,
    sprites,
    buildings,
    transistor,
    sprites,
    buildings,
    transistor,
    mirrored,
    sprites,
    buildings,
    trash,
    sprites,
    buildings,
    underground_belt_entry,
    sprites,
    buildings,
    underground_belt_entry,
    tier2,
    sprites,
    buildings,
    underground_belt_exit,
    sprites,
    buildings,
    underground_belt_exit,
    tier2,
    sprites,
    buildings,
    virtual_processor,
    sprites,
    buildings,
    virtual_processor,
    painter,
    sprites,
    buildings,
    virtual_processor,
    rotater,
    sprites,
    buildings,
    virtual_processor,
    stacker,
    sprites,
    buildings,
    virtual_processor,
    unstacker,
    sprites,
    buildings,
    wire_tunnel,
    sprites,
    colors,
    blue,
    sprites,
    colors,
    cyan,
    sprites,
    colors,
    green,
    sprites,
    colors,
    purple,
    sprites,
    colors,
    red,
    sprites,
    colors,
    uncolored,
    sprites,
    colors,
    white,
    sprites,
    colors,
    yellow,
    sprites,
    debug,
    acceptor_slot,
    sprites,
    debug,
    ejector_slot,
    sprites,
    misc,
    hub_direction_indicator,
    sprites,
    misc,
    processor_disabled,
    sprites,
    misc,
    processor_disconnected,
    sprites,
    misc,
    reader_overlay,
    sprites,
    misc,
    slot_bad_arrow,
    sprites,
    misc,
    slot_good_arrow,
    sprites,
    misc,
    storage_overlay,
    sprites,
    misc,
    waypoint,
    sprites,
    misc,
    waypoint_wires,
    sprites,
    wires,
    boolean_false,
    sprites,
    wires,
    boolean_true,
    sprites,
    wires,
    display,
    blue,
    sprites,
    wires,
    display,
    cyan,
    sprites,
    wires,
    display,
    green,
    sprites,
    wires,
    display,
    purple,
    sprites,
    wires,
    display,
    red,
    sprites,
    wires,
    display,
    white,
    sprites,
    wires,
    display,
    yellow,
    sprites,
    wires,
    lever_on,
    sprites,
    wires,
    logical_acceptor,
    sprites,
    wires,
    logical_ejector,
    sprites,
    wires,
    network_conflict,
    sprites,
    wires,
    network_empty,
    sprites,
    wires,
    overlay_tile,
    sprites,
    wires,
    sets,
    conflict_cross,
    sprites,
    wires,
    sets,
    conflict_forward,
    sprites,
    wires,
    sets,
    conflict_split,
    sprites,
    wires,
    sets,
    conflict_turn,
    sprites,
    wires,
    sets,
    first_cross,
    sprites,
    wires,
    sets,
    first_forward,
    sprites,
    wires,
    sets,
    first_split,
    sprites,
    wires,
    sets,
    first_turn,
    sprites,
    wires,
    sets,
    second_cross,
    sprites,
    wires,
    sets,
    second_forward,
    sprites,
    wires,
    sets,
    second_split,
    sprites,
    wires,
    sets,
    second_turn,
    sprites,
    wires,
    wires_preview
}
, function(e, t) {}
, function(e, t) {
    atlas0_mq.png,
    RGBA8888,
    Nearest,
    Nearest,
    none,
    sprites,
    belt,
    built,
    forward_1,
    sprites,
    belt,
    built,
    forward_10,
    sprites,
    belt,
    built,
    forward_11,
    sprites,
    belt,
    built,
    forward_12,
    sprites,
    belt,
    built,
    forward_13,
    sprites,
    belt,
    built,
    forward_2,
    sprites,
    belt,
    built,
    forward_3,
    sprites,
    belt,
    built,
    forward_4,
    sprites,
    belt,
    built,
    forward_5,
    sprites,
    belt,
    built,
    forward_6,
    sprites,
    belt,
    built,
    forward_7,
    sprites,
    belt,
    built,
    forward_8,
    sprites,
    belt,
    built,
    forward_9,
    sprites,
    belt,
    built,
    left_1,
    sprites,
    belt,
    built,
    left_10,
    sprites,
    belt,
    built,
    left_11,
    sprites,
    belt,
    built,
    left_12,
    sprites,
    belt,
    built,
    left_13,
    sprites,
    belt,
    built,
    left_2,
    sprites,
    belt,
    built,
    left_3,
    sprites,
    belt,
    built,
    left_4,
    sprites,
    belt,
    built,
    left_5,
    sprites,
    belt,
    built,
    left_6,
    sprites,
    belt,
    built,
    left_7,
    sprites,
    belt,
    built,
    left_8,
    sprites,
    belt,
    built,
    left_9,
    sprites,
    belt,
    built,
    right_1,
    sprites,
    belt,
    built,
    right_10,
    sprites,
    belt,
    built,
    right_11,
    sprites,
    belt,
    built,
    right_12,
    sprites,
    belt,
    built,
    right_13,
    sprites,
    belt,
    built,
    right_2,
    sprites,
    belt,
    built,
    right_3,
    sprites,
    belt,
    built,
    right_4,
    sprites,
    belt,
    built,
    right_5,
    sprites,
    belt,
    built,
    right_6,
    sprites,
    belt,
    built,
    right_7,
    sprites,
    belt,
    built,
    right_8,
    sprites,
    belt,
    built,
    right_9,
    sprites,
    blueprints,
    analyzer,
    sprites,
    blueprints,
    balancer,
    sprites,
    blueprints,
    balancer,
    merger,
    sprites,
    blueprints,
    balancer,
    merger,
    inverse,
    sprites,
    blueprints,
    balancer,
    splitter,
    sprites,
    blueprints,
    balancer,
    splitter,
    inverse,
    sprites,
    blueprints,
    belt_left,
    sprites,
    blueprints,
    belt_right,
    sprites,
    blueprints,
    belt_top,
    sprites,
    blueprints,
    block,
    sprites,
    blueprints,
    comparator,
    sprites,
    blueprints,
    constant_producer,
    sprites,
    blueprints,
    constant_signal,
    sprites,
    blueprints,
    cutter,
    sprites,
    blueprints,
    cutter,
    quad,
    sprites,
    blueprints,
    display,
    sprites,
    blueprints,
    filter,
    sprites,
    blueprints,
    goal_acceptor,
    sprites,
    blueprints,
    item_producer,
    sprites,
    blueprints,
    lever,
    sprites,
    blueprints,
    logic_gate,
    sprites,
    blueprints,
    logic_gate,
    not,
    sprites,
    blueprints,
    logic_gate,
    or,
    sprites,
    blueprints,
    logic_gate,
    xor,
    sprites,
    blueprints,
    miner,
    sprites,
    blueprints,
    miner,
    chainable,
    sprites,
    blueprints,
    mixer,
    sprites,
    blueprints,
    painter,
    sprites,
    blueprints,
    painter,
    double,
    sprites,
    blueprints,
    painter,
    mirrored,
    sprites,
    blueprints,
    painter,
    quad,
    sprites,
    blueprints,
    reader,
    sprites,
    blueprints,
    rotater,
    sprites,
    blueprints,
    rotater,
    ccw,
    sprites,
    blueprints,
    rotater,
    rotate180,
    sprites,
    blueprints,
    stacker,
    sprites,
    blueprints,
    storage,
    sprites,
    blueprints,
    transistor,
    sprites,
    blueprints,
    transistor,
    mirrored,
    sprites,
    blueprints,
    trash,
    sprites,
    blueprints,
    underground_belt_entry,
    sprites,
    blueprints,
    underground_belt_entry,
    tier2,
    sprites,
    blueprints,
    underground_belt_exit,
    sprites,
    blueprints,
    underground_belt_exit,
    tier2,
    sprites,
    blueprints,
    virtual_processor,
    sprites,
    blueprints,
    virtual_processor,
    painter,
    sprites,
    blueprints,
    virtual_processor,
    rotater,
    sprites,
    blueprints,
    virtual_processor,
    stacker,
    sprites,
    blueprints,
    virtual_processor,
    unstacker,
    sprites,
    blueprints,
    wire_tunnel,
    sprites,
    buildings,
    analyzer,
    sprites,
    buildings,
    balancer,
    sprites,
    buildings,
    balancer,
    merger,
    sprites,
    buildings,
    balancer,
    merger,
    inverse,
    sprites,
    buildings,
    balancer,
    splitter,
    sprites,
    buildings,
    balancer,
    splitter,
    inverse,
    sprites,
    buildings,
    belt_left,
    sprites,
    belt,
    built,
    left_0,
    sprites,
    buildings,
    belt_right,
    sprites,
    belt,
    built,
    right_0,
    sprites,
    buildings,
    belt_top,
    sprites,
    belt,
    built,
    forward_0,
    sprites,
    buildings,
    block,
    sprites,
    buildings,
    comparator,
    sprites,
    buildings,
    constant_producer,
    sprites,
    buildings,
    constant_signal,
    sprites,
    buildings,
    cutter,
    sprites,
    buildings,
    cutter,
    quad,
    sprites,
    buildings,
    display,
    sprites,
    buildings,
    filter,
    sprites,
    buildings,
    goal_acceptor,
    sprites,
    buildings,
    hub,
    sprites,
    buildings,
    item_producer,
    sprites,
    buildings,
    lever,
    sprites,
    buildings,
    logic_gate,
    sprites,
    buildings,
    logic_gate,
    not,
    sprites,
    buildings,
    logic_gate,
    or,
    sprites,
    buildings,
    logic_gate,
    xor,
    sprites,
    buildings,
    miner,
    sprites,
    buildings,
    miner,
    chainable,
    sprites,
    buildings,
    mixer,
    sprites,
    buildings,
    painter,
    sprites,
    buildings,
    painter,
    double,
    sprites,
    buildings,
    painter,
    mirrored,
    sprites,
    buildings,
    painter,
    quad,
    sprites,
    buildings,
    reader,
    sprites,
    buildings,
    rotater,
    sprites,
    buildings,
    rotater,
    ccw,
    sprites,
    buildings,
    rotater,
    rotate180,
    sprites,
    buildings,
    stacker,
    sprites,
    buildings,
    storage,
    sprites,
    buildings,
    transistor,
    sprites,
    buildings,
    transistor,
    mirrored,
    sprites,
    buildings,
    trash,
    sprites,
    buildings,
    underground_belt_entry,
    sprites,
    buildings,
    underground_belt_entry,
    tier2,
    sprites,
    buildings,
    underground_belt_exit,
    sprites,
    buildings,
    underground_belt_exit,
    tier2,
    sprites,
    buildings,
    virtual_processor,
    sprites,
    buildings,
    virtual_processor,
    painter,
    sprites,
    buildings,
    virtual_processor,
    rotater,
    sprites,
    buildings,
    virtual_processor,
    stacker,
    sprites,
    buildings,
    virtual_processor,
    unstacker,
    sprites,
    buildings,
    wire_tunnel,
    sprites,
    colors,
    blue,
    sprites,
    colors,
    cyan,
    sprites,
    colors,
    green,
    sprites,
    colors,
    purple,
    sprites,
    colors,
    red,
    sprites,
    colors,
    uncolored,
    sprites,
    colors,
    white,
    sprites,
    colors,
    yellow,
    sprites,
    debug,
    acceptor_slot,
    sprites,
    debug,
    ejector_slot,
    sprites,
    misc,
    hub_direction_indicator,
    sprites,
    misc,
    processor_disabled,
    sprites,
    misc,
    processor_disconnected,
    sprites,
    misc,
    reader_overlay,
    sprites,
    misc,
    slot_bad_arrow,
    sprites,
    misc,
    slot_good_arrow,
    sprites,
    misc,
    storage_overlay,
    sprites,
    misc,
    waypoint,
    sprites,
    misc,
    waypoint_wires,
    sprites,
    wires,
    boolean_false,
    sprites,
    wires,
    boolean_true,
    sprites,
    wires,
    display,
    blue,
    sprites,
    wires,
    display,
    cyan,
    sprites,
    wires,
    display,
    green,
    sprites,
    wires,
    display,
    purple,
    sprites,
    wires,
    display,
    red,
    sprites,
    wires,
    display,
    white,
    sprites,
    wires,
    display,
    yellow,
    sprites,
    wires,
    lever_on,
    sprites,
    wires,
    logical_acceptor,
    sprites,
    wires,
    logical_ejector,
    sprites,
    wires,
    network_conflict,
    sprites,
    wires,
    network_empty,
    sprites,
    wires,
    overlay_tile,
    sprites,
    wires,
    sets,
    conflict_cross,
    sprites,
    wires,
    sets,
    conflict_forward,
    sprites,
    wires,
    sets,
    conflict_split,
    sprites,
    wires,
    sets,
    conflict_turn,
    sprites,
    wires,
    sets,
    first_cross,
    sprites,
    wires,
    sets,
    first_forward,
    sprites,
    wires,
    sets,
    first_split,
    sprites,
    wires,
    sets,
    first_turn,
    sprites,
    wires,
    sets,
    second_cross,
    sprites,
    wires,
    sets,
    second_forward,
    sprites,
    wires,
    sets,
    second_split,
    sprites,
    wires,
    sets,
    second_turn,
    sprites,
    wires,
    wires_preview
}
, function(e, t) {}
, function(e, t, r) {
    (function(r) {
        var n;
        !function() {
            var i = function() {
                this.init()
            };
            i.prototype = {
                init: function() {
                    var e = this || o;
                    return e._counter = 1e3,
                    e._html5AudioPool = [],
                    e.html5PoolSize = 10,
                    e._codecs = {},
                    e._howls = [],
                    e._muted = !1,
                    e._volume = 1,
                    e._canPlayEvent = "canplaythrough",
                    e._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null,
                    e.masterGain = null,
                    e.noAudio = !1,
                    e.usingWebAudio = !0,
                    e.autoSuspend = !0,
                    e.ctx = null,
                    e.autoUnlock = !0,
                    e._setup(),
                    e
                },
                volume: function(e) {
                    var t = this || o;
                    if (e = parseFloat(e),
                    t.ctx || h(),
                    void 0 !== e && e >= 0 && e <= 1) {
                        if (t._volume = e,
                        t._muted)
                            return t;
                        t.usingWebAudio && t.masterGain.gain.setValueAtTime(e, o.ctx.currentTime);
                        for (var r = 0; r < t._howls.length; r++)
                            if (!t._howls[r]._webAudio)
                                for (var n = t._howls[r]._getSoundIds(), i = 0; i < n.length; i++) {
                                    var a = t._howls[r]._soundById(n[i]);
                                    a && a._node && (a._node.volume = a._volume * e)
                                }
                        return t
                    }
                    return t._volume
                },
                mute: function(e) {
                    var t = this || o;
                    t.ctx || h(),
                    t._muted = e,
                    t.usingWebAudio && t.masterGain.gain.setValueAtTime(e ? 0 : t._volume, o.ctx.currentTime);
                    for (var r = 0; r < t._howls.length; r++)
                        if (!t._howls[r]._webAudio)
                            for (var n = t._howls[r]._getSoundIds(), i = 0; i < n.length; i++) {
                                var a = t._howls[r]._soundById(n[i]);
                                a && a._node && (a._node.muted = !!e || a._muted)
                            }
                    return t
                },
                unload: function() {
                    for (var e = this || o, t = e._howls.length - 1; t >= 0; t--)
                        e._howls[t].unload();
                    return e.usingWebAudio && e.ctx && void 0 !== e.ctx.close && (e.ctx.close(),
                    e.ctx = null,
                    h()),
                    e
                },
                codecs: function(e) {
                    return (this || o)._codecs[e.replace(/^x-/, "")]
                },
                _setup: function() {
                    var e = this || o;
                    if (e.state = e.ctx && e.ctx.state || "suspended",
                    e._autoSuspend(),
                    !e.usingWebAudio)
                        if ("undefined" != typeof Audio)
                            try {
                                void 0 === (new Audio).oncanplaythrough && (e._canPlayEvent = "canplay")
                            } catch (t) {
                                e.noAudio = !0
                            }
                        else
                            e.noAudio = !0;
                    try {
                        (new Audio).muted && (e.noAudio = !0)
                    } catch (t) {}
                    return e.noAudio || e._setupCodecs(),
                    e
                },
                _setupCodecs: function() {
                    var e = this || o
                      , t = null;
                    try {
                        t = "undefined" != typeof Audio ? new Audio : null
                    } catch (a) {
                        return e
                    }
                    if (!t || "function" != typeof t.canPlayType)
                        return e;
                    var r = t.canPlayType("audio/mpeg;").replace(/^no$/, "")
                      , n = e._navigator && e._navigator.userAgent.match(/OPR\/([0-6].)/g)
                      , i = n && parseInt(n[0].split("/")[1], 10) < 33;
                    return e._codecs = {
                        mp3: !(i || !r && !t.canPlayType("audio/mp3;").replace(/^no$/, "")),
                        mpeg: !!r,
                        opus: !!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                        ogg: !!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        oga: !!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                        wav: !!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
                        aac: !!t.canPlayType("audio/aac;").replace(/^no$/, ""),
                        caf: !!t.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                        m4a: !!(t.canPlayType("audio/x-m4a;") || t.canPlayType("audio/m4a;") || t.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        mp4: !!(t.canPlayType("audio/x-mp4;") || t.canPlayType("audio/mp4;") || t.canPlayType("audio/aac;")).replace(/^no$/, ""),
                        weba: !!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                        webm: !!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                        dolby: !!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                        flac: !!(t.canPlayType("audio/x-flac;") || t.canPlayType("audio/flac;")).replace(/^no$/, "")
                    },
                    e
                },
                _unlockAudio: function() {
                    var e = this || o;
                    if (!e._audioUnlocked && e.ctx) {
                        e._audioUnlocked = !1,
                        e.autoUnlock = !1,
                        e._mobileUnloaded || 44100 === e.ctx.sampleRate || (e._mobileUnloaded = !0,
                        e.unload()),
                        e._scratchBuffer = e.ctx.createBuffer(1, 1, 22050);
                        var t = function(r) {
                            for (var n = 0; n < e.html5PoolSize; n++)
                                try {
                                    var i = new Audio;
                                    i._unlocked = !0,
                                    e._releaseHtml5Audio(i)
                                } catch (r) {
                                    e.noAudio = !0
                                }
                            for (n = 0; n < e._howls.length; n++)
                                if (!e._howls[n]._webAudio)
                                    for (var o = e._howls[n]._getSoundIds(), a = 0; a < o.length; a++) {
                                        var s = e._howls[n]._soundById(o[a]);
                                        s && s._node && !s._node._unlocked && (s._node._unlocked = !0,
                                        s._node.load())
                                    }
                            e._autoResume();
                            var l = e.ctx.createBufferSource();
                            l.buffer = e._scratchBuffer,
                            l.connect(e.ctx.destination),
                            void 0 === l.start ? l.noteOn(0) : l.start(0),
                            "function" == typeof e.ctx.resume && e.ctx.resume(),
                            l.onended = function() {
                                l.disconnect(0),
                                e._audioUnlocked = !0,
                                document.removeEventListener("touchstart", t, !0),
                                document.removeEventListener("touchend", t, !0),
                                document.removeEventListener("click", t, !0);
                                for (var r = 0; r < e._howls.length; r++)
                                    e._howls[r]._emit("unlock")
                            }
                        };
                        return document.addEventListener("touchstart", t, !0),
                        document.addEventListener("touchend", t, !0),
                        document.addEventListener("click", t, !0),
                        e
                    }
                },
                _obtainHtml5Audio: function() {
                    var e = this || o;
                    if (e._html5AudioPool.length)
                        return e._html5AudioPool.pop();
                    var t = (new Audio).play();
                    return t && "undefined" != typeof Promise && (t instanceof Promise || "function" == typeof t.then) && t.catch((function() {
                        console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")
                    }
                    )),
                    new Audio
                },
                _releaseHtml5Audio: function(e) {
                    var t = this || o;
                    return e._unlocked && t._html5AudioPool.push(e),
                    t
                },
                _autoSuspend: function() {
                    var e = this;
                    if (e.autoSuspend && e.ctx && void 0 !== e.ctx.suspend && o.usingWebAudio) {
                        for (var t = 0; t < e._howls.length; t++)
                            if (e._howls[t]._webAudio)
                                for (var r = 0; r < e._howls[t]._sounds.length; r++)
                                    if (!e._howls[t]._sounds[r]._paused)
                                        return e;
                        return e._suspendTimer && clearTimeout(e._suspendTimer),
                        e._suspendTimer = setTimeout((function() {
                            e.autoSuspend && (e._suspendTimer = null,
                            e.state = "suspending",
                            e.ctx.suspend().then((function() {
                                e.state = "suspended",
                                e._resumeAfterSuspend && (delete e._resumeAfterSuspend,
                                e._autoResume())
                            }
                            )))
                        }
                        ), 3e4),
                        e
                    }
                },
                _autoResume: function() {
                    var e = this;
                    if (e.ctx && void 0 !== e.ctx.resume && o.usingWebAudio)
                        return "running" === e.state && e._suspendTimer ? (clearTimeout(e._suspendTimer),
                        e._suspendTimer = null) : "suspended" === e.state ? (e.ctx.resume().then((function() {
                            e.state = "running";
                            for (var t = 0; t < e._howls.length; t++)
                                e._howls[t]._emit("resume")
                        }
                        )),
                        e._suspendTimer && (clearTimeout(e._suspendTimer),
                        e._suspendTimer = null)) : "suspending" === e.state && (e._resumeAfterSuspend = !0),
                        e
                }
            };
            var o = new i
              , a = function(e) {
                e.src && 0 !== e.src.length ? this.init(e) : console.error("An array of source files must be passed with any new Howl.")
            };
            a.prototype = {
                init: function(e) {
                    var t = this;
                    return o.ctx || h(),
                    t._autoplay = e.autoplay || !1,
                    t._format = "string" != typeof e.format ? e.format : [e.format],
                    t._html5 = e.html5 || !1,
                    t._muted = e.mute || !1,
                    t._loop = e.loop || !1,
                    t._pool = e.pool || 5,
                    t._preload = "boolean" != typeof e.preload || e.preload,
                    t._rate = e.rate || 1,
                    t._sprite = e.sprite || {},
                    t._src = "string" != typeof e.src ? e.src : [e.src],
                    t._volume = void 0 !== e.volume ? e.volume : 1,
                    t._xhrWithCredentials = e.xhrWithCredentials || !1,
                    t._duration = 0,
                    t._state = "unloaded",
                    t._sounds = [],
                    t._endTimers = {},
                    t._queue = [],
                    t._playLock = !1,
                    t._onend = e.onend ? [{
                        fn: e.onend
                    }] : [],
                    t._onfade = e.onfade ? [{
                        fn: e.onfade
                    }] : [],
                    t._onload = e.onload ? [{
                        fn: e.onload
                    }] : [],
                    t._onloaderror = e.onloaderror ? [{
                        fn: e.onloaderror
                    }] : [],
                    t._onplayerror = e.onplayerror ? [{
                        fn: e.onplayerror
                    }] : [],
                    t._onpause = e.onpause ? [{
                        fn: e.onpause
                    }] : [],
                    t._onplay = e.onplay ? [{
                        fn: e.onplay
                    }] : [],
                    t._onstop = e.onstop ? [{
                        fn: e.onstop
                    }] : [],
                    t._onmute = e.onmute ? [{
                        fn: e.onmute
                    }] : [],
                    t._onvolume = e.onvolume ? [{
                        fn: e.onvolume
                    }] : [],
                    t._onrate = e.onrate ? [{
                        fn: e.onrate
                    }] : [],
                    t._onseek = e.onseek ? [{
                        fn: e.onseek
                    }] : [],
                    t._onunlock = e.onunlock ? [{
                        fn: e.onunlock
                    }] : [],
                    t._onresume = [],
                    t._webAudio = o.usingWebAudio && !t._html5,
                    void 0 !== o.ctx && o.ctx && o.autoUnlock && o._unlockAudio(),
                    o._howls.push(t),
                    t._autoplay && t._queue.push({
                        event: "play",
                        action: function() {
                            t.play()
                        }
                    }),
                    t._preload && t.load(),
                    t
                },
                load: function() {
                    var e = null;
                    if (o.noAudio)
                        this._emit("loaderror", null, "No audio support.");
                    else {
                        "string" == typeof this._src && (this._src = [this._src]);
                        for (var t = 0; t < this._src.length; t++) {
                            var r, n;
                            if (this._format && this._format[t])
                                r = this._format[t];
                            else {
                                if ("string" != typeof (n = this._src[t])) {
                                    this._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                                    continue
                                }
                                (r = /^data:audio\/([^;,]+);/i.exec(n)) || (r = /\.([^.]+)$/.exec(n.split("?", 1)[0])),
                                r && (r = r[1].toLowerCase())
                            }
                            if (r || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),
                            r && o.codecs(r)) {
                                e = this._src[t];
                                break
                            }
                        }
                        if (e)
                            return this._src = e,
                            this._state = "loading",
                            "https:" === window.location.protocol && "http:" === e.slice(0, 5) && (this._html5 = !0,
                            this._webAudio = !1),
                            new s(this),
                            this._webAudio && c(this),
                            this;
                        this._emit("loaderror", null, "No codec support for selected audio sources.")
                    }
                },
                play: function(e, t) {
                    var r = this
                      , n = null;
                    if ("number" == typeof e)
                        n = e,
                        e = null;
                    else {
                        if ("string" == typeof e && "loaded" === r._state && !r._sprite[e])
                            return null;
                        if (void 0 === e && (e = "__default",
                        !r._playLock)) {
                            for (var i = 0, a = 0; a < r._sounds.length; a++)
                                r._sounds[a]._paused && !r._sounds[a]._ended && (i++,
                                n = r._sounds[a]._id);
                            1 === i ? e = null : n = null
                        }
                    }
                    var s = n ? r._soundById(n) : r._inactiveSound();
                    if (!s)
                        return null;
                    if (n && !e && (e = s._sprite || "__default"),
                    "loaded" !== r._state) {
                        s._sprite = e,
                        s._ended = !1;
                        var l = s._id;
                        return r._queue.push({
                            event: "play",
                            action: function() {
                                r.play(l)
                            }
                        }),
                        l
                    }
                    if (n && !s._paused)
                        return t || r._loadQueue("play"),
                        s._id;
                    r._webAudio && o._autoResume();
                    var c = Math.max(0, s._seek > 0 ? s._seek : r._sprite[e][0] / 1e3)
                      , u = Math.max(0, (r._sprite[e][0] + r._sprite[e][1]) / 1e3 - c)
                      , d = 1e3 * u / Math.abs(s._rate)
                      , p = r._sprite[e][0] / 1e3
                      , h = (r._sprite[e][0] + r._sprite[e][1]) / 1e3;
                    s._sprite = e,
                    s._ended = !1;
                    var g = function() {
                        s._paused = !1,
                        s._seek = c,
                        s._start = p,
                        s._stop = h,
                        s._loop = !(!s._loop && !r._sprite[e][2])
                    };
                    if (!(c >= h)) {
                        var f = s._node;
                        if (r._webAudio) {
                            var m = function() {
                                r._playLock = !1,
                                g(),
                                r._refreshBuffer(s);
                                var e = s._muted || r._muted ? 0 : s._volume;
                                f.gain.setValueAtTime(e, o.ctx.currentTime),
                                s._playStart = o.ctx.currentTime,
                                void 0 === f.bufferSource.start ? s._loop ? f.bufferSource.noteGrainOn(0, c, 86400) : f.bufferSource.noteGrainOn(0, c, u) : s._loop ? f.bufferSource.start(0, c, 86400) : f.bufferSource.start(0, c, u),
                                Infinity !== d && (r._endTimers[s._id] = setTimeout(r._ended.bind(r, s), d)),
                                t || setTimeout((function() {
                                    r._emit("play", s._id),
                                    r._loadQueue()
                                }
                                ), 0)
                            };
                            "running" === o.state ? m() : (r._playLock = !0,
                            r.once("resume", m),
                            r._clearTimer(s._id))
                        } else {
                            var y = function() {
                                f.currentTime = c,
                                f.muted = s._muted || r._muted || o._muted || f.muted,
                                f.volume = s._volume * o.volume(),
                                f.playbackRate = s._rate;
                                try {
                                    var n = f.play();
                                    if (n && "undefined" != typeof Promise && (n instanceof Promise || "function" == typeof n.then) ? (r._playLock = !0,
                                    g(),
                                    n.then((function() {
                                        r._playLock = !1,
                                        f._unlocked = !0,
                                        t || (r._emit("play", s._id),
                                        r._loadQueue())
                                    }
                                    )).catch((function() {
                                        r._playLock = !1,
                                        r._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),
                                        s._ended = !0,
                                        s._paused = !0
                                    }
                                    ))) : t || (r._playLock = !1,
                                    g(),
                                    r._emit("play", s._id),
                                    r._loadQueue()),
                                    f.playbackRate = s._rate,
                                    f.paused)
                                        return void r._emit("playerror", s._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                                    "__default" !== e || s._loop ? r._endTimers[s._id] = setTimeout(r._ended.bind(r, s), d) : (r._endTimers[s._id] = function() {
                                        r._ended(s),
                                        f.removeEventListener("ended", r._endTimers[s._id], !1)
                                    }
                                    ,
                                    f.addEventListener("ended", r._endTimers[s._id], !1))
                                } catch (i) {
                                    r._emit("playerror", s._id, i)
                                }
                            };
                            "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA" === f.src && (f.src = r._src,
                            f.load());
                            var _ = window && window.ejecta || !f.readyState && o._navigator.isCocoonJS;
                            if (f.readyState >= 3 || _)
                                y();
                            else {
                                r._playLock = !0;
                                var v = function() {
                                    y(),
                                    f.removeEventListener(o._canPlayEvent, v, !1)
                                };
                                f.addEventListener(o._canPlayEvent, v, !1),
                                r._clearTimer(s._id)
                            }
                        }
                        return s._id
                    }
                    r._ended(s)
                },
                pause: function(e) {
                    var t = this;
                    if ("loaded" !== t._state || t._playLock)
                        return t._queue.push({
                            event: "pause",
                            action: function() {
                                t.pause(e)
                            }
                        }),
                        t;
                    for (var r = t._getSoundIds(e), n = 0; n < r.length; n++) {
                        t._clearTimer(r[n]);
                        var i = t._soundById(r[n]);
                        if (i && !i._paused && (i._seek = t.seek(r[n]),
                        i._rateSeek = 0,
                        i._paused = !0,
                        t._stopFade(r[n]),
                        i._node))
                            if (t._webAudio) {
                                if (!i._node.bufferSource)
                                    continue;
                                void 0 === i._node.bufferSource.stop ? i._node.bufferSource.noteOff(0) : i._node.bufferSource.stop(0),
                                t._cleanBuffer(i._node)
                            } else
                                isNaN(i._node.duration) && Infinity !== i._node.duration || i._node.pause();
                        arguments[1] || t._emit("pause", i ? i._id : null)
                    }
                    return t
                },
                stop: function(e, t) {
                    var r = this;
                    if ("loaded" !== r._state || r._playLock)
                        return r._queue.push({
                            event: "stop",
                            action: function() {
                                r.stop(e)
                            }
                        }),
                        r;
                    for (var n = r._getSoundIds(e), i = 0; i < n.length; i++) {
                        r._clearTimer(n[i]);
                        var o = r._soundById(n[i]);
                        o && (o._seek = o._start || 0,
                        o._rateSeek = 0,
                        o._paused = !0,
                        o._ended = !0,
                        r._stopFade(n[i]),
                        o._node && (r._webAudio ? o._node.bufferSource && (void 0 === o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0),
                        r._cleanBuffer(o._node)) : isNaN(o._node.duration) && Infinity !== o._node.duration || (o._node.currentTime = o._start || 0,
                        o._node.pause(),
                        Infinity === o._node.duration && r._clearSound(o._node))),
                        t || r._emit("stop", o._id))
                    }
                    return r
                },
                mute: function(e, t) {
                    var r = this;
                    if ("loaded" !== r._state || r._playLock)
                        return r._queue.push({
                            event: "mute",
                            action: function() {
                                r.mute(e, t)
                            }
                        }),
                        r;
                    if (void 0 === t) {
                        if ("boolean" != typeof e)
                            return r._muted;
                        r._muted = e
                    }
                    for (var n = r._getSoundIds(t), i = 0; i < n.length; i++) {
                        var a = r._soundById(n[i]);
                        a && (a._muted = e,
                        a._interval && r._stopFade(a._id),
                        r._webAudio && a._node ? a._node.gain.setValueAtTime(e ? 0 : a._volume, o.ctx.currentTime) : a._node && (a._node.muted = !!o._muted || e),
                        r._emit("mute", a._id))
                    }
                    return r
                },
                volume: function() {
                    var e, t, r, n = this, i = arguments;
                    if (0 === i.length)
                        return n._volume;
                    if (1 === i.length || 2 === i.length && void 0 === i[1]) {
                        var a = n._getSoundIds()
                          , s = a.indexOf(i[0]);
                        s >= 0 ? t = parseInt(i[0], 10) : e = parseFloat(i[0])
                    } else
                        i.length >= 2 && (e = parseFloat(i[0]),
                        t = parseInt(i[1], 10));
                    if (!(void 0 !== e && e >= 0 && e <= 1))
                        return (r = t ? n._soundById(t) : n._sounds[0]) ? r._volume : 0;
                    if ("loaded" !== n._state || n._playLock)
                        return n._queue.push({
                            event: "volume",
                            action: function() {
                                n.volume.apply(n, i)
                            }
                        }),
                        n;
                    void 0 === t && (n._volume = e),
                    t = n._getSoundIds(t);
                    for (var l = 0; l < t.length; l++)
                        (r = n._soundById(t[l])) && (r._volume = e,
                        i[2] || n._stopFade(t[l]),
                        n._webAudio && r._node && !r._muted ? r._node.gain.setValueAtTime(e, o.ctx.currentTime) : r._node && !r._muted && (r._node.volume = e * o.volume()),
                        n._emit("volume", r._id));
                    return n
                },
                fade: function(e, t, r, n) {
                    var i = this;
                    if ("loaded" !== i._state || i._playLock)
                        return i._queue.push({
                            event: "fade",
                            action: function() {
                                i.fade(e, t, r, n)
                            }
                        }),
                        i;
                    e = parseFloat(e),
                    t = parseFloat(t),
                    r = parseFloat(r),
                    i.volume(e, n);
                    for (var a = i._getSoundIds(n), s = 0; s < a.length; s++) {
                        var l = i._soundById(a[s]);
                        if (l) {
                            if (n || i._stopFade(a[s]),
                            i._webAudio && !l._muted) {
                                var c = o.ctx.currentTime
                                  , u = c + r / 1e3;
                                l._volume = e,
                                l._node.gain.setValueAtTime(e, c),
                                l._node.gain.linearRampToValueAtTime(t, u)
                            }
                            i._startFadeInterval(l, e, t, r, a[s], void 0 === n)
                        }
                    }
                    return i
                },
                _startFadeInterval: function(e, t, r, n, i, o) {
                    var a = this
                      , s = t
                      , l = r - t
                      , c = Math.abs(l / .01)
                      , u = Math.max(4, c > 0 ? n / c : n)
                      , d = Date.now();
                    e._fadeTo = r,
                    e._interval = setInterval((function() {
                        var i = (Date.now() - d) / n;
                        d = Date.now(),
                        s += l * i,
                        s = Math.max(0, s),
                        s = Math.min(1, s),
                        s = Math.round(100 * s) / 100,
                        a._webAudio ? e._volume = s : a.volume(s, e._id, !0),
                        o && (a._volume = s),
                        (r < t && s <= r || r > t && s >= r) && (clearInterval(e._interval),
                        e._interval = null,
                        e._fadeTo = null,
                        a.volume(r, e._id),
                        a._emit("fade", e._id))
                    }
                    ), u)
                },
                _stopFade: function(e) {
                    var t = this._soundById(e);
                    return t && t._interval && (this._webAudio && t._node.gain.cancelScheduledValues(o.ctx.currentTime),
                    clearInterval(t._interval),
                    t._interval = null,
                    this.volume(t._fadeTo, e),
                    t._fadeTo = null,
                    this._emit("fade", e)),
                    this
                },
                loop: function() {
                    var e, t, r, n = this, i = arguments;
                    if (0 === i.length)
                        return n._loop;
                    if (1 === i.length) {
                        if ("boolean" != typeof i[0])
                            return !!(r = n._soundById(parseInt(i[0], 10))) && r._loop;
                        e = i[0],
                        n._loop = e
                    } else
                        2 === i.length && (e = i[0],
                        t = parseInt(i[1], 10));
                    for (var o = n._getSoundIds(t), a = 0; a < o.length; a++)
                        (r = n._soundById(o[a])) && (r._loop = e,
                        n._webAudio && r._node && r._node.bufferSource && (r._node.bufferSource.loop = e,
                        e && (r._node.bufferSource.loopStart = r._start || 0,
                        r._node.bufferSource.loopEnd = r._stop)));
                    return n
                },
                rate: function() {
                    var e, t, r, n = this, i = arguments;
                    if (0 === i.length)
                        t = n._sounds[0]._id;
                    else if (1 === i.length) {
                        var a = n._getSoundIds()
                          , s = a.indexOf(i[0]);
                        s >= 0 ? t = parseInt(i[0], 10) : e = parseFloat(i[0])
                    } else
                        2 === i.length && (e = parseFloat(i[0]),
                        t = parseInt(i[1], 10));
                    if ("number" != typeof e)
                        return (r = n._soundById(t)) ? r._rate : n._rate;
                    if ("loaded" !== n._state || n._playLock)
                        return n._queue.push({
                            event: "rate",
                            action: function() {
                                n.rate.apply(n, i)
                            }
                        }),
                        n;
                    void 0 === t && (n._rate = e),
                    t = n._getSoundIds(t);
                    for (var l = 0; l < t.length; l++)
                        if (r = n._soundById(t[l])) {
                            n.playing(t[l]) && (r._rateSeek = n.seek(t[l]),
                            r._playStart = n._webAudio ? o.ctx.currentTime : r._playStart),
                            r._rate = e,
                            n._webAudio && r._node && r._node.bufferSource ? r._node.bufferSource.playbackRate.setValueAtTime(e, o.ctx.currentTime) : r._node && (r._node.playbackRate = e);
                            var c = n.seek(t[l])
                              , u = (n._sprite[r._sprite][0] + n._sprite[r._sprite][1]) / 1e3 - c
                              , d = 1e3 * u / Math.abs(r._rate);
                            !n._endTimers[t[l]] && r._paused || (n._clearTimer(t[l]),
                            n._endTimers[t[l]] = setTimeout(n._ended.bind(n, r), d)),
                            n._emit("rate", r._id)
                        }
                    return n
                },
                seek: function() {
                    var e, t, r = this, n = arguments;
                    if (0 === n.length)
                        t = r._sounds[0]._id;
                    else if (1 === n.length) {
                        var i = r._getSoundIds()
                          , a = i.indexOf(n[0]);
                        a >= 0 ? t = parseInt(n[0], 10) : r._sounds.length && (t = r._sounds[0]._id,
                        e = parseFloat(n[0]))
                    } else
                        2 === n.length && (e = parseFloat(n[0]),
                        t = parseInt(n[1], 10));
                    if (void 0 === t)
                        return r;
                    if ("loaded" !== r._state || r._playLock)
                        return r._queue.push({
                            event: "seek",
                            action: function() {
                                r.seek.apply(r, n)
                            }
                        }),
                        r;
                    var s = r._soundById(t);
                    if (s) {
                        if (!("number" == typeof e && e >= 0)) {
                            if (r._webAudio) {
                                var l = r.playing(t) ? o.ctx.currentTime - s._playStart : 0
                                  , c = s._rateSeek ? s._rateSeek - s._seek : 0;
                                return s._seek + (c + l * Math.abs(s._rate))
                            }
                            return s._node.currentTime
                        }
                        var u = r.playing(t);
                        u && r.pause(t, !0),
                        s._seek = e,
                        s._ended = !1,
                        r._clearTimer(t),
                        r._webAudio || !s._node || isNaN(s._node.duration) || (s._node.currentTime = e);
                        var d = function() {
                            r._emit("seek", t),
                            u && r.play(t, !0)
                        };
                        if (u && !r._webAudio) {
                            var p = function() {
                                r._playLock ? setTimeout(p, 0) : d()
                            };
                            setTimeout(p, 0)
                        } else
                            d()
                    }
                    return r
                },
                playing: function(e) {
                    if ("number" == typeof e) {
                        var t = this._soundById(e);
                        return !!t && !t._paused
                    }
                    for (var r = 0; r < this._sounds.length; r++)
                        if (!this._sounds[r]._paused)
                            return !0;
                    return !1
                },
                duration: function(e) {
                    var t = this._duration
                      , r = this._soundById(e);
                    return r && (t = this._sprite[r._sprite][1] / 1e3),
                    t
                },
                state: function() {
                    return this._state
                },
                unload: function() {
                    for (var e = this, t = e._sounds, r = 0; r < t.length; r++)
                        t[r]._paused || e.stop(t[r]._id),
                        e._webAudio || (e._clearSound(t[r]._node),
                        t[r]._node.removeEventListener("error", t[r]._errorFn, !1),
                        t[r]._node.removeEventListener(o._canPlayEvent, t[r]._loadFn, !1),
                        o._releaseHtml5Audio(t[r]._node)),
                        delete t[r]._node,
                        e._clearTimer(t[r]._id);
                    var n = o._howls.indexOf(e);
                    n >= 0 && o._howls.splice(n, 1);
                    var i = !0;
                    for (r = 0; r < o._howls.length; r++)
                        if (o._howls[r]._src === e._src || e._src.indexOf(o._howls[r]._src) >= 0) {
                            i = !1;
                            break
                        }
                    return l && i && delete l[e._src],
                    o.noAudio = !1,
                    e._state = "unloaded",
                    e._sounds = [],
                    e = null,
                    null
                },
                on: function(e, t, r, n) {
                    var i = this["_on" + e];
                    return "function" == typeof t && i.push(n ? {
                        id: r,
                        fn: t,
                        once: n
                    } : {
                        id: r,
                        fn: t
                    }),
                    this
                },
                off: function(e, t, r) {
                    var n = this["_on" + e]
                      , i = 0;
                    if ("number" == typeof t && (r = t,
                    t = null),
                    t || r)
                        for (i = 0; i < n.length; i++) {
                            var o = r === n[i].id;
                            if (t === n[i].fn && o || !t && o) {
                                n.splice(i, 1);
                                break
                            }
                        }
                    else if (e)
                        this["_on" + e] = [];
                    else {
                        var a = Object.keys(this);
                        for (i = 0; i < a.length; i++)
                            0 === a[i].indexOf("_on") && Array.isArray(this[a[i]]) && (this[a[i]] = [])
                    }
                    return this
                },
                once: function(e, t, r) {
                    return this.on(e, t, r, 1),
                    this
                },
                _emit: function(e, t, r) {
                    for (var n = this["_on" + e], i = n.length - 1; i >= 0; i--)
                        n[i].id && n[i].id !== t && "load" !== e || (setTimeout(function(e) {
                            e.call(this, t, r)
                        }
                        .bind(this, n[i].fn), 0),
                        n[i].once && this.off(e, n[i].fn, n[i].id));
                    return this._loadQueue(e),
                    this
                },
                _loadQueue: function(e) {
                    if (this._queue.length > 0) {
                        var t = this._queue[0];
                        t.event === e && (this._queue.shift(),
                        this._loadQueue()),
                        e || t.action()
                    }
                    return this
                },
                _ended: function(e) {
                    var t = e._sprite;
                    if (!this._webAudio && e._node && !e._node.paused && !e._node.ended && e._node.currentTime < e._stop)
                        return setTimeout(this._ended.bind(this, e), 100),
                        this;
                    var r = !(!e._loop && !this._sprite[t][2]);
                    if (this._emit("end", e._id),
                    !this._webAudio && r && this.stop(e._id, !0).play(e._id),
                    this._webAudio && r) {
                        this._emit("play", e._id),
                        e._seek = e._start || 0,
                        e._rateSeek = 0,
                        e._playStart = o.ctx.currentTime;
                        var n = 1e3 * (e._stop - e._start) / Math.abs(e._rate);
                        this._endTimers[e._id] = setTimeout(this._ended.bind(this, e), n)
                    }
                    return this._webAudio && !r && (e._paused = !0,
                    e._ended = !0,
                    e._seek = e._start || 0,
                    e._rateSeek = 0,
                    this._clearTimer(e._id),
                    this._cleanBuffer(e._node),
                    o._autoSuspend()),
                    this._webAudio || r || this.stop(e._id, !0),
                    this
                },
                _clearTimer: function(e) {
                    if (this._endTimers[e]) {
                        if ("function" != typeof this._endTimers[e])
                            clearTimeout(this._endTimers[e]);
                        else {
                            var t = this._soundById(e);
                            t && t._node && t._node.removeEventListener("ended", this._endTimers[e], !1)
                        }
                        delete this._endTimers[e]
                    }
                    return this
                },
                _soundById: function(e) {
                    for (var t = 0; t < this._sounds.length; t++)
                        if (e === this._sounds[t]._id)
                            return this._sounds[t];
                    return null
                },
                _inactiveSound: function() {
                    this._drain();
                    for (var e = 0; e < this._sounds.length; e++)
                        if (this._sounds[e]._ended)
                            return this._sounds[e].reset();
                    return new s(this)
                },
                _drain: function() {
                    var e = this._pool
                      , t = 0
                      , r = 0;
                    if (!(this._sounds.length < e)) {
                        for (r = 0; r < this._sounds.length; r++)
                            this._sounds[r]._ended && t++;
                        for (r = this._sounds.length - 1; r >= 0; r--) {
                            if (t <= e)
                                return;
                            this._sounds[r]._ended && (this._webAudio && this._sounds[r]._node && this._sounds[r]._node.disconnect(0),
                            this._sounds.splice(r, 1),
                            t--)
                        }
                    }
                },
                _getSoundIds: function(e) {
                    if (void 0 === e) {
                        for (var t = [], r = 0; r < this._sounds.length; r++)
                            t.push(this._sounds[r]._id);
                        return t
                    }
                    return [e]
                },
                _refreshBuffer: function(e) {
                    return e._node.bufferSource = o.ctx.createBufferSource(),
                    e._node.bufferSource.buffer = l[this._src],
                    e._panner ? e._node.bufferSource.connect(e._panner) : e._node.bufferSource.connect(e._node),
                    e._node.bufferSource.loop = e._loop,
                    e._loop && (e._node.bufferSource.loopStart = e._start || 0,
                    e._node.bufferSource.loopEnd = e._stop || 0),
                    e._node.bufferSource.playbackRate.setValueAtTime(e._rate, o.ctx.currentTime),
                    this
                },
                _cleanBuffer: function(e) {
                    var t = o._navigator && o._navigator.vendor.indexOf("Apple") >= 0;
                    if (o._scratchBuffer && e.bufferSource && (e.bufferSource.onended = null,
                    e.bufferSource.disconnect(0),
                    t))
                        try {
                            e.bufferSource.buffer = o._scratchBuffer
                        } catch (r) {}
                    return e.bufferSource = null,
                    this
                },
                _clearSound: function(e) {
                    /MSIE |Trident\//.test(o._navigator && o._navigator.userAgent) || (e.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")
                }
            };
            var s = function(e) {
                this._parent = e,
                this.init()
            };
            s.prototype = {
                init: function() {
                    var e = this._parent;
                    return this._muted = e._muted,
                    this._loop = e._loop,
                    this._volume = e._volume,
                    this._rate = e._rate,
                    this._seek = 0,
                    this._paused = !0,
                    this._ended = !0,
                    this._sprite = "__default",
                    this._id = ++o._counter,
                    e._sounds.push(this),
                    this.create(),
                    this
                },
                create: function() {
                    var e = this._parent
                      , t = o._muted || this._muted || this._parent._muted ? 0 : this._volume;
                    return e._webAudio ? (this._node = void 0 === o.ctx.createGain ? o.ctx.createGainNode() : o.ctx.createGain(),
                    this._node.gain.setValueAtTime(t, o.ctx.currentTime),
                    this._node.paused = !0,
                    this._node.connect(o.masterGain)) : o.noAudio || (this._node = o._obtainHtml5Audio(),
                    this._errorFn = this._errorListener.bind(this),
                    this._node.addEventListener("error", this._errorFn, !1),
                    this._loadFn = this._loadListener.bind(this),
                    this._node.addEventListener(o._canPlayEvent, this._loadFn, !1),
                    this._node.src = e._src,
                    this._node.preload = "auto",
                    this._node.volume = t * o.volume(),
                    this._node.load()),
                    this
                },
                reset: function() {
                    var e = this._parent;
                    return this._muted = e._muted,
                    this._loop = e._loop,
                    this._volume = e._volume,
                    this._rate = e._rate,
                    this._seek = 0,
                    this._rateSeek = 0,
                    this._paused = !0,
                    this._ended = !0,
                    this._sprite = "__default",
                    this._id = ++o._counter,
                    this
                },
                _errorListener: function() {
                    this._parent._emit("loaderror", this._id, this._node.error ? this._node.error.code : 0),
                    this._node.removeEventListener("error", this._errorFn, !1)
                },
                _loadListener: function() {
                    var e = this._parent;
                    e._duration = Math.ceil(10 * this._node.duration) / 10,
                    0 === Object.keys(e._sprite).length && (e._sprite = {
                        __default: [0, 1e3 * e._duration]
                    }),
                    "loaded" !== e._state && (e._state = "loaded",
                    e._emit("load"),
                    e._loadQueue()),
                    this._node.removeEventListener(o._canPlayEvent, this._loadFn, !1)
                }
            };
            var l = {}
              , c = function(e) {
                var t = e._src;
                if (l[t])
                    return e._duration = l[t].duration,
                    void p(e);
                if (/^data:[^;]+;base64,/.test(t)) {
                    for (var r = atob(t.split(",")[1]), n = new Uint8Array(r.length), i = 0; i < r.length; ++i)
                        n[i] = r.charCodeAt(i);
                    d(n.buffer, e)
                } else {
                    var o = new XMLHttpRequest;
                    o.open("GET", t, !0),
                    o.withCredentials = e._xhrWithCredentials,
                    o.responseType = "arraybuffer",
                    o.onload = function() {
                        var t = (o.status + "")[0];
                        "0" === t || "2" === t || "3" === t ? d(o.response, e) : e._emit("loaderror", null, "Failed loading audio file with status: " + o.status + ".")
                    }
                    ,
                    o.onerror = function() {
                        e._webAudio && (e._html5 = !0,
                        e._webAudio = !1,
                        e._sounds = [],
                        delete l[t],
                        e.load())
                    }
                    ,
                    u(o)
                }
            }
              , u = function(e) {
                try {
                    e.send()
                } catch (t) {
                    e.onerror()
                }
            }
              , d = function(e, t) {
                var r = function() {
                    t._emit("loaderror", null, "Decoding audio data failed.")
                }
                  , n = function(e) {
                    e && t._sounds.length > 0 ? (l[t._src] = e,
                    p(t, e)) : r()
                };
                "undefined" != typeof Promise && 1 === o.ctx.decodeAudioData.length ? o.ctx.decodeAudioData(e).then(n).catch(r) : o.ctx.decodeAudioData(e, n, r)
            }
              , p = function(e, t) {
                t && !e._duration && (e._duration = t.duration),
                0 === Object.keys(e._sprite).length && (e._sprite = {
                    __default: [0, 1e3 * e._duration]
                }),
                "loaded" !== e._state && (e._state = "loaded",
                e._emit("load"),
                e._loadQueue())
            }
              , h = function() {
                if (o.usingWebAudio) {
                    try {
                        "undefined" != typeof AudioContext ? o.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? o.ctx = new webkitAudioContext : o.usingWebAudio = !1
                    } catch (i) {
                        o.usingWebAudio = !1
                    }
                    o.ctx || (o.usingWebAudio = !1);
                    var e = /iP(hone|od|ad)/.test(o._navigator && o._navigator.platform)
                      , t = o._navigator && o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)
                      , r = t ? parseInt(t[1], 10) : null;
                    if (e && r && r < 9) {
                        var n = /safari/.test(o._navigator && o._navigator.userAgent.toLowerCase());
                        (o._navigator && o._navigator.standalone && !n || o._navigator && !o._navigator.standalone && !n) && (o.usingWebAudio = !1)
                    }
                    o.usingWebAudio && (o.masterGain = void 0 === o.ctx.createGain ? o.ctx.createGainNode() : o.ctx.createGain(),
                    o.masterGain.gain.setValueAtTime(o._muted ? 0 : o._volume, o.ctx.currentTime),
                    o.masterGain.connect(o.ctx.destination)),
                    o._setup()
                }
            };
            void 0 === (n = function() {
                return {
                    Howler: o,
                    Howl: a
                }
            }
            .apply(t, [])) || (e.exports = n),
            t.Howler = o,
            t.Howl = a,
            "undefined" != typeof window ? (window.HowlerGlobal = i,
            window.Howler = o,
            window.Howl = a,
            window.Sound = s) : void 0 !== r && (r.HowlerGlobal = i,
            r.Howler = o,
            r.Howl = a,
            r.Sound = s)
        }(),
        function() {
            var e;
            HowlerGlobal.prototype._pos = [0, 0, 0],
            HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0],
            HowlerGlobal.prototype.stereo = function(e) {
                if (!this.ctx || !this.ctx.listener)
                    return this;
                for (var t = this._howls.length - 1; t >= 0; t--)
                    this._howls[t].stereo(e);
                return this
            }
            ,
            HowlerGlobal.prototype.pos = function(e, t, r) {
                return this.ctx && this.ctx.listener ? (t = "number" != typeof t ? this._pos[1] : t,
                r = "number" != typeof r ? this._pos[2] : r,
                "number" != typeof e ? this._pos : (this._pos = [e, t, r],
                void 0 !== this.ctx.listener.positionX ? (this.ctx.listener.positionX.setTargetAtTime(this._pos[0], Howler.ctx.currentTime, .1),
                this.ctx.listener.positionY.setTargetAtTime(this._pos[1], Howler.ctx.currentTime, .1),
                this.ctx.listener.positionZ.setTargetAtTime(this._pos[2], Howler.ctx.currentTime, .1)) : this.ctx.listener.setPosition(this._pos[0], this._pos[1], this._pos[2]),
                this)) : this
            }
            ,
            HowlerGlobal.prototype.orientation = function(e, t, r, n, i, o) {
                if (!this.ctx || !this.ctx.listener)
                    return this;
                var a = this._orientation;
                return t = "number" != typeof t ? a[1] : t,
                r = "number" != typeof r ? a[2] : r,
                n = "number" != typeof n ? a[3] : n,
                i = "number" != typeof i ? a[4] : i,
                o = "number" != typeof o ? a[5] : o,
                "number" != typeof e ? a : (this._orientation = [e, t, r, n, i, o],
                void 0 !== this.ctx.listener.forwardX ? (this.ctx.listener.forwardX.setTargetAtTime(e, Howler.ctx.currentTime, .1),
                this.ctx.listener.forwardY.setTargetAtTime(t, Howler.ctx.currentTime, .1),
                this.ctx.listener.forwardZ.setTargetAtTime(r, Howler.ctx.currentTime, .1),
                this.ctx.listener.upX.setTargetAtTime(n, Howler.ctx.currentTime, .1),
                this.ctx.listener.upY.setTargetAtTime(i, Howler.ctx.currentTime, .1),
                this.ctx.listener.upZ.setTargetAtTime(o, Howler.ctx.currentTime, .1)) : this.ctx.listener.setOrientation(e, t, r, n, i, o),
                this)
            }
            ,
            Howl.prototype.init = (e = Howl.prototype.init,
            function(t) {
                return this._orientation = t.orientation || [1, 0, 0],
                this._stereo = t.stereo || null,
                this._pos = t.pos || null,
                this._pannerAttr = {
                    coneInnerAngle: void 0 !== t.coneInnerAngle ? t.coneInnerAngle : 360,
                    coneOuterAngle: void 0 !== t.coneOuterAngle ? t.coneOuterAngle : 360,
                    coneOuterGain: void 0 !== t.coneOuterGain ? t.coneOuterGain : 0,
                    distanceModel: void 0 !== t.distanceModel ? t.distanceModel : "inverse",
                    maxDistance: void 0 !== t.maxDistance ? t.maxDistance : 1e4,
                    panningModel: void 0 !== t.panningModel ? t.panningModel : "HRTF",
                    refDistance: void 0 !== t.refDistance ? t.refDistance : 1,
                    rolloffFactor: void 0 !== t.rolloffFactor ? t.rolloffFactor : 1
                },
                this._onstereo = t.onstereo ? [{
                    fn: t.onstereo
                }] : [],
                this._onpos = t.onpos ? [{
                    fn: t.onpos
                }] : [],
                this._onorientation = t.onorientation ? [{
                    fn: t.onorientation
                }] : [],
                e.call(this, t)
            }
            ),
            Howl.prototype.stereo = function(e, r) {
                var n = this;
                if (!n._webAudio)
                    return n;
                if ("loaded" !== n._state)
                    return n._queue.push({
                        event: "stereo",
                        action: function() {
                            n.stereo(e, r)
                        }
                    }),
                    n;
                var i = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
                if (void 0 === r) {
                    if ("number" != typeof e)
                        return n._stereo;
                    n._stereo = e,
                    n._pos = [e, 0, 0]
                }
                for (var o = n._getSoundIds(r), a = 0; a < o.length; a++) {
                    var s = n._soundById(o[a]);
                    if (s) {
                        if ("number" != typeof e)
                            return s._stereo;
                        s._stereo = e,
                        s._pos = [e, 0, 0],
                        s._node && (s._pannerAttr.panningModel = "equalpower",
                        s._panner && s._panner.pan || t(s, i),
                        "spatial" === i ? void 0 !== s._panner.positionX ? (s._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime),
                        s._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime),
                        s._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime)) : s._panner.setPosition(e, 0, 0) : s._panner.pan.setValueAtTime(e, Howler.ctx.currentTime)),
                        n._emit("stereo", s._id)
                    }
                }
                return n
            }
            ,
            Howl.prototype.pos = function(e, r, n, i) {
                var o = this;
                if (!o._webAudio)
                    return o;
                if ("loaded" !== o._state)
                    return o._queue.push({
                        event: "pos",
                        action: function() {
                            o.pos(e, r, n, i)
                        }
                    }),
                    o;
                if (r = "number" != typeof r ? 0 : r,
                n = "number" != typeof n ? -.5 : n,
                void 0 === i) {
                    if ("number" != typeof e)
                        return o._pos;
                    o._pos = [e, r, n]
                }
                for (var a = o._getSoundIds(i), s = 0; s < a.length; s++) {
                    var l = o._soundById(a[s]);
                    if (l) {
                        if ("number" != typeof e)
                            return l._pos;
                        l._pos = [e, r, n],
                        l._node && (l._panner && !l._panner.pan || t(l, "spatial"),
                        void 0 !== l._panner.positionX ? (l._panner.positionX.setValueAtTime(e, Howler.ctx.currentTime),
                        l._panner.positionY.setValueAtTime(r, Howler.ctx.currentTime),
                        l._panner.positionZ.setValueAtTime(n, Howler.ctx.currentTime)) : l._panner.setPosition(e, r, n)),
                        o._emit("pos", l._id)
                    }
                }
                return o
            }
            ,
            Howl.prototype.orientation = function(e, r, n, i) {
                var o = this;
                if (!o._webAudio)
                    return o;
                if ("loaded" !== o._state)
                    return o._queue.push({
                        event: "orientation",
                        action: function() {
                            o.orientation(e, r, n, i)
                        }
                    }),
                    o;
                if (r = "number" != typeof r ? o._orientation[1] : r,
                n = "number" != typeof n ? o._orientation[2] : n,
                void 0 === i) {
                    if ("number" != typeof e)
                        return o._orientation;
                    o._orientation = [e, r, n]
                }
                for (var a = o._getSoundIds(i), s = 0; s < a.length; s++) {
                    var l = o._soundById(a[s]);
                    if (l) {
                        if ("number" != typeof e)
                            return l._orientation;
                        l._orientation = [e, r, n],
                        l._node && (l._panner || (l._pos || (l._pos = o._pos || [0, 0, -.5]),
                        t(l, "spatial")),
                        void 0 !== l._panner.orientationX ? (l._panner.orientationX.setValueAtTime(e, Howler.ctx.currentTime),
                        l._panner.orientationY.setValueAtTime(r, Howler.ctx.currentTime),
                        l._panner.orientationZ.setValueAtTime(n, Howler.ctx.currentTime)) : l._panner.setOrientation(e, r, n)),
                        o._emit("orientation", l._id)
                    }
                }
                return o
            }
            ,
            Howl.prototype.pannerAttr = function() {
                var e, r, n, i = this, o = arguments;
                if (!i._webAudio)
                    return i;
                if (0 === o.length)
                    return i._pannerAttr;
                if (1 === o.length) {
                    if ("object" != typeof o[0])
                        return (n = i._soundById(parseInt(o[0], 10))) ? n._pannerAttr : i._pannerAttr;
                    e = o[0],
                    void 0 === r && (e.pannerAttr || (e.pannerAttr = {
                        coneInnerAngle: e.coneInnerAngle,
                        coneOuterAngle: e.coneOuterAngle,
                        coneOuterGain: e.coneOuterGain,
                        distanceModel: e.distanceModel,
                        maxDistance: e.maxDistance,
                        refDistance: e.refDistance,
                        rolloffFactor: e.rolloffFactor,
                        panningModel: e.panningModel
                    }),
                    i._pannerAttr = {
                        coneInnerAngle: void 0 !== e.pannerAttr.coneInnerAngle ? e.pannerAttr.coneInnerAngle : i._coneInnerAngle,
                        coneOuterAngle: void 0 !== e.pannerAttr.coneOuterAngle ? e.pannerAttr.coneOuterAngle : i._coneOuterAngle,
                        coneOuterGain: void 0 !== e.pannerAttr.coneOuterGain ? e.pannerAttr.coneOuterGain : i._coneOuterGain,
                        distanceModel: void 0 !== e.pannerAttr.distanceModel ? e.pannerAttr.distanceModel : i._distanceModel,
                        maxDistance: void 0 !== e.pannerAttr.maxDistance ? e.pannerAttr.maxDistance : i._maxDistance,
                        refDistance: void 0 !== e.pannerAttr.refDistance ? e.pannerAttr.refDistance : i._refDistance,
                        rolloffFactor: void 0 !== e.pannerAttr.rolloffFactor ? e.pannerAttr.rolloffFactor : i._rolloffFactor,
                        panningModel: void 0 !== e.pannerAttr.panningModel ? e.pannerAttr.panningModel : i._panningModel
                    })
                } else
                    2 === o.length && (e = o[0],
                    r = parseInt(o[1], 10));
                for (var a = i._getSoundIds(r), s = 0; s < a.length; s++)
                    if (n = i._soundById(a[s])) {
                        var l = n._pannerAttr;
                        l = {
                            coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : l.coneInnerAngle,
                            coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : l.coneOuterAngle,
                            coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : l.coneOuterGain,
                            distanceModel: void 0 !== e.distanceModel ? e.distanceModel : l.distanceModel,
                            maxDistance: void 0 !== e.maxDistance ? e.maxDistance : l.maxDistance,
                            refDistance: void 0 !== e.refDistance ? e.refDistance : l.refDistance,
                            rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : l.rolloffFactor,
                            panningModel: void 0 !== e.panningModel ? e.panningModel : l.panningModel
                        };
                        var c = n._panner;
                        c ? (c.coneInnerAngle = l.coneInnerAngle,
                        c.coneOuterAngle = l.coneOuterAngle,
                        c.coneOuterGain = l.coneOuterGain,
                        c.distanceModel = l.distanceModel,
                        c.maxDistance = l.maxDistance,
                        c.refDistance = l.refDistance,
                        c.rolloffFactor = l.rolloffFactor,
                        c.panningModel = l.panningModel) : (n._pos || (n._pos = i._pos || [0, 0, -.5]),
                        t(n, "spatial"))
                    }
                return i
            }
            ,
            Sound.prototype.init = function(e) {
                return function() {
                    var t = this._parent;
                    this._orientation = t._orientation,
                    this._stereo = t._stereo,
                    this._pos = t._pos,
                    this._pannerAttr = t._pannerAttr,
                    e.call(this),
                    this._stereo ? t.stereo(this._stereo) : this._pos && t.pos(this._pos[0], this._pos[1], this._pos[2], this._id)
                }
            }(Sound.prototype.init),
            Sound.prototype.reset = function(e) {
                return function() {
                    var t = this._parent;
                    return this._orientation = t._orientation,
                    this._stereo = t._stereo,
                    this._pos = t._pos,
                    this._pannerAttr = t._pannerAttr,
                    this._stereo ? t.stereo(this._stereo) : this._pos ? t.pos(this._pos[0], this._pos[1], this._pos[2], this._id) : this._panner && (this._panner.disconnect(0),
                    this._panner = void 0,
                    t._refreshBuffer(this)),
                    e.call(this)
                }
            }(Sound.prototype.reset);
            var t = function(e, t) {
                "spatial" === (t = t || "spatial") ? (e._panner = Howler.ctx.createPanner(),
                e._panner.coneInnerAngle = e._pannerAttr.coneInnerAngle,
                e._panner.coneOuterAngle = e._pannerAttr.coneOuterAngle,
                e._panner.coneOuterGain = e._pannerAttr.coneOuterGain,
                e._panner.distanceModel = e._pannerAttr.distanceModel,
                e._panner.maxDistance = e._pannerAttr.maxDistance,
                e._panner.refDistance = e._pannerAttr.refDistance,
                e._panner.rolloffFactor = e._pannerAttr.rolloffFactor,
                e._panner.panningModel = e._pannerAttr.panningModel,
                void 0 !== e._panner.positionX ? (e._panner.positionX.setValueAtTime(e._pos[0], Howler.ctx.currentTime),
                e._panner.positionY.setValueAtTime(e._pos[1], Howler.ctx.currentTime),
                e._panner.positionZ.setValueAtTime(e._pos[2], Howler.ctx.currentTime)) : e._panner.setPosition(e._pos[0], e._pos[1], e._pos[2]),
                void 0 !== e._panner.orientationX ? (e._panner.orientationX.setValueAtTime(e._orientation[0], Howler.ctx.currentTime),
                e._panner.orientationY.setValueAtTime(e._orientation[1], Howler.ctx.currentTime),
                e._panner.orientationZ.setValueAtTime(e._orientation[2], Howler.ctx.currentTime)) : e._panner.setOrientation(e._orientation[0], e._orientation[1], e._orientation[2])) : (e._panner = Howler.ctx.createStereoPanner(),
                e._panner.pan.setValueAtTime(e._stereo, Howler.ctx.currentTime)),
                e._panner.connect(e._node),
                e._paused || e._parent.pause(e._id, !0).play(e._id, !0)
            }
        }()
    }
    ).call(this, r(85))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABGBECuBOA2BnSAuMBtcEqIGYA8A6AWwAcBmSLAXQBotJFTYBLAFwFNUxRsoAjAIYATAOYcA+gDsA9mxa4WAY0HyZU7pj4QADPW1gAnADYA7IQCsAJgAc5ACz2zARis7nNrBDpeoSmaQAnpq+EM7OOnqhYB46hDbOxuRWxhbkOsauVr4+fJDCHIhssDKBEvzQLPDCLFKiIQZWblEGTuZWETY29uRppvbO9hY5+tj5LILwMqISHLAlsA3a5Olxkesb6xajfM6GFoQ6pobkqUcnqR4jvuOT0xIyANZLfI6RO9hdcUO9g6bkhiahmc1zy8A4ADcOPAJP4yODOC9sBYLJFDptNs4PhAOntCOQbKZTCiIm4BqCxqR4IIlJJ+NC2EiIDZjGiMZsrNiwEl4jp9lYCXzrE5hnxcpTqbTypVqrV6mgtNpDKY2ez1vYuelDPEBilDN1XMZ9RSIDAWLD4Mpngrop1VWqdJzba5CMqdNZnBYBoZ7PrjCaoJVZvMZIsbQZwoZ7WqnQZ0gd-kbMkNXPYVaLsOLTUHEAB3FiIAAWEkLLAKTJiqzWDsdXJsB29qPCK1MLJs2TFHzNEjzBeLRZkuYrgwi1Ydse04SshFbwM9xicVgsCQz3iwAF9RoxYEokYwCCQKFQ1+ugA"))
}
, function(e, t, r) {
    const n = r(220)
      , i = r(221)
      , o = r(222);
    function validateArrayFormatSeparator(e) {
        if ("string" != typeof e || 1 !== e.length)
            throw new TypeError("arrayFormatSeparator must be single character string")
    }
    function encode(e, t) {
        return t.encode ? t.strict ? n(e) : encodeURIComponent(e) : e
    }
    function decode(e, t) {
        return t.decode ? i(e) : e
    }
    function removeHash(e) {
        const t = e.indexOf("#");
        return -1 !== t && (e = e.slice(0, t)),
        e
    }
    function extract(e) {
        const t = (e = removeHash(e)).indexOf("?");
        return -1 === t ? "" : e.slice(t + 1)
    }
    function parseValue(e, t) {
        return t.parseNumbers && !Number.isNaN(Number(e)) && "string" == typeof e && "" !== e.trim() ? e = Number(e) : !t.parseBooleans || null === e || "true" !== e.toLowerCase() && "false" !== e.toLowerCase() || (e = "true" === e.toLowerCase()),
        e
    }
    function parse(e, t) {
        validateArrayFormatSeparator((t = Object.assign({
            decode: !0,
            sort: !0,
            arrayFormat: "none",
            arrayFormatSeparator: ",",
            parseNumbers: !1,
            parseBooleans: !1
        }, t)).arrayFormatSeparator);
        const r = function parserForArrayFormat(e) {
            let t;
            switch (e.arrayFormat) {
            case "index":
                return (e, r, n) => {
                    t = /\[(\d*)\]$/.exec(e),
                    e = e.replace(/\[\d*\]$/, ""),
                    t ? (void 0 === n[e] && (n[e] = {}),
                    n[e][t[1]] = r) : n[e] = r
                }
                ;
            case "bracket":
                return (e, r, n) => {
                    t = /(\[\])$/.exec(e),
                    e = e.replace(/\[\]$/, ""),
                    t ? void 0 !== n[e] ? n[e] = [].concat(n[e], r) : n[e] = [r] : n[e] = r
                }
                ;
            case "comma":
            case "separator":
                return (t, r, n) => {
                    const i = "string" == typeof r && r.split("").indexOf(e.arrayFormatSeparator) > -1 ? r.split(e.arrayFormatSeparator).map(t => decode(t, e)) : null === r ? r : decode(r, e);
                    n[t] = i
                }
                ;
            default:
                return (e, t, r) => {
                    void 0 !== r[e] ? r[e] = [].concat(r[e], t) : r[e] = t
                }
            }
        }(t)
          , n = Object.create(null);
        if ("string" != typeof e)
            return n;
        if (!(e = e.trim().replace(/^[?#&]/, "")))
            return n;
        for (const i of e.split("&")) {
            let[e,a] = o(t.decode ? i.replace(/\+/g, " ") : i, "=");
            a = void 0 === a ? null : ["comma", "separator"].includes(t.arrayFormat) ? a : decode(a, t),
            r(decode(e, t), a, n)
        }
        for (const i of Object.keys(n)) {
            const e = n[i];
            if ("object" == typeof e && null !== e)
                for (const r of Object.keys(e))
                    e[r] = parseValue(e[r], t);
            else
                n[i] = parseValue(e, t)
        }
        return !1 === t.sort ? n : (!0 === t.sort ? Object.keys(n).sort() : Object.keys(n).sort(t.sort)).reduce( (e, t) => {
            const r = n[t];
            return Boolean(r) && "object" == typeof r && !Array.isArray(r) ? e[t] = function keysSorter(e) {
                return Array.isArray(e) ? e.sort() : "object" == typeof e ? keysSorter(Object.keys(e)).sort( (e, t) => Number(e) - Number(t)).map(t => e[t]) : e
            }(r) : e[t] = r,
            e
        }
        , Object.create(null))
    }
    t.extract = extract,
    t.parse = parse,
    t.stringify = (e, t) => {
        if (!e)
            return "";
        validateArrayFormatSeparator((t = Object.assign({
            encode: !0,
            strict: !0,
            arrayFormat: "none",
            arrayFormatSeparator: ","
        }, t)).arrayFormatSeparator);
        const r = r => t.skipNull && (e => null == e)(e[r]) || t.skipEmptyString && "" === e[r]
          , n = function encoderForArrayFormat(e) {
            switch (e.arrayFormat) {
            case "index":
                return t => (r, n) => {
                    const i = r.length;
                    return void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? r : null === n ? [...r, [encode(t, e), "[", i, "]"].join("")] : [...r, [encode(t, e), "[", encode(i, e), "]=", encode(n, e)].join("")]
                }
                ;
            case "bracket":
                return t => (r, n) => void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? r : null === n ? [...r, [encode(t, e), "[]"].join("")] : [...r, [encode(t, e), "[]=", encode(n, e)].join("")];
            case "comma":
            case "separator":
                return t => (r, n) => null == n || 0 === n.length ? r : 0 === r.length ? [[encode(t, e), "=", encode(n, e)].join("")] : [[r, encode(n, e)].join(e.arrayFormatSeparator)];
            default:
                return t => (r, n) => void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? r : null === n ? [...r, encode(t, e)] : [...r, [encode(t, e), "=", encode(n, e)].join("")]
            }
        }(t)
          , i = {};
        for (const a of Object.keys(e))
            r(a) || (i[a] = e[a]);
        const o = Object.keys(i);
        return !1 !== t.sort && o.sort(t.sort),
        o.map(r => {
            const i = e[r];
            return void 0 === i ? "" : null === i ? encode(r, t) : Array.isArray(i) ? i.reduce(n(r), []).join("&") : encode(r, t) + "=" + encode(i, t)
        }
        ).filter(e => e.length > 0).join("&")
    }
    ,
    t.parseUrl = (e, t) => ({
        url: removeHash(e).split("?")[0] || "",
        query: parse(extract(e), t)
    }),
    t.stringifyUrl = (e, r) => {
        const n = removeHash(e.url).split("?")[0] || ""
          , i = t.extract(e.url)
          , o = t.parse(i)
          , a = function getHash(e) {
            let t = "";
            const r = e.indexOf("#");
            return -1 !== r && (t = e.slice(r)),
            t
        }(e.url)
          , s = Object.assign(o, e.query);
        let l = t.stringify(s, r);
        return l && (l = `?${l}`),
        `${n}${l}${a}`
    }
}
, function(e, t, r) {
    e.exports = e => encodeURIComponent(e).replace(/[!'()*]/g, e => `%${e.charCodeAt(0).toString(16).toUpperCase()}`)
}
, function(e, t, r) {
    var n = new RegExp("%[a-f0-9]{2}","gi")
      , i = new RegExp("(%[a-f0-9]{2})+","gi");
    function decodeComponents(e, t) {
        try {
            return decodeURIComponent(e.join(""))
        } catch (i) {}
        if (1 === e.length)
            return e;
        t = t || 1;
        var r = e.slice(0, t)
          , n = e.slice(t);
        return Array.prototype.concat.call([], decodeComponents(r), decodeComponents(n))
    }
    function decode(e) {
        try {
            return decodeURIComponent(e)
        } catch (i) {
            for (var t = e.match(n), r = 1; r < t.length; r++)
                t = (e = decodeComponents(t, r).join("")).match(n);
            return e
        }
    }
    e.exports = function(e) {
        if ("string" != typeof e)
            throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof e + "`");
        try {
            return e = e.replace(/\+/g, " "),
            decodeURIComponent(e)
        } catch (t) {
            return function customDecodeURIComponent(e) {
                for (var r = {
                    "%FE%FF": "\ufffd\ufffd",
                    "%FF%FE": "\ufffd\ufffd"
                }, n = i.exec(e); n; ) {
                    try {
                        r[n[0]] = decodeURIComponent(n[0])
                    } catch (t) {
                        var o = decode(n[0]);
                        o !== n[0] && (r[n[0]] = o)
                    }
                    n = i.exec(e)
                }
                r["%C2"] = "\ufffd";
                for (var a = Object.keys(r), s = 0; s < a.length; s++) {
                    var l = a[s];
                    e = e.replace(new RegExp(l,"g"), r[l])
                }
                return e
            }(e)
        }
    }
}
, function(e, t, r) {
    e.exports = (e, t) => {
        if ("string" != typeof e || "string" != typeof t)
            throw new TypeError("Expected the arguments to be of type `string`");
        if ("" === t)
            return [e];
        const r = e.indexOf(t);
        return -1 === r ? [e] : [e.slice(0, r), e.slice(r + t.length)]
    }
}
, function(e, t, r) {
    t.byteLength = function byteLength(e) {
        var t = getLens(e)
          , r = t[0]
          , n = t[1];
        return 3 * (r + n) / 4 - n
    }
    ,
    t.toByteArray = function toByteArray(e) {
        var t, r, n = getLens(e), a = n[0], s = n[1], l = new o(function _byteLength(e, t, r) {
            return 3 * (t + r) / 4 - r
        }(0, a, s)), c = 0, u = s > 0 ? a - 4 : a;
        for (r = 0; r < u; r += 4)
            t = i[e.charCodeAt(r)] << 18 | i[e.charCodeAt(r + 1)] << 12 | i[e.charCodeAt(r + 2)] << 6 | i[e.charCodeAt(r + 3)],
            l[c++] = t >> 16 & 255,
            l[c++] = t >> 8 & 255,
            l[c++] = 255 & t;
        return 2 === s && (t = i[e.charCodeAt(r)] << 2 | i[e.charCodeAt(r + 1)] >> 4,
        l[c++] = 255 & t),
        1 === s && (t = i[e.charCodeAt(r)] << 10 | i[e.charCodeAt(r + 1)] << 4 | i[e.charCodeAt(r + 2)] >> 2,
        l[c++] = t >> 8 & 255,
        l[c++] = 255 & t),
        l
    }
    ,
    t.fromByteArray = function fromByteArray(e) {
        for (var t, r = e.length, i = r % 3, o = [], a = 0, s = r - i; a < s; a += 16383)
            o.push(encodeChunk(e, a, a + 16383 > s ? s : a + 16383));
        return 1 === i ? (t = e[r - 1],
        o.push(n[t >> 2] + n[t << 4 & 63] + "==")) : 2 === i && (t = (e[r - 2] << 8) + e[r - 1],
        o.push(n[t >> 10] + n[t >> 4 & 63] + n[t << 2 & 63] + "=")),
        o.join("")
    }
    ;
    for (var n = [], i = [], o = "undefined" != typeof Uint8Array ? Uint8Array : Array, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, l = a.length; s < l; ++s)
        n[s] = a[s],
        i[a.charCodeAt(s)] = s;
    function getLens(e) {
        var t = e.length;
        if (t % 4 > 0)
            throw new Error("Invalid string. Length must be a multiple of 4");
        var r = e.indexOf("=");
        return -1 === r && (r = t),
        [r, r === t ? 0 : 4 - r % 4]
    }
    function encodeChunk(e, t, r) {
        for (var i, o, a = [], s = t; s < r; s += 3)
            i = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]),
            a.push(n[(o = i) >> 18 & 63] + n[o >> 12 & 63] + n[o >> 6 & 63] + n[63 & o]);
        return a.join("")
    }
    i["-".charCodeAt(0)] = 62,
    i["_".charCodeAt(0)] = 63
}
, function(e, t) {
    t.read = function(e, t, r, n, i) {
        var o, a, s = 8 * i - n - 1, l = (1 << s) - 1, c = l >> 1, u = -7, d = r ? i - 1 : 0, p = r ? -1 : 1, h = e[t + d];
        for (d += p,
        o = h & (1 << -u) - 1,
        h >>= -u,
        u += s; u > 0; o = 256 * o + e[t + d],
        d += p,
        u -= 8)
            ;
        for (a = o & (1 << -u) - 1,
        o >>= -u,
        u += n; u > 0; a = 256 * a + e[t + d],
        d += p,
        u -= 8)
            ;
        if (0 === o)
            o = 1 - c;
        else {
            if (o === l)
                return a ? NaN : Infinity * (h ? -1 : 1);
            a += Math.pow(2, n),
            o -= c
        }
        return (h ? -1 : 1) * a * Math.pow(2, o - n)
    }
    ,
    t.write = function(e, t, r, n, i, o) {
        var a, s, l, c = 8 * o - i - 1, u = (1 << c) - 1, d = u >> 1, p = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0, h = n ? 0 : o - 1, g = n ? 1 : -1, f = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
        for (t = Math.abs(t),
        isNaN(t) || Infinity === t ? (s = isNaN(t) ? 1 : 0,
        a = u) : (a = Math.floor(Math.log(t) / Math.LN2),
        t * (l = Math.pow(2, -a)) < 1 && (a--,
        l *= 2),
        (t += a + d >= 1 ? p / l : p * Math.pow(2, 1 - d)) * l >= 2 && (a++,
        l /= 2),
        a + d >= u ? (s = 0,
        a = u) : a + d >= 1 ? (s = (t * l - 1) * Math.pow(2, i),
        a += d) : (s = t * Math.pow(2, d - 1) * Math.pow(2, i),
        a = 0)); i >= 8; e[r + h] = 255 & s,
        h += g,
        s /= 256,
        i -= 8)
            ;
        for (a = a << i | s,
        c += i; c > 0; e[r + h] = 255 & a,
        h += g,
        a /= 256,
        c -= 8)
            ;
        e[r + h - g] |= 128 * f
    }
}
, function(e, t) {
    var r = {}.toString;
    e.exports = Array.isArray || function(e) {
        return "[object Array]" == r.call(e)
    }
}
, function(e, t, r) {
    function getWait(e) {
        return "function" == typeof e ? e() : e
    }
    function defer() {
        var e = {};
        return e.promise = new Promise((function(t, r) {
            e.resolve = t,
            e.reject = r
        }
        )),
        e
    }
    e.exports = function debounce(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          , r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
          , n = void 0
          , i = void 0
          , o = void 0
          , a = [];
        return function debounced() {
            var s = getWait(t)
              , l = (new Date).getTime()
              , c = !n || l - n > s;
            n = l;
            for (var u = arguments.length, d = Array(u), p = 0; p < u; p++)
                d[p] = arguments[p];
            if (c && r.leading)
                return r.accumulate ? Promise.resolve(e.call(this, [d])).then((function(e) {
                    return e[0]
                }
                )) : Promise.resolve(e.call.apply(e, [this].concat(d)));
            if (i ? clearTimeout(o) : i = defer(),
            a.push(d),
            o = setTimeout(flush.bind(this), s),
            r.accumulate) {
                var h = a.length - 1;
                return i.promise.then((function(e) {
                    return e[h]
                }
                ))
            }
            return i.promise
        }
        ;
        function flush() {
            var t = i;
            clearTimeout(o),
            Promise.resolve(r.accumulate ? e.call(this, a) : e.apply(this, a[a.length - 1])).then(t.resolve, t.reject),
            a = [],
            i = null
        }
    }
}
, function(e, t, r) {
    var n = r(228)
      , i = r(109)
      , o = r(232)
      , a = r(132)
      , s = r(133)
      , l = r(233)
      , c = r(234)
      , u = r(255)
      , d = r(69);
    e.exports = Ajv,
    Ajv.prototype.validate = function validate(e, t) {
        var r;
        if ("string" == typeof e) {
            if (!(r = this.getSchema(e)))
                throw new Error('no schema with key or ref "' + e + '"')
        } else {
            var n = this._addSchema(e);
            r = n.validate || this._compile(n)
        }
        var i = r(t);
        return !0 !== r.$async && (this.errors = r.errors),
        i
    }
    ,
    Ajv.prototype.compile = function compile(e, t) {
        var r = this._addSchema(e, void 0, t);
        return r.validate || this._compile(r)
    }
    ,
    Ajv.prototype.addSchema = function addSchema(e, t, r, n) {
        if (Array.isArray(e)) {
            for (var o = 0; o < e.length; o++)
                this.addSchema(e[o], void 0, r, n);
            return this
        }
        var a = this._getId(e);
        if (void 0 !== a && "string" != typeof a)
            throw new Error("schema id must be string");
        return checkUnique(this, t = i.normalizeId(t || a)),
        this._schemas[t] = this._addSchema(e, r, n, !0),
        this
    }
    ,
    Ajv.prototype.addMetaSchema = function addMetaSchema(e, t, r) {
        return this.addSchema(e, t, r, !0),
        this
    }
    ,
    Ajv.prototype.validateSchema = function validateSchema(e, t) {
        var r = e.$schema;
        if (void 0 !== r && "string" != typeof r)
            throw new Error("$schema must be a string");
        if (!(r = r || this._opts.defaultMeta || function defaultMeta(e) {
            var t = e._opts.meta;
            return e._opts.defaultMeta = "object" == typeof t ? e._getId(t) || t : e.getSchema(g) ? g : void 0,
            e._opts.defaultMeta
        }(this)))
            return this.logger.warn("meta-schema not available"),
            this.errors = null,
            !0;
        var n = this.validate(r, e);
        if (!n && t) {
            var i = "schema is invalid: " + this.errorsText();
            if ("log" != this._opts.validateSchema)
                throw new Error(i);
            this.logger.error(i)
        }
        return n
    }
    ,
    Ajv.prototype.getSchema = function getSchema(e) {
        var t = _getSchemaObj(this, e);
        switch (typeof t) {
        case "object":
            return t.validate || this._compile(t);
        case "string":
            return this.getSchema(t);
        case "undefined":
            return function _getSchemaFragment(e, t) {
                var r = i.schema.call(e, {
                    schema: {}
                }, t);
                if (r) {
                    var o = r.schema
                      , s = r.root
                      , l = r.baseId
                      , c = n.call(e, o, s, void 0, l);
                    return e._fragments[t] = new a({
                        ref: t,
                        fragment: !0,
                        schema: o,
                        root: s,
                        baseId: l,
                        validate: c
                    }),
                    c
                }
            }(this, e)
        }
    }
    ,
    Ajv.prototype.removeSchema = function removeSchema(e) {
        if (e instanceof RegExp)
            return _removeAllSchemas(this, this._schemas, e),
            _removeAllSchemas(this, this._refs, e),
            this;
        switch (typeof e) {
        case "undefined":
            return _removeAllSchemas(this, this._schemas),
            _removeAllSchemas(this, this._refs),
            this._cache.clear(),
            this;
        case "string":
            var t = _getSchemaObj(this, e);
            return t && this._cache.del(t.cacheKey),
            delete this._schemas[e],
            delete this._refs[e],
            this;
        case "object":
            var r = this._opts.serialize
              , n = r ? r(e) : e;
            this._cache.del(n);
            var o = this._getId(e);
            o && (o = i.normalizeId(o),
            delete this._schemas[o],
            delete this._refs[o])
        }
        return this
    }
    ,
    Ajv.prototype.addFormat = function addFormat(e, t) {
        return "string" == typeof t && (t = new RegExp(t)),
        this._formats[e] = t,
        this
    }
    ,
    Ajv.prototype.errorsText = function errorsText(e, t) {
        if (!(e = e || this.errors))
            return "No errors";
        for (var r = void 0 === (t = t || {}).separator ? ", " : t.separator, n = void 0 === t.dataVar ? "data" : t.dataVar, i = "", o = 0; o < e.length; o++) {
            var a = e[o];
            a && (i += n + a.dataPath + " " + a.message + r)
        }
        return i.slice(0, -r.length)
    }
    ,
    Ajv.prototype._addSchema = function _addSchema(e, t, r, n) {
        if ("object" != typeof e && "boolean" != typeof e)
            throw new Error("schema should be object or boolean");
        var o = this._opts.serialize
          , s = o ? o(e) : e
          , l = this._cache.get(s);
        if (l)
            return l;
        n = n || !1 !== this._opts.addUsedSchema;
        var c = i.normalizeId(this._getId(e));
        c && n && checkUnique(this, c);
        var u, d = !1 !== this._opts.validateSchema && !t;
        d && !(u = c && c == i.normalizeId(e.$schema)) && this.validateSchema(e, !0);
        var p = i.ids.call(this, e)
          , h = new a({
            id: c,
            schema: e,
            localRefs: p,
            cacheKey: s,
            meta: r
        });
        return "#" != c[0] && n && (this._refs[c] = h),
        this._cache.put(s, h),
        d && u && this.validateSchema(e, !0),
        h
    }
    ,
    Ajv.prototype._compile = function _compile(e, t) {
        if (e.compiling)
            return e.validate = callValidate,
            callValidate.schema = e.schema,
            callValidate.errors = null,
            callValidate.root = t || callValidate,
            !0 === e.schema.$async && (callValidate.$async = !0),
            callValidate;
        var r, i;
        e.compiling = !0,
        e.meta && (r = this._opts,
        this._opts = this._metaOpts);
        try {
            i = n.call(this, e.schema, t, e.localRefs)
        } catch (o) {
            throw delete e.validate,
            o
        } finally {
            e.compiling = !1,
            e.meta && (this._opts = r)
        }
        return e.validate = i,
        e.refs = i.refs,
        e.refVal = i.refVal,
        e.root = i.root,
        i;
        function callValidate() {
            var t = e.validate
              , r = t.apply(this, arguments);
            return callValidate.errors = t.errors,
            r
        }
    }
    ,
    Ajv.prototype.compileAsync = r(256);
    var p = r(257);
    Ajv.prototype.addKeyword = p.add,
    Ajv.prototype.getKeyword = p.get,
    Ajv.prototype.removeKeyword = p.remove,
    Ajv.prototype.validateKeyword = p.validate;
    var h = r(111);
    Ajv.ValidationError = h.Validation,
    Ajv.MissingRefError = h.MissingRef,
    Ajv.$dataMetaSchema = u;
    var g = "http://json-schema.org/draft-07/schema"
      , f = ["removeAdditional", "useDefaults", "coerceTypes", "strictDefaults"]
      , m = ["/properties"];
    function Ajv(e) {
        if (!(this instanceof Ajv))
            return new Ajv(e);
        e = this._opts = d.copy(e) || {},
        function setLogger(e) {
            var t = e._opts.logger;
            if (!1 === t)
                e.logger = {
                    log: noop,
                    warn: noop,
                    error: noop
                };
            else {
                if (void 0 === t && (t = console),
                !("object" == typeof t && t.log && t.warn && t.error))
                    throw new Error("logger must implement log, warn and error methods");
                e.logger = t
            }
        }(this),
        this._schemas = {},
        this._refs = {},
        this._fragments = {},
        this._formats = l(e.format),
        this._cache = e.cache || new o,
        this._loadingSchemas = {},
        this._compilations = [],
        this.RULES = c(),
        this._getId = function chooseGetId(e) {
            switch (e.schemaId) {
            case "auto":
                return _get$IdOrId;
            case "id":
                return _getId;
            default:
                return _get$Id
            }
        }(e),
        e.loopRequired = e.loopRequired || Infinity,
        "property" == e.errorDataPath && (e._errorDataPathProperty = !0),
        void 0 === e.serialize && (e.serialize = s),
        this._metaOpts = function getMetaSchemaOptions(e) {
            for (var t = d.copy(e._opts), r = 0; r < f.length; r++)
                delete t[f[r]];
            return t
        }(this),
        e.formats && function addInitialFormats(e) {
            for (var t in e._opts.formats) {
                var r = e._opts.formats[t];
                e.addFormat(t, r)
            }
        }(this),
        e.keywords && function addInitialKeywords(e) {
            for (var t in e._opts.keywords) {
                var r = e._opts.keywords[t];
                e.addKeyword(t, r)
            }
        }(this),
        function addDefaultMetaSchema(e) {
            var t;
            if (e._opts.$data && (t = r(260),
            e.addMetaSchema(t, t.$id, !0)),
            !1 !== e._opts.meta) {
                var n = r(139);
                e._opts.$data && (n = u(n, m)),
                e.addMetaSchema(n, g, !0),
                e._refs["http://json-schema.org/schema"] = g
            }
        }(this),
        "object" == typeof e.meta && this.addMetaSchema(e.meta),
        e.nullable && this.addKeyword("nullable", {
            metaSchema: {
                type: "boolean"
            }
        }),
        function addInitialSchemas(e) {
            var t = e._opts.schemas;
            if (t)
                if (Array.isArray(t))
                    e.addSchema(t);
                else
                    for (var r in t)
                        e.addSchema(t[r], r)
        }(this)
    }
    function _getSchemaObj(e, t) {
        return t = i.normalizeId(t),
        e._schemas[t] || e._refs[t] || e._fragments[t]
    }
    function _removeAllSchemas(e, t, r) {
        for (var n in t) {
            var i = t[n];
            i.meta || r && !r.test(n) || (e._cache.del(i.cacheKey),
            delete t[n])
        }
    }
    function _getId(e) {
        return e.$id && this.logger.warn("schema $id ignored", e.$id),
        e.id
    }
    function _get$Id(e) {
        return e.id && this.logger.warn("schema id ignored", e.id),
        e.$id
    }
    function _get$IdOrId(e) {
        if (e.$id && e.id && e.$id != e.id)
            throw new Error("schema $id is different from id");
        return e.$id || e.id
    }
    function checkUnique(e, t) {
        if (e._schemas[t] || e._refs[t])
            throw new Error('schema with key or id "' + t + '" already exists')
    }
    function noop() {}
}
, function(e, t, r) {
    var n = r(109)
      , i = r(69)
      , o = r(111)
      , a = r(133)
      , s = r(134)
      , l = i.ucs2length
      , c = r(110)
      , u = o.Validation;
    function checkCompiling(e, t, r) {
        var n = compIndex.call(this, e, t, r);
        return n >= 0 ? {
            index: n,
            compiling: !0
        } : (n = this._compilations.length,
        this._compilations[n] = {
            schema: e,
            root: t,
            baseId: r
        },
        {
            index: n,
            compiling: !1
        })
    }
    function endCompiling(e, t, r) {
        var n = compIndex.call(this, e, t, r);
        n >= 0 && this._compilations.splice(n, 1)
    }
    function compIndex(e, t, r) {
        for (var n = 0; n < this._compilations.length; n++) {
            var i = this._compilations[n];
            if (i.schema == e && i.root == t && i.baseId == r)
                return n
        }
        return -1
    }
    function patternCode(e, t) {
        return "var pattern" + e + " = new RegExp(" + i.toQuotedString(t[e]) + ");"
    }
    function defaultCode(e) {
        return "var default" + e + " = defaults[" + e + "];"
    }
    function refValCode(e, t) {
        return void 0 === t[e] ? "" : "var refVal" + e + " = refVal[" + e + "];"
    }
    function customRuleCode(e) {
        return "var customRule" + e + " = customRules[" + e + "];"
    }
    function vars(e, t) {
        if (!e.length)
            return "";
        for (var r = "", n = 0; n < e.length; n++)
            r += t(n, e);
        return r
    }
    e.exports = function compile(e, t, r, d) {
        var p = this
          , h = this._opts
          , g = [void 0]
          , f = {}
          , m = []
          , y = {}
          , _ = []
          , v = {}
          , b = [];
        t = t || {
            schema: e,
            refVal: g,
            refs: f
        };
        var w = checkCompiling.call(this, e, t, d)
          , S = this._compilations[w.index];
        if (w.compiling)
            return S.callValidate = function callValidate() {
                var e = S.validate
                  , t = e.apply(this, arguments);
                return callValidate.errors = e.errors,
                t
            }
            ;
        var C = this._formats
          , A = this.RULES;
        try {
            var k = localCompile(e, t, r, d);
            S.validate = k;
            var E = S.callValidate;
            return E && (E.schema = k.schema,
            E.errors = null,
            E.refs = k.refs,
            E.refVal = k.refVal,
            E.root = k.root,
            E.$async = k.$async,
            h.sourceCode && (E.source = k.source)),
            k
        } finally {
            endCompiling.call(this, e, t, d)
        }
        function localCompile(e, r, a, d) {
            var y = !r || r && r.schema == e;
            if (r.schema != t.schema)
                return compile.call(p, e, r, a, d);
            var v, w = !0 === e.$async, S = s({
                isTop: !0,
                schema: e,
                isRoot: y,
                baseId: d,
                root: r,
                schemaPath: "",
                errSchemaPath: "#",
                errorPath: '""',
                MissingRefError: o.MissingRef,
                RULES: A,
                validate: s,
                util: i,
                resolve: n,
                resolveRef,
                usePattern,
                useDefault,
                useCustomRule,
                opts: h,
                formats: C,
                logger: p.logger,
                self: p
            });
            S = vars(g, refValCode) + vars(m, patternCode) + vars(_, defaultCode) + vars(b, customRuleCode) + S,
            h.processCode && (S = h.processCode(S));
            try {
                v = new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",S)(p, A, C, t, g, _, b, c, l, u),
                g[0] = v
            } catch (k) {
                throw p.logger.error("Error compiling schema, function code:", S),
                k
            }
            return v.schema = e,
            v.errors = null,
            v.refs = f,
            v.refVal = g,
            v.root = y ? v : r,
            w && (v.$async = !0),
            !0 === h.sourceCode && (v.source = {
                code: S,
                patterns: m,
                defaults: _
            }),
            v
        }
        function resolveRef(e, i, o) {
            i = n.url(e, i);
            var a, s, l = f[i];
            if (void 0 !== l)
                return resolvedRef(a = g[l], s = "refVal[" + l + "]");
            if (!o && t.refs) {
                var c = t.refs[i];
                if (void 0 !== c)
                    return resolvedRef(a = t.refVal[c], s = addLocalRef(i, a))
            }
            s = addLocalRef(i);
            var u = n.call(p, localCompile, t, i);
            if (void 0 === u) {
                var d = r && r[i];
                d && (u = n.inlineRef(d, h.inlineRefs) ? d : compile.call(p, d, t, r, e))
            }
            if (void 0 !== u)
                return function replaceLocalRef(e, t) {
                    var r = f[e];
                    g[r] = t
                }(i, u),
                resolvedRef(u, s);
            !function removeLocalRef(e) {
                delete f[e]
            }(i)
        }
        function addLocalRef(e, t) {
            var r = g.length;
            return g[r] = t,
            f[e] = r,
            "refVal" + r
        }
        function resolvedRef(e, t) {
            return "object" == typeof e || "boolean" == typeof e ? {
                code: t,
                schema: e,
                inline: !0
            } : {
                code: t,
                $async: e && !!e.$async
            }
        }
        function usePattern(e) {
            var t = y[e];
            return void 0 === t && (t = y[e] = m.length,
            m[t] = e),
            "pattern" + t
        }
        function useDefault(e) {
            switch (typeof e) {
            case "boolean":
            case "number":
                return "" + e;
            case "string":
                return i.toQuotedString(e);
            case "object":
                if (null === e)
                    return "null";
                var t = a(e)
                  , r = v[t];
                return void 0 === r && (r = v[t] = _.length,
                _[r] = e),
                "default" + r
            }
        }
        function useCustomRule(e, t, r, n) {
            if (!1 !== p._opts.validateSchema) {
                var i = e.definition.dependencies;
                if (i && !i.every((function(e) {
                    return Object.prototype.hasOwnProperty.call(r, e)
                }
                )))
                    throw new Error("parent schema must have all required keywords: " + i.join(","));
                var o = e.definition.validateSchema;
                if (o && !o(t)) {
                    var a = "keyword schema is invalid: " + p.errorsText(o.errors);
                    if ("log" != p._opts.validateSchema)
                        throw new Error(a);
                    p.logger.error(a)
                }
            }
            var s, l = e.definition.compile, c = e.definition.inline, u = e.definition.macro;
            if (l)
                s = l.call(p, t, r, n);
            else if (u)
                s = u.call(p, t, r, n),
                !1 !== h.validateSchema && p.validateSchema(s, !0);
            else if (c)
                s = c.call(p, n, e.keyword, t, r);
            else if (!(s = e.definition.validate))
                return;
            if (void 0 === s)
                throw new Error('custom keyword "' + e.keyword + '"failed to compile');
            var d = b.length;
            return b[d] = s,
            {
                code: "customRule" + d,
                validate: s
            }
        }
    }
}
, function(e, t, r) {
    !function(e) {
        function merge() {
            for (var e = arguments.length, t = Array(e), r = 0; r < e; r++)
                t[r] = arguments[r];
            if (t.length > 1) {
                t[0] = t[0].slice(0, -1);
                for (var n = t.length - 1, i = 1; i < n; ++i)
                    t[i] = t[i].slice(1, -1);
                return t[n] = t[n].slice(1),
                t.join("")
            }
            return t[0]
        }
        function subexp(e) {
            return "(?:" + e + ")"
        }
        function typeOf(e) {
            return void 0 === e ? "undefined" : null === e ? "null" : Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()
        }
        function toUpperCase(e) {
            return e.toUpperCase()
        }
        function buildExps(e) {
            var t = merge("[0-9]", "[A-Fa-f]")
              , r = subexp(subexp("%[EFef]" + t + "%" + t + t + "%" + t + t) + "|" + subexp("%[89A-Fa-f]" + t + "%" + t + t) + "|" + subexp("%" + t + t))
              , n = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]"
              , i = merge("[\\:\\/\\?\\#\\[\\]\\@]", n)
              , o = e ? "[\\uE000-\\uF8FF]" : "[]"
              , a = merge("[A-Za-z]", "[0-9]", "[\\-\\.\\_\\~]", e ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]")
              , s = subexp("[A-Za-z]" + merge("[A-Za-z]", "[0-9]", "[\\+\\-\\.]") + "*")
              , l = subexp(subexp(r + "|" + merge(a, n, "[\\:]")) + "*")
              , c = (subexp(subexp("25[0-5]") + "|" + subexp("2[0-4][0-9]") + "|" + subexp("1[0-9][0-9]") + "|" + subexp("[1-9][0-9]") + "|[0-9]"),
            subexp(subexp("25[0-5]") + "|" + subexp("2[0-4][0-9]") + "|" + subexp("1[0-9][0-9]") + "|" + subexp("0?[1-9][0-9]") + "|0?0?[0-9]"))
              , u = subexp(c + "\\." + c + "\\." + c + "\\." + c)
              , d = subexp(t + "{1,4}")
              , p = subexp(subexp(d + "\\:" + d) + "|" + u)
              , h = subexp(subexp(d + "\\:") + "{6}" + p)
              , g = subexp("\\:\\:" + subexp(d + "\\:") + "{5}" + p)
              , f = subexp(subexp(d) + "?\\:\\:" + subexp(d + "\\:") + "{4}" + p)
              , m = subexp(subexp(subexp(d + "\\:") + "{0,1}" + d) + "?\\:\\:" + subexp(d + "\\:") + "{3}" + p)
              , y = subexp(subexp(subexp(d + "\\:") + "{0,2}" + d) + "?\\:\\:" + subexp(d + "\\:") + "{2}" + p)
              , _ = subexp(subexp(subexp(d + "\\:") + "{0,3}" + d) + "?\\:\\:" + d + "\\:" + p)
              , v = subexp(subexp(subexp(d + "\\:") + "{0,4}" + d) + "?\\:\\:" + p)
              , b = subexp(subexp(subexp(d + "\\:") + "{0,5}" + d) + "?\\:\\:" + d)
              , w = subexp(subexp(subexp(d + "\\:") + "{0,6}" + d) + "?\\:\\:")
              , S = subexp([h, g, f, m, y, _, v, b, w].join("|"))
              , C = subexp(subexp(a + "|" + r) + "+")
              , A = (subexp(S + "\\%25" + C),
            subexp(S + subexp("\\%25|\\%(?!" + t + "{2})") + C))
              , k = subexp("[vV]" + t + "+\\." + merge(a, n, "[\\:]") + "+")
              , E = subexp("\\[" + subexp(A + "|" + S + "|" + k) + "\\]")
              , I = subexp(subexp(r + "|" + merge(a, n)) + "*")
              , B = subexp(E + "|" + u + "(?!" + I + ")|" + I)
              , x = subexp("[0-9]*")
              , P = subexp(subexp(l + "@") + "?" + B + subexp("\\:" + x) + "?")
              , T = subexp(r + "|" + merge(a, n, "[\\:\\@]"))
              , M = subexp(T + "*")
              , O = subexp(T + "+")
              , z = subexp(subexp(r + "|" + merge(a, n, "[\\@]")) + "+")
              , L = subexp(subexp("\\/" + M) + "*")
              , R = subexp("\\/" + subexp(O + L) + "?")
              , D = subexp(z + L)
              , U = subexp(O + L)
              , F = "(?!" + T + ")"
              , j = (subexp(L + "|" + R + "|" + D + "|" + U + "|" + F),
            subexp(subexp(T + "|" + merge("[\\/\\?]", o)) + "*"))
              , V = subexp(subexp(T + "|[\\/\\?]") + "*")
              , H = subexp(subexp("\\/\\/" + P + L) + "|" + R + "|" + U + "|" + F)
              , G = subexp(s + "\\:" + H + subexp("\\?" + j) + "?" + subexp("\\#" + V) + "?")
              , W = subexp(subexp("\\/\\/" + P + L) + "|" + R + "|" + D + "|" + F)
              , N = subexp(W + subexp("\\?" + j) + "?" + subexp("\\#" + V) + "?");
            return subexp(G + "|" + N),
            subexp(s + "\\:" + H + subexp("\\?" + j) + "?"),
            subexp(subexp("\\/\\/(" + subexp("(" + l + ")@") + "?(" + B + ")" + subexp("\\:(" + x + ")") + "?)") + "?(" + L + "|" + R + "|" + U + "|" + F + ")"),
            subexp("\\?(" + j + ")"),
            subexp("\\#(" + V + ")"),
            subexp(subexp("\\/\\/(" + subexp("(" + l + ")@") + "?(" + B + ")" + subexp("\\:(" + x + ")") + "?)") + "?(" + L + "|" + R + "|" + D + "|" + F + ")"),
            subexp("\\?(" + j + ")"),
            subexp("\\#(" + V + ")"),
            subexp(subexp("\\/\\/(" + subexp("(" + l + ")@") + "?(" + B + ")" + subexp("\\:(" + x + ")") + "?)") + "?(" + L + "|" + R + "|" + U + "|" + F + ")"),
            subexp("\\?(" + j + ")"),
            subexp("\\#(" + V + ")"),
            subexp("(" + l + ")@"),
            subexp("\\:(" + x + ")"),
            {
                NOT_SCHEME: new RegExp(merge("[^]", "[A-Za-z]", "[0-9]", "[\\+\\-\\.]"),"g"),
                NOT_USERINFO: new RegExp(merge("[^\\%\\:]", a, n),"g"),
                NOT_HOST: new RegExp(merge("[^\\%\\[\\]\\:]", a, n),"g"),
                NOT_PATH: new RegExp(merge("[^\\%\\/\\:\\@]", a, n),"g"),
                NOT_PATH_NOSCHEME: new RegExp(merge("[^\\%\\/\\@]", a, n),"g"),
                NOT_QUERY: new RegExp(merge("[^\\%]", a, n, "[\\:\\@\\/\\?]", o),"g"),
                NOT_FRAGMENT: new RegExp(merge("[^\\%]", a, n, "[\\:\\@\\/\\?]"),"g"),
                ESCAPE: new RegExp(merge("[^]", a, n),"g"),
                UNRESERVED: new RegExp(a,"g"),
                OTHER_CHARS: new RegExp(merge("[^\\%]", a, i),"g"),
                PCT_ENCODED: new RegExp(r,"g"),
                IPV4ADDRESS: new RegExp("^(" + u + ")$"),
                IPV6ADDRESS: new RegExp("^\\[?(" + S + ")" + subexp(subexp("\\%25|\\%(?!" + t + "{2})") + "(" + C + ")") + "?\\]?$")
            }
        }
        var t = buildExps(!1)
          , r = buildExps(!0)
          , n = function(e, t) {
            if (Array.isArray(e))
                return e;
            if (Symbol.iterator in Object(e))
                return function sliceIterator(e, t) {
                    var r = []
                      , n = !0
                      , i = !1
                      , o = void 0;
                    try {
                        for (var a, s = e[Symbol.iterator](); !(n = (a = s.next()).done) && (r.push(a.value),
                        !t || r.length !== t); n = !0)
                            ;
                    } catch (l) {
                        i = !0,
                        o = l
                    } finally {
                        try {
                            !n && s.return && s.return()
                        } finally {
                            if (i)
                                throw o
                        }
                    }
                    return r
                }(e, t);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
          , i = 2147483647
          , o = /^xn--/
          , a = /[^\0-\x7E]/
          , s = /[\x2E\u3002\uFF0E\uFF61]/g
          , l = {
            overflow: "Overflow: input needs wider integers to process",
            "not-basic": "Illegal input >= 0x80 (not a basic code point)",
            "invalid-input": "Invalid input"
        }
          , c = Math.floor
          , u = String.fromCharCode;
        function error$1(e) {
            throw new RangeError(l[e])
        }
        function mapDomain(e, t) {
            var r = e.split("@")
              , n = "";
            r.length > 1 && (n = r[0] + "@",
            e = r[1]);
            var i = function map(e, t) {
                for (var r = [], n = e.length; n--; )
                    r[n] = t(e[n]);
                return r
            }((e = e.replace(s, ".")).split("."), t).join(".");
            return n + i
        }
        function ucs2decode(e) {
            for (var t = [], r = 0, n = e.length; r < n; ) {
                var i = e.charCodeAt(r++);
                if (i >= 55296 && i <= 56319 && r < n) {
                    var o = e.charCodeAt(r++);
                    56320 == (64512 & o) ? t.push(((1023 & i) << 10) + (1023 & o) + 65536) : (t.push(i),
                    r--)
                } else
                    t.push(i)
            }
            return t
        }
        var d = function basicToDigit(e) {
            return e - 48 < 10 ? e - 22 : e - 65 < 26 ? e - 65 : e - 97 < 26 ? e - 97 : 36
        }
          , p = function digitToBasic(e, t) {
            return e + 22 + 75 * (e < 26) - ((0 != t) << 5)
        }
          , h = function adapt(e, t, r) {
            var n = 0;
            for (e = r ? c(e / 700) : e >> 1,
            e += c(e / t); e > 455; n += 36)
                e = c(e / 35);
            return c(n + 36 * e / (e + 38))
        }
          , g = function decode(e) {
            var t = []
              , r = e.length
              , n = 0
              , o = 128
              , a = 72
              , s = e.lastIndexOf("-");
            s < 0 && (s = 0);
            for (var l = 0; l < s; ++l)
                e.charCodeAt(l) >= 128 && error$1("not-basic"),
                t.push(e.charCodeAt(l));
            for (var u = s > 0 ? s + 1 : 0; u < r; ) {
                for (var p = n, g = 1, f = 36; ; f += 36) {
                    u >= r && error$1("invalid-input");
                    var m = d(e.charCodeAt(u++));
                    (m >= 36 || m > c((i - n) / g)) && error$1("overflow"),
                    n += m * g;
                    var y = f <= a ? 1 : f >= a + 26 ? 26 : f - a;
                    if (m < y)
                        break;
                    var _ = 36 - y;
                    g > c(i / _) && error$1("overflow"),
                    g *= _
                }
                var v = t.length + 1;
                a = h(n - p, v, 0 == p),
                c(n / v) > i - o && error$1("overflow"),
                o += c(n / v),
                n %= v,
                t.splice(n++, 0, o)
            }
            return String.fromCodePoint.apply(String, t)
        }
          , f = function encode(e) {
            var t = []
              , r = (e = ucs2decode(e)).length
              , n = 128
              , o = 0
              , a = 72
              , s = !0
              , l = !1
              , d = void 0;
            try {
                for (var g, f = e[Symbol.iterator](); !(s = (g = f.next()).done); s = !0) {
                    var m = g.value;
                    m < 128 && t.push(u(m))
                }
            } catch (U) {
                l = !0,
                d = U
            } finally {
                try {
                    !s && f.return && f.return()
                } finally {
                    if (l)
                        throw d
                }
            }
            var y = t.length
              , _ = y;
            for (y && t.push("-"); _ < r; ) {
                var v = i
                  , b = !0
                  , w = !1
                  , S = void 0;
                try {
                    for (var C, A = e[Symbol.iterator](); !(b = (C = A.next()).done); b = !0) {
                        var k = C.value;
                        k >= n && k < v && (v = k)
                    }
                } catch (U) {
                    w = !0,
                    S = U
                } finally {
                    try {
                        !b && A.return && A.return()
                    } finally {
                        if (w)
                            throw S
                    }
                }
                var E = _ + 1;
                v - n > c((i - o) / E) && error$1("overflow"),
                o += (v - n) * E,
                n = v;
                var I = !0
                  , B = !1
                  , x = void 0;
                try {
                    for (var P, T = e[Symbol.iterator](); !(I = (P = T.next()).done); I = !0) {
                        var M = P.value;
                        if (M < n && ++o > i && error$1("overflow"),
                        M == n) {
                            for (var O = o, z = 36; ; z += 36) {
                                var L = z <= a ? 1 : z >= a + 26 ? 26 : z - a;
                                if (O < L)
                                    break;
                                var R = O - L
                                  , D = 36 - L;
                                t.push(u(p(L + R % D, 0))),
                                O = c(R / D)
                            }
                            t.push(u(p(O, 0))),
                            a = h(o, E, _ == y),
                            o = 0,
                            ++_
                        }
                    }
                } catch (U) {
                    B = !0,
                    x = U
                } finally {
                    try {
                        !I && T.return && T.return()
                    } finally {
                        if (B)
                            throw x
                    }
                }
                ++o,
                ++n
            }
            return t.join("")
        }
          , m = {
            version: "2.1.0",
            ucs2: {
                decode: ucs2decode,
                encode: function ucs2encode(e) {
                    return String.fromCodePoint.apply(String, function(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0, r = Array(e.length); t < e.length; t++)
                                r[t] = e[t];
                            return r
                        }
                        return Array.from(e)
                    }(e))
                }
            },
            decode: g,
            encode: f,
            toASCII: function toASCII(e) {
                return mapDomain(e, (function(e) {
                    return a.test(e) ? "xn--" + f(e) : e
                }
                ))
            },
            toUnicode: function toUnicode(e) {
                return mapDomain(e, (function(e) {
                    return o.test(e) ? g(e.slice(4).toLowerCase()) : e
                }
                ))
            }
        }
          , y = {};
        function pctEncChar(e) {
            var t = e.charCodeAt(0);
            return t < 16 ? "%0" + t.toString(16).toUpperCase() : t < 128 ? "%" + t.toString(16).toUpperCase() : t < 2048 ? "%" + (t >> 6 | 192).toString(16).toUpperCase() + "%" + (63 & t | 128).toString(16).toUpperCase() : "%" + (t >> 12 | 224).toString(16).toUpperCase() + "%" + (t >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (63 & t | 128).toString(16).toUpperCase()
        }
        function pctDecChars(e) {
            for (var t = "", r = 0, n = e.length; r < n; ) {
                var i = parseInt(e.substr(r + 1, 2), 16);
                if (i < 128)
                    t += String.fromCharCode(i),
                    r += 3;
                else if (i >= 194 && i < 224) {
                    if (n - r >= 6) {
                        var o = parseInt(e.substr(r + 4, 2), 16);
                        t += String.fromCharCode((31 & i) << 6 | 63 & o)
                    } else
                        t += e.substr(r, 6);
                    r += 6
                } else if (i >= 224) {
                    if (n - r >= 9) {
                        var a = parseInt(e.substr(r + 4, 2), 16)
                          , s = parseInt(e.substr(r + 7, 2), 16);
                        t += String.fromCharCode((15 & i) << 12 | (63 & a) << 6 | 63 & s)
                    } else
                        t += e.substr(r, 9);
                    r += 9
                } else
                    t += e.substr(r, 3),
                    r += 3
            }
            return t
        }
        function _normalizeComponentEncoding(e, t) {
            function decodeUnreserved(e) {
                var r = pctDecChars(e);
                return r.match(t.UNRESERVED) ? r : e
            }
            return e.scheme && (e.scheme = String(e.scheme).replace(t.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(t.NOT_SCHEME, "")),
            void 0 !== e.userinfo && (e.userinfo = String(e.userinfo).replace(t.PCT_ENCODED, decodeUnreserved).replace(t.NOT_USERINFO, pctEncChar).replace(t.PCT_ENCODED, toUpperCase)),
            void 0 !== e.host && (e.host = String(e.host).replace(t.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(t.NOT_HOST, pctEncChar).replace(t.PCT_ENCODED, toUpperCase)),
            void 0 !== e.path && (e.path = String(e.path).replace(t.PCT_ENCODED, decodeUnreserved).replace(e.scheme ? t.NOT_PATH : t.NOT_PATH_NOSCHEME, pctEncChar).replace(t.PCT_ENCODED, toUpperCase)),
            void 0 !== e.query && (e.query = String(e.query).replace(t.PCT_ENCODED, decodeUnreserved).replace(t.NOT_QUERY, pctEncChar).replace(t.PCT_ENCODED, toUpperCase)),
            void 0 !== e.fragment && (e.fragment = String(e.fragment).replace(t.PCT_ENCODED, decodeUnreserved).replace(t.NOT_FRAGMENT, pctEncChar).replace(t.PCT_ENCODED, toUpperCase)),
            e
        }
        function _stripLeadingZeros(e) {
            return e.replace(/^0*(.*)/, "$1") || "0"
        }
        function _normalizeIPv4(e, t) {
            var r = e.match(t.IPV4ADDRESS) || []
              , i = n(r, 2)[1];
            return i ? i.split(".").map(_stripLeadingZeros).join(".") : e
        }
        function _normalizeIPv6(e, t) {
            var r = e.match(t.IPV6ADDRESS) || []
              , i = n(r, 3)
              , o = i[1]
              , a = i[2];
            if (o) {
                for (var s = o.toLowerCase().split("::").reverse(), l = n(s, 2), c = l[0], u = l[1], d = u ? u.split(":").map(_stripLeadingZeros) : [], p = c.split(":").map(_stripLeadingZeros), h = t.IPV4ADDRESS.test(p[p.length - 1]), g = h ? 7 : 8, f = p.length - g, m = Array(g), y = 0; y < g; ++y)
                    m[y] = d[y] || p[f + y] || "";
                h && (m[g - 1] = _normalizeIPv4(m[g - 1], t));
                var _ = m.reduce((function(e, t, r) {
                    if (!t || "0" === t) {
                        var n = e[e.length - 1];
                        n && n.index + n.length === r ? n.length++ : e.push({
                            index: r,
                            length: 1
                        })
                    }
                    return e
                }
                ), []).sort((function(e, t) {
                    return t.length - e.length
                }
                ))[0]
                  , v = void 0;
                if (_ && _.length > 1) {
                    var b = m.slice(0, _.index)
                      , w = m.slice(_.index + _.length);
                    v = b.join(":") + "::" + w.join(":")
                } else
                    v = m.join(":");
                return a && (v += "%" + a),
                v
            }
            return e
        }
        var _ = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i
          , v = void 0 === "".match(/(){0}/)[1];
        function parse(e) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
              , i = {}
              , o = !1 !== n.iri ? r : t;
            "suffix" === n.reference && (e = (n.scheme ? n.scheme + ":" : "") + "//" + e);
            var a = e.match(_);
            if (a) {
                v ? (i.scheme = a[1],
                i.userinfo = a[3],
                i.host = a[4],
                i.port = parseInt(a[5], 10),
                i.path = a[6] || "",
                i.query = a[7],
                i.fragment = a[8],
                isNaN(i.port) && (i.port = a[5])) : (i.scheme = a[1] || void 0,
                i.userinfo = -1 !== e.indexOf("@") ? a[3] : void 0,
                i.host = -1 !== e.indexOf("//") ? a[4] : void 0,
                i.port = parseInt(a[5], 10),
                i.path = a[6] || "",
                i.query = -1 !== e.indexOf("?") ? a[7] : void 0,
                i.fragment = -1 !== e.indexOf("#") ? a[8] : void 0,
                isNaN(i.port) && (i.port = e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? a[4] : void 0)),
                i.host && (i.host = _normalizeIPv6(_normalizeIPv4(i.host, o), o)),
                void 0 !== i.scheme || void 0 !== i.userinfo || void 0 !== i.host || void 0 !== i.port || i.path || void 0 !== i.query ? void 0 === i.scheme ? i.reference = "relative" : void 0 === i.fragment ? i.reference = "absolute" : i.reference = "uri" : i.reference = "same-document",
                n.reference && "suffix" !== n.reference && n.reference !== i.reference && (i.error = i.error || "URI is not a " + n.reference + " reference.");
                var s = y[(n.scheme || i.scheme || "").toLowerCase()];
                if (n.unicodeSupport || s && s.unicodeSupport)
                    _normalizeComponentEncoding(i, o);
                else {
                    if (i.host && (n.domainHost || s && s.domainHost))
                        try {
                            i.host = m.toASCII(i.host.replace(o.PCT_ENCODED, pctDecChars).toLowerCase())
                        } catch (l) {
                            i.error = i.error || "Host's domain name can not be converted to ASCII via punycode: " + l
                        }
                    _normalizeComponentEncoding(i, t)
                }
                s && s.parse && s.parse(i, n)
            } else
                i.error = i.error || "URI can not be parsed.";
            return i
        }
        var b = /^\.\.?\//
          , w = /^\/\.(\/|$)/
          , S = /^\/\.\.(\/|$)/
          , C = /^\/?(?:.|\n)*?(?=\/|$)/;
        function removeDotSegments(e) {
            for (var t = []; e.length; )
                if (e.match(b))
                    e = e.replace(b, "");
                else if (e.match(w))
                    e = e.replace(w, "/");
                else if (e.match(S))
                    e = e.replace(S, "/"),
                    t.pop();
                else if ("." === e || ".." === e)
                    e = "";
                else {
                    var r = e.match(C);
                    if (!r)
                        throw new Error("Unexpected dot segment condition");
                    var n = r[0];
                    e = e.slice(n.length),
                    t.push(n)
                }
            return t.join("")
        }
        function serialize(e) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
              , i = n.iri ? r : t
              , o = []
              , a = y[(n.scheme || e.scheme || "").toLowerCase()];
            if (a && a.serialize && a.serialize(e, n),
            e.host)
                if (i.IPV6ADDRESS.test(e.host))
                    ;
                else if (n.domainHost || a && a.domainHost)
                    try {
                        e.host = n.iri ? m.toUnicode(e.host) : m.toASCII(e.host.replace(i.PCT_ENCODED, pctDecChars).toLowerCase())
                    } catch (c) {
                        e.error = e.error || "Host's domain name can not be converted to " + (n.iri ? "Unicode" : "ASCII") + " via punycode: " + c
                    }
            _normalizeComponentEncoding(e, i),
            "suffix" !== n.reference && e.scheme && (o.push(e.scheme),
            o.push(":"));
            var s = function _recomposeAuthority(e, n) {
                var i = !1 !== n.iri ? r : t
                  , o = [];
                return void 0 !== e.userinfo && (o.push(e.userinfo),
                o.push("@")),
                void 0 !== e.host && o.push(_normalizeIPv6(_normalizeIPv4(String(e.host), i), i).replace(i.IPV6ADDRESS, (function(e, t, r) {
                    return "[" + t + (r ? "%25" + r : "") + "]"
                }
                ))),
                "number" == typeof e.port && (o.push(":"),
                o.push(e.port.toString(10))),
                o.length ? o.join("") : void 0
            }(e, n);
            if (void 0 !== s && ("suffix" !== n.reference && o.push("//"),
            o.push(s),
            e.path && "/" !== e.path.charAt(0) && o.push("/")),
            void 0 !== e.path) {
                var l = e.path;
                n.absolutePath || a && a.absolutePath || (l = removeDotSegments(l)),
                void 0 === s && (l = l.replace(/^\/\//, "/%2F")),
                o.push(l)
            }
            return void 0 !== e.query && (o.push("?"),
            o.push(e.query)),
            void 0 !== e.fragment && (o.push("#"),
            o.push(e.fragment)),
            o.join("")
        }
        function resolveComponents(e, t) {
            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
              , n = {};
            return arguments[3] || (e = parse(serialize(e, r), r),
            t = parse(serialize(t, r), r)),
            !(r = r || {}).tolerant && t.scheme ? (n.scheme = t.scheme,
            n.userinfo = t.userinfo,
            n.host = t.host,
            n.port = t.port,
            n.path = removeDotSegments(t.path || ""),
            n.query = t.query) : (void 0 !== t.userinfo || void 0 !== t.host || void 0 !== t.port ? (n.userinfo = t.userinfo,
            n.host = t.host,
            n.port = t.port,
            n.path = removeDotSegments(t.path || ""),
            n.query = t.query) : (t.path ? ("/" === t.path.charAt(0) ? n.path = removeDotSegments(t.path) : (void 0 === e.userinfo && void 0 === e.host && void 0 === e.port || e.path ? e.path ? n.path = e.path.slice(0, e.path.lastIndexOf("/") + 1) + t.path : n.path = t.path : n.path = "/" + t.path,
            n.path = removeDotSegments(n.path)),
            n.query = t.query) : (n.path = e.path,
            void 0 !== t.query ? n.query = t.query : n.query = e.query),
            n.userinfo = e.userinfo,
            n.host = e.host,
            n.port = e.port),
            n.scheme = e.scheme),
            n.fragment = t.fragment,
            n
        }
        function unescapeComponent(e, n) {
            return e && e.toString().replace(n && n.iri ? r.PCT_ENCODED : t.PCT_ENCODED, pctDecChars)
        }
        var A = {
            scheme: "http",
            domainHost: !0,
            parse: function parse(e, t) {
                return e.host || (e.error = e.error || "HTTP URIs must have a host."),
                e
            },
            serialize: function serialize(e, t) {
                return e.port !== ("https" !== String(e.scheme).toLowerCase() ? 80 : 443) && "" !== e.port || (e.port = void 0),
                e.path || (e.path = "/"),
                e
            }
        }
          , k = {
            scheme: "https",
            domainHost: A.domainHost,
            parse: A.parse,
            serialize: A.serialize
        }
          , E = {}
          , I = "[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]"
          , B = "[0-9A-Fa-f]"
          , x = subexp(subexp("%[EFef][0-9A-Fa-f]%" + B + B + "%" + B + B) + "|" + subexp("%[89A-Fa-f][0-9A-Fa-f]%" + B + B) + "|" + subexp("%" + B + B))
          , P = merge("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]", '[\\"\\\\]')
          , T = new RegExp(I,"g")
          , M = new RegExp(x,"g")
          , O = new RegExp(merge("[^]", "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]", "[\\.]", '[\\"]', P),"g")
          , z = new RegExp(merge("[^]", I, "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g")
          , L = z;
        function decodeUnreserved(e) {
            var t = pctDecChars(e);
            return t.match(T) ? t : e
        }
        var R = {
            scheme: "mailto",
            parse: function parse$$1(e, t) {
                var r = e
                  , n = r.to = r.path ? r.path.split(",") : [];
                if (r.path = void 0,
                r.query) {
                    for (var i = !1, o = {}, a = r.query.split("&"), s = 0, l = a.length; s < l; ++s) {
                        var c = a[s].split("=");
                        switch (c[0]) {
                        case "to":
                            for (var u = c[1].split(","), d = 0, p = u.length; d < p; ++d)
                                n.push(u[d]);
                            break;
                        case "subject":
                            r.subject = unescapeComponent(c[1], t);
                            break;
                        case "body":
                            r.body = unescapeComponent(c[1], t);
                            break;
                        default:
                            i = !0,
                            o[unescapeComponent(c[0], t)] = unescapeComponent(c[1], t)
                        }
                    }
                    i && (r.headers = o)
                }
                r.query = void 0;
                for (var h = 0, g = n.length; h < g; ++h) {
                    var f = n[h].split("@");
                    if (f[0] = unescapeComponent(f[0]),
                    t.unicodeSupport)
                        f[1] = unescapeComponent(f[1], t).toLowerCase();
                    else
                        try {
                            f[1] = m.toASCII(unescapeComponent(f[1], t).toLowerCase())
                        } catch (y) {
                            r.error = r.error || "Email address's domain name can not be converted to ASCII via punycode: " + y
                        }
                    n[h] = f.join("@")
                }
                return r
            },
            serialize: function serialize$$1(e, t) {
                var r = e
                  , n = function toArray(e) {
                    return null != e ? e instanceof Array ? e : "number" != typeof e.length || e.split || e.setInterval || e.call ? [e] : Array.prototype.slice.call(e) : []
                }(e.to);
                if (n) {
                    for (var i = 0, o = n.length; i < o; ++i) {
                        var a = String(n[i])
                          , s = a.lastIndexOf("@")
                          , l = a.slice(0, s).replace(M, decodeUnreserved).replace(M, toUpperCase).replace(O, pctEncChar)
                          , c = a.slice(s + 1);
                        try {
                            c = t.iri ? m.toUnicode(c) : m.toASCII(unescapeComponent(c, t).toLowerCase())
                        } catch (h) {
                            r.error = r.error || "Email address's domain name can not be converted to " + (t.iri ? "Unicode" : "ASCII") + " via punycode: " + h
                        }
                        n[i] = l + "@" + c
                    }
                    r.path = n.join(",")
                }
                var u = e.headers = e.headers || {};
                e.subject && (u.subject = e.subject),
                e.body && (u.body = e.body);
                var d = [];
                for (var p in u)
                    u[p] !== E[p] && d.push(p.replace(M, decodeUnreserved).replace(M, toUpperCase).replace(z, pctEncChar) + "=" + u[p].replace(M, decodeUnreserved).replace(M, toUpperCase).replace(L, pctEncChar));
                return d.length && (r.query = d.join("&")),
                r
            }
        }
          , D = /^([^\:]+)\:(.*)/
          , U = {
            scheme: "urn",
            parse: function parse$$1(e, t) {
                var r = e.path && e.path.match(D)
                  , n = e;
                if (r) {
                    var i = t.scheme || n.scheme || "urn"
                      , o = r[1].toLowerCase()
                      , a = r[2]
                      , s = i + ":" + (t.nid || o)
                      , l = y[s];
                    n.nid = o,
                    n.nss = a,
                    n.path = void 0,
                    l && (n = l.parse(n, t))
                } else
                    n.error = n.error || "URN can not be parsed.";
                return n
            },
            serialize: function serialize$$1(e, t) {
                var r = t.scheme || e.scheme || "urn"
                  , n = e.nid
                  , i = r + ":" + (t.nid || n)
                  , o = y[i];
                o && (e = o.serialize(e, t));
                var a = e
                  , s = e.nss;
                return a.path = (n || t.nid) + ":" + s,
                a
            }
        }
          , F = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/
          , j = {
            scheme: "urn:uuid",
            parse: function parse(e, t) {
                var r = e;
                return r.uuid = r.nss,
                r.nss = void 0,
                t.tolerant || r.uuid && r.uuid.match(F) || (r.error = r.error || "UUID is not valid."),
                r
            },
            serialize: function serialize(e, t) {
                var r = e;
                return r.nss = (e.uuid || "").toLowerCase(),
                r
            }
        };
        y[A.scheme] = A,
        y[k.scheme] = k,
        y[R.scheme] = R,
        y[U.scheme] = U,
        y[j.scheme] = j,
        e.SCHEMES = y,
        e.pctEncChar = pctEncChar,
        e.pctDecChars = pctDecChars,
        e.parse = parse,
        e.removeDotSegments = removeDotSegments,
        e.serialize = serialize,
        e.resolveComponents = resolveComponents,
        e.resolve = function resolve(e, t, r) {
            var n = function assign(e, t) {
                var r = e;
                if (t)
                    for (var n in t)
                        r[n] = t[n];
                return r
            }({
                scheme: "null"
            }, r);
            return serialize(resolveComponents(parse(e, n), parse(t, n), n, !0), n)
        }
        ,
        e.normalize = function normalize(e, t) {
            return "string" == typeof e ? e = serialize(parse(e, t), t) : "object" === typeOf(e) && (e = parse(serialize(e, t), t)),
            e
        }
        ,
        e.equal = function equal(e, t, r) {
            return "string" == typeof e ? e = serialize(parse(e, r), r) : "object" === typeOf(e) && (e = serialize(e, r)),
            "string" == typeof t ? t = serialize(parse(t, r), r) : "object" === typeOf(t) && (t = serialize(t, r)),
            e === t
        }
        ,
        e.escapeComponent = function escapeComponent(e, n) {
            return e && e.toString().replace(n && n.iri ? r.ESCAPE : t.ESCAPE, pctEncChar)
        }
        ,
        e.unescapeComponent = unescapeComponent,
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }(t)
}
, function(e, t, r) {
    e.exports = function ucs2length(e) {
        for (var t, r = 0, n = e.length, i = 0; i < n; )
            r++,
            (t = e.charCodeAt(i++)) >= 55296 && t <= 56319 && i < n && 56320 == (64512 & (t = e.charCodeAt(i))) && i++;
        return r
    }
}
, function(e, t, r) {
    var n = e.exports = function(e, t, r) {
        "function" == typeof t && (r = t,
        t = {}),
        function _traverse(e, t, r, i, o, a, s, l, c, u) {
            if (i && "object" == typeof i && !Array.isArray(i)) {
                for (var d in t(i, o, a, s, l, c, u),
                i) {
                    var p = i[d];
                    if (Array.isArray(p)) {
                        if (d in n.arrayKeywords)
                            for (var h = 0; h < p.length; h++)
                                _traverse(e, t, r, p[h], o + "/" + d + "/" + h, a, o, d, i, h)
                    } else if (d in n.propsKeywords) {
                        if (p && "object" == typeof p)
                            for (var g in p)
                                _traverse(e, t, r, p[g], o + "/" + d + "/" + g.replace(/~/g, "~0").replace(/\//g, "~1"), a, o, d, i, g)
                    } else
                        (d in n.keywords || e.allKeys && !(d in n.skipKeywords)) && _traverse(e, t, r, p, o + "/" + d, a, o, d, i)
                }
                r(i, o, a, s, l, c, u)
            }
        }(t, "function" == typeof (r = t.cb || r) ? r : r.pre || function() {}
        , r.post || function() {}
        , e, "", e)
    }
    ;
    n.keywords = {
        additionalItems: !0,
        items: !0,
        contains: !0,
        additionalProperties: !0,
        propertyNames: !0,
        not: !0
    },
    n.arrayKeywords = {
        items: !0,
        allOf: !0,
        anyOf: !0,
        oneOf: !0
    },
    n.propsKeywords = {
        definitions: !0,
        properties: !0,
        patternProperties: !0,
        dependencies: !0
    },
    n.skipKeywords = {
        default: !0,
        enum: !0,
        const: !0,
        required: !0,
        maximum: !0,
        minimum: !0,
        exclusiveMaximum: !0,
        exclusiveMinimum: !0,
        multipleOf: !0,
        maxLength: !0,
        minLength: !0,
        pattern: !0,
        format: !0,
        maxItems: !0,
        minItems: !0,
        uniqueItems: !0,
        maxProperties: !0,
        minProperties: !0
    }
}
, function(e, t, r) {
    var n = e.exports = function Cache() {
        this._cache = {}
    }
    ;
    n.prototype.put = function Cache_put(e, t) {
        this._cache[e] = t
    }
    ,
    n.prototype.get = function Cache_get(e) {
        return this._cache[e]
    }
    ,
    n.prototype.del = function Cache_del(e) {
        delete this._cache[e]
    }
    ,
    n.prototype.clear = function Cache_clear() {
        this._cache = {}
    }
}
, function(e, t, r) {
    var n = r(69)
      , i = /^(\d\d\d\d)-(\d\d)-(\d\d)$/
      , o = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
      , a = /^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i
      , s = /^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i
      , l = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i
      , c = /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i
      , u = /^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i
      , d = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i
      , p = /^(?:\/(?:[^~/]|~0|~1)*)*$/
      , h = /^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i
      , g = /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;
    function formats(e) {
        return e = "full" == e ? "full" : "fast",
        n.copy(formats[e])
    }
    function date(e) {
        var t = e.match(i);
        if (!t)
            return !1;
        var r = +t[1]
          , n = +t[2]
          , a = +t[3];
        return n >= 1 && n <= 12 && a >= 1 && a <= (2 == n && function isLeapYear(e) {
            return e % 4 == 0 && (e % 100 != 0 || e % 400 == 0)
        }(r) ? 29 : o[n])
    }
    function time(e, t) {
        var r = e.match(a);
        if (!r)
            return !1;
        var n = r[1]
          , i = r[2]
          , o = r[3]
          , s = r[5];
        return (n <= 23 && i <= 59 && o <= 59 || 23 == n && 59 == i && 60 == o) && (!t || s)
    }
    e.exports = formats,
    formats.fast = {
        date: /^\d\d\d\d-[0-1]\d-[0-3]\d$/,
        time: /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,
        "date-time": /^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,
        uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,
        "uri-reference": /^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,
        "uri-template": c,
        url: u,
        email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,
        hostname: s,
        ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
        ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
        regex,
        uuid: d,
        "json-pointer": p,
        "json-pointer-uri-fragment": h,
        "relative-json-pointer": g
    },
    formats.full = {
        date,
        time,
        "date-time": function date_time(e) {
            var t = e.split(f);
            return 2 == t.length && date(t[0]) && time(t[1], !0)
        },
        uri: function uri(e) {
            return m.test(e) && l.test(e)
        },
        "uri-reference": /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,
        "uri-template": c,
        url: u,
        email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,
        hostname: s,
        ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
        ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
        regex,
        uuid: d,
        "json-pointer": p,
        "json-pointer-uri-fragment": h,
        "relative-json-pointer": g
    };
    var f = /t|\s/i
      , m = /\/|:/
      , y = /[^\\]\\Z/;
    function regex(e) {
        if (y.test(e))
            return !1;
        try {
            return new RegExp(e),
            !0
        } catch (t) {
            return !1
        }
    }
}
, function(e, t, r) {
    var n = r(235)
      , i = r(69).toHash;
    e.exports = function rules() {
        var e = [{
            type: "number",
            rules: [{
                maximum: ["exclusiveMaximum"]
            }, {
                minimum: ["exclusiveMinimum"]
            }, "multipleOf", "format"]
        }, {
            type: "string",
            rules: ["maxLength", "minLength", "pattern", "format"]
        }, {
            type: "array",
            rules: ["maxItems", "minItems", "items", "contains", "uniqueItems"]
        }, {
            type: "object",
            rules: ["maxProperties", "minProperties", "required", "dependencies", "propertyNames", {
                properties: ["additionalProperties", "patternProperties"]
            }]
        }, {
            rules: ["$ref", "const", "enum", "not", "anyOf", "oneOf", "allOf", "if"]
        }]
          , t = ["type", "$comment"];
        return e.all = i(t),
        e.types = i(["number", "integer", "string", "array", "object", "boolean", "null"]),
        e.forEach((function(r) {
            r.rules = r.rules.map((function(r) {
                var i;
                if ("object" == typeof r) {
                    var o = Object.keys(r)[0];
                    i = r[o],
                    r = o,
                    i.forEach((function(r) {
                        t.push(r),
                        e.all[r] = !0
                    }
                    ))
                }
                return t.push(r),
                e.all[r] = {
                    keyword: r,
                    code: n[r],
                    implements: i
                }
            }
            )),
            e.all.$comment = {
                keyword: "$comment",
                code: n.$comment
            },
            r.type && (e.types[r.type] = r)
        }
        )),
        e.keywords = i(t.concat(["$schema", "$id", "id", "$data", "$async", "title", "description", "default", "definitions", "examples", "readOnly", "writeOnly", "contentMediaType", "contentEncoding", "additionalItems", "then", "else"])),
        e.custom = {},
        e
    }
}
, function(e, t, r) {
    e.exports = {
        $ref: r(236),
        allOf: r(237),
        anyOf: r(238),
        $comment: r(239),
        const: r(240),
        contains: r(241),
        dependencies: r(242),
        enum: r(243),
        format: r(244),
        if: r(245),
        items: r(246),
        maximum: r(135),
        minimum: r(135),
        maxItems: r(136),
        minItems: r(136),
        maxLength: r(137),
        minLength: r(137),
        maxProperties: r(138),
        minProperties: r(138),
        multipleOf: r(247),
        not: r(248),
        oneOf: r(249),
        pattern: r(250),
        properties: r(251),
        propertyNames: r(252),
        required: r(253),
        uniqueItems: r(254),
        validate: r(134)
    }
}
, function(e, t, r) {
    e.exports = function generate_ref(e, t, r) {
        var n, i, o = " ", a = e.level, s = e.dataLevel, l = e.schema[t], c = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (s || ""), p = "valid" + a;
        if ("#" == l || "#/" == l)
            e.isRoot ? (n = e.async,
            i = "validate") : (n = !0 === e.root.schema.$async,
            i = "root.refVal[0]");
        else {
            var h = e.resolveRef(e.baseId, l, e.isRoot);
            if (void 0 === h) {
                var g = e.MissingRefError.message(e.baseId, l);
                if ("fail" == e.opts.missingRefs) {
                    e.logger.error(g),
                    (_ = _ || []).push(o),
                    o = "",
                    !1 !== e.createErrors ? (o += " { keyword: '$ref' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { ref: '" + e.util.escapeQuotes(l) + "' } ",
                    !1 !== e.opts.messages && (o += " , message: 'can\\'t resolve reference " + e.util.escapeQuotes(l) + "' "),
                    e.opts.verbose && (o += " , schema: " + e.util.toQuotedString(l) + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
                    o += " } ") : o += " {} ";
                    var f = o;
                    o = _.pop(),
                    !e.compositeRule && u ? e.async ? o += " throw new ValidationError([" + f + "]); " : o += " validate.errors = [" + f + "]; return false; " : o += " var err = " + f + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    u && (o += " if (false) { ")
                } else {
                    if ("ignore" != e.opts.missingRefs)
                        throw new e.MissingRefError(e.baseId,l,g);
                    e.logger.warn(g),
                    u && (o += " if (true) { ")
                }
            } else if (h.inline) {
                var m = e.util.copy(e);
                m.level++;
                var y = "valid" + m.level;
                m.schema = h.schema,
                m.schemaPath = "",
                m.errSchemaPath = l,
                o += " " + e.validate(m).replace(/validate\.schema/g, h.code) + " ",
                u && (o += " if (" + y + ") { ")
            } else
                n = !0 === h.$async || e.async && !1 !== h.$async,
                i = h.code
        }
        if (i) {
            var _;
            (_ = _ || []).push(o),
            o = "",
            e.opts.passContext ? o += " " + i + ".call(this, " : o += " " + i + "( ",
            o += " " + d + ", (dataPath || '')",
            '""' != e.errorPath && (o += " + " + e.errorPath);
            var v = o += " , " + (s ? "data" + (s - 1 || "") : "parentData") + " , " + (s ? e.dataPathArr[s] : "parentDataProperty") + ", rootData)  ";
            if (o = _.pop(),
            n) {
                if (!e.async)
                    throw new Error("async schema referenced by sync schema");
                u && (o += " var " + p + "; "),
                o += " try { await " + v + "; ",
                u && (o += " " + p + " = true; "),
                o += " } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",
                u && (o += " " + p + " = false; "),
                o += " } ",
                u && (o += " if (" + p + ") { ")
            } else
                o += " if (!" + v + ") { if (vErrors === null) vErrors = " + i + ".errors; else vErrors = vErrors.concat(" + i + ".errors); errors = vErrors.length; } ",
                u && (o += " else { ")
        }
        return o
    }
}
, function(e, t, r) {
    e.exports = function generate_allOf(e, t, r) {
        var n = " "
          , i = e.schema[t]
          , o = e.schemaPath + e.util.getProperty(t)
          , a = e.errSchemaPath + "/" + t
          , s = !e.opts.allErrors
          , l = e.util.copy(e)
          , c = "";
        l.level++;
        var u = "valid" + l.level
          , d = l.baseId
          , p = !0
          , h = i;
        if (h)
            for (var g, f = -1, m = h.length - 1; f < m; )
                g = h[f += 1],
                (e.opts.strictKeywords ? "object" == typeof g && Object.keys(g).length > 0 : e.util.schemaHasRules(g, e.RULES.all)) && (p = !1,
                l.schema = g,
                l.schemaPath = o + "[" + f + "]",
                l.errSchemaPath = a + "/" + f,
                n += "  " + e.validate(l) + " ",
                l.baseId = d,
                s && (n += " if (" + u + ") { ",
                c += "}"));
        return s && (n += p ? " if (true) { " : " " + c.slice(0, -1) + " "),
        e.util.cleanUpCode(n)
    }
}
, function(e, t, r) {
    e.exports = function generate_anyOf(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , p = "errs__" + i
          , h = e.util.copy(e)
          , g = "";
        h.level++;
        var f = "valid" + h.level;
        if (a.every((function(t) {
            return e.opts.strictKeywords ? "object" == typeof t && Object.keys(t).length > 0 : e.util.schemaHasRules(t, e.RULES.all)
        }
        ))) {
            var m = h.baseId;
            n += " var " + p + " = errors; var " + d + " = false;  ";
            var y = e.compositeRule;
            e.compositeRule = h.compositeRule = !0;
            var _ = a;
            if (_)
                for (var v, b = -1, w = _.length - 1; b < w; )
                    v = _[b += 1],
                    h.schema = v,
                    h.schemaPath = s + "[" + b + "]",
                    h.errSchemaPath = l + "/" + b,
                    n += "  " + e.validate(h) + " ",
                    h.baseId = m,
                    n += " " + d + " = " + d + " || " + f + "; if (!" + d + ") { ",
                    g += "}";
            e.compositeRule = h.compositeRule = y,
            n += " " + g + " if (!" + d + ") {   var err =   ",
            !1 !== e.createErrors ? (n += " { keyword: 'anyOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: {} ",
            !1 !== e.opts.messages && (n += " , message: 'should match some schema in anyOf' "),
            e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            n += " } ") : n += " {} ",
            n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            !e.compositeRule && c && (e.async ? n += " throw new ValidationError(vErrors); " : n += " validate.errors = vErrors; return false; "),
            n += " } else {  errors = " + p + "; if (vErrors !== null) { if (" + p + ") vErrors.length = " + p + "; else vErrors = null; } ",
            e.opts.allErrors && (n += " } "),
            n = e.util.cleanUpCode(n)
        } else
            c && (n += " if (true) { ");
        return n
    }
}
, function(e, t, r) {
    e.exports = function generate_comment(e, t, r) {
        var n = " "
          , i = e.schema[t]
          , o = e.errSchemaPath + "/" + t
          , a = (e.opts.allErrors,
        e.util.toQuotedString(i));
        return !0 === e.opts.$comment ? n += " console.log(" + a + ");" : "function" == typeof e.opts.$comment && (n += " self._opts.$comment(" + a + ", " + e.util.toQuotedString(o) + ", validate.root.schema);"),
        n
    }
}
, function(e, t, r) {
    e.exports = function generate_const(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , p = e.opts.$data && a && a.$data;
        p && (n += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; "),
        p || (n += " var schema" + i + " = validate.schema" + s + ";"),
        n += "var " + d + " = equal(" + u + ", schema" + i + "); if (!" + d + ") {   ";
        var h = h || [];
        h.push(n),
        n = "",
        !1 !== e.createErrors ? (n += " { keyword: 'const' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { allowedValue: schema" + i + " } ",
        !1 !== e.opts.messages && (n += " , message: 'should be equal to constant' "),
        e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        n += " } ") : n += " {} ";
        var g = n;
        return n = h.pop(),
        !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + g + "]); " : n += " validate.errors = [" + g + "]; return false; " : n += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        n += " }",
        c && (n += " else { "),
        n
    }
}
, function(e, t, r) {
    e.exports = function generate_contains(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , p = "errs__" + i
          , h = e.util.copy(e);
        h.level++;
        var g = "valid" + h.level
          , f = "i" + i
          , m = h.dataLevel = e.dataLevel + 1
          , y = "data" + m
          , _ = e.baseId
          , v = e.opts.strictKeywords ? "object" == typeof a && Object.keys(a).length > 0 : e.util.schemaHasRules(a, e.RULES.all);
        if (n += "var " + p + " = errors;var " + d + ";",
        v) {
            var b = e.compositeRule;
            e.compositeRule = h.compositeRule = !0,
            h.schema = a,
            h.schemaPath = s,
            h.errSchemaPath = l,
            n += " var " + g + " = false; for (var " + f + " = 0; " + f + " < " + u + ".length; " + f + "++) { ",
            h.errorPath = e.util.getPathExpr(e.errorPath, f, e.opts.jsonPointers, !0);
            var w = u + "[" + f + "]";
            h.dataPathArr[m] = f;
            var S = e.validate(h);
            h.baseId = _,
            e.util.varOccurences(S, y) < 2 ? n += " " + e.util.varReplace(S, y, w) + " " : n += " var " + y + " = " + w + "; " + S + " ",
            n += " if (" + g + ") break; }  ",
            e.compositeRule = h.compositeRule = b,
            n += "  if (!" + g + ") {"
        } else
            n += " if (" + u + ".length == 0) {";
        var C = C || [];
        C.push(n),
        n = "",
        !1 !== e.createErrors ? (n += " { keyword: 'contains' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: {} ",
        !1 !== e.opts.messages && (n += " , message: 'should contain a valid item' "),
        e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        n += " } ") : n += " {} ";
        var A = n;
        return n = C.pop(),
        !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + A + "]); " : n += " validate.errors = [" + A + "]; return false; " : n += " var err = " + A + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        n += " } else { ",
        v && (n += "  errors = " + p + "; if (vErrors !== null) { if (" + p + ") vErrors.length = " + p + "; else vErrors = null; } "),
        e.opts.allErrors && (n += " } "),
        e.util.cleanUpCode(n)
    }
}
, function(e, t, r) {
    e.exports = function generate_dependencies(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "errs__" + i
          , p = e.util.copy(e)
          , h = "";
        p.level++;
        var g = "valid" + p.level
          , f = {}
          , m = {}
          , y = e.opts.ownProperties;
        for (w in a) {
            var _ = a[w]
              , v = Array.isArray(_) ? m : f;
            v[w] = _
        }
        n += "var " + d + " = errors;";
        var b = e.errorPath;
        for (var w in n += "var missing" + i + ";",
        m)
            if ((v = m[w]).length) {
                if (n += " if ( " + u + e.util.getProperty(w) + " !== undefined ",
                y && (n += " && Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(w) + "') "),
                c) {
                    n += " && ( ";
                    var S = v;
                    if (S)
                        for (var C = -1, A = S.length - 1; C < A; )
                            P = S[C += 1],
                            C && (n += " || "),
                            n += " ( ( " + (z = u + (O = e.util.getProperty(P))) + " === undefined ",
                            y && (n += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(P) + "') "),
                            n += ") && (missing" + i + " = " + e.util.toQuotedString(e.opts.jsonPointers ? P : O) + ") ) ";
                    n += ")) {  ";
                    var k = "missing" + i
                      , E = "' + " + k + " + '";
                    e.opts._errorDataPathProperty && (e.errorPath = e.opts.jsonPointers ? e.util.getPathExpr(b, k, !0) : b + " + " + k);
                    var I = I || [];
                    I.push(n),
                    n = "",
                    !1 !== e.createErrors ? (n += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { property: '" + e.util.escapeQuotes(w) + "', missingProperty: '" + E + "', depsCount: " + v.length + ", deps: '" + e.util.escapeQuotes(1 == v.length ? v[0] : v.join(", ")) + "' } ",
                    !1 !== e.opts.messages && (n += " , message: 'should have ",
                    1 == v.length ? n += "property " + e.util.escapeQuotes(v[0]) : n += "properties " + e.util.escapeQuotes(v.join(", ")),
                    n += " when property " + e.util.escapeQuotes(w) + " is present' "),
                    e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    n += " } ") : n += " {} ";
                    var B = n;
                    n = I.pop(),
                    !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + B + "]); " : n += " validate.errors = [" + B + "]; return false; " : n += " var err = " + B + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "
                } else {
                    n += " ) { ";
                    var x = v;
                    if (x)
                        for (var P, T = -1, M = x.length - 1; T < M; ) {
                            P = x[T += 1];
                            var O = e.util.getProperty(P)
                              , z = (E = e.util.escapeQuotes(P),
                            u + O);
                            e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(b, P, e.opts.jsonPointers)),
                            n += " if ( " + z + " === undefined ",
                            y && (n += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(P) + "') "),
                            n += ") {  var err =   ",
                            !1 !== e.createErrors ? (n += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { property: '" + e.util.escapeQuotes(w) + "', missingProperty: '" + E + "', depsCount: " + v.length + ", deps: '" + e.util.escapeQuotes(1 == v.length ? v[0] : v.join(", ")) + "' } ",
                            !1 !== e.opts.messages && (n += " , message: 'should have ",
                            1 == v.length ? n += "property " + e.util.escapeQuotes(v[0]) : n += "properties " + e.util.escapeQuotes(v.join(", ")),
                            n += " when property " + e.util.escapeQuotes(w) + " is present' "),
                            e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                            n += " } ") : n += " {} ",
                            n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "
                        }
                }
                n += " }   ",
                c && (h += "}",
                n += " else { ")
            }
        e.errorPath = b;
        var L = p.baseId;
        for (var w in f)
            _ = f[w],
            (e.opts.strictKeywords ? "object" == typeof _ && Object.keys(_).length > 0 : e.util.schemaHasRules(_, e.RULES.all)) && (n += " " + g + " = true; if ( " + u + e.util.getProperty(w) + " !== undefined ",
            y && (n += " && Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(w) + "') "),
            n += ") { ",
            p.schema = _,
            p.schemaPath = s + e.util.getProperty(w),
            p.errSchemaPath = l + "/" + e.util.escapeFragment(w),
            n += "  " + e.validate(p) + " ",
            p.baseId = L,
            n += " }  ",
            c && (n += " if (" + g + ") { ",
            h += "}"));
        return c && (n += "   " + h + " if (" + d + " == errors) {"),
        e.util.cleanUpCode(n)
    }
}
, function(e, t, r) {
    e.exports = function generate_enum(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , p = e.opts.$data && a && a.$data;
        p && (n += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ");
        var h = "i" + i
          , g = "schema" + i;
        p || (n += " var " + g + " = validate.schema" + s + ";"),
        n += "var " + d + ";",
        p && (n += " if (schema" + i + " === undefined) " + d + " = true; else if (!Array.isArray(schema" + i + ")) " + d + " = false; else {"),
        n += d + " = false;for (var " + h + "=0; " + h + "<" + g + ".length; " + h + "++) if (equal(" + u + ", " + g + "[" + h + "])) { " + d + " = true; break; }",
        p && (n += "  }  "),
        n += " if (!" + d + ") {   ";
        var f = f || [];
        f.push(n),
        n = "",
        !1 !== e.createErrors ? (n += " { keyword: 'enum' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { allowedValues: schema" + i + " } ",
        !1 !== e.opts.messages && (n += " , message: 'should be equal to one of the allowed values' "),
        e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        n += " } ") : n += " {} ";
        var m = n;
        return n = f.pop(),
        !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + m + "]); " : n += " validate.errors = [" + m + "]; return false; " : n += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        n += " }",
        c && (n += " else { "),
        n
    }
}
, function(e, t, r) {
    e.exports = function generate_format(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "");
        if (!1 === e.opts.format)
            return c && (n += " if (true) { "),
            n;
        var d, p = e.opts.$data && a && a.$data;
        p ? (n += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ",
        d = "schema" + i) : d = a;
        var h = e.opts.unknownFormats
          , g = Array.isArray(h);
        if (p)
            n += " var " + (f = "format" + i) + " = formats[" + d + "]; var " + (m = "isObject" + i) + " = typeof " + f + " == 'object' && !(" + f + " instanceof RegExp) && " + f + ".validate; var " + (y = "formatType" + i) + " = " + m + " && " + f + ".type || 'string'; if (" + m + ") { ",
            e.async && (n += " var async" + i + " = " + f + ".async; "),
            n += " " + f + " = " + f + ".validate; } if (  ",
            p && (n += " (" + d + " !== undefined && typeof " + d + " != 'string') || "),
            n += " (",
            "ignore" != h && (n += " (" + d + " && !" + f + " ",
            g && (n += " && self._opts.unknownFormats.indexOf(" + d + ") == -1 "),
            n += ") || "),
            n += " (" + f + " && " + y + " == '" + r + "' && !(typeof " + f + " == 'function' ? ",
            e.async ? n += " (async" + i + " ? await " + f + "(" + u + ") : " + f + "(" + u + ")) " : n += " " + f + "(" + u + ") ",
            n += " : " + f + ".test(" + u + "))))) {";
        else {
            var f;
            if (!(f = e.formats[a])) {
                if ("ignore" == h)
                    return e.logger.warn('unknown format "' + a + '" ignored in schema at path "' + e.errSchemaPath + '"'),
                    c && (n += " if (true) { "),
                    n;
                if (g && h.indexOf(a) >= 0)
                    return c && (n += " if (true) { "),
                    n;
                throw new Error('unknown format "' + a + '" is used in schema at path "' + e.errSchemaPath + '"')
            }
            var m, y = (m = "object" == typeof f && !(f instanceof RegExp) && f.validate) && f.type || "string";
            if (m) {
                var _ = !0 === f.async;
                f = f.validate
            }
            if (y != r)
                return c && (n += " if (true) { "),
                n;
            if (_) {
                if (!e.async)
                    throw new Error("async format in sync schema");
                n += " if (!(await " + (v = "formats" + e.util.getProperty(a) + ".validate") + "(" + u + "))) { "
            } else {
                n += " if (! ";
                var v = "formats" + e.util.getProperty(a);
                m && (v += ".validate"),
                n += "function" == typeof f ? " " + v + "(" + u + ") " : " " + v + ".test(" + u + ") ",
                n += ") { "
            }
        }
        var b = b || [];
        b.push(n),
        n = "",
        !1 !== e.createErrors ? (n += " { keyword: 'format' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { format:  ",
        n += p ? "" + d : "" + e.util.toQuotedString(a),
        n += "  } ",
        !1 !== e.opts.messages && (n += " , message: 'should match format \"",
        n += p ? "' + " + d + " + '" : "" + e.util.escapeQuotes(a),
        n += "\"' "),
        e.opts.verbose && (n += " , schema:  ",
        n += p ? "validate.schema" + s : "" + e.util.toQuotedString(a),
        n += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        n += " } ") : n += " {} ";
        var w = n;
        return n = b.pop(),
        !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + w + "]); " : n += " validate.errors = [" + w + "]; return false; " : n += " var err = " + w + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        n += " } ",
        c && (n += " else { "),
        n
    }
}
, function(e, t, r) {
    e.exports = function generate_if(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , p = "errs__" + i
          , h = e.util.copy(e);
        h.level++;
        var g = "valid" + h.level
          , f = e.schema.then
          , m = e.schema.else
          , y = void 0 !== f && (e.opts.strictKeywords ? "object" == typeof f && Object.keys(f).length > 0 : e.util.schemaHasRules(f, e.RULES.all))
          , _ = void 0 !== m && (e.opts.strictKeywords ? "object" == typeof m && Object.keys(m).length > 0 : e.util.schemaHasRules(m, e.RULES.all))
          , v = h.baseId;
        if (y || _) {
            var b;
            h.createErrors = !1,
            h.schema = a,
            h.schemaPath = s,
            h.errSchemaPath = l,
            n += " var " + p + " = errors; var " + d + " = true;  ";
            var w = e.compositeRule;
            e.compositeRule = h.compositeRule = !0,
            n += "  " + e.validate(h) + " ",
            h.baseId = v,
            h.createErrors = !0,
            n += "  errors = " + p + "; if (vErrors !== null) { if (" + p + ") vErrors.length = " + p + "; else vErrors = null; }  ",
            e.compositeRule = h.compositeRule = w,
            y ? (n += " if (" + g + ") {  ",
            h.schema = e.schema.then,
            h.schemaPath = e.schemaPath + ".then",
            h.errSchemaPath = e.errSchemaPath + "/then",
            n += "  " + e.validate(h) + " ",
            h.baseId = v,
            n += " " + d + " = " + g + "; ",
            y && _ ? n += " var " + (b = "ifClause" + i) + " = 'then'; " : b = "'then'",
            n += " } ",
            _ && (n += " else { ")) : n += " if (!" + g + ") { ",
            _ && (h.schema = e.schema.else,
            h.schemaPath = e.schemaPath + ".else",
            h.errSchemaPath = e.errSchemaPath + "/else",
            n += "  " + e.validate(h) + " ",
            h.baseId = v,
            n += " " + d + " = " + g + "; ",
            y && _ ? n += " var " + (b = "ifClause" + i) + " = 'else'; " : b = "'else'",
            n += " } "),
            n += " if (!" + d + ") {   var err =   ",
            !1 !== e.createErrors ? (n += " { keyword: 'if' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { failingKeyword: " + b + " } ",
            !1 !== e.opts.messages && (n += " , message: 'should match \"' + " + b + " + '\" schema' "),
            e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            n += " } ") : n += " {} ",
            n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            !e.compositeRule && c && (e.async ? n += " throw new ValidationError(vErrors); " : n += " validate.errors = vErrors; return false; "),
            n += " }   ",
            c && (n += " else { "),
            n = e.util.cleanUpCode(n)
        } else
            c && (n += " if (true) { ");
        return n
    }
}
, function(e, t, r) {
    e.exports = function generate_items(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , p = "errs__" + i
          , h = e.util.copy(e)
          , g = "";
        h.level++;
        var f = "valid" + h.level
          , m = "i" + i
          , y = h.dataLevel = e.dataLevel + 1
          , _ = "data" + y
          , v = e.baseId;
        if (n += "var " + p + " = errors;var " + d + ";",
        Array.isArray(a)) {
            var b = e.schema.additionalItems;
            if (!1 === b) {
                n += " " + d + " = " + u + ".length <= " + a.length + "; ";
                var w = l;
                l = e.errSchemaPath + "/additionalItems",
                n += "  if (!" + d + ") {   ";
                var S = S || [];
                S.push(n),
                n = "",
                !1 !== e.createErrors ? (n += " { keyword: 'additionalItems' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { limit: " + a.length + " } ",
                !1 !== e.opts.messages && (n += " , message: 'should NOT have more than " + a.length + " items' "),
                e.opts.verbose && (n += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                n += " } ") : n += " {} ";
                var C = n;
                n = S.pop(),
                !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + C + "]); " : n += " validate.errors = [" + C + "]; return false; " : n += " var err = " + C + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                n += " } ",
                l = w,
                c && (g += "}",
                n += " else { ")
            }
            var A = a;
            if (A)
                for (var k, E = -1, I = A.length - 1; E < I; )
                    if (k = A[E += 1],
                    e.opts.strictKeywords ? "object" == typeof k && Object.keys(k).length > 0 : e.util.schemaHasRules(k, e.RULES.all)) {
                        n += " " + f + " = true; if (" + u + ".length > " + E + ") { ";
                        var B = u + "[" + E + "]";
                        h.schema = k,
                        h.schemaPath = s + "[" + E + "]",
                        h.errSchemaPath = l + "/" + E,
                        h.errorPath = e.util.getPathExpr(e.errorPath, E, e.opts.jsonPointers, !0),
                        h.dataPathArr[y] = E;
                        var x = e.validate(h);
                        h.baseId = v,
                        e.util.varOccurences(x, _) < 2 ? n += " " + e.util.varReplace(x, _, B) + " " : n += " var " + _ + " = " + B + "; " + x + " ",
                        n += " }  ",
                        c && (n += " if (" + f + ") { ",
                        g += "}")
                    }
            "object" == typeof b && (e.opts.strictKeywords ? "object" == typeof b && Object.keys(b).length > 0 : e.util.schemaHasRules(b, e.RULES.all)) && (h.schema = b,
            h.schemaPath = e.schemaPath + ".additionalItems",
            h.errSchemaPath = e.errSchemaPath + "/additionalItems",
            n += " " + f + " = true; if (" + u + ".length > " + a.length + ") {  for (var " + m + " = " + a.length + "; " + m + " < " + u + ".length; " + m + "++) { ",
            h.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers, !0),
            B = u + "[" + m + "]",
            h.dataPathArr[y] = m,
            x = e.validate(h),
            h.baseId = v,
            e.util.varOccurences(x, _) < 2 ? n += " " + e.util.varReplace(x, _, B) + " " : n += " var " + _ + " = " + B + "; " + x + " ",
            c && (n += " if (!" + f + ") break; "),
            n += " } }  ",
            c && (n += " if (" + f + ") { ",
            g += "}"))
        } else
            (e.opts.strictKeywords ? "object" == typeof a && Object.keys(a).length > 0 : e.util.schemaHasRules(a, e.RULES.all)) && (h.schema = a,
            h.schemaPath = s,
            h.errSchemaPath = l,
            n += "  for (var " + m + " = 0; " + m + " < " + u + ".length; " + m + "++) { ",
            h.errorPath = e.util.getPathExpr(e.errorPath, m, e.opts.jsonPointers, !0),
            B = u + "[" + m + "]",
            h.dataPathArr[y] = m,
            x = e.validate(h),
            h.baseId = v,
            e.util.varOccurences(x, _) < 2 ? n += " " + e.util.varReplace(x, _, B) + " " : n += " var " + _ + " = " + B + "; " + x + " ",
            c && (n += " if (!" + f + ") break; "),
            n += " }");
        return c && (n += " " + g + " if (" + p + " == errors) {"),
        e.util.cleanUpCode(n)
    }
}
, function(e, t, r) {
    e.exports = function generate_multipleOf(e, t, r) {
        var n, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], l = e.schemaPath + e.util.getProperty(t), c = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), p = e.opts.$data && s && s.$data;
        p ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        n = "schema" + o) : n = s,
        i += "var division" + o + ";if (",
        p && (i += " " + n + " !== undefined && ( typeof " + n + " != 'number' || "),
        i += " (division" + o + " = " + d + " / " + n + ", ",
        e.opts.multipleOfPrecision ? i += " Math.abs(Math.round(division" + o + ") - division" + o + ") > 1e-" + e.opts.multipleOfPrecision + " " : i += " division" + o + " !== parseInt(division" + o + ") ",
        i += " ) ",
        p && (i += "  )  "),
        i += " ) {   ";
        var h = h || [];
        h.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: 'multipleOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { multipleOf: " + n + " } ",
        !1 !== e.opts.messages && (i += " , message: 'should be multiple of ",
        i += p ? "' + " + n : n + "'"),
        e.opts.verbose && (i += " , schema:  ",
        i += p ? "validate.schema" + l : "" + s,
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var g = i;
        return i = h.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + g + "]); " : i += " validate.errors = [" + g + "]; return false; " : i += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, r) {
    e.exports = function generate_not(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "errs__" + i
          , p = e.util.copy(e);
        p.level++;
        var h = "valid" + p.level;
        if (e.opts.strictKeywords ? "object" == typeof a && Object.keys(a).length > 0 : e.util.schemaHasRules(a, e.RULES.all)) {
            p.schema = a,
            p.schemaPath = s,
            p.errSchemaPath = l,
            n += " var " + d + " = errors;  ";
            var g, f = e.compositeRule;
            e.compositeRule = p.compositeRule = !0,
            p.createErrors = !1,
            p.opts.allErrors && (g = p.opts.allErrors,
            p.opts.allErrors = !1),
            n += " " + e.validate(p) + " ",
            p.createErrors = !0,
            g && (p.opts.allErrors = g),
            e.compositeRule = p.compositeRule = f,
            n += " if (" + h + ") {   ";
            var m = m || [];
            m.push(n),
            n = "",
            !1 !== e.createErrors ? (n += " { keyword: 'not' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: {} ",
            !1 !== e.opts.messages && (n += " , message: 'should NOT be valid' "),
            e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            n += " } ") : n += " {} ";
            var y = n;
            n = m.pop(),
            !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + y + "]); " : n += " validate.errors = [" + y + "]; return false; " : n += " var err = " + y + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            n += " } else {  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; } ",
            e.opts.allErrors && (n += " } ")
        } else
            n += "  var err =   ",
            !1 !== e.createErrors ? (n += " { keyword: 'not' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: {} ",
            !1 !== e.opts.messages && (n += " , message: 'should NOT be valid' "),
            e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            n += " } ") : n += " {} ",
            n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            c && (n += " if (false) { ");
        return n
    }
}
, function(e, t, r) {
    e.exports = function generate_oneOf(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , p = "errs__" + i
          , h = e.util.copy(e)
          , g = "";
        h.level++;
        var f = "valid" + h.level
          , m = h.baseId
          , y = "prevValid" + i
          , _ = "passingSchemas" + i;
        n += "var " + p + " = errors , " + y + " = false , " + d + " = false , " + _ + " = null; ";
        var v = e.compositeRule;
        e.compositeRule = h.compositeRule = !0;
        var b = a;
        if (b)
            for (var w, S = -1, C = b.length - 1; S < C; )
                w = b[S += 1],
                (e.opts.strictKeywords ? "object" == typeof w && Object.keys(w).length > 0 : e.util.schemaHasRules(w, e.RULES.all)) ? (h.schema = w,
                h.schemaPath = s + "[" + S + "]",
                h.errSchemaPath = l + "/" + S,
                n += "  " + e.validate(h) + " ",
                h.baseId = m) : n += " var " + f + " = true; ",
                S && (n += " if (" + f + " && " + y + ") { " + d + " = false; " + _ + " = [" + _ + ", " + S + "]; } else { ",
                g += "}"),
                n += " if (" + f + ") { " + d + " = " + y + " = true; " + _ + " = " + S + "; }";
        return e.compositeRule = h.compositeRule = v,
        n += g + "if (!" + d + ") {   var err =   ",
        !1 !== e.createErrors ? (n += " { keyword: 'oneOf' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { passingSchemas: " + _ + " } ",
        !1 !== e.opts.messages && (n += " , message: 'should match exactly one schema in oneOf' "),
        e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
        n += " } ") : n += " {} ",
        n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        !e.compositeRule && c && (e.async ? n += " throw new ValidationError(vErrors); " : n += " validate.errors = vErrors; return false; "),
        n += "} else {  errors = " + p + "; if (vErrors !== null) { if (" + p + ") vErrors.length = " + p + "; else vErrors = null; }",
        e.opts.allErrors && (n += " } "),
        n
    }
}
, function(e, t, r) {
    e.exports = function generate_pattern(e, t, r) {
        var n, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], l = e.schemaPath + e.util.getProperty(t), c = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), p = e.opts.$data && s && s.$data;
        p ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        n = "schema" + o) : n = s,
        i += "if ( ",
        p && (i += " (" + n + " !== undefined && typeof " + n + " != 'string') || "),
        i += " !" + (p ? "(new RegExp(" + n + "))" : e.usePattern(s)) + ".test(" + d + ") ) {   ";
        var h = h || [];
        h.push(i),
        i = "",
        !1 !== e.createErrors ? (i += " { keyword: 'pattern' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { pattern:  ",
        i += p ? "" + n : "" + e.util.toQuotedString(s),
        i += "  } ",
        !1 !== e.opts.messages && (i += " , message: 'should match pattern \"",
        i += p ? "' + " + n + " + '" : "" + e.util.escapeQuotes(s),
        i += "\"' "),
        e.opts.verbose && (i += " , schema:  ",
        i += p ? "validate.schema" + l : "" + e.util.toQuotedString(s),
        i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
        i += " } ") : i += " {} ";
        var g = i;
        return i = h.pop(),
        !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + g + "]); " : i += " validate.errors = [" + g + "]; return false; " : i += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
        i += "} ",
        u && (i += " else { "),
        i
    }
}
, function(e, t, r) {
    e.exports = function generate_properties(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "errs__" + i
          , p = e.util.copy(e)
          , h = "";
        p.level++;
        var g = "valid" + p.level
          , f = "key" + i
          , m = "idx" + i
          , y = p.dataLevel = e.dataLevel + 1
          , _ = "data" + y
          , v = "dataProperties" + i
          , b = Object.keys(a || {})
          , w = e.schema.patternProperties || {}
          , S = Object.keys(w)
          , C = e.schema.additionalProperties
          , A = b.length || S.length
          , k = !1 === C
          , E = "object" == typeof C && Object.keys(C).length
          , I = e.opts.removeAdditional
          , B = k || E || I
          , x = e.opts.ownProperties
          , P = e.baseId
          , T = e.schema.required;
        if (T && (!e.opts.$data || !T.$data) && T.length < e.opts.loopRequired)
            var M = e.util.toHash(T);
        if (n += "var " + d + " = errors;var " + g + " = true;",
        x && (n += " var " + v + " = undefined;"),
        B) {
            if (n += x ? " " + v + " = " + v + " || Object.keys(" + u + "); for (var " + m + "=0; " + m + "<" + v + ".length; " + m + "++) { var " + f + " = " + v + "[" + m + "]; " : " for (var " + f + " in " + u + ") { ",
            A) {
                if (n += " var isAdditional" + i + " = !(false ",
                b.length)
                    if (b.length > 8)
                        n += " || validate.schema" + s + ".hasOwnProperty(" + f + ") ";
                    else {
                        var O = b;
                        if (O)
                            for (var z = -1, L = O.length - 1; z < L; )
                                Q = O[z += 1],
                                n += " || " + f + " == " + e.util.toQuotedString(Q) + " "
                    }
                if (S.length) {
                    var R = S;
                    if (R)
                        for (var D = -1, U = R.length - 1; D < U; )
                            ie = R[D += 1],
                            n += " || " + e.usePattern(ie) + ".test(" + f + ") "
                }
                n += " ); if (isAdditional" + i + ") { "
            }
            if ("all" == I)
                n += " delete " + u + "[" + f + "]; ";
            else {
                var F = e.errorPath
                  , j = "' + " + f + " + '";
                if (e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(e.errorPath, f, e.opts.jsonPointers)),
                k)
                    if (I)
                        n += " delete " + u + "[" + f + "]; ";
                    else {
                        n += " " + g + " = false; ";
                        var V = l;
                        l = e.errSchemaPath + "/additionalProperties",
                        (te = te || []).push(n),
                        n = "",
                        !1 !== e.createErrors ? (n += " { keyword: 'additionalProperties' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { additionalProperty: '" + j + "' } ",
                        !1 !== e.opts.messages && (n += " , message: '",
                        e.opts._errorDataPathProperty ? n += "is an invalid additional property" : n += "should NOT have additional properties",
                        n += "' "),
                        e.opts.verbose && (n += " , schema: false , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        n += " } ") : n += " {} ";
                        var H = n;
                        n = te.pop(),
                        !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + H + "]); " : n += " validate.errors = [" + H + "]; return false; " : n += " var err = " + H + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                        l = V,
                        c && (n += " break; ")
                    }
                else if (E)
                    if ("failing" == I) {
                        n += " var " + d + " = errors;  ";
                        var G = e.compositeRule;
                        e.compositeRule = p.compositeRule = !0,
                        p.schema = C,
                        p.schemaPath = e.schemaPath + ".additionalProperties",
                        p.errSchemaPath = e.errSchemaPath + "/additionalProperties",
                        p.errorPath = e.opts._errorDataPathProperty ? e.errorPath : e.util.getPathExpr(e.errorPath, f, e.opts.jsonPointers);
                        var W = u + "[" + f + "]";
                        p.dataPathArr[y] = f;
                        var N = e.validate(p);
                        p.baseId = P,
                        e.util.varOccurences(N, _) < 2 ? n += " " + e.util.varReplace(N, _, W) + " " : n += " var " + _ + " = " + W + "; " + N + " ",
                        n += " if (!" + g + ") { errors = " + d + "; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete " + u + "[" + f + "]; }  ",
                        e.compositeRule = p.compositeRule = G
                    } else
                        p.schema = C,
                        p.schemaPath = e.schemaPath + ".additionalProperties",
                        p.errSchemaPath = e.errSchemaPath + "/additionalProperties",
                        p.errorPath = e.opts._errorDataPathProperty ? e.errorPath : e.util.getPathExpr(e.errorPath, f, e.opts.jsonPointers),
                        W = u + "[" + f + "]",
                        p.dataPathArr[y] = f,
                        N = e.validate(p),
                        p.baseId = P,
                        e.util.varOccurences(N, _) < 2 ? n += " " + e.util.varReplace(N, _, W) + " " : n += " var " + _ + " = " + W + "; " + N + " ",
                        c && (n += " if (!" + g + ") break; ");
                e.errorPath = F
            }
            A && (n += " } "),
            n += " }  ",
            c && (n += " if (" + g + ") { ",
            h += "}")
        }
        var q = e.opts.useDefaults && !e.compositeRule;
        if (b.length) {
            var K = b;
            if (K)
                for (var Q, Y = -1, J = K.length - 1; Y < J; ) {
                    var Z = a[Q = K[Y += 1]];
                    if (e.opts.strictKeywords ? "object" == typeof Z && Object.keys(Z).length > 0 : e.util.schemaHasRules(Z, e.RULES.all)) {
                        var X = e.util.getProperty(Q)
                          , $ = (W = u + X,
                        q && void 0 !== Z.default);
                        if (p.schema = Z,
                        p.schemaPath = s + X,
                        p.errSchemaPath = l + "/" + e.util.escapeFragment(Q),
                        p.errorPath = e.util.getPath(e.errorPath, Q, e.opts.jsonPointers),
                        p.dataPathArr[y] = e.util.toQuotedString(Q),
                        N = e.validate(p),
                        p.baseId = P,
                        e.util.varOccurences(N, _) < 2) {
                            N = e.util.varReplace(N, _, W);
                            var ee = W
                        } else
                            ee = _,
                            n += " var " + _ + " = " + W + "; ";
                        if ($)
                            n += " " + N + " ";
                        else {
                            if (M && M[Q]) {
                                n += " if ( " + ee + " === undefined ",
                                x && (n += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(Q) + "') "),
                                n += ") { " + g + " = false; ",
                                F = e.errorPath,
                                V = l;
                                var te, re = e.util.escapeQuotes(Q);
                                e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(F, Q, e.opts.jsonPointers)),
                                l = e.errSchemaPath + "/required",
                                (te = te || []).push(n),
                                n = "",
                                !1 !== e.createErrors ? (n += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { missingProperty: '" + re + "' } ",
                                !1 !== e.opts.messages && (n += " , message: '",
                                e.opts._errorDataPathProperty ? n += "is a required property" : n += "should have required property \\'" + re + "\\'",
                                n += "' "),
                                e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                                n += " } ") : n += " {} ",
                                H = n,
                                n = te.pop(),
                                !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + H + "]); " : n += " validate.errors = [" + H + "]; return false; " : n += " var err = " + H + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                                l = V,
                                e.errorPath = F,
                                n += " } else { "
                            } else
                                c ? (n += " if ( " + ee + " === undefined ",
                                x && (n += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(Q) + "') "),
                                n += ") { " + g + " = true; } else { ") : (n += " if (" + ee + " !== undefined ",
                                x && (n += " &&   Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(Q) + "') "),
                                n += " ) { ");
                            n += " " + N + " } "
                        }
                    }
                    c && (n += " if (" + g + ") { ",
                    h += "}")
                }
        }
        if (S.length) {
            var ne = S;
            if (ne)
                for (var ie, oe = -1, ae = ne.length - 1; oe < ae; )
                    Z = w[ie = ne[oe += 1]],
                    (e.opts.strictKeywords ? "object" == typeof Z && Object.keys(Z).length > 0 : e.util.schemaHasRules(Z, e.RULES.all)) && (p.schema = Z,
                    p.schemaPath = e.schemaPath + ".patternProperties" + e.util.getProperty(ie),
                    p.errSchemaPath = e.errSchemaPath + "/patternProperties/" + e.util.escapeFragment(ie),
                    n += x ? " " + v + " = " + v + " || Object.keys(" + u + "); for (var " + m + "=0; " + m + "<" + v + ".length; " + m + "++) { var " + f + " = " + v + "[" + m + "]; " : " for (var " + f + " in " + u + ") { ",
                    n += " if (" + e.usePattern(ie) + ".test(" + f + ")) { ",
                    p.errorPath = e.util.getPathExpr(e.errorPath, f, e.opts.jsonPointers),
                    W = u + "[" + f + "]",
                    p.dataPathArr[y] = f,
                    N = e.validate(p),
                    p.baseId = P,
                    e.util.varOccurences(N, _) < 2 ? n += " " + e.util.varReplace(N, _, W) + " " : n += " var " + _ + " = " + W + "; " + N + " ",
                    c && (n += " if (!" + g + ") break; "),
                    n += " } ",
                    c && (n += " else " + g + " = true; "),
                    n += " }  ",
                    c && (n += " if (" + g + ") { ",
                    h += "}"))
        }
        return c && (n += " " + h + " if (" + d + " == errors) {"),
        e.util.cleanUpCode(n)
    }
}
, function(e, t, r) {
    e.exports = function generate_propertyNames(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "errs__" + i
          , p = e.util.copy(e);
        p.level++;
        var h = "valid" + p.level;
        if (n += "var " + d + " = errors;",
        e.opts.strictKeywords ? "object" == typeof a && Object.keys(a).length > 0 : e.util.schemaHasRules(a, e.RULES.all)) {
            p.schema = a,
            p.schemaPath = s,
            p.errSchemaPath = l;
            var g = "key" + i
              , f = "idx" + i
              , m = "i" + i
              , y = "' + " + g + " + '"
              , _ = "data" + (p.dataLevel = e.dataLevel + 1)
              , v = "dataProperties" + i
              , b = e.opts.ownProperties
              , w = e.baseId;
            b && (n += " var " + v + " = undefined; "),
            n += b ? " " + v + " = " + v + " || Object.keys(" + u + "); for (var " + f + "=0; " + f + "<" + v + ".length; " + f + "++) { var " + g + " = " + v + "[" + f + "]; " : " for (var " + g + " in " + u + ") { ",
            n += " var startErrs" + i + " = errors; ";
            var S = g
              , C = e.compositeRule;
            e.compositeRule = p.compositeRule = !0;
            var A = e.validate(p);
            p.baseId = w,
            e.util.varOccurences(A, _) < 2 ? n += " " + e.util.varReplace(A, _, S) + " " : n += " var " + _ + " = " + S + "; " + A + " ",
            e.compositeRule = p.compositeRule = C,
            n += " if (!" + h + ") { for (var " + m + "=startErrs" + i + "; " + m + "<errors; " + m + "++) { vErrors[" + m + "].propertyName = " + g + "; }   var err =   ",
            !1 !== e.createErrors ? (n += " { keyword: 'propertyNames' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { propertyName: '" + y + "' } ",
            !1 !== e.opts.messages && (n += " , message: 'property name \\'" + y + "\\' is invalid' "),
            e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
            n += " } ") : n += " {} ",
            n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            !e.compositeRule && c && (e.async ? n += " throw new ValidationError(vErrors); " : n += " validate.errors = vErrors; return false; "),
            c && (n += " break; "),
            n += " } }"
        }
        return c && (n += "  if (" + d + " == errors) {"),
        e.util.cleanUpCode(n)
    }
}
, function(e, t, r) {
    e.exports = function generate_required(e, t, r) {
        var n = " "
          , i = e.level
          , o = e.dataLevel
          , a = e.schema[t]
          , s = e.schemaPath + e.util.getProperty(t)
          , l = e.errSchemaPath + "/" + t
          , c = !e.opts.allErrors
          , u = "data" + (o || "")
          , d = "valid" + i
          , p = e.opts.$data && a && a.$data;
        p && (n += " var schema" + i + " = " + e.util.getData(a.$data, o, e.dataPathArr) + "; ");
        var h = "schema" + i;
        if (!p)
            if (a.length < e.opts.loopRequired && e.schema.properties && Object.keys(e.schema.properties).length) {
                var g = []
                  , f = a;
                if (f)
                    for (var m, y = -1, _ = f.length - 1; y < _; ) {
                        m = f[y += 1];
                        var v = e.schema.properties[m];
                        v && (e.opts.strictKeywords ? "object" == typeof v && Object.keys(v).length > 0 : e.util.schemaHasRules(v, e.RULES.all)) || (g[g.length] = m)
                    }
            } else
                g = a;
        if (p || g.length) {
            var b = e.errorPath
              , w = p || g.length >= e.opts.loopRequired
              , S = e.opts.ownProperties;
            if (c)
                if (n += " var missing" + i + "; ",
                w) {
                    p || (n += " var " + h + " = validate.schema" + s + "; ");
                    var C = "' + " + (x = "schema" + i + "[" + (I = "i" + i) + "]") + " + '";
                    e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(b, x, e.opts.jsonPointers)),
                    n += " var " + d + " = true; ",
                    p && (n += " if (schema" + i + " === undefined) " + d + " = true; else if (!Array.isArray(schema" + i + ")) " + d + " = false; else {"),
                    n += " for (var " + I + " = 0; " + I + " < " + h + ".length; " + I + "++) { " + d + " = " + u + "[" + h + "[" + I + "]] !== undefined ",
                    S && (n += " &&   Object.prototype.hasOwnProperty.call(" + u + ", " + h + "[" + I + "]) "),
                    n += "; if (!" + d + ") break; } ",
                    p && (n += "  }  "),
                    n += "  if (!" + d + ") {   ",
                    (k = k || []).push(n),
                    n = "",
                    !1 !== e.createErrors ? (n += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { missingProperty: '" + C + "' } ",
                    !1 !== e.opts.messages && (n += " , message: '",
                    e.opts._errorDataPathProperty ? n += "is a required property" : n += "should have required property \\'" + C + "\\'",
                    n += "' "),
                    e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    n += " } ") : n += " {} ";
                    var A = n;
                    n = k.pop(),
                    !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + A + "]); " : n += " validate.errors = [" + A + "]; return false; " : n += " var err = " + A + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    n += " } else { "
                } else {
                    n += " if ( ";
                    var k, E = g;
                    if (E)
                        for (var I = -1, B = E.length - 1; I < B; )
                            T = E[I += 1],
                            I && (n += " || "),
                            n += " ( ( " + (L = u + (z = e.util.getProperty(T))) + " === undefined ",
                            S && (n += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(T) + "') "),
                            n += ") && (missing" + i + " = " + e.util.toQuotedString(e.opts.jsonPointers ? T : z) + ") ) ";
                    n += ") {  ",
                    C = "' + " + (x = "missing" + i) + " + '",
                    e.opts._errorDataPathProperty && (e.errorPath = e.opts.jsonPointers ? e.util.getPathExpr(b, x, !0) : b + " + " + x),
                    (k = k || []).push(n),
                    n = "",
                    !1 !== e.createErrors ? (n += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { missingProperty: '" + C + "' } ",
                    !1 !== e.opts.messages && (n += " , message: '",
                    e.opts._errorDataPathProperty ? n += "is a required property" : n += "should have required property \\'" + C + "\\'",
                    n += "' "),
                    e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                    n += " } ") : n += " {} ",
                    A = n,
                    n = k.pop(),
                    !e.compositeRule && c ? e.async ? n += " throw new ValidationError([" + A + "]); " : n += " validate.errors = [" + A + "]; return false; " : n += " var err = " + A + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
                    n += " } else { "
                }
            else if (w) {
                var x;
                p || (n += " var " + h + " = validate.schema" + s + "; "),
                C = "' + " + (x = "schema" + i + "[" + (I = "i" + i) + "]") + " + '",
                e.opts._errorDataPathProperty && (e.errorPath = e.util.getPathExpr(b, x, e.opts.jsonPointers)),
                p && (n += " if (" + h + " && !Array.isArray(" + h + ")) {  var err =   ",
                !1 !== e.createErrors ? (n += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { missingProperty: '" + C + "' } ",
                !1 !== e.opts.messages && (n += " , message: '",
                e.opts._errorDataPathProperty ? n += "is a required property" : n += "should have required property \\'" + C + "\\'",
                n += "' "),
                e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                n += " } ") : n += " {} ",
                n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (" + h + " !== undefined) { "),
                n += " for (var " + I + " = 0; " + I + " < " + h + ".length; " + I + "++) { if (" + u + "[" + h + "[" + I + "]] === undefined ",
                S && (n += " || ! Object.prototype.hasOwnProperty.call(" + u + ", " + h + "[" + I + "]) "),
                n += ") {  var err =   ",
                !1 !== e.createErrors ? (n += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { missingProperty: '" + C + "' } ",
                !1 !== e.opts.messages && (n += " , message: '",
                e.opts._errorDataPathProperty ? n += "is a required property" : n += "should have required property \\'" + C + "\\'",
                n += "' "),
                e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                n += " } ") : n += " {} ",
                n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",
                p && (n += "  }  ")
            } else {
                var P = g;
                if (P)
                    for (var T, M = -1, O = P.length - 1; M < O; ) {
                        T = P[M += 1];
                        var z = e.util.getProperty(T)
                          , L = (C = e.util.escapeQuotes(T),
                        u + z);
                        e.opts._errorDataPathProperty && (e.errorPath = e.util.getPath(b, T, e.opts.jsonPointers)),
                        n += " if ( " + L + " === undefined ",
                        S && (n += " || ! Object.prototype.hasOwnProperty.call(" + u + ", '" + e.util.escapeQuotes(T) + "') "),
                        n += ") {  var err =   ",
                        !1 !== e.createErrors ? (n += " { keyword: 'required' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(l) + " , params: { missingProperty: '" + C + "' } ",
                        !1 !== e.opts.messages && (n += " , message: '",
                        e.opts._errorDataPathProperty ? n += "is a required property" : n += "should have required property \\'" + C + "\\'",
                        n += "' "),
                        e.opts.verbose && (n += " , schema: validate.schema" + s + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + u + " "),
                        n += " } ") : n += " {} ",
                        n += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "
                    }
            }
            e.errorPath = b
        } else
            c && (n += " if (true) {");
        return n
    }
}
, function(e, t, r) {
    e.exports = function generate_uniqueItems(e, t, r) {
        var n, i = " ", o = e.level, a = e.dataLevel, s = e.schema[t], l = e.schemaPath + e.util.getProperty(t), c = e.errSchemaPath + "/" + t, u = !e.opts.allErrors, d = "data" + (a || ""), p = "valid" + o, h = e.opts.$data && s && s.$data;
        if (h ? (i += " var schema" + o + " = " + e.util.getData(s.$data, a, e.dataPathArr) + "; ",
        n = "schema" + o) : n = s,
        (s || h) && !1 !== e.opts.uniqueItems) {
            h && (i += " var " + p + "; if (" + n + " === false || " + n + " === undefined) " + p + " = true; else if (typeof " + n + " != 'boolean') " + p + " = false; else { "),
            i += " var i = " + d + ".length , " + p + " = true , j; if (i > 1) { ";
            var g = e.schema.items && e.schema.items.type
              , f = Array.isArray(g);
            if (!g || "object" == g || "array" == g || f && (g.indexOf("object") >= 0 || g.indexOf("array") >= 0))
                i += " outer: for (;i--;) { for (j = i; j--;) { if (equal(" + d + "[i], " + d + "[j])) { " + p + " = false; break outer; } } } ";
            else {
                i += " var itemIndices = {}, item; for (;i--;) { var item = " + d + "[i]; ";
                var m = "checkDataType" + (f ? "s" : "");
                i += " if (" + e.util[m](g, "item", !0) + ") continue; ",
                f && (i += " if (typeof item == 'string') item = '\"' + item; "),
                i += " if (typeof itemIndices[item] == 'number') { " + p + " = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "
            }
            i += " } ",
            h && (i += "  }  "),
            i += " if (!" + p + ") {   ";
            var y = y || [];
            y.push(i),
            i = "",
            !1 !== e.createErrors ? (i += " { keyword: 'uniqueItems' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(c) + " , params: { i: i, j: j } ",
            !1 !== e.opts.messages && (i += " , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),
            e.opts.verbose && (i += " , schema:  ",
            i += h ? "validate.schema" + l : "" + s,
            i += "         , parentSchema: validate.schema" + e.schemaPath + " , data: " + d + " "),
            i += " } ") : i += " {} ";
            var _ = i;
            i = y.pop(),
            !e.compositeRule && u ? e.async ? i += " throw new ValidationError([" + _ + "]); " : i += " validate.errors = [" + _ + "]; return false; " : i += " var err = " + _ + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            i += " } ",
            u && (i += " else { ")
        } else
            u && (i += " if (true) { ");
        return i
    }
}
, function(e, t, r) {
    var n = ["multipleOf", "maximum", "exclusiveMaximum", "minimum", "exclusiveMinimum", "maxLength", "minLength", "pattern", "additionalItems", "maxItems", "minItems", "uniqueItems", "maxProperties", "minProperties", "required", "additionalProperties", "enum", "format", "const"];
    e.exports = function(e, t) {
        for (var r = 0; r < t.length; r++) {
            e = JSON.parse(JSON.stringify(e));
            var i, o = t[r].split("/"), a = e;
            for (i = 1; i < o.length; i++)
                a = a[o[i]];
            for (i = 0; i < n.length; i++) {
                var s = n[i]
                  , l = a[s];
                l && (a[s] = {
                    anyOf: [l, {
                        $ref: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"
                    }]
                })
            }
        }
        return e
    }
}
, function(e, t, r) {
    var n = r(111).MissingRef;
    e.exports = function compileAsync(e, t, r) {
        var i = this;
        if ("function" != typeof this._opts.loadSchema)
            throw new Error("options.loadSchema should be a function");
        "function" == typeof t && (r = t,
        t = void 0);
        var o = loadMetaSchemaOf(e).then((function() {
            var r = i._addSchema(e, void 0, t);
            return r.validate || function _compileAsync(e) {
                try {
                    return i._compile(e)
                } catch (r) {
                    if (r instanceof n)
                        return function loadMissingSchema(r) {
                            var n = r.missingSchema;
                            if (added(n))
                                throw new Error("Schema " + n + " is loaded but " + r.missingRef + " cannot be resolved");
                            var o = i._loadingSchemas[n];
                            return o || (o = i._loadingSchemas[n] = i._opts.loadSchema(n)).then(removePromise, removePromise),
                            o.then((function(e) {
                                if (!added(n))
                                    return loadMetaSchemaOf(e).then((function() {
                                        added(n) || i.addSchema(e, n, void 0, t)
                                    }
                                    ))
                            }
                            )).then((function() {
                                return _compileAsync(e)
                            }
                            ));
                            function removePromise() {
                                delete i._loadingSchemas[n]
                            }
                            function added(e) {
                                return i._refs[e] || i._schemas[e]
                            }
                        }(r);
                    throw r
                }
            }(r)
        }
        ));
        return r && o.then((function(e) {
            r(null, e)
        }
        ), r),
        o;
        function loadMetaSchemaOf(e) {
            var t = e.$schema;
            return t && !i.getSchema(t) ? compileAsync.call(i, {
                $ref: t
            }, !0) : Promise.resolve()
        }
    }
}
, function(e, t, r) {
    var n = /^[a-z_$][a-z0-9_$-]*$/i
      , i = r(258)
      , o = r(259);
    e.exports = {
        add: function addKeyword(e, t) {
            var r = this.RULES;
            if (r.keywords[e])
                throw new Error("Keyword " + e + " is already defined");
            if (!n.test(e))
                throw new Error("Keyword " + e + " is not a valid identifier");
            if (t) {
                this.validateKeyword(t, !0);
                var o = t.type;
                if (Array.isArray(o))
                    for (var a = 0; a < o.length; a++)
                        _addRule(e, o[a], t);
                else
                    _addRule(e, o, t);
                var s = t.metaSchema;
                s && (t.$data && this._opts.$data && (s = {
                    anyOf: [s, {
                        $ref: "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"
                    }]
                }),
                t.validateSchema = this.compile(s, !0))
            }
            function _addRule(e, t, n) {
                for (var o, a = 0; a < r.length; a++) {
                    var s = r[a];
                    if (s.type == t) {
                        o = s;
                        break
                    }
                }
                o || (o = {
                    type: t,
                    rules: []
                },
                r.push(o));
                var l = {
                    keyword: e,
                    definition: n,
                    custom: !0,
                    code: i,
                    implements: n.implements
                };
                o.rules.push(l),
                r.custom[e] = l
            }
            return r.keywords[e] = r.all[e] = !0,
            this
        },
        get: function getKeyword(e) {
            var t = this.RULES.custom[e];
            return t ? t.definition : this.RULES.keywords[e] || !1
        },
        remove: function removeKeyword(e) {
            var t = this.RULES;
            delete t.keywords[e],
            delete t.all[e],
            delete t.custom[e];
            for (var r = 0; r < t.length; r++)
                for (var n = t[r].rules, i = 0; i < n.length; i++)
                    if (n[i].keyword == e) {
                        n.splice(i, 1);
                        break
                    }
            return this
        },
        validate: function validateKeyword(e, t) {
            validateKeyword.errors = null;
            var r = this._validateKeyword = this._validateKeyword || this.compile(o, !0);
            if (r(e))
                return !0;
            if (validateKeyword.errors = r.errors,
            t)
                throw new Error("custom keyword definition is invalid: " + this.errorsText(r.errors));
            return !1
        }
    }
}
, function(e, t, r) {
    e.exports = function generate_custom(e, t, r) {
        var n, i, o = " ", a = e.level, s = e.dataLevel, l = e.schema[t], c = e.schemaPath + e.util.getProperty(t), u = e.errSchemaPath + "/" + t, d = !e.opts.allErrors, p = "data" + (s || ""), h = "valid" + a, g = "errs__" + a, f = e.opts.$data && l && l.$data;
        f ? (o += " var schema" + a + " = " + e.util.getData(l.$data, s, e.dataPathArr) + "; ",
        i = "schema" + a) : i = l;
        var m, y, _, v, b, w = "definition" + a, S = this.definition, C = "";
        if (f && S.$data) {
            b = "keywordValidate" + a;
            var A = S.validateSchema;
            o += " var " + w + " = RULES.custom['" + t + "'].definition; var " + b + " = " + w + ".validate;"
        } else {
            if (!(v = e.useCustomRule(this, l, e.schema, e)))
                return;
            i = "validate.schema" + c,
            b = v.code,
            m = S.compile,
            y = S.inline,
            _ = S.macro
        }
        var k = b + ".errors"
          , E = "i" + a
          , I = "ruleErr" + a
          , B = S.async;
        if (B && !e.async)
            throw new Error("async keyword in sync schema");
        if (y || _ || (o += k + " = null;"),
        o += "var " + g + " = errors;var " + h + ";",
        f && S.$data && (C += "}",
        o += " if (" + i + " === undefined) { " + h + " = true; } else { ",
        A && (C += "}",
        o += " " + h + " = " + w + ".validateSchema(" + i + "); if (" + h + ") { ")),
        y)
            S.statements ? o += " " + v.validate + " " : o += " " + h + " = " + v.validate + "; ";
        else if (_) {
            var x = e.util.copy(e);
            C = "",
            x.level++;
            var P = "valid" + x.level;
            x.schema = v.validate,
            x.schemaPath = "";
            var T = e.compositeRule;
            e.compositeRule = x.compositeRule = !0;
            var M = e.validate(x).replace(/validate\.schema/g, b);
            e.compositeRule = x.compositeRule = T,
            o += " " + M
        } else {
            (R = R || []).push(o),
            o = "",
            o += "  " + b + ".call( ",
            e.opts.passContext ? o += "this" : o += "self",
            m || !1 === S.schema ? o += " , " + p + " " : o += " , " + i + " , " + p + " , validate.schema" + e.schemaPath + " ",
            o += " , (dataPath || '')",
            '""' != e.errorPath && (o += " + " + e.errorPath);
            var O = s ? "data" + (s - 1 || "") : "parentData"
              , z = s ? e.dataPathArr[s] : "parentDataProperty"
              , L = o += " , " + O + " , " + z + " , rootData )  ";
            o = R.pop(),
            !1 === S.errors ? (o += " " + h + " = ",
            B && (o += "await "),
            o += L + "; ") : o += B ? " var " + (k = "customErrors" + a) + " = null; try { " + h + " = await " + L + "; } catch (e) { " + h + " = false; if (e instanceof ValidationError) " + k + " = e.errors; else throw e; } " : " " + k + " = null; " + h + " = " + L + "; "
        }
        if (S.modifying && (o += " if (" + O + ") " + p + " = " + O + "[" + z + "];"),
        o += "" + C,
        S.valid)
            d && (o += " if (true) { ");
        else {
            var R;
            o += " if ( ",
            void 0 === S.valid ? (o += " !",
            o += _ ? "" + P : "" + h) : o += " " + !S.valid + " ",
            o += ") { ",
            n = this.keyword,
            (R = R || []).push(o),
            o = "",
            (R = R || []).push(o),
            o = "",
            !1 !== e.createErrors ? (o += " { keyword: '" + (n || "custom") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { keyword: '" + this.keyword + "' } ",
            !1 !== e.opts.messages && (o += " , message: 'should pass \"" + this.keyword + "\" keyword validation' "),
            e.opts.verbose && (o += " , schema: validate.schema" + c + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "),
            o += " } ") : o += " {} ";
            var D = o;
            o = R.pop(),
            !e.compositeRule && d ? e.async ? o += " throw new ValidationError([" + D + "]); " : o += " validate.errors = [" + D + "]; return false; " : o += " var err = " + D + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            var U = o;
            o = R.pop(),
            y ? S.errors ? "full" != S.errors && (o += "  for (var " + E + "=" + g + "; " + E + "<errors; " + E + "++) { var " + I + " = vErrors[" + E + "]; if (" + I + ".dataPath === undefined) " + I + ".dataPath = (dataPath || '') + " + e.errorPath + "; if (" + I + ".schemaPath === undefined) { " + I + '.schemaPath = "' + u + '"; } ',
            e.opts.verbose && (o += " " + I + ".schema = " + i + "; " + I + ".data = " + p + "; "),
            o += " } ") : !1 === S.errors ? o += " " + U + " " : (o += " if (" + g + " == errors) { " + U + " } else {  for (var " + E + "=" + g + "; " + E + "<errors; " + E + "++) { var " + I + " = vErrors[" + E + "]; if (" + I + ".dataPath === undefined) " + I + ".dataPath = (dataPath || '') + " + e.errorPath + "; if (" + I + ".schemaPath === undefined) { " + I + '.schemaPath = "' + u + '"; } ',
            e.opts.verbose && (o += " " + I + ".schema = " + i + "; " + I + ".data = " + p + "; "),
            o += " } } ") : _ ? (o += "   var err =   ",
            !1 !== e.createErrors ? (o += " { keyword: '" + (n || "custom") + "' , dataPath: (dataPath || '') + " + e.errorPath + " , schemaPath: " + e.util.toQuotedString(u) + " , params: { keyword: '" + this.keyword + "' } ",
            !1 !== e.opts.messages && (o += " , message: 'should pass \"" + this.keyword + "\" keyword validation' "),
            e.opts.verbose && (o += " , schema: validate.schema" + c + " , parentSchema: validate.schema" + e.schemaPath + " , data: " + p + " "),
            o += " } ") : o += " {} ",
            o += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
            !e.compositeRule && d && (e.async ? o += " throw new ValidationError(vErrors); " : o += " validate.errors = vErrors; return false; ")) : !1 === S.errors ? o += " " + U + " " : (o += " if (Array.isArray(" + k + ")) { if (vErrors === null) vErrors = " + k + "; else vErrors = vErrors.concat(" + k + "); errors = vErrors.length;  for (var " + E + "=" + g + "; " + E + "<errors; " + E + "++) { var " + I + " = vErrors[" + E + "]; if (" + I + ".dataPath === undefined) " + I + ".dataPath = (dataPath || '') + " + e.errorPath + ";  " + I + '.schemaPath = "' + u + '";  ',
            e.opts.verbose && (o += " " + I + ".schema = " + i + "; " + I + ".data = " + p + "; "),
            o += " } } else { " + U + " } "),
            o += " } ",
            d && (o += " else { ")
        }
        return o
    }
}
, function(e, t, r) {
    var n = r(139);
    e.exports = {
        $id: "https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",
        definitions: {
            simpleTypes: n.definitions.simpleTypes
        },
        type: "object",
        dependencies: {
            schema: ["validate"],
            $data: ["validate"],
            statements: ["inline"],
            valid: {
                not: {
                    required: ["macro"]
                }
            }
        },
        properties: {
            type: n.properties.type,
            schema: {
                type: "boolean"
            },
            statements: {
                type: "boolean"
            },
            dependencies: {
                type: "array",
                items: {
                    type: "string"
                }
            },
            metaSchema: {
                type: "object"
            },
            modifying: {
                type: "boolean"
            },
            valid: {
                type: "boolean"
            },
            $data: {
                type: "boolean"
            },
            async: {
                type: "boolean"
            },
            errors: {
                anyOf: [{
                    type: "boolean"
                }, {
                    const: "full"
                }]
            }
        }
    }
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQCQM4GMAWBTAtgQygLmkgLvgA7YD0pAVnAPYB2AtIqpgHTUBOA5qQCbsYAzfPQAMAdlJN0GAMRQANOEiwAljxx5CROGVL8A7i04r8SAK4AjM3BTsEdfClr4W9tKRRFqF2ygBeANYqtKQYFABupJhwjuykADYqFnooAnC8GPgYLFR0coqQ0DwoiOwqRPgqdBpQALIoWYzI0mACHGAwPJkYYOypvrQIKGAAFABSAMoA8gByYBPNmGAoAB6OtHBVtGBE7NRecBjxAJQKShBQ+ACeRCg13hQoCPhnhVB9AI5mKn3quADa0E63SgYAAugVlLt9rZKiUNKBCm9gVkEeckW9rrcajEyrROK8MUioBhaFcpgINP90USkcBoG12JgXrh3ih4pkVOEUPRcgwvMFYqCAL7yMA02mQelQRnMmp8+gC5y2EUSjFgtVgYXo0Xokk8HgmLZHAAKe1u7DhcA0AiONhA2qAA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4WAUABFEEQC4E8AOBTGAuWB7ARgKxQGM4YAacaWAJxQEcBXASxoBMMIBtAXXMmhgCGLFoziMsAOwEAbAApUsqKmJQBndnCr0U4AL7ggA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    var n = r(60)
      , i = r(129)
      , o = [].reverse
      , a = [1, 2];
    n({
        target: "Array",
        proto: !0,
        forced: String(a) === String(a.reverse())
    }, {
        reverse: function reverse() {
            return i(this) && (this.length = this.length),
            o.call(this)
        }
    })
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t, r) {
    e.exports = JSON.parse(r(28).decompressX64("N4KABBYEQC4J4AcCmUBc0D2AjAVkgxjFADTiRQBOSAjgK4CWVAJmmANoC6pk0Ahk03ox6GAHa8ANgAUKGZBWFIAzqxgVaSEAF8QQA"))
}
, function(e, t) {}
, function(e, t, r) {
    var n = r(71)
      , i = "[" + r(141) + "]"
      , o = RegExp("^" + i + i + "*")
      , a = RegExp(i + i + "*$")
      , s = function(e) {
        return function(t) {
            var r = String(n(t));
            return 1 & e && (r = r.replace(o, "")),
            2 & e && (r = r.replace(a, "")),
            r
        }
    };
    e.exports = {
        start: s(1),
        end: s(2),
        trim: s(3)
    }
}
, function(e, t, r) {
    var n = r(44)
      , i = r(141);
    e.exports = function(e) {
        return n((function() {
            return !!i[e]() || "\u200b\x85\u180e" != "\u200b\x85\u180e"[e]() || i[e].name !== e
        }
        ))
    }
}
, function(e, t, r) {
    var n = {
        "./belt.js": 41,
        "./belt_reader.js": 65,
        "./belt_underlays.js": 38,
        "./constant_signal.js": 43,
        "./display.js": 77,
        "./filter.js": 66,
        "./goal_acceptor.js": 54,
        "./hub.js": 62,
        "./item_acceptor.js": 24,
        "./item_ejector.js": 25,
        "./item_processor.js": 7,
        "./item_producer.js": 48,
        "./lever.js": 53,
        "./logic_gate.js": 17,
        "./miner.js": 52,
        "./static_map_entity.js": 35,
        "./storage.js": 63,
        "./underground_belt.js": 29,
        "./wire.js": 21,
        "./wire_tunnel.js": 64,
        "./wired_pins.js": 8
    };
    function webpackContext(e) {
        var t = webpackContextResolve(e);
        return r(t)
    }
    function webpackContextResolve(e) {
        if (!r.o(n, e)) {
            var t = new Error("Cannot find module '" + e + "'");
            throw t.code = "MODULE_NOT_FOUND",
            t
        }
        return n[e]
    }
    webpackContext.keys = function webpackContextKeys() {
        return Object.keys(n)
    }
    ,
    webpackContext.resolve = webpackContextResolve,
    e.exports = webpackContext,
    webpackContext.id = 276
}
, function(e, t, r) {
    r.r(t);
    var n = {
        searchParams: "URLSearchParams"in self,
        iterable: "Symbol"in self && "iterator"in Symbol,
        blob: "FileReader"in self && "Blob"in self && function() {
            try {
                return new Blob,
                !0
            } catch (e) {
                return !1
            }
        }(),
        formData: "FormData"in self,
        arrayBuffer: "ArrayBuffer"in self
    };
    if (n.arrayBuffer)
        var i = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"]
          , o = ArrayBuffer.isView || function(e) {
            return e && i.indexOf(Object.prototype.toString.call(e)) > -1
        }
        ;
    function normalizeName(e) {
        if ("string" != typeof e && (e = String(e)),
        /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))
            throw new TypeError("Invalid character in header field name");
        return e.toLowerCase()
    }
    function normalizeValue(e) {
        return "string" != typeof e && (e = String(e)),
        e
    }
    function iteratorFor(e) {
        var t = {
            next: function() {
                var t = e.shift();
                return {
                    done: void 0 === t,
                    value: t
                }
            }
        };
        return n.iterable && (t[Symbol.iterator] = function() {
            return t
        }
        ),
        t
    }
    function Headers(e) {
        this.map = {},
        e instanceof Headers ? e.forEach((function(e, t) {
            this.append(t, e)
        }
        ), this) : Array.isArray(e) ? e.forEach((function(e) {
            this.append(e[0], e[1])
        }
        ), this) : e && Object.getOwnPropertyNames(e).forEach((function(t) {
            this.append(t, e[t])
        }
        ), this)
    }
    function consumed(e) {
        if (e.bodyUsed)
            return Promise.reject(new TypeError("Already read"));
        e.bodyUsed = !0
    }
    function fileReaderReady(e) {
        return new Promise((function(t, r) {
            e.onload = function() {
                t(e.result)
            }
            ,
            e.onerror = function() {
                r(e.error)
            }
        }
        ))
    }
    function readBlobAsArrayBuffer(e) {
        var t = new FileReader
          , r = fileReaderReady(t);
        return t.readAsArrayBuffer(e),
        r
    }
    function bufferClone(e) {
        if (e.slice)
            return e.slice(0);
        var t = new Uint8Array(e.byteLength);
        return t.set(new Uint8Array(e)),
        t.buffer
    }
    function Body() {
        return this.bodyUsed = !1,
        this._initBody = function(e) {
            this._bodyInit = e,
            e ? "string" == typeof e ? this._bodyText = e : n.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : n.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : n.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : n.arrayBuffer && n.blob && function isDataView(e) {
                return e && DataView.prototype.isPrototypeOf(e)
            }(e) ? (this._bodyArrayBuffer = bufferClone(e.buffer),
            this._bodyInit = new Blob([this._bodyArrayBuffer])) : n.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || o(e)) ? this._bodyArrayBuffer = bufferClone(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = "",
            this.headers.get("content-type") || ("string" == typeof e ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : n.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
        }
        ,
        n.blob && (this.blob = function() {
            var e = consumed(this);
            if (e)
                return e;
            if (this._bodyBlob)
                return Promise.resolve(this._bodyBlob);
            if (this._bodyArrayBuffer)
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
            if (this._bodyFormData)
                throw new Error("could not read FormData body as blob");
            return Promise.resolve(new Blob([this._bodyText]))
        }
        ,
        this.arrayBuffer = function() {
            return this._bodyArrayBuffer ? consumed(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(readBlobAsArrayBuffer)
        }
        ),
        this.text = function() {
            var e = consumed(this);
            if (e)
                return e;
            if (this._bodyBlob)
                return function readBlobAsText(e) {
                    var t = new FileReader
                      , r = fileReaderReady(t);
                    return t.readAsText(e),
                    r
                }(this._bodyBlob);
            if (this._bodyArrayBuffer)
                return Promise.resolve(function readArrayBufferAsText(e) {
                    for (var t = new Uint8Array(e), r = new Array(t.length), n = 0; n < t.length; n++)
                        r[n] = String.fromCharCode(t[n]);
                    return r.join("")
                }(this._bodyArrayBuffer));
            if (this._bodyFormData)
                throw new Error("could not read FormData body as text");
            return Promise.resolve(this._bodyText)
        }
        ,
        n.formData && (this.formData = function() {
            return this.text().then(decode)
        }
        ),
        this.json = function() {
            return this.text().then(JSON.parse)
        }
        ,
        this
    }
    Headers.prototype.append = function(e, t) {
        e = normalizeName(e),
        t = normalizeValue(t);
        var r = this.map[e];
        this.map[e] = r ? r + ", " + t : t
    }
    ,
    Headers.prototype.delete = function(e) {
        delete this.map[normalizeName(e)]
    }
    ,
    Headers.prototype.get = function(e) {
        return e = normalizeName(e),
        this.has(e) ? this.map[e] : null
    }
    ,
    Headers.prototype.has = function(e) {
        return this.map.hasOwnProperty(normalizeName(e))
    }
    ,
    Headers.prototype.set = function(e, t) {
        this.map[normalizeName(e)] = normalizeValue(t)
    }
    ,
    Headers.prototype.forEach = function(e, t) {
        for (var r in this.map)
            this.map.hasOwnProperty(r) && e.call(t, this.map[r], r, this)
    }
    ,
    Headers.prototype.keys = function() {
        var e = [];
        return this.forEach((function(t, r) {
            e.push(r)
        }
        )),
        iteratorFor(e)
    }
    ,
    Headers.prototype.values = function() {
        var e = [];
        return this.forEach((function(t) {
            e.push(t)
        }
        )),
        iteratorFor(e)
    }
    ,
    Headers.prototype.entries = function() {
        var e = [];
        return this.forEach((function(t, r) {
            e.push([r, t])
        }
        )),
        iteratorFor(e)
    }
    ,
    n.iterable && (Headers.prototype[Symbol.iterator] = Headers.prototype.entries);
    var a = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
    function Request(e, t) {
        var r = (t = t || {}).body;
        if (e instanceof Request) {
            if (e.bodyUsed)
                throw new TypeError("Already read");
            this.url = e.url,
            this.credentials = e.credentials,
            t.headers || (this.headers = new Headers(e.headers)),
            this.method = e.method,
            this.mode = e.mode,
            this.signal = e.signal,
            r || null == e._bodyInit || (r = e._bodyInit,
            e.bodyUsed = !0)
        } else
            this.url = String(e);
        if (this.credentials = t.credentials || this.credentials || "same-origin",
        !t.headers && this.headers || (this.headers = new Headers(t.headers)),
        this.method = function normalizeMethod(e) {
            var t = e.toUpperCase();
            return a.indexOf(t) > -1 ? t : e
        }(t.method || this.method || "GET"),
        this.mode = t.mode || this.mode || null,
        this.signal = t.signal || this.signal,
        this.referrer = null,
        ("GET" === this.method || "HEAD" === this.method) && r)
            throw new TypeError("Body not allowed for GET or HEAD requests");
        this._initBody(r)
    }
    function decode(e) {
        var t = new FormData;
        return e.trim().split("&").forEach((function(e) {
            if (e) {
                var r = e.split("=")
                  , n = r.shift().replace(/\+/g, " ")
                  , i = r.join("=").replace(/\+/g, " ");
                t.append(decodeURIComponent(n), decodeURIComponent(i))
            }
        }
        )),
        t
    }
    function Response(e, t) {
        t || (t = {}),
        this.type = "default",
        this.status = void 0 === t.status ? 200 : t.status,
        this.ok = this.status >= 200 && this.status < 300,
        this.statusText = "statusText"in t ? t.statusText : "OK",
        this.headers = new Headers(t.headers),
        this.url = t.url || "",
        this._initBody(e)
    }
    Request.prototype.clone = function() {
        return new Request(this,{
            body: this._bodyInit
        })
    }
    ,
    Body.call(Request.prototype),
    Body.call(Response.prototype),
    Response.prototype.clone = function() {
        return new Response(this._bodyInit,{
            status: this.status,
            statusText: this.statusText,
            headers: new Headers(this.headers),
            url: this.url
        })
    }
    ,
    Response.error = function() {
        var e = new Response(null,{
            status: 0,
            statusText: ""
        });
        return e.type = "error",
        e
    }
    ;
    var s = [301, 302, 303, 307, 308];
    Response.redirect = function(e, t) {
        if (-1 === s.indexOf(t))
            throw new RangeError("Invalid status code");
        return new Response(null,{
            status: t,
            headers: {
                location: e
            }
        })
    }
    ;
    var l = self.DOMException;
    try {
        new l
    } catch (Nl) {
        (l = function(e, t) {
            this.message = e,
            this.name = t;
            var r = Error(e);
            this.stack = r.stack
        }
        ).prototype = Object.create(Error.prototype),
        l.prototype.constructor = l
    }
    function fetch_fetch(e, t) {
        return new Promise((function(r, i) {
            var o = new Request(e,t);
            if (o.signal && o.signal.aborted)
                return i(new l("Aborted","AbortError"));
            var a = new XMLHttpRequest;
            function abortXhr() {
                a.abort()
            }
            a.onload = function() {
                var e, t, n = {
                    status: a.status,
                    statusText: a.statusText,
                    headers: (e = a.getAllResponseHeaders() || "",
                    t = new Headers,
                    e.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach((function(e) {
                        var r = e.split(":")
                          , n = r.shift().trim();
                        if (n) {
                            var i = r.join(":").trim();
                            t.append(n, i)
                        }
                    }
                    )),
                    t)
                };
                n.url = "responseURL"in a ? a.responseURL : n.headers.get("X-Request-URL");
                var i = "response"in a ? a.response : a.responseText;
                r(new Response(i,n))
            }
            ,
            a.onerror = function() {
                i(new TypeError("Network request failed"))
            }
            ,
            a.ontimeout = function() {
                i(new TypeError("Network request failed"))
            }
            ,
            a.onabort = function() {
                i(new l("Aborted","AbortError"))
            }
            ,
            a.open(o.method, o.url, !0),
            "include" === o.credentials ? a.withCredentials = !0 : "omit" === o.credentials && (a.withCredentials = !1),
            "responseType"in a && n.blob && (a.responseType = "blob"),
            o.headers.forEach((function(e, t) {
                a.setRequestHeader(t, e)
            }
            )),
            o.signal && (o.signal.addEventListener("abort", abortXhr),
            a.onreadystatechange = function() {
                4 === a.readyState && o.signal.removeEventListener("abort", abortXhr)
            }
            ),
            a.send(void 0 === o._bodyInit ? null : o._bodyInit)
        }
        ))
    }
    function polyfills_ref(e) {
        return e * Math.PI / 180
    }
    function polyfills_ref2(e) {
        return 180 * e / Math.PI
    }
    function _padStart(e, t) {
        return e >>= 0,
        t = String(void 0 !== t ? t : " "),
        this.length >= e ? String(this) : ((e -= this.length) > t.length && (t += t.repeat(e / t.length)),
        t.slice(0, e) + String(this))
    }
    function _padEnd(e, t) {
        return e >>= 0,
        t = String(void 0 !== t ? t : " "),
        this.length > e ? String(this) : ((e -= this.length) > t.length && (t += t.repeat(e / t.length)),
        String(this) + t.slice(0, e))
    }
    function polyfills_ref3(e, t) {
        return this.split(e).join(t)
    }
    fetch_fetch.polyfill = !0,
    self.fetch || (self.fetch = fetch_fetch,
    self.Headers = Headers,
    self.Request = Request,
    self.Response = Response),
    function initPolyfills() {
        !function mathPolyfills() {
            Math.radians = polyfills_ref,
            Math.degrees = polyfills_ref2
        }(),
        function stringPolyfills() {
            String.prototype.padStart || (String.prototype.padStart = _padStart),
            String.prototype.padEnd || (String.prototype.padEnd = _padEnd)
        }(),
        function objectPolyfills() {
            var e = Function.bind.call(Function.call, Array.prototype.reduce)
              , t = Function.bind.call(Function.call, Object.prototype.propertyIsEnumerable)
              , r = Function.bind.call(Function.call, Array.prototype.concat)
              , n = Reflect.ownKeys;
            Object.values || (Object.values = function _values(i) {
                return e(n(i), (e, n) => r(e, "string" == typeof n && t(i, n) ? [i[n]] : []), [])
            }
            ),
            Object.entries || (Object.entries = function _entries(i) {
                return e(n(i), (e, n) => r(e, "string" == typeof n && t(i, n) ? [[n, i[n]]] : []), [])
            }
            )
        }()
    }(),
    function initExtensions() {
        String.prototype.replaceAll = polyfills_ref3
    }(),
    r(11);
    var c = r(4)
      , u = Object(c.a)("assert")
      , d = !1;
    function assert_ref(e, ...t) {
        if (!e)
            throw u.error("assertion failed:", ...t),
            d || (d = !0),
            new Error("AssertionError: " + t.join(" "))
    }
    !function initAssert() {
        window.assert = assert_ref
    }();
    var p = r(1)
      , h = !1;
    window.onerror = function catchErrors(e, t, r, n, i) {
        var o = JSON.parse(Object(c.d)({
            message: e,
            source: t,
            lineno: r,
            colno: n,
            error: i
        }));
        if (("" + e).indexOf("Script error.") >= 0)
            console.warn("Thirdparty script error:", e);
        else if (("" + e).indexOf("NS_ERROR_FAILURE") >= 0)
            console.warn("Firefox NS_ERROR_FAILURE error:", e);
        else if (("" + e).indexOf("Cannot read property 'postMessage' of null") >= 0)
            console.warn("Safari can not read post message error:", e);
        else if (("" + t).indexOf("shapez.io") < 0)
            console.warn("Thirdparty error:", e);
        else {
            if (console.log("\n\n\n\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\n\n\n"),
            console.log("          APPLICATION CRASHED             "),
            console.log("\n\n\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f\n\n\n"),
            Object(c.c)("APPLICATION CRASH", "#e53935"),
            console.error("Error:", e, "->", i),
            console.log("Payload:", o),
            window.Sentry && !window.anyModLoaded && window.Sentry.withScope((function _ref(a) {
                window.Sentry.setTag("message", e),
                window.Sentry.setTag("source", t),
                window.Sentry.setExtra("message", e),
                window.Sentry.setExtra("source", t),
                window.Sentry.setExtra("lineno", r),
                window.Sentry.setExtra("colno", n),
                window.Sentry.setExtra("error", i),
                window.Sentry.setExtra("fullPayload", o);
                try {
                    var s = window.localStorage.getItem("tracking_context") || null;
                    window.Sentry.setTag("username", s)
                } catch (l) {}
                window.Sentry.captureException(i || t)
            }
            )),
            !h) {
                h = !0;
                var a = document.createElement("div");
                a.id = "applicationError";
                var s = document.createElement("h1");
                s.innerText = "Whoops!",
                a.appendChild(s);
                var l = document.createElement("div");
                l.classList.add("desc"),
                l.innerHTML = 'It seems the application crashed - I am sorry for that!<br /><br />An anonymized crash report has been sent, and I will have a look as soon as possible.<br /><br />If you have additional information how I can reproduce this error, please E-Mail me:&nbsp;<a href="mailto:bugs@shapez.io?title=Application+Crash">bugs@shapez.io</a>',
                a.appendChild(l);
                var u = document.createElement("pre");
                u.classList.add("details"),
                u.innerText = i && i.stack || e,
                a.appendChild(u);
                var d = function() {
                    Object(p.C)(document.body),
                    document.body.parentElement ? document.body.parentElement.appendChild(a) : document.body.appendChild(a)
                };
                return document.body ? d() : setTimeout((function _ref2() {
                    d()
                }
                ), 200),
                !0
            }
            console.warn("ERROR: Only showing and submitting first error")
        }
    }
    ;
    var g = r(3)
      , f = "file_not_found";
    function _StorageInterface(e) {
        this.app = e
    }
    function _initialize() {
        return window.assert(!1, "abstract method called"),
        Promise.reject()
    }
    function _writeFileAsync(e, t) {
        return window.assert(!1, "abstract method called"),
        Promise.reject()
    }
    function _readFileAsync(e) {
        return window.assert(!1, "abstract method called"),
        Promise.reject()
    }
    function _deleteFileAsync(e) {
        return Promise.reject()
    }
    var m = function() {
        var e = _StorageInterface.prototype;
        return e.initialize = _initialize,
        e.writeFileAsync = _writeFileAsync,
        e.readFileAsync = _readFileAsync,
        e.deleteFileAsync = _deleteFileAsync,
        _StorageInterface
    }()
      , y = Object(c.a)("storage/browserIDB");
    function storage_indexed_db_ref2(e, t) {
        var r = window.indexedDB.open("app_storage", 10);
        function _ref(e) {
            y.error("IDB transaction error:", e),
            t("Indexed DB transaction error during migration, check console output.")
        }
        r.onerror = e => {
            y.error("IDB error:", e),
            alert("Sorry, it seems your browser has blocked the access to the storage system. This might be the case if you are browsing in private mode for example. I recommend to use google chrome or disable private browsing."),
            t("Indexed DB access error")
        }
        ,
        r.onsuccess = t => e(t.target.result),
        r.onupgradeneeded = t => {
            var r = t.target.result
              , n = r.createObjectStore("files", {
                keyPath: "filename"
            });
            n.createIndex("filename", "filename", {
                unique: !0
            }),
            n.transaction.onerror = _ref,
            n.transaction.oncomplete = t => {
                y.log("Object store completely initialized"),
                e(r)
            }
        }
    }
    function storage_indexed_db_initialize() {
        return y.log("Using indexed DB storage"),
        new Promise(storage_indexed_db_ref2).then(e => {
            this.database = e
        }
        )
    }
    function storage_indexed_db_writeFileAsync(e, t) {
        if (this.currentBusyFilename === e && y.warn("Attempt to write", e, "while write process is not finished!"),
        !this.database)
            return Promise.reject("Storage not ready");
        this.currentBusyFilename = e;
        var r = this.database.transaction(["files"], "readwrite");
        return new Promise( (n, i) => {
            r.oncomplete = () => {
                this.currentBusyFilename = null,
                n()
            }
            ,
            r.onerror = t => {
                this.currentBusyFilename = null,
                y.error("Error while writing", e, ":", t),
                i(t)
            }
            ,
            r.objectStore("files").put({
                filename: e,
                contents: t
            })
        }
        )
    }
    function storage_indexed_db_readFileAsync(e) {
        if (!this.database)
            return Promise.reject("Storage not ready");
        this.currentBusyFilename = e;
        var t = this.database.transaction(["files"], "readonly");
        return new Promise( (r, n) => {
            var i = t.objectStore("files").get(e);
            i.onsuccess = e => {
                this.currentBusyFilename = null,
                i.result ? r(i.result.contents) : n(f)
            }
            ,
            i.onerror = t => {
                this.currentBusyFilename = null,
                y.error("Error while reading", e, ":", t),
                n(t)
            }
        }
        )
    }
    function storage_indexed_db_deleteFileAsync(e) {
        if (this.currentBusyFilename === e && y.warn("Attempt to delete", e, "while write progres on it is ongoing!"),
        !this.database)
            return Promise.reject("Storage not ready");
        this.currentBusyFilename = e;
        var t = this.database.transaction(["files"], "readwrite");
        return new Promise( (r, n) => {
            t.oncomplete = () => {
                this.currentBusyFilename = null,
                r()
            }
            ,
            t.onerror = t => {
                this.currentBusyFilename = null,
                y.error("Error while deleting", e, ":", t),
                n(t)
            }
            ,
            t.objectStore("files").delete(e)
        }
        )
    }
    var _ = function(e) {
        function StorageImplBrowserIndexedDB(t) {
            var r;
            return (r = e.call(this, t) || this).currentBusyFilename = !1,
            r.database = null,
            r
        }
        !function _inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(StorageImplBrowserIndexedDB, e);
        var t = StorageImplBrowserIndexedDB.prototype;
        return t.initialize = storage_indexed_db_initialize,
        t.writeFileAsync = storage_indexed_db_writeFileAsync,
        t.readFileAsync = storage_indexed_db_readFileAsync,
        t.deleteFileAsync = storage_indexed_db_deleteFileAsync,
        StorageImplBrowserIndexedDB
    }(m)
      , v = r(5)
      , b = {
        appBooted: new v.b,
        modifyLevelDefinitions: new v.b,
        modifyUpgrades: new v.b,
        hudElementInitialized: new v.b,
        hudElementFinalized: new v.b,
        hudInitializer: new v.b,
        gameInitialized: new v.b,
        gameLoadingStageEntered: new v.b,
        gameStarted: new v.b,
        stateEntered: new v.b,
        gameSerialized: new v.b,
        gameDeserialized: new v.b
    };
    r(61),
    r(30);
    var w = r(9)
      , S = r(32)
      , C = r(0)
      , A = Object(c.a)("sound")
      , k = {
        uiClick: "ui_click",
        uiError: "ui_error",
        dialogError: "dialog_error",
        dialogOk: "dialog_ok",
        swishHide: "ui_swish_hide",
        swishShow: "ui_swish_show",
        badgeNotification: "badge_notification",
        levelComplete: "level_complete",
        destroyBuilding: "destroy_building",
        placeBuilding: "place_building",
        placeBelt: "place_belt",
        copy: "copy"
    }
      , E = {
        theme: "theme-short",
        menu: "menu"
    };
    function _SoundInstanceInterfa(e, t) {
        this.key = e,
        this.url = t
    }
    function _load() {
        return window.assert(!1, "abstract method called"),
        Promise.resolve()
    }
    function _play(e) {
        window.assert(!1, "abstract method called")
    }
    function _deinitialize() {}
    var I = function() {
        var e = _SoundInstanceInterfa.prototype;
        return e.load = _load,
        e.play = _play,
        e.deinitialize = _deinitialize,
        _SoundInstanceInterfa
    }();
    function _MusicInstanceInterfa(e, t) {
        this.key = e,
        this.url = t
    }
    function _stop() {
        window.assert(!1, "abstract method called")
    }
    function _play2(e) {
        window.assert(!1, "abstract method called")
    }
    function _setVolume(e) {
        window.assert(!1, "abstract method called")
    }
    function _load2() {
        return window.assert(!1, "abstract method called"),
        Promise.resolve()
    }
    function _isPlaying() {
        return window.assert(!1, "abstract method called"),
        !1
    }
    function _deinitialize2() {}
    var B = function() {
        var e = _MusicInstanceInterfa.prototype;
        return e.stop = _stop,
        e.play = _play2,
        e.setVolume = _setVolume,
        e.load = _load2,
        e.isPlaying = _isPlaying,
        e.deinitialize = _deinitialize2,
        _MusicInstanceInterfa
    }();
    function _SoundInterface(e, t, r) {
        this.app = e,
        this.soundClass = t,
        this.musicClass = r,
        this.sounds = Object(p.z)(),
        this.music = Object(p.z)(),
        this.currentMusic = null,
        this.pageIsVisible = !0,
        this.musicVolume = 1,
        this.soundVolume = 1
    }
    function sound_initialize() {
        for (var e in k) {
            var t = k[e]
              , r = new this.soundClass(e,t);
            this.sounds[t] = r
        }
        for (var n in E) {
            var i = E[n]
              , o = new this.musicClass(n,i);
            this.music[i] = o
        }
        return this.musicVolume = this.app.settings.getAllSettings().musicVolume,
        this.soundVolume = this.app.settings.getAllSettings().soundVolume,
        Promise.resolve()
    }
    function _loadSound(e) {
        return this.sounds[e] ? this.sounds[e].load() : this.music[e] ? this.music[e].load() : (A.error("Sound/Music by key not found:", e),
        Promise.resolve())
    }
    function _deinitialize3() {
        var e = [];
        for (var t in this.sounds)
            e.push(this.sounds[t].deinitialize());
        for (var r in this.music)
            e.push(this.music[r].deinitialize());
        return Promise.all(...e)
    }
    function _getMusicVolume() {
        return this.musicVolume
    }
    function _getSoundVolume() {
        return this.soundVolume
    }
    function _setMusicVolume(e) {
        this.musicVolume = Object(p.d)(e, 0, 1),
        this.currentMusic && this.currentMusic.setVolume(this.musicVolume)
    }
    function _setSoundVolume(e) {
        this.soundVolume = Object(p.d)(e, 0, 1)
    }
    function _onPageRenderableStat(e) {
        this.pageIsVisible = e,
        this.currentMusic && (e ? this.currentMusic.isPlaying() || this.currentMusic.play(this.musicVolume) : this.currentMusic.stop())
    }
    function _playUiSound(e) {
        this.sounds[e] ? this.sounds[e].play(this.soundVolume) : A.warn("Sound", e, "not found, probably not loaded yet")
    }
    function _play3DSound(e, t, r) {
        if (this.sounds[e]) {
            if (this.pageIsVisible && !r.time.getIsPaused()) {
                var n = this.soundVolume;
                r.camera.isWorldPointOnScreen(t) || (n = this.soundVolume / 5),
                n *= Object(p.d)(r.camera.zoomLevel / 3),
                this.sounds[e].play(Object(p.d)(n))
            }
        } else
            A.warn("Music", e, "not found, probably not loaded yet")
    }
    function _playThemeMusic(e) {
        var t = this.music[e];
        null === e || t || A.warn("Music", e, "not found"),
        this.currentMusic !== t && (this.currentMusic && (A.log("Stopping", this.currentMusic.key),
        this.currentMusic.stop()),
        this.currentMusic = t,
        t && this.pageIsVisible && (A.log("Starting", this.currentMusic.key),
        t.play(this.musicVolume)))
    }
    var x = function() {
        var e = _SoundInterface.prototype;
        return e.initialize = sound_initialize,
        e.loadSound = _loadSound,
        e.deinitialize = _deinitialize3,
        e.getMusicVolume = _getMusicVolume,
        e.getSoundVolume = _getSoundVolume,
        e.setMusicVolume = _setMusicVolume,
        e.setSoundVolume = _setSoundVolume,
        e.onPageRenderableStateChanged = _onPageRenderableStat,
        e.playUiSound = _playUiSound,
        e.play3DSound = _play3DSound,
        e.playThemeMusic = _playThemeMusic,
        _SoundInterface
    }()
      , P = r(35)
      , T = r(12)
      , M = r(16)
      , O = r(20)
      , z = "default";
    function meta_building_MetaBuilding(e) {
        this.id = e
    }
    function _getAllVariantCombina() {
        throw new Error("implement getAllVariantCombinations")
    }
    function _getId() {
        return this.id
    }
    function _getLayer() {
        return "regular"
    }
    function _getDimensions(e=z) {
        return new C.a(1,1)
    }
    function _getHasDirectionLockA() {
        return !1
    }
    function _getStayInPlacementMo() {
        return !1
    }
    function _getSpecialOverlayRen(e, t, r, n) {
        return null
    }
    function _getAdditionalStatist(e, t) {
        return []
    }
    function _getIsReplaceable() {
        return !1
    }
    function _getFlipOrientationAf() {
        return !1
    }
    function _getShowWiresLayerPre() {
        return !1
    }
    function _getRotateAutomatical(e) {
        return !1
    }
    function _getIsRemovable(e) {
        return !0
    }
    function _getPlacementSound() {
        return k.placeBuilding
    }
    function _getAvailableVariants(e) {
        return [z]
    }
    function _getPreviewSprite(e=0, t=z) {
        return w.a.getSprite("sprites/buildings/" + this.id + (t === z ? "" : "-" + t) + ".png")
    }
    function _getBlueprintSprite(e=0, t=z) {
        return w.a.getSprite("sprites/blueprints/" + this.id + (t === z ? "" : "-" + t) + ".png")
    }
    function _getIsRotateable() {
        return !0
    }
    function _getIsUnlocked(e) {
        return !0
    }
    function _getSilhouetteColor(e, t) {
        return null
    }
    function _getRenderPins() {
        return !0
    }
    function _createEntity({root: e, origin: t, rotation: r, originalRotation: n, rotationVariant: i, variant: o}) {
        var a = new T.a(e);
        return a.layer = this.getLayer(),
        a.addComponent(new P.StaticMapEntityComponent({
            origin: new C.a(t.x,t.y),
            rotation: r,
            originalRotation: n,
            tileSize: this.getDimensions(o).copy(),
            code: Object(O.d)(this, o, i)
        })),
        this.setupEntityComponents(a, e),
        this.updateVariants(a, i, o),
        a
    }
    function _getSprite(e, t) {
        return w.a.getSprite("sprites/buildings/" + this.id + (t === z ? "" : "-" + t) + ".png")
    }
    function _computeOptimalDirect({root: e, tile: t, rotation: r, variant: n, layer: i}) {
        return this.getIsRotateable() ? {
            rotation: r,
            rotationVariant: 0
        } : {
            rotation: 0,
            rotationVariant: 0
        }
    }
    function _updateVariants(e, t, r) {}
    function _setupEntityComponent(e, t) {
        window.assert(!1, "abstract method called")
    }
    var L = function() {
        meta_building_MetaBuilding.getAllVariantCombinations = _getAllVariantCombina;
        var e = meta_building_MetaBuilding.prototype;
        return e.getId = _getId,
        e.getLayer = _getLayer,
        e.getDimensions = _getDimensions,
        e.getHasDirectionLockAvailable = _getHasDirectionLockA,
        e.getStayInPlacementMode = _getStayInPlacementMo,
        e.getSpecialOverlayRenderMatrix = _getSpecialOverlayRen,
        e.getAdditionalStatistics = _getAdditionalStatist,
        e.getIsReplaceable = _getIsReplaceable,
        e.getFlipOrientationAfterPlacement = _getFlipOrientationAf,
        e.getShowWiresLayerPreview = _getShowWiresLayerPre,
        e.getRotateAutomaticallyWhilePlacing = _getRotateAutomatical,
        e.getIsRemovable = _getIsRemovable,
        e.getPlacementSound = _getPlacementSound,
        e.getAvailableVariants = _getAvailableVariants,
        e.getPreviewSprite = _getPreviewSprite,
        e.getBlueprintSprite = _getBlueprintSprite,
        e.getIsRotateable = _getIsRotateable,
        e.getIsUnlocked = _getIsUnlocked,
        e.getSilhouetteColor = _getSilhouetteColor,
        e.getRenderPins = _getRenderPins,
        e.createEntity = _createEntity,
        e.getSprite = _getSprite,
        e.computeOptimalDirectionAndRotationVariantAtTile = _computeOptimalDirect,
        e.updateVariants = _updateVariants,
        e.setupEntityComponents = _setupEntityComponent,
        meta_building_MetaBuilding
    }()
      , R = r(13)
      , D = r(46)
      , U = r(2)
      , F = r(10)
      , j = r(76)
      , V = (r(26),
    r(19))
      , H = r(34)
      , G = r(23)
      , W = Object(c.a)("map_chunk")
      , N = {};
    function map_chunk_MapChunk(e, t, r) {
        this.root = e,
        this.x = t,
        this.y = r,
        this.tileX = t * g.e.mapChunkSize,
        this.tileY = r * g.e.mapChunkSize,
        this.lowerLayer = Object(p.v)(g.e.mapChunkSize, g.e.mapChunkSize),
        this.contents = Object(p.v)(g.e.mapChunkSize, g.e.mapChunkSize),
        this.wireContents = Object(p.v)(g.e.mapChunkSize, g.e.mapChunkSize),
        this.containedEntities = [],
        this.worldSpaceRectangle = new G.a(32 * this.tileX,32 * this.tileY,g.e.mapChunkWorldSize,g.e.mapChunkWorldSize),
        this.tileSpaceRectangle = new G.a(this.tileX,this.tileY,g.e.mapChunkSize,g.e.mapChunkSize),
        this.containedEntitiesByLayer = {
            regular: [],
            wires: []
        },
        this.patches = [],
        this.generateLowerLayer()
    }
    function _internalGeneratePatc(e, t, r, n=null, i=null) {
        var o = Math.ceil(t / 2 + 3)
          , a = e.nextIntRange(o, g.e.mapChunkSize - o - 1)
          , s = e.nextIntRange(o, g.e.mapChunkSize - o - 1);
        null !== n && (a = n),
        null !== i && (s = i);
        for (var l = new C.a(0,0), c = 0, u = t, d = 0; d <= u; ++d)
            for (var p = Math.min(1 + d, t), h = p * p, f = (u - d) / 2 + 2, m = e.nextRange(.9, 1.1), y = e.nextRange(.9, 1.1), _ = a + e.nextIntRange(-f, f), v = s + e.nextIntRange(-f, f), b = -p * m - 2; b <= p * m + 2; ++b)
                for (var w = -p * y - 2; w <= p * y + 2; ++w) {
                    var S = Math.round(_ + b)
                      , A = Math.round(v + w);
                    if (S >= 0 && S < g.e.mapChunkSize && A >= 0 && A <= g.e.mapChunkSize) {
                        var k = b / m
                          , E = w / y;
                        k * k + E * E <= h && (this.lowerLayer[S][A] || (this.lowerLayer[S][A] = r,
                        ++c,
                        l.x += S,
                        l.y += A))
                    }
                }
        this.patches.push({
            pos: l.divideScalar(c),
            item: r,
            size: t
        })
    }
    function _internalGenerateColo(e, t, r) {
        var n = [V.c.red, V.c.green];
        r > 2 && n.push(V.c.blue),
        this.internalGeneratePatch(e, t, H.a[e.choice(n)])
    }
    function _internalGenerateShap(e, t, r) {
        var n = null
          , i = {};
        for (var o in i = {
            [R.d.rect]: 100,
            [R.d.circle]: Math.round(50 + Object(p.d)(2 * r, 0, 50)),
            [R.d.star]: Math.round(20 + Object(p.d)(r, 0, 30)),
            [R.d.windmill]: Math.round(6 + Object(p.d)(r / 2, 0, 20))
        },
        N)
            i[o] = N[o](r);
        if (r < 7 && (i[R.d.star] = 0,
        i[R.d.windmill] = 0),
        r < 10) {
            var a = this.internalGenerateRandomSubShape(e, i);
            n = [a, a, a, a]
        } else if (r < 15) {
            var s = this.internalGenerateRandomSubShape(e, i)
              , l = this.internalGenerateRandomSubShape(e, i);
            n = [s, s, l, l]
        } else
            n = [this.internalGenerateRandomSubShape(e, i), this.internalGenerateRandomSubShape(e, i), this.internalGenerateRandomSubShape(e, i), this.internalGenerateRandomSubShape(e, i)];
        for (var c = 0, u = 0; u < n.length; ++u)
            n[u] === R.d.windmill && ++c;
        c > 1 && (n[0] = R.d.rect,
        n[1] = R.d.rect);
        var d = this.root.shapeDefinitionMgr.getDefinitionFromSimpleShapes(n);
        this.internalGeneratePatch(e, t, this.root.shapeDefinitionMgr.getShapeItemFromDefinition(d))
    }
    function map_chunk_ref(e, t) {
        return e + t
    }
    function _internalGenerateRand(e, t) {
        var r = Object.values(t).reduce(map_chunk_ref, 0)
          , n = e.nextIntRange(0, r - 1)
          , i = 0;
        for (var o in t) {
            var a = t[o];
            if (i + a > n)
                return o;
            i += a
        }
        return W.error("Failed to find matching shape in chunk generation"),
        R.d.circle
    }
    function _generateLowerLayer() {
        var e = new j.a(this.x + "|" + this.y + "|" + this.root.map.seed);
        if (!this.generatePredefined(e)) {
            var t = new C.a(this.x,this.y).addScalar(.5)
              , r = Math.round(t.length());
            this.generatePatches({
                rng: e,
                chunkCenter: t,
                distanceToOriginInChunks: r
            })
        }
    }
    function _generatePatches({rng: e, chunkCenter: t, distanceToOriginInChunks: r}) {
        var n = .9 - .5 * Object(p.d)(r / 25, 0, 1);
        if (e.next() < n / 4) {
            var i = Math.max(2, Math.round(1 + Object(p.d)(r / 8, 0, 4)));
            this.internalGenerateColorPatch(e, i, r)
        }
        var o = .9 - .5 * Object(p.d)(r / 25, 0, 1);
        if (e.next() < o / 4) {
            var a = Math.max(2, Math.round(1 + Object(p.d)(r / 8, 0, 4)));
            this.internalGenerateShapePatch(e, a, r)
        }
    }
    function _generatePredefined(e) {
        if (0 === this.x && 0 === this.y)
            return this.internalGeneratePatch(e, 2, H.a[V.c.red], 7, 7),
            !0;
        if (-1 === this.x && 0 === this.y) {
            var t = this.root.shapeDefinitionMgr.getShapeItemFromShortKey("CuCuCuCu");
            return this.internalGeneratePatch(e, 2, t, g.e.mapChunkSize - 9, 7),
            !0
        }
        if (0 === this.x && -1 === this.y) {
            var r = this.root.shapeDefinitionMgr.getShapeItemFromShortKey("RuRuRuRu");
            return this.internalGeneratePatch(e, 2, r, 5, g.e.mapChunkSize - 7),
            !0
        }
        if (-1 === this.x && -1 === this.y)
            return this.internalGeneratePatch(e, 2, H.a[V.c.green]),
            !0;
        if (5 === this.x && -2 === this.y) {
            var n = this.root.shapeDefinitionMgr.getShapeItemFromShortKey("SuSuSuSu");
            return this.internalGeneratePatch(e, 2, n, 5, g.e.mapChunkSize - 7),
            !0
        }
        return !1
    }
    function _getLowerLayerFromWor(e, t) {
        var r = e - this.tileX
          , n = t - this.tileY;
        return this.lowerLayer[r][n] || null
    }
    function _getTileContentFromWo(e, t) {
        var r = e - this.tileX
          , n = t - this.tileY;
        return this.contents[r][n] || null
    }
    function _getLayerContentFromW(e, t, r) {
        var n = e - this.tileX
          , i = t - this.tileY;
        return "regular" === r ? this.contents[n][i] || null : this.wireContents[n][i] || null
    }
    function _getLayersContentsMul(e, t) {
        var r = e - this.tileX
          , n = t - this.tileY
          , i = this.contents[r][n]
          , o = this.wireContents[r][n]
          , a = [];
        return i && a.push(i),
        o && a.push(o),
        a
    }
    function _getTileContentFromLo(e, t) {
        return this.contents[e][t] || null
    }
    function _setLayerContentFromW(e, t, r, n) {
        var i, o = e - this.tileX, a = t - this.tileY;
        (i = "regular" === n ? this.contents[o][a] : this.wireContents[o][a]) && (Object(p.h)(this.containedEntities, i),
        Object(p.h)(this.containedEntitiesByLayer[n], i)),
        "regular" === n ? this.contents[o][a] = r : this.wireContents[o][a] = r,
        r && (this.containedEntities.indexOf(r) < 0 && this.containedEntities.push(r),
        this.containedEntitiesByLayer[n].indexOf(r) < 0 && this.containedEntitiesByLayer[n].push(r))
    }
    var q = function() {
        var e = map_chunk_MapChunk.prototype;
        return e.internalGeneratePatch = _internalGeneratePatc,
        e.internalGenerateColorPatch = _internalGenerateColo,
        e.internalGenerateShapePatch = _internalGenerateShap,
        e.internalGenerateRandomSubShape = _internalGenerateRand,
        e.generateLowerLayer = _generateLowerLayer,
        e.generatePatches = _generatePatches,
        e.generatePredefined = _generatePredefined,
        e.getLowerLayerFromWorldCoords = _getLowerLayerFromWor,
        e.getTileContentFromWorldCoords = _getTileContentFromWo,
        e.getLayerContentFromWorldCoords = _getLayerContentFromW,
        e.getLayersContentsMultipleFromWorldCoords = _getLayersContentsMul,
        e.getTileContentFromLocalCoords = _getTileContentFromLo,
        e.setLayerContentFromWorldCords = _setLayerContentFromW,
        map_chunk_MapChunk
    }()
      , K = r(22)
      , Q = r(67)
      , Y = r(41)
      , J = r(14)
      , Z = [C.d.top, C.d.left, C.d.right]
      , X = {
        [C.d.top]: Object(p.q)([0, 1, 0, 0, 1, 0, 0, 1, 0]),
        [C.d.left]: Object(p.q)([0, 0, 0, 1, 1, 0, 0, 1, 0]),
        [C.d.right]: Object(p.q)([0, 0, 0, 0, 1, 1, 0, 1, 0])
    };
    function belt_getAllVariantCombina() {
        return [{
            internalId: 1,
            variant: z,
            rotationVariant: 0
        }, {
            internalId: 2,
            variant: z,
            rotationVariant: 1
        }, {
            internalId: 3,
            variant: z,
            rotationVariant: 2
        }]
    }
    function belt_getSilhouetteColor() {
        return J.a.map.chunkOverview.beltColor
    }
    function belt_getPlacementSound() {
        return k.placeBelt
    }
    function belt_getHasDirectionLockA() {
        return !0
    }
    function belt_getStayInPlacementMo() {
        return !0
    }
    function belt_getRotateAutomatical() {
        return !0
    }
    function belt_getSprite() {
        return null
    }
    function belt_getIsReplaceable() {
        return !0
    }
    function belt_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        var r = e.hubGoals.getBeltBaseSpeed();
        return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(r)]]
    }
    function belt_getPreviewSprite(e) {
        switch (Z[e]) {
        case C.d.top:
            return w.a.getSprite("sprites/buildings/belt_top.png");
        case C.d.left:
            return w.a.getSprite("sprites/buildings/belt_left.png");
        case C.d.right:
            return w.a.getSprite("sprites/buildings/belt_right.png");
        default:
            window.assert(!1, "Invalid belt rotation variant")
        }
    }
    function belt_getBlueprintSprite(e) {
        switch (Z[e]) {
        case C.d.top:
            return w.a.getSprite("sprites/blueprints/belt_top.png");
        case C.d.left:
            return w.a.getSprite("sprites/blueprints/belt_left.png");
        case C.d.right:
            return w.a.getSprite("sprites/blueprints/belt_right.png");
        default:
            window.assert(!1, "Invalid belt rotation variant")
        }
    }
    function belt_getSpecialOverlayRen(e, t, r, n) {
        return X[n.components.Belt.direction][e]
    }
    function belt_setupEntityComponent(e) {
        e.addComponent(new Y.BeltComponent({
            direction: C.d.top
        }))
    }
    function belt_updateVariants(e, t) {
        e.components.Belt.direction = Z[t]
    }
    function belt_computeOptimalDirect({root: e, tile: t, rotation: r, variant: n, layer: i}) {
        for (var o = C.c[r], a = C.c[(r + 90) % 360], s = C.c[(r + 180) % 360], l = C.c[(r + 270) % 360], {ejectors: c, acceptors: u} = e.logic.getEjectorsAndAcceptorsAtTile(t), d = !1, p = !1, h = !1, g = !1, f = !1, m = !1, y = 0; y < c.length; ++y) {
            var _ = c[y];
            _.toDirection === o ? d = !0 : _.toDirection === l ? p = !0 : _.toDirection === a && (h = !0)
        }
        for (var v = 0; v < u.length; ++v) {
            var b = u[v];
            b.fromDirection === s ? g = !0 : b.fromDirection === a ? f = !0 : b.fromDirection === l && (m = !0)
        }
        if (!d) {
            if (p && !h)
                return {
                    rotation: (r + 270) % 360,
                    rotationVariant: 2
                };
            if (h && !p)
                return {
                    rotation: (r + 90) % 360,
                    rotationVariant: 1
                }
        }
        if (!g) {
            if (m && !f)
                return {
                    rotation: r,
                    rotationVariant: 2
                };
            if (f && !m)
                return {
                    rotation: r,
                    rotationVariant: 1
                }
        }
        return {
            rotation: r,
            rotationVariant: 0
        }
    }
    var $ = function(e) {
        function MetaBeltBuilding() {
            return e.call(this, "belt") || this
        }
        !function belt_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaBeltBuilding, e),
        MetaBeltBuilding.getAllVariantCombinations = belt_getAllVariantCombina;
        var t = MetaBeltBuilding.prototype;
        return t.getSilhouetteColor = belt_getSilhouetteColor,
        t.getPlacementSound = belt_getPlacementSound,
        t.getHasDirectionLockAvailable = belt_getHasDirectionLockA,
        t.getStayInPlacementMode = belt_getStayInPlacementMo,
        t.getRotateAutomaticallyWhilePlacing = belt_getRotateAutomatical,
        t.getSprite = belt_getSprite,
        t.getIsReplaceable = belt_getIsReplaceable,
        t.getAdditionalStatistics = belt_getAdditionalStatist,
        t.getPreviewSprite = belt_getPreviewSprite,
        t.getBlueprintSprite = belt_getBlueprintSprite,
        t.getSpecialOverlayRenderMatrix = belt_getSpecialOverlayRen,
        t.setupEntityComponents = belt_setupEntityComponent,
        t.updateVariants = belt_updateVariants,
        t.computeOptimalDirectionAndRotationVariantAtTile = belt_computeOptimalDirect,
        MetaBeltBuilding
    }(L);
    function game_system_GameSystem(e) {
        this.root = e
    }
    function _update() {}
    function _draw(e) {}
    function _refreshCaches() {}
    function _startDraw(e) {
        this.draw(e)
    }
    var ee = function() {
        var e = game_system_GameSystem.prototype;
        return e.update = _update,
        e.draw = _draw,
        e.refreshCaches = _refreshCaches,
        e.startDraw = _startDraw,
        game_system_GameSystem
    }();
    function _assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    function game_system_with_filter_ref(e) {
        return e.getId()
    }
    function _internalPushEntityIf(e) {
        for (var t = 0; t < this.requiredComponentIds.length; ++t)
            if (!e.components[this.requiredComponentIds[t]])
                return;
        this.internalRegisterEntity(e)
    }
    function _internalCheckEntityA(e) {
        if (!(this.allEntities.indexOf(e) < 0))
            for (var t = 0; t < this.requiredComponentIds.length; ++t)
                e.components[this.requiredComponentIds[t]] || Object(p.c)(this.allEntities, e)
    }
    function _internalReconsiderEn(e) {
        for (var t = 0; t < this.requiredComponentIds.length; ++t)
            if (!e.components[this.requiredComponentIds[t]])
                return;
        this.allEntities.indexOf(e) >= 0 || this.internalRegisterEntity(e)
    }
    function game_system_with_filter_ref2(e, t) {
        return e.uid - t.uid
    }
    function game_system_with_filter_refreshCaches() {
        for (var e = 0; e < this.allEntities.length; ++e) {
            var t = this.allEntities[e];
            (t.queuedForDestroy || t.destroyed) && (this.allEntities.splice(e, 1),
            e -= 1)
        }
        this.allEntities.sort(game_system_with_filter_ref2)
    }
    function _internalPostLoadHook() {
        this.refreshCaches()
    }
    function game_system_with_filter_ref3(e, t) {
        return e.uid - t.uid
    }
    function _internalRegisterEnti(e) {
        this.allEntities.push(e),
        this.root.gameInitialized && !this.root.bulkOperationRunning && this.allEntities.sort(game_system_with_filter_ref3)
    }
    function _internalPopEntityIfM(e) {
        if (!this.root.bulkOperationRunning) {
            var t = this.allEntities.indexOf(e);
            t >= 0 && Object(p.b)(this.allEntities, t)
        }
    }
    var te = function(e) {
        function GameSystemWithFilter(t, r) {
            var n;
            return (n = e.call(this, t) || this).requiredComponents = r,
            n.requiredComponentIds = r.map(game_system_with_filter_ref),
            n.allEntities = [],
            n.root.signals.entityAdded.add(n.internalPushEntityIfMatching, _assertThisInitialized(n)),
            n.root.signals.entityGotNewComponent.add(n.internalReconsiderEntityToAdd, _assertThisInitialized(n)),
            n.root.signals.entityComponentRemoved.add(n.internalCheckEntityAfterComponentRemoval, _assertThisInitialized(n)),
            n.root.signals.entityQueuedForDestroy.add(n.internalPopEntityIfMatching, _assertThisInitialized(n)),
            n.root.signals.postLoadHook.add(n.internalPostLoadHook, _assertThisInitialized(n)),
            n.root.signals.bulkOperationFinished.add(n.refreshCaches, _assertThisInitialized(n)),
            n
        }
        !function game_system_with_filter_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(GameSystemWithFilter, e);
        var t = GameSystemWithFilter.prototype;
        return t.internalPushEntityIfMatching = _internalPushEntityIf,
        t.internalCheckEntityAfterComponentRemoval = _internalCheckEntityA,
        t.internalReconsiderEntityToAdd = _internalReconsiderEn,
        t.refreshCaches = game_system_with_filter_refreshCaches,
        t.internalPostLoadHook = _internalPostLoadHook,
        t.internalRegisterEntity = _internalRegisterEnti,
        t.internalPopEntityIfMatching = _internalPopEntityIfM,
        GameSystemWithFilter
    }(ee)
      , re = 3
      , ne = {
        backgroundLayerBefore: [],
        backgroundLayerAfter: [],
        foregroundDynamicBefore: [],
        foregroundDynamicAfter: [],
        staticBefore: [],
        staticAfter: []
    }
      , ie = window[[108, 111, 99, 97, 116, 105, 111, 110].map(e => String.fromCharCode(e)).join("")][[104, 111, 115, 116].map(e => String.fromCharCode(e)).join("")].split(":")[0];
    function map_chunk_view_ref(e) {
        return String.fromCharCode(e)
    }
    var oe = [[108, 111, 99, 97, 108, 104, 111, 115, 116], [99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [99, 111, 111, 108, 109, 97, 116, 104, 46, 99, 111, 109], [99, 111, 111, 108, 109, 97, 116, 104, 52, 107, 105, 100, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 52, 107, 105, 100, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [101, 100, 105, 116, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [119, 119, 119, 46, 115, 116, 97, 103, 101, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [101, 100, 105, 116, 45, 115, 116, 97, 103, 101, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [100, 101, 118, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109]].map(e => e.map(map_chunk_view_ref).join("")).some(e => ie === e);
    function _markDirty() {
        ++this.renderIteration,
        this.renderKey = this.x + "/" + this.y + "@" + this.renderIteration,
        this.root.map.getAggregateForChunk(this.x, this.y, !0).markDirty(this.x, this.y)
    }
    function _drawBackgroundLayer(e) {
        if (oe) {
            var t = this.root.systemMgr.systems;
            ne.backgroundLayerBefore.forEach(r => t[r].drawChunk(e, this)),
            t.zone && t.zone.drawChunk(e, this),
            this.root.gameMode.hasResources() && t.mapResources.drawChunk(e, this),
            t.beltUnderlays.drawChunk(e, this),
            t.belt.drawChunk(e, this),
            ne.backgroundLayerAfter.forEach(r => t[r].drawChunk(e, this))
        }
    }
    function _drawForegroundDynami(e) {
        if (oe) {
            var t = this.root.systemMgr.systems;
            ne.foregroundDynamicBefore.forEach(r => t[r].drawChunk(e, this)),
            t.itemEjector.drawChunk(e, this),
            t.itemAcceptor.drawChunk(e, this),
            t.miner.drawChunk(e, this),
            ne.foregroundDynamicAfter.forEach(r => t[r].drawChunk(e, this))
        }
    }
    function _drawForegroundStatic(e) {
        if (oe) {
            var t = this.root.systemMgr.systems;
            ne.staticBefore.forEach(r => t[r].drawChunk(e, this)),
            t.staticMapEntities.drawChunk(e, this),
            t.lever.drawChunk(e, this),
            t.display.drawChunk(e, this),
            t.storage.drawChunk(e, this),
            t.constantProducer.drawChunk(e, this),
            t.goalAcceptor.drawChunk(e, this),
            t.itemProcessorOverlays.drawChunk(e, this),
            ne.staticAfter.forEach(r => t[r].drawChunk(e, this))
        }
    }
    function _drawOverlayPatches(e, t, r, n) {
        for (var i = 0; i < this.patches.length; ++i) {
            var o = this.patches[i];
            if ("shape" === o.item.getItemType()) {
                var a = t + 32 * o.pos.x
                  , s = r + 32 * o.pos.y;
                o.item.drawItemCenteredClipped(a, s, e, n)
            }
        }
    }
    function _drawSingleWiresOverv({context: e, x: t, y: r, entity: n, tileSizePixels: i, overrideColor: o=null}) {
        var a = n.components.StaticMapEntity
          , s = Object(O.c)(a.code)
          , l = s.metaInstance
          , c = l.getSpecialOverlayRenderMatrix(a.rotation, s.rotationVariant, s.variant, n);
        if (e.fillStyle = o || l.getSilhouetteColor(s.variant, s.rotationVariant),
        c)
            for (var u = 0; u < 3; ++u)
                for (var d = 0; d < 3; ++d)
                    c[u + 3 * d] && e.fillRect(t + u * i / re, r + d * i / re, i / re, i / re);
        else
            e.fillRect(t, r, i, i)
    }
    function _drawWiresForegroundL(e) {
        var t = this.root.systemMgr.systems;
        t.wire.drawChunk(e, this),
        t.staticMapEntities.drawWiresChunk(e, this),
        t.wiredPins.drawChunk(e, this)
    }
    oe || (re = 0);
    var ae = function(e) {
        function MapChunkView(t, r, n) {
            var i;
            return (i = e.call(this, t, r, n) || this).renderIteration = 0,
            i.markDirty(),
            i
        }
        !function map_chunk_view_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MapChunkView, e);
        var t = MapChunkView.prototype;
        return t.markDirty = _markDirty,
        t.drawBackgroundLayer = _drawBackgroundLayer,
        t.drawForegroundDynamicLayer = _drawForegroundDynami,
        t.drawForegroundStaticLayer = _drawForegroundStatic,
        t.drawOverlayPatches = _drawOverlayPatches,
        t.generateOverlayBuffer = function generateOverlayBuffer(e, t, r, n, i) {
            e.fillStyle = this.containedEntities.length > 0 ? J.a.map.chunkOverview.filled : J.a.map.chunkOverview.empty,
            e.fillRect(n, i, t, r),
            this.root.app.settings.getAllSettings().displayChunkBorders && (e.fillStyle = J.a.map.chunkBorders,
            e.fillRect(n, i, t, 1),
            e.fillRect(n, i + 1, 1, r));
            for (var o = 0; o < g.e.mapChunkSize; ++o)
                for (var a = this.lowerLayer[o], s = this.contents[o], l = 0; l < g.e.mapChunkSize; ++l) {
                    var c = s[l];
                    if (c) {
                        var u = c.components.StaticMapEntity
                          , d = Object(O.c)(u.code)
                          , p = d.metaInstance
                          , h = p.getSpecialOverlayRenderMatrix(u.rotation, d.rotationVariant, d.variant, c);
                        if (h) {
                            var f = a[l];
                            f && (e.fillStyle = f.getBackgroundColorAsResource(),
                            e.fillRect(n + o * re, i + l * re, re, re)),
                            e.fillStyle = p.getSilhouetteColor(d.variant, d.rotationVariant);
                            for (var m = 0; m < 3; ++m)
                                for (var y = 0; y < 3; ++y)
                                    h[m + 3 * y] && e.fillRect(n + o * re + m, i + l * re + y, 1, 1);
                            continue
                        }
                        e.fillStyle = p.getSilhouetteColor(d.variant, d.rotationVariant),
                        e.fillRect(n + o * re, i + l * re, re, re)
                    } else {
                        var _ = a[l];
                        _ && (e.fillStyle = _.getBackgroundColorAsResource(),
                        e.fillRect(n + o * re, i + l * re, re, re))
                    }
                }
            if ("wires" === this.root.currentLayer) {
                e.fillStyle = J.a.map.wires.overlayColor,
                e.fillRect(n, i, t, r);
                for (var v = 0; v < g.e.mapChunkSize; ++v)
                    for (var b = this.wireContents[v], w = 0; w < g.e.mapChunkSize; ++w) {
                        var S = b[w];
                        S && MapChunkView.drawSingleWiresOverviewTile({
                            context: e,
                            x: n + v * re,
                            y: i + w * re,
                            entity: S,
                            tileSizePixels: re
                        })
                    }
            }
        }
        ,
        MapChunkView.drawSingleWiresOverviewTile = _drawSingleWiresOverv,
        t.drawWiresForegroundLayer = _drawWiresForegroundL,
        MapChunkView
    }(q);
    function belt_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    var se = 14
      , le = Object(c.a)("belt");
    function _serializePaths() {
        for (var e = [], t = 0; t < this.beltPaths.length; ++t)
            e.push(this.beltPaths[t].serialize());
        return e
    }
    function _deserializePaths(e) {
        if (!Array.isArray(e))
            return "Belt paths are not an array: " + typeof e;
        for (var t = 0; t < e.length; ++t) {
            var r = Q.a.fromSerialized(this.root, e[t]);
            if (!(r instanceof Q.a))
                return "Failed to create path from belt data: " + r;
            this.beltPaths.push(r)
        }
        0 === this.beltPaths.length ? (le.warn("Recomputing belt paths (most likely the savegame is old or empty)"),
        this.recomputeAllBeltPaths()) : le.warn("Restored", this.beltPaths.length, "belt paths")
    }
    function belt_ref(e) {
        return e.onSurroundingsChanged()
    }
    function _updateSurroundingBel(e) {
        if (this.root.gameInitialized) {
            var t = e.components.StaticMapEntity;
            if (t) {
                for (var r = F.e.findByClass($), n = t.getTileSpaceBounds(), i = n.expandedInAllDirections(1), o = new Set, a = i.x; a < i.right(); ++a)
                    for (var s = i.y; s < i.bottom(); ++s)
                        if (!n.containsPoint(a, s))
                            for (var l = this.root.map.getLayersContentsMultipleXY(a, s), c = 0; c < l.length; ++c) {
                                var u = l[c]
                                  , d = u.components.Belt
                                  , p = u.components.StaticMapEntity;
                                if (d) {
                                    var {rotation: h, rotationVariant: g} = r.computeOptimalDirectionAndRotationVariantAtTile({
                                        root: this.root,
                                        tile: new C.a(a,s),
                                        rotation: p.originalRotation,
                                        variant: z,
                                        layer: u.layer
                                    })
                                      , f = Z[g];
                                    if (!this.root.immutableOperationRunning && (p.rotation !== h || f !== d.direction)) {
                                        var m = d.assignedPath;
                                        this.deleteEntityFromPath(d.assignedPath, u),
                                        p.rotation = h,
                                        r.updateVariants(u, g, z),
                                        p.code = Object(O.d)(r, z, g),
                                        m.onPathChanged(),
                                        this.addEntityToPaths(u),
                                        this.root.signals.entityChanged.dispatch(u)
                                    }
                                    d.assignedPath && o.add(d.assignedPath)
                                }
                            }
                o.forEach(belt_ref)
            }
        }
    }
    function _onEntityDestroyed(e) {
        if (this.root.gameInitialized && e.components.Belt) {
            var t = e.components.Belt.assignedPath;
            this.deleteEntityFromPath(t, e)
        }
    }
    function _deleteEntityFromPath(e, t) {
        if (1 !== e.entityPath.length) {
            if (e.isStartEntity(t))
                e.deleteEntityOnStart(t);
            else if (e.isEndEntity(t))
                e.deleteEntityOnEnd(t);
            else {
                var r = e.deleteEntityOnPathSplitIntoTwo(t);
                this.beltPaths.push(r)
            }
            t.components.Belt.assignedPath = null
        } else
            Object(p.g)(this.beltPaths, e)
    }
    function _addEntityToPaths(e) {
        var t = this.findSupplyingEntity(e)
          , r = this.findFollowUpEntity(e);
        if (t) {
            var n = t.components.Belt.assignedPath;
            if (n.extendOnEnd(e),
            r) {
                var i = r.components.Belt.assignedPath;
                n === i || (n.extendByPath(i),
                Object(p.g)(this.beltPaths, i))
            }
        } else if (r)
            r.components.Belt.assignedPath.extendOnBeginning(e);
        else {
            var o = new Q.a(this.root,[e]);
            this.beltPaths.push(o)
        }
    }
    function _onEntityAdded(e) {
        this.root.gameInitialized && e.components.Belt && this.addEntityToPaths(e)
    }
    function _drawBeltItems(e) {
        for (var t = 0; t < this.beltPaths.length; ++t)
            this.beltPaths[t].draw(e)
    }
    function _debug_verifyBeltPath() {
        for (var e = 0; e < this.beltPaths.length; ++e)
            this.beltPaths[e].debug_checkIntegrity("general-verify");
        for (var t = this.root.entityMgr.getAllWithComponent(Y.BeltComponent), r = 0; r < t.length; ++r) {
            var n = t[r].components.Belt.assignedPath;
            if (!n)
                throw new Error("Belt has no path: " + t[r].uid);
            if (this.beltPaths.indexOf(n) < 0)
                throw new Error("Path of entity not contained: " + t[r].uid)
        }
    }
    function _findFollowUpEntity(e) {
        var t = e.components.StaticMapEntity
          , r = e.components.Belt
          , n = t.localDirectionToWorld(r.direction)
          , i = C.f[n]
          , o = t.origin.add(i)
          , a = this.root.map.getLayerContentXY(o.x, o.y, e.layer);
        return a && a.components.Belt && a.components.StaticMapEntity.localDirectionToWorld(C.d.top) === n ? a : null
    }
    function _findSupplyingEntity(e) {
        var t = e.components.StaticMapEntity
          , r = t.localDirectionToWorld(C.d.bottom)
          , n = C.f[r]
          , i = t.origin.add(n)
          , o = this.root.map.getLayerContentXY(i.x, i.y, e.layer);
        if (o) {
            var a = o.components.Belt;
            if (a && o.components.StaticMapEntity.localDirectionToWorld(C.g[a.direction]) === r)
                return o
        }
        return null
    }
    function _recomputeAllBeltPath() {
        le.warn("Recomputing all belt paths");
        for (var e = new Set, t = [], r = this.root.entityMgr.getAllWithComponent(Y.BeltComponent), n = 0; n < r.length; ++n) {
            var i = r[n];
            if (!e.has(i.uid)) {
                e.add(i.uid);
                for (var o = [i], a = 99999, s = this.findSupplyingEntity(i); s && --a > 0 && !e.has(s.uid); )
                    o.unshift(s),
                    e.add(s.uid),
                    s = this.findSupplyingEntity(s);
                for (var l = this.findFollowUpEntity(i); l && --a > 0 && !e.has(l.uid); )
                    o.push(l),
                    e.add(l.uid),
                    l = this.findFollowUpEntity(l);
                t.push(new Q.a(this.root,o))
            }
        }
        le.log("Found", this.beltPaths.length, "belt paths"),
        this.beltPaths = t
    }
    function belt_update() {
        for (var e = 0; e < this.beltPaths.length; ++e)
            this.beltPaths[e].update()
    }
    function _drawChunk(e, t) {
        var r = Math.min(this.root.hubGoals.getBeltBaseSpeed(), 10)
          , n = Math.floor(this.root.time.realtimeNow() * r * se * 126 / 42 * g.e.itemSpacingOnBelts)
          , i = t.containedEntitiesByLayer.regular;
        if (this.root.app.settings.getAllSettings().simplifiedBelts) {
            var o = null
              , a = this.root.app.mousePosition;
            if (a && "regular" === this.root.currentLayer) {
                var s = this.root.camera.screenToWorld(a).toTileSpace()
                  , l = this.root.map.getLayerContentXY(s.x, s.y, "regular");
                l && l.components.Belt && (o = l.components.Belt.assignedPath)
            }
            for (var c = 0; c < i.length; ++c) {
                var u = i[c];
                if (u.components.Belt) {
                    var d = u.components.Belt.direction
                      , p = this.beltAnimations[d][0];
                    u.components.Belt.assignedPath === o && (p = this.beltAnimations[d][n % se]),
                    u.components.StaticMapEntity.drawSpriteOnBoundsClipped(e, p, 0)
                }
            }
        } else
            for (var h = 0; h < i.length; ++h) {
                var f = i[h];
                if (f.components.Belt) {
                    var m = f.components.Belt.direction
                      , y = this.beltAnimations[m][n % se];
                    f.components.StaticMapEntity.drawSpriteOnBoundsClipped(e, y, 0)
                }
            }
    }
    function _drawBeltPathDebug(e) {
        for (var t = 0; t < this.beltPaths.length; ++t)
            this.beltPaths[t].drawDebug(e)
    }
    var ce = function(e) {
        function BeltSystem(t) {
            var r;
            (r = e.call(this, t) || this).beltSprites = {
                [C.d.top]: w.a.getSprite("sprites/belt/built/forward_0.png"),
                [C.d.left]: w.a.getSprite("sprites/belt/built/left_0.png"),
                [C.d.right]: w.a.getSprite("sprites/belt/built/right_0.png")
            },
            r.beltAnimations = {
                [C.d.top]: [],
                [C.d.left]: [],
                [C.d.right]: []
            };
            for (var n = 0; n < se; ++n)
                r.beltAnimations[C.d.top].push(w.a.getSprite("sprites/belt/built/forward_" + n + ".png")),
                r.beltAnimations[C.d.left].push(w.a.getSprite("sprites/belt/built/left_" + n + ".png")),
                r.beltAnimations[C.d.right].push(w.a.getSprite("sprites/belt/built/right_" + n + ".png"));
            return r.root.signals.entityDestroyed.add(r.onEntityDestroyed, belt_assertThisInitialized(r)),
            r.root.signals.entityDestroyed.add(r.updateSurroundingBeltPlacement, belt_assertThisInitialized(r)),
            r.root.signals.entityAdded.add(r.onEntityAdded, belt_assertThisInitialized(r)),
            r.root.signals.entityAdded.add(r.updateSurroundingBeltPlacement, belt_assertThisInitialized(r)),
            r.beltPaths = [],
            r
        }
        !function systems_belt_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BeltSystem, e);
        var t = BeltSystem.prototype;
        return t.serializePaths = _serializePaths,
        t.deserializePaths = _deserializePaths,
        t.updateSurroundingBeltPlacement = _updateSurroundingBel,
        t.onEntityDestroyed = _onEntityDestroyed,
        t.deleteEntityFromPath = _deleteEntityFromPath,
        t.addEntityToPaths = _addEntityToPaths,
        t.onEntityAdded = _onEntityAdded,
        t.drawBeltItems = _drawBeltItems,
        t.debug_verifyBeltPaths = _debug_verifyBeltPath,
        t.findFollowUpEntity = _findFollowUpEntity,
        t.findSupplyingEntity = _findSupplyingEntity,
        t.recomputeAllBeltPaths = _recomputeAllBeltPath,
        t.update = belt_update,
        t.drawChunk = _drawChunk,
        t.drawBeltPathDebug = _drawBeltPathDebug,
        BeltSystem
    }(ee)
      , ue = (r(18),
    Object(c.a)("stale_areas"));
    function _StaleAreaDetector({root: e, name: t, recomputeMethod: r}) {
        this.root = e,
        this.name = t,
        this.recomputeMethod = r,
        this.staleArea = null
    }
    function _invalidate(e) {
        this.staleArea ? this.staleArea = this.staleArea.getUnion(e) : this.staleArea = e.clone()
    }
    function stale_area_detector_ref(e) {
        return e.getId()
    }
    function _recomputeOnComponent(e, t) {
        var r = e.map(stale_area_detector_ref)
          , n = e => {
            if (this.root.gameInitialized)
                for (var n = 0; n < r.length; ++n)
                    if (e.components[r[n]]) {
                        var i = e.components.StaticMapEntity.getTileSpaceBounds().expandedInAllDirections(t);
                        return void this.invalidate(i)
                    }
        }
        ;
        this.root.signals.entityAdded.add(n),
        this.root.signals.entityChanged.add(n),
        this.root.signals.entityComponentRemoved.add(n),
        this.root.signals.entityGotNewComponent.add(n),
        this.root.signals.entityDestroyed.add(n)
    }
    function stale_area_detector_update() {
        this.staleArea && (ue.log(this.name, "is recomputing", this.staleArea.toString()),
        this.recomputeMethod(this.staleArea),
        this.staleArea = null)
    }
    var de = function() {
        var e = _StaleAreaDetector.prototype;
        return e.invalidate = _invalidate,
        e.recomputeOnComponentsChanged = _recomputeOnComponent,
        e.update = stale_area_detector_update,
        _StaleAreaDetector
    }()
      , pe = r(24)
      , he = r(25);
    function item_ejector_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    var ge = Object(c.a)("systems/ejector");
    function _recomputeArea(e) {
        for (var t = new Set, r = 0; r < e.w; ++r)
            for (var n = 0; n < e.h; ++n) {
                var i = e.x + r
                  , o = e.y + n
                  , a = this.root.map.getLayerContentXY(i, o, "regular");
                a && a.components.ItemEjector && (t.has(a.uid) || (t.add(a.uid),
                this.recomputeSingleEntityCache(a)))
            }
    }
    function _recomputeCacheFull() {
        ge.log("Full cache recompute in post load hook");
        for (var e = 0; e < this.allEntities.length; ++e) {
            var t = this.allEntities[e];
            this.recomputeSingleEntityCache(t)
        }
    }
    function _recomputeSingleEntit(e) {
        for (var t = e.components.ItemEjector, r = e.components.StaticMapEntity, n = 0; n < t.slots.length; ++n) {
            var i = t.slots[n];
            i.cachedDestSlot = null,
            i.cachedTargetEntity = null,
            i.cachedBeltPath = null;
            for (var o = r.localTileToWorld(i.pos), a = r.localDirectionToWorld(i.direction), s = C.f[a], l = o.add(s), c = this.root.map.getLayersContentsMultipleXY(l.x, l.y), u = 0; u < c.length; ++u) {
                var d = c[u]
                  , p = d.components.StaticMapEntity
                  , h = d.components.Belt;
                if (h && a === p.localDirectionToWorld(C.d.top)) {
                    i.cachedTargetEntity = d,
                    i.cachedBeltPath = h.assignedPath;
                    break
                }
                var g = d.components.ItemAcceptor;
                if (g) {
                    var f = g.findMatchingSlot(p.worldToLocalTile(l), p.worldDirectionToLocal(a));
                    if (f) {
                        i.cachedTargetEntity = d,
                        i.cachedDestSlot = f;
                        break
                    }
                }
            }
        }
    }
    function item_ejector_update() {
        this.staleAreaDetector.update();
        for (var e = 2 * this.root.dynamicTickrate.deltaSeconds, t = 0; t < this.allEntities.length; ++t)
            for (var r = this.allEntities[t].components.ItemEjector.slots, n = 0; n < r.length; ++n) {
                var i = r[n]
                  , o = i.item;
                if (o && (i.progress = Math.min(1, i.progress + e * this.root.hubGoals.getBeltBaseSpeed() * g.e.itemSpacingOnBelts),
                !(i.progress < 1))) {
                    var a = i.cachedBeltPath;
                    if (a)
                        a.tryAcceptItem(o) && (i.item = null);
                    else {
                        var s = i.cachedTargetEntity
                          , l = i.cachedDestSlot;
                        if (l) {
                            var c = s.components.ItemAcceptor;
                            if (!c.canAcceptItem(l.index, o))
                                continue;
                            if (this.tryPassOverItem(o, s, l.index)) {
                                this.root.app.settings.getAllSettings().simplifiedBelts || c.onItemAccepted(l.index, l.slot.direction, o),
                                i.item = null;
                                continue
                            }
                        }
                    }
                }
            }
    }
    function _tryPassOverItem(e, t, r) {
        var n = t.components.Belt;
        if (n)
            return !!n.assignedPath.tryAcceptItem(e);
        var i = t.components.ItemProcessor;
        if (i)
            return !!this.root.systemMgr.systems.itemProcessor.checkRequirements(t, e, r) && !!i.tryTakeItem(e, r);
        var o = t.components.UndergroundBelt;
        if (o)
            return !!o.tryAcceptExternalItem(e, this.root.hubGoals.getUndergroundBeltBaseSpeed());
        var a = t.components.Storage;
        return a ? !!a.canAcceptItem(e) && (a.takeItem(e),
        !0) : !(!t.components.Filter || !this.root.systemMgr.systems.filter.tryAcceptItem(t, r, e))
    }
    function item_ejector_drawChunk(e, t) {
        if (!this.root.app.settings.getAllSettings().simplifiedBelts)
            for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
                var i = r[n]
                  , o = i.components.ItemEjector;
                if (o)
                    for (var a = i.components.StaticMapEntity, s = 0; s < o.slots.length; ++s) {
                        var l = o.slots[s]
                          , c = l.item;
                        if (c && (o.renderFloatingItems || l.cachedTargetEntity)) {
                            var u = l.progress
                              , d = l.cachedBeltPath;
                            if (d) {
                                var p = 2 * (.5 + d.spacingToFirstItem - g.e.itemSpacingOnBelts);
                                u = Math.min(p, u)
                            }
                            if (!(u < .05)) {
                                var h = a.localTileToWorld(l.pos);
                                if (t.tileSpaceRectangle.containsPoint(h.x, h.y)) {
                                    var f = a.localDirectionToWorld(l.direction)
                                      , m = C.f[f]
                                      , y = 32 * (h.x + .5 + .5 * m.x * u)
                                      , _ = 32 * (h.y + .5 + .5 * m.y * u);
                                    c.drawItemCenteredClipped(y, _, e, g.e.defaultItemDiameter)
                                }
                            }
                        }
                    }
            }
    }
    var fe = function(e) {
        function ItemEjectorSystem(t) {
            var r;
            return (r = e.call(this, t, [he.ItemEjectorComponent]) || this).staleAreaDetector = new de({
                root: r.root,
                name: "item-ejector",
                recomputeMethod: r.recomputeArea.bind(item_ejector_assertThisInitialized(r))
            }),
            r.staleAreaDetector.recomputeOnComponentsChanged([he.ItemEjectorComponent, pe.ItemAcceptorComponent, Y.BeltComponent], 1),
            r.root.signals.postLoadHook.add(r.recomputeCacheFull, item_ejector_assertThisInitialized(r)),
            r
        }
        !function item_ejector_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemEjectorSystem, e);
        var t = ItemEjectorSystem.prototype;
        return t.recomputeArea = _recomputeArea,
        t.recomputeCacheFull = _recomputeCacheFull,
        t.recomputeSingleEntityCache = _recomputeSingleEntit,
        t.update = item_ejector_update,
        t.tryPassOverItem = _tryPassOverItem,
        t.drawChunk = item_ejector_drawChunk,
        ItemEjectorSystem
    }(te)
      , me = r(42);
    function map_resources_drawChunk(e, t) {
        var r = this.root.buffers.getForKey({
            key: "mapresourcebg",
            subKey: t.renderKey,
            w: g.e.mapChunkSize,
            h: g.e.mapChunkSize,
            dpi: 1,
            redrawMethod: this.generateChunkBackground.bind(this, t)
        });
        if (e.context.imageSmoothingEnabled = !1,
        Object(me.b)({
            parameters: e,
            sprite: r,
            x: 32 * t.tileX,
            y: 32 * t.tileY,
            w: g.e.mapChunkWorldSize,
            h: g.e.mapChunkWorldSize,
            originalW: g.e.mapChunkSize,
            originalH: g.e.mapChunkSize
        }),
        e.context.imageSmoothingEnabled = !0,
        e.context.globalAlpha = .5,
        this.root.app.settings.getAllSettings().lowQualityMapResources)
            for (var n = 0; n < t.patches.length; ++n) {
                var i = t.patches[n]
                  , o = t.x * g.e.mapChunkWorldSize + 32 * i.pos.x
                  , a = t.y * g.e.mapChunkWorldSize + 32 * i.pos.y
                  , s = Math.min(80, 40 / e.zoomLevel);
                i.item.drawItemCenteredClipped(o, a, e, s)
            }
        else
            for (var l = t.lowerLayer, c = t.contents, u = 0; u < g.e.mapChunkSize; ++u)
                for (var d = l[u], p = c[u], h = 32 * (t.tileX + u), f = 0; f < g.e.mapChunkSize; ++f) {
                    var m = d[f];
                    if (!p[f] && m) {
                        var y = h + 16
                          , _ = 32 * (t.tileY + f) + 16;
                        m.drawItemCenteredClipped(y, _, e, g.e.defaultItemDiameter)
                    }
                }
        e.context.globalAlpha = 1
    }
    function _generateChunkBackgro(e, t, r, n, i, o) {
        this.root.app.settings.getAllSettings().disableTileGrid ? (r.fillStyle = J.a.map.background,
        r.fillRect(0, 0, n, i)) : r.clearRect(0, 0, n, i),
        r.globalAlpha = .5;
        for (var a = e.lowerLayer, s = 0; s < g.e.mapChunkSize; ++s)
            for (var l = a[s], c = 0; c < g.e.mapChunkSize; ++c) {
                var u = l[c];
                u && (r.fillStyle = u.getBackgroundColorAsResource(),
                r.fillRect(s, c, 1, 1))
            }
        this.root.app.settings.getAllSettings().displayChunkBorders && (r.fillStyle = J.a.map.chunkBorders,
        r.fillRect(0, 0, n, 1),
        r.fillRect(0, 1, 1, i))
    }
    var ye = function(e) {
        function MapResourcesSystem() {
            return e.apply(this, arguments) || this
        }
        !function map_resources_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MapResourcesSystem, e);
        var t = MapResourcesSystem.prototype;
        return t.drawChunk = map_resources_drawChunk,
        t.generateChunkBackground = _generateChunkBackgro,
        MapResourcesSystem
    }(ee)
      , _e = r(52);
    function miner_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    function _onEntityChanged(e) {
        var t = e.components.Miner;
        t && t.chainable && (this.needsRecompute = !0)
    }
    function miner_update() {
        for (var e = this.root.hubGoals.getMinerBaseSpeed(), t = 0; t < this.allEntities.length; ++t) {
            var r = this.allEntities[t]
              , n = r.components.Miner;
            if (this.needsRecompute && (n.cachedChainedMiner = null),
            !n.cachedMinedItem) {
                var i = r.components.StaticMapEntity
                  , o = this.root.map.getLowerLayerContentXY(i.origin.x, i.origin.y);
                if (!o)
                    continue;
                n.cachedMinedItem = o
            }
            if (n.itemChainBuffer.length > 0 && this.tryPerformMinerEject(r, n.itemChainBuffer[0]))
                n.itemChainBuffer.shift();
            else {
                var a = 1 / e
                  , s = this.root.time.now() - n.lastMiningTime;
                if (s > a) {
                    var l = Math.min(s - a, this.root.dynamicTickrate.deltaSeconds);
                    this.tryPerformMinerEject(r, n.cachedMinedItem) && (this.root.signals.itemProduced.dispatch(n.cachedMinedItem),
                    n.lastMiningTime = this.root.time.now() - l)
                }
            }
        }
        this.needsRecompute = !1
    }
    function _findChainedMiner(e) {
        var t = e.components.ItemEjector
          , r = e.components.StaticMapEntity;
        if (!this.root.map.getLowerLayerContentXY(r.origin.x, r.origin.y))
            return null;
        var n = t.slots[0]
          , i = r.localTileToWorld(n.pos)
          , o = r.localDirectionToWorld(n.direction)
          , a = i.add(C.f[o])
          , s = this.root.map.getTileContent(a, "regular");
        if (s) {
            var l = s.components.Miner;
            if (l && l.chainable && this.root.map.getLowerLayerContentXY(a.x, a.y))
                return s
        }
        return !1
    }
    function _tryPerformMinerEject(e, t) {
        var r = e.components.Miner
          , n = e.components.ItemEjector;
        if (r.chainable) {
            var i = r.cachedChainedMiner;
            if (null === i && (r.cachedChainedMiner = this.findChainedMiner(e)),
            i)
                return !!i.components.Miner.tryAcceptChainedItem(t)
        }
        return !!n.tryEject(0, t)
    }
    function miner_drawChunk(e, t) {
        for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = i.components.Miner;
            if (o) {
                var a = i.components.StaticMapEntity;
                if (o.cachedMinedItem) {
                    var s = 32 * a.origin.x + 3
                      , l = 32 * a.origin.y + 3;
                    e.visibleRect.containsRect4Params(s, l, 26, 26) && (e.context.fillStyle = o.cachedMinedItem.getBackgroundColorAsResource(),
                    e.context.fillRect(s, l, 26, 26)),
                    o.cachedMinedItem.drawItemCenteredClipped(32 * (.5 + a.origin.x), 32 * (.5 + a.origin.y), e, g.e.defaultItemDiameter)
                }
            }
        }
    }
    var ve = function(e) {
        function MinerSystem(t) {
            var r;
            return (r = e.call(this, t, [_e.MinerComponent]) || this).needsRecompute = !0,
            r.root.signals.entityAdded.add(r.onEntityChanged, miner_assertThisInitialized(r)),
            r.root.signals.entityChanged.add(r.onEntityChanged, miner_assertThisInitialized(r)),
            r.root.signals.entityDestroyed.add(r.onEntityChanged, miner_assertThisInitialized(r)),
            r
        }
        !function miner_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MinerSystem, e);
        var t = MinerSystem.prototype;
        return t.onEntityChanged = _onEntityChanged,
        t.update = miner_update,
        t.findChainedMiner = _findChainedMiner,
        t.tryPerformMinerEject = _tryPerformMinerEject,
        t.drawChunk = miner_drawChunk,
        MinerSystem
    }(te)
      , be = r(7)
      , we = r(15)
      , Se = r(31);
    function item_processor_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    var Ce = 2
      , Ae = {};
    function item_processor_update() {
        for (var e = 0; e < this.allEntities.length; ++e) {
            var t = this.allEntities[e]
              , r = t.components.ItemProcessor
              , n = t.components.ItemEjector
              , i = r.ongoingCharges[0];
            if (i && (i.remainingTime > 0 && (i.remainingTime -= this.root.dynamicTickrate.deltaSeconds,
            i.remainingTime < 0 && (r.bonusTime += -i.remainingTime)),
            i.remainingTime <= 0 && !r.queuedEjects.length)) {
                for (var o = i.items, a = 0; a < o.length; ++a)
                    r.queuedEjects.push(o[a]);
                r.ongoingCharges.shift()
            }
            r.ongoingCharges.length < Ce && this.canProcess(t) && this.startNewCharge(t);
            for (var s = 0; s < r.queuedEjects.length; ++s) {
                var {item: l, requiredSlot: c, preferredSlot: u} = r.queuedEjects[s]
                  , d = null;
                null != c ? n.canEjectOnSlot(c) && (d = c) : d = null != u && n.canEjectOnSlot(u) ? u : n.getFirstFreeSlot(),
                null !== d && n.tryEject(d, l) && (r.queuedEjects.splice(s, 1),
                s -= 1)
            }
        }
    }
    function _checkRequirements(e, t, r) {
        var n = e.components.ItemProcessor
          , i = e.components.WiredPins;
        switch (n.processingRequirement) {
        case be.enumItemProcessorRequirements.painterQuad:
            if (0 === r)
                return !0;
            var o = i.slots[r - 1].linkedNetwork;
            return !!(o && o.hasValue() && Object(we.e)(o.currentValue));
        default:
            return !0
        }
    }
    function _canProcess(e) {
        var t = e.components.ItemProcessor;
        switch (t.processingRequirement) {
        case null:
            return t.inputCount >= t.inputsPerCharge;
        case be.enumItemProcessorRequirements.painterQuad:
            var r = e.components.WiredPins
              , n = t.inputSlots.get(0);
            if (!n)
                return !1;
            for (var i = [], o = 0; o < 4; ++o) {
                var a = r.slots[o].linkedNetwork
                  , s = a && a.hasValue() ? a.currentValue : null;
                Object(we.e)(s) ? i.push(!0) : i.push(!1)
            }
            if (!i.includes(!0))
                return !1;
            for (var l = 0; l < i.length; ++l)
                if (i[l] && !t.inputSlots.get(1 + l))
                    for (var c = 0; c < 4; ++c) {
                        var u = n.definition.layers[c];
                        if (u && u[l])
                            return !1
                    }
            return !0;
        default:
            window.assert(!1, "Unknown requirement for " + t.processingRequirement)
        }
    }
    function _startNewCharge(e) {
        var t = e.components.ItemProcessor
          , r = t.inputSlots
          , n = [];
        (0,
        this.handlers[t.type])({
            entity: e,
            items: r,
            outItems: n,
            inputCount: t.inputCount
        });
        for (var i = 0; i < n.length; ++i)
            n[i].doNotTrack || this.root.signals.itemProduced.dispatch(n[i].item);
        var o = 1 / this.root.hubGoals.getProcessorBaseSpeed(t.type)
          , a = Math.min(o, t.bonusTime)
          , s = o - a;
        t.bonusTime -= a,
        t.ongoingCharges.push({
            items: n,
            remainingTime: s
        }),
        t.inputSlots.clear(),
        t.inputCount = 0
    }
    function _process_BALANCER(e) {
        for (var t = e.entity.components.ItemEjector.slots.length, r = e.entity.components.ItemProcessor, n = 0; n < 2; ++n) {
            var i = e.items.get(n);
            i && e.outItems.push({
                item: i,
                preferredSlot: r.nextOutputSlot++ % t,
                doNotTrack: !0
            })
        }
        return !0
    }
    function _process_CUTTER(e) {
        for (var t = e.items.get(0).definition, r = this.root.shapeDefinitionMgr.shapeActionCutHalf(t), n = e.entity.components.ItemEjector, i = 0; i < r.length; ++i) {
            var o = r[i];
            o.isEntirelyEmpty() ? n.slots[i].lastItem = null : e.outItems.push({
                item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(o),
                requiredSlot: i
            })
        }
    }
    function _process_CUTTER_QUAD(e) {
        for (var t = e.items.get(0).definition, r = this.root.shapeDefinitionMgr.shapeActionCutQuad(t), n = e.entity.components.ItemEjector, i = 0; i < r.length; ++i) {
            var o = r[i];
            o.isEntirelyEmpty() ? n.slots[i].lastItem = null : e.outItems.push({
                item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(o),
                requiredSlot: i
            })
        }
    }
    function _process_ROTATER(e) {
        var t = e.items.get(0).definition
          , r = this.root.shapeDefinitionMgr.shapeActionRotateCW(t);
        e.outItems.push({
            item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(r)
        })
    }
    function _process_ROTATER_CCW(e) {
        var t = e.items.get(0).definition
          , r = this.root.shapeDefinitionMgr.shapeActionRotateCCW(t);
        e.outItems.push({
            item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(r)
        })
    }
    function _process_ROTATER_(e) {
        var t = e.items.get(0).definition
          , r = this.root.shapeDefinitionMgr.shapeActionRotate180(t);
        e.outItems.push({
            item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(r)
        })
    }
    function _process_STACKER(e) {
        var t = e.items.get(0)
          , r = e.items.get(1)
          , n = this.root.shapeDefinitionMgr.shapeActionStack(t.definition, r.definition);
        e.outItems.push({
            item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(n)
        })
    }
    function _process_TRASH(e) {}
    function _process_MIXER(e) {
        var t = e.items.get(0)
          , r = e.items.get(1)
          , n = t.color
          , i = r.color
          , o = V.a[n][i]
          , a = n;
        o && (a = o),
        e.outItems.push({
            item: H.a[a]
        })
    }
    function _process_PAINTER(e) {
        var t = e.items.get(0)
          , r = e.items.get(1)
          , n = this.root.shapeDefinitionMgr.shapeActionPaintWith(t.definition, r.color);
        e.outItems.push({
            item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(n)
        })
    }
    function _process_PAINTER_DOUB(e) {
        var t = e.items.get(0)
          , r = e.items.get(1)
          , n = e.items.get(2)
          , i = this.root.shapeDefinitionMgr.shapeActionPaintWith(t.definition, n.color)
          , o = this.root.shapeDefinitionMgr.shapeActionPaintWith(r.definition, n.color);
        e.outItems.push({
            item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(i)
        }),
        e.outItems.push({
            item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(o)
        })
    }
    function _process_PAINTER_QUAD(e) {
        for (var t = e.items.get(0), r = [null, null, null, null], n = 0; n < 4; ++n) {
            var i = e.items.get(n + 1);
            i && (r[n] = i.color)
        }
        var o = this.root.shapeDefinitionMgr.shapeActionPaintWith4Colors(t.definition, r);
        e.outItems.push({
            item: this.root.shapeDefinitionMgr.getShapeItemFromDefinition(o)
        })
    }
    function _process_READER(e) {
        var t = e.items.get(0);
        e.outItems.push({
            item: t,
            doNotTrack: !0
        });
        var r = e.entity.components.BeltReader;
        r.lastItemTimes.push(this.root.time.now()),
        r.lastItem = t
    }
    function _process_HUB(e) {
        e.entity.components.Hub;
        for (var t = 0; t < e.inputCount; ++t) {
            var r = e.items.get(t);
            r && this.root.hubGoals.handleDefinitionDelivered(r.definition)
        }
    }
    function _process_GOAL(e) {
        var t = e.entity.components.GoalAcceptor
          , r = e.items.get(0)
          , n = this.root.time.now();
        t.item && !r.equals(t.item) ? t.clearItems() : t.currentDeliveredItems = Math.min(t.currentDeliveredItems + 1, g.e.goalAcceptorItemsRequired),
        this.root.gameMode.getIsEditor() && (t.item = r),
        t.lastDelivery = {
            item: r,
            time: n
        }
    }
    var ke = function(e) {
        function ItemProcessorSystem(t) {
            var r;
            for (var n in (r = e.call(this, t, [be.ItemProcessorComponent]) || this).handlers = {
                [be.enumItemProcessorTypes.balancer]: r.process_BALANCER,
                [be.enumItemProcessorTypes.cutter]: r.process_CUTTER,
                [be.enumItemProcessorTypes.cutterQuad]: r.process_CUTTER_QUAD,
                [be.enumItemProcessorTypes.rotater]: r.process_ROTATER,
                [be.enumItemProcessorTypes.rotaterCCW]: r.process_ROTATER_CCW,
                [be.enumItemProcessorTypes.rotater180]: r.process_ROTATER_180,
                [be.enumItemProcessorTypes.stacker]: r.process_STACKER,
                [be.enumItemProcessorTypes.trash]: r.process_TRASH,
                [be.enumItemProcessorTypes.mixer]: r.process_MIXER,
                [be.enumItemProcessorTypes.painter]: r.process_PAINTER,
                [be.enumItemProcessorTypes.painterDouble]: r.process_PAINTER_DOUBLE,
                [be.enumItemProcessorTypes.painterQuad]: r.process_PAINTER_QUAD,
                [be.enumItemProcessorTypes.hub]: r.process_HUB,
                [be.enumItemProcessorTypes.reader]: r.process_READER,
                [be.enumItemProcessorTypes.goal]: r.process_GOAL,
                ...Ae
            },
            r.handlers)
                r.handlers[n] = r.handlers[n].bind(item_processor_assertThisInitialized(r));
            return r
        }
        !function item_processor_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemProcessorSystem, e);
        var t = ItemProcessorSystem.prototype;
        return t.update = item_processor_update,
        t.checkRequirements = _checkRequirements,
        t.canProcess = _canProcess,
        t.startNewCharge = _startNewCharge,
        t.process_BALANCER = _process_BALANCER,
        t.process_CUTTER = _process_CUTTER,
        t.process_CUTTER_QUAD = _process_CUTTER_QUAD,
        t.process_ROTATER = _process_ROTATER,
        t.process_ROTATER_CCW = _process_ROTATER_CCW,
        t.process_ROTATER_180 = _process_ROTATER_,
        t.process_STACKER = _process_STACKER,
        t.process_TRASH = _process_TRASH,
        t.process_MIXER = _process_MIXER,
        t.process_PAINTER = _process_PAINTER,
        t.process_PAINTER_DOUBLE = _process_PAINTER_DOUB,
        t.process_PAINTER_QUAD = _process_PAINTER_QUAD,
        t.process_READER = _process_READER,
        t.process_HUB = _process_HUB,
        t.process_GOAL = _process_GOAL,
        ItemProcessorSystem
    }(te)
      , Ee = r(29);
    function underground_belt_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    function _onEntityManuallyPlac(e) {
        if (this.root.app.settings.getAllSettings().enableTunnelSmartplace) {
            var t = e.components.UndergroundBelt;
            if (t && t.mode === Ee.enumUndergroundBeltMode.receiver) {
                for (var r = e.components.StaticMapEntity, n = r.origin, i = C.c[r.rotation], o = C.g[i], a = C.f[o], s = n.copy(), l = t.tier, c = g.e.undergroundBeltMaxTilesByTier[l], u = null, d = 0; d < c; ++d) {
                    s.addInplace(a);
                    var p = this.root.map.getTileContent(s, e.layer);
                    if (p) {
                        var h = p.components.UndergroundBelt
                          , f = p.components.StaticMapEntity;
                        h && h.tier === t.tier && h.mode === Ee.enumUndergroundBeltMode.sender && C.c[f.rotation] === i && (u = {
                            entity: p,
                            range: d
                        })
                    }
                }
                if (!u)
                    return;
                s = n.copy();
                for (var m = !0, y = 0; y < u.range; ++y) {
                    s.addInplace(a);
                    var _ = this.root.map.getTileContent(s, e.layer);
                    if (!_) {
                        m = !1;
                        break
                    }
                    var v = _.components.StaticMapEntity
                      , b = _.components.Belt;
                    if (!b) {
                        m = !1;
                        break
                    }
                    if (b.direction !== C.d.top || C.c[v.rotation] !== i) {
                        m = !1;
                        break
                    }
                }
                if (s = n.copy(),
                m)
                    for (var w = 0; w < u.range; ++w) {
                        s.addInplace(a);
                        var S = this.root.map.getTileContent(s, e.layer);
                        this.root.logic.tryDeleteBuilding(S)
                    }
                s = n.copy().add(a);
                for (var A = 0; A < u.range - 1; ++A) {
                    var k = s.copy();
                    s.addInplace(a);
                    var E = this.root.map.getTileContent(k, e.layer)
                      , I = this.root.map.getTileContent(s, e.layer);
                    if (E && I) {
                        var B = E.components.UndergroundBelt
                          , x = I.components.UndergroundBelt;
                        if (B && x && B.tier === x.tier && B.tier === t.tier && B.mode === Ee.enumUndergroundBeltMode.sender && x.mode === Ee.enumUndergroundBeltMode.receiver) {
                            var P = E.components.StaticMapEntity
                              , T = I.components.StaticMapEntity;
                            C.c[P.rotation] === i && C.c[T.rotation] === i && (this.root.logic.tryDeleteBuilding(E),
                            this.root.logic.tryDeleteBuilding(I))
                        }
                    }
                }
            }
        }
    }
    function underground_belt_recomputeArea(e) {
        for (var t = e.x; t < e.right(); ++t)
            for (var r = e.y; r < e.bottom(); ++r)
                for (var n = this.root.map.getLayersContentsMultipleXY(t, r), i = 0; i < n.length; ++i) {
                    var o = n[i].components.UndergroundBelt;
                    o && (o.cachedLinkedEntity = null)
                }
    }
    function underground_belt_update() {
        this.staleAreaWatcher.update();
        for (var e = Ee.enumUndergroundBeltMode.sender, t = this.root.time.now(), r = 0; r < this.allEntities.length; ++r) {
            var n = this.allEntities[r];
            n.components.UndergroundBelt.mode === e ? this.handleSender(n) : this.handleReceiver(n, t)
        }
    }
    function _findRecieverForSende(e) {
        for (var t = e.components.StaticMapEntity, r = e.components.UndergroundBelt, n = t.localDirectionToWorld(C.d.top), i = C.f[n], o = C.e[n], a = t.origin, s = 0; s < g.e.undergroundBeltMaxTilesByTier[r.tier]; ++s) {
            a = a.add(i);
            var l = this.root.map.getTileContent(a, "regular");
            if (l) {
                var c = l.components.UndergroundBelt;
                if (c && c.tier === r.tier && l.components.StaticMapEntity.rotation === o) {
                    if (c.mode !== Ee.enumUndergroundBeltMode.receiver)
                        break;
                    return {
                        entity: l,
                        distance: s
                    }
                }
            }
        }
        return {
            entity: null,
            distance: 0
        }
    }
    function _handleSender(e) {
        var t = e.components.UndergroundBelt
          , r = t.cachedLinkedEntity;
        if (r || (r = t.cachedLinkedEntity = this.findRecieverForSender(e)),
        r.entity) {
            var n = t.pendingItems[0];
            n && r.entity.components.UndergroundBelt.tryAcceptTunneledItem(n[0], r.distance, this.root.hubGoals.getUndergroundBeltBaseSpeed(), this.root.time.now()) && Object(p.f)(t.pendingItems, 0)
        }
    }
    function _handleReceiver(e, t) {
        var r = e.components.UndergroundBelt
          , n = r.pendingItems[0];
        if (n && t > n[1]) {
            var i = e.components.ItemEjector
              , o = i.getFirstFreeSlot();
            null !== o && i.tryEject(o, n[0]) && r.pendingItems.shift()
        }
    }
    Object(c.a)("tunnels");
    var Ie = function(e) {
        function UndergroundBeltSystem(t) {
            var r;
            return (r = e.call(this, t, [Ee.UndergroundBeltComponent]) || this).beltSprites = {
                [Ee.enumUndergroundBeltMode.sender]: w.a.getSprite("sprites/buildings/underground_belt_entry.png"),
                [Ee.enumUndergroundBeltMode.receiver]: w.a.getSprite("sprites/buildings/underground_belt_exit.png")
            },
            r.staleAreaWatcher = new de({
                root: r.root,
                name: "underground-belt",
                recomputeMethod: r.recomputeArea.bind(underground_belt_assertThisInitialized(r))
            }),
            r.root.signals.entityManuallyPlaced.add(r.onEntityManuallyPlaced, underground_belt_assertThisInitialized(r)),
            r.staleAreaWatcher.recomputeOnComponentsChanged([Ee.UndergroundBeltComponent], g.e.undergroundBeltMaxTilesByTier[g.e.undergroundBeltMaxTilesByTier.length - 1]),
            r
        }
        !function underground_belt_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(UndergroundBeltSystem, e);
        var t = UndergroundBeltSystem.prototype;
        return t.onEntityManuallyPlaced = _onEntityManuallyPlac,
        t.recomputeArea = underground_belt_recomputeArea,
        t.update = underground_belt_update,
        t.findRecieverForSender = _findRecieverForSende,
        t.handleSender = _handleSender,
        t.handleReceiver = _handleReceiver,
        UndergroundBeltSystem
    }(te)
      , Be = r(57)
      , xe = r(62)
      , Pe = 128;
    function hub_draw(e) {
        for (var t = 0; t < this.allEntities.length; ++t)
            this.drawEntity(e, this.allEntities[t])
    }
    function hub_update() {
        for (var e = 0; e < this.allEntities.length; ++e)
            this.allEntities[e].components.WiredPins.slots[0].value = this.root.shapeDefinitionMgr.getShapeItemFromDefinition(this.root.hubGoals.currentGoal.definition)
    }
    function _redrawHubBaseTexture(e, t, r, n, i) {
        t.scale(i, i);
        var o = new K.a({
            context: t,
            visibleRect: new G.a(0,0,r,n),
            desiredAtlasScale: S.c,
            zoomLevel: .75 * i,
            root: this.root
        });
        if (t.clearRect(0, 0, r, n),
        this.hubSprite.draw(t, 0, 0, r, n),
        this.root.hubGoals.isEndOfDemoReached())
            return t.font = "bold 10px GameFont",
            t.fillStyle = "#fd0752",
            t.textAlign = "center",
            t.fillText("GET THE", r / 2, n / 2 + 6 - 15),
            t.fillText("EXTENDED VERSION", r / 2, n / 2 + 6),
            t.fillText("FOR MORE LEVELS", r / 2, 21 + n / 2),
            void (t.textAlign = "left");
        this.root.hubGoals.currentGoal.definition.drawCentered(45, 58, o, 36);
        var a = this.root.hubGoals.currentGoal;
        if (a.throughputOnly) {
            var s = U.a.ingame.statistics.shapesDisplayUnits.second.replace("<shapes>", Object(p.k)(a.required));
            t.font = "bold 12px GameFont",
            t.fillStyle = "#64666e",
            t.textAlign = "left",
            t.fillText(s, 70, 61)
        } else {
            var l = this.root.hubGoals.getCurrentGoalDelivered()
              , c = "" + Object(p.k)(l);
            t.font = l > 9999 ? "bold 16px GameFont" : l > 999 ? "bold 20px GameFont" : "bold 25px GameFont",
            t.fillStyle = "#64666e",
            t.textAlign = "left",
            t.fillText(c, 70, 61),
            t.font = "13px GameFont",
            t.fillStyle = "#a4a6b0",
            t.fillText("/ " + Object(p.k)(a.required), 70, 74)
        }
        var u = U.a.storyRewards[a.reward].title.toUpperCase();
        u.length > 12 ? t.font = "bold 8px GameFont" : t.font = "bold 10px GameFont",
        t.fillStyle = "#fd0752",
        t.textAlign = "center",
        t.fillText(u, Pe / 2, 105),
        t.font = "bold 10px GameFont",
        t.fillStyle = "#fff",
        t.fillText("" + this.root.hubGoals.level, 27, 32),
        t.textAlign = "center",
        t.fillStyle = "#fff",
        t.font = "bold 6px GameFont",
        t.fillText(U.a.buildings.hub.levelShortcut, 27, 22),
        t.fillStyle = "#64666e",
        t.font = "bold 10px GameFont",
        t.fillText(U.a.buildings.hub.deliver.toUpperCase(), Pe / 2, 30),
        U.a.buildings.hub.toUnlock.toUpperCase().length > 15 ? t.font = "bold 8px GameFont" : t.font = "bold 10px GameFont",
        t.fillText(U.a.buildings.hub.toUnlock.toUpperCase(), Pe / 2, 92),
        t.textAlign = "left"
    }
    function _drawEntity(e, t) {
        var r = t.components.StaticMapEntity;
        if (r.shouldBeDrawn(e)) {
            var n = this.root.hubGoals.getCurrentGoalDelivered()
              , i = "" + Object(p.k)(n)
              , o = Object(Be.c)(g.e.shapesSharpness * e.zoomLevel)
              , a = e.root.buffers.getForKey({
                key: "hub",
                subKey: o + "/" + this.root.hubGoals.level + "/" + i,
                w: 128,
                h: 128,
                dpi: o,
                redrawMethod: this.redrawHubBaseTexture.bind(this)
            });
            Object(me.b)({
                parameters: e,
                sprite: a,
                x: 32 * r.origin.x - 8,
                y: 32 * r.origin.y - 8,
                w: Pe + 16,
                h: Pe + 16,
                originalW: Pe * o,
                originalH: Pe * o
            })
        }
    }
    var Te = function(e) {
        function HubSystem(t) {
            var r;
            return (r = e.call(this, t, [xe.HubComponent]) || this).hubSprite = w.a.getSprite("sprites/buildings/hub.png"),
            r
        }
        !function hub_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HubSystem, e);
        var t = HubSystem.prototype;
        return t.draw = hub_draw,
        t.update = hub_update,
        t.redrawHubBaseTexture = _redrawHubBaseTexture,
        t.drawEntity = _drawEntity,
        HubSystem
    }(te);
    function _clearUidList() {
        this.drawnUids.clear()
    }
    function static_map_entity_drawChunk(e, t) {
        for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = i.components.StaticMapEntity
              , a = o.getSprite();
            if (a) {
                if (this.drawnUids.has(i.uid))
                    continue;
                this.drawnUids.add(i.uid),
                o.drawSpriteOnBoundsClipped(e, a, 2)
            }
        }
    }
    function _drawWiresChunk(e, t) {
        for (var r = new Set, n = t.wireContents, i = 0; i < g.e.mapChunkSize; ++i)
            for (var o = 0; o < g.e.mapChunkSize; ++o) {
                var a = n[o][i];
                if (a) {
                    if (r.has(a.uid))
                        continue;
                    r.add(a.uid);
                    var s = a.components.StaticMapEntity
                      , l = s.getSprite();
                    l && s.drawSpriteOnBoundsClipped(e, l, 2)
                }
            }
    }
    var Me = function(e) {
        function StaticMapEntitySystem(t) {
            var r;
            return (r = e.call(this, t) || this).drawnUids = new Set,
            r.root.signals.gameFrameStarted.add(r.clearUidList, function static_map_entity_assertThisInitialized(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(r)),
            r
        }
        !function static_map_entity_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(StaticMapEntitySystem, e);
        var t = StaticMapEntitySystem.prototype;
        return t.clearUidList = _clearUidList,
        t.drawChunk = static_map_entity_drawChunk,
        t.drawWiresChunk = _drawWiresChunk,
        StaticMapEntitySystem
    }(ee);
    function item_acceptor_update() {
        if (!this.root.app.settings.getAllSettings().simplifiedBelts)
            if (this.root.camera.getIsMapOverlayActive())
                ++this.accumulatedTicksWhileInMapOverview;
            else {
                var e = 1 + this.accumulatedTicksWhileInMapOverview
                  , t = 2 * this.root.dynamicTickrate.deltaSeconds * this.root.hubGoals.getBeltBaseSpeed() * g.e.itemSpacingOnBelts * e;
                this.accumulatedTicksWhileInMapOverview = 0;
                for (var r = 0; r < this.allEntities.length; ++r)
                    for (var n = this.allEntities[r].components.ItemAcceptor.itemConsumptionAnimations, i = 0; i < n.length; ++i) {
                        var o = n[i];
                        o.animProgress += t,
                        o.animProgress > 1 && (Object(p.f)(n, i),
                        i -= 1)
                    }
            }
    }
    function item_acceptor_drawChunk(e, t) {
        if (!this.root.app.settings.getAllSettings().simplifiedBelts)
            for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
                var i = r[n]
                  , o = i.components.ItemAcceptor;
                if (o)
                    for (var a = i.components.StaticMapEntity, s = 0; s < o.itemConsumptionAnimations.length; ++s) {
                        var {item: l, slotIndex: c, animProgress: u, direction: d} = o.itemConsumptionAnimations[s]
                          , p = o.slots[c]
                          , h = a.localTileToWorld(p.pos);
                        if (t.tileSpaceRectangle.containsPoint(h.x, h.y)) {
                            var f = C.f[a.localDirectionToWorld(d)]
                              , m = h.subScalars(f.x * (u / 2 - .5), f.y * (u / 2 - .5));
                            l.drawItemCenteredClipped(32 * (m.x + .5), 32 * (m.y + .5), e, g.e.defaultItemDiameter)
                        }
                    }
            }
    }
    var Oe = function(e) {
        function ItemAcceptorSystem(t) {
            var r;
            return (r = e.call(this, t, [pe.ItemAcceptorComponent]) || this).accumulatedTicksWhileInMapOverview = 0,
            r
        }
        !function item_acceptor_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemAcceptorSystem, e);
        var t = ItemAcceptorSystem.prototype;
        return t.update = item_acceptor_update,
        t.drawChunk = item_acceptor_drawChunk,
        ItemAcceptorSystem
    }(te)
      , ze = r(63);
    function _clearDrawnUids() {
        this.drawnUids.clear()
    }
    function storage_update() {
        for (var e = 0; e < this.allEntities.length; ++e) {
            var t = this.allEntities[e]
              , r = t.components.Storage
              , n = t.components.WiredPins;
            if (r.storedItem && r.storedCount > 0) {
                var i = t.components.ItemEjector
                  , o = i.getFirstFreeSlot();
                null !== o && i.tryEject(o, r.storedItem) && (r.storedCount--,
                0 === r.storedCount && (r.storedItem = null))
            }
            var a = r.storedCount > 0 ? 1 : 0;
            r.overlayOpacity = Object(p.u)(r.overlayOpacity, a, .05),
            n && (n.slots[0].value = r.storedItem,
            n.slots[1].value = r.getIsFull() ? we.b : we.a)
        }
    }
    function storage_drawChunk(e, t) {
        for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = i.components.Storage;
            if (o) {
                var a = o.storedItem;
                if (a && !this.drawnUids.has(i.uid)) {
                    this.drawnUids.add(i.uid);
                    var s = i.components.StaticMapEntity
                      , l = e.context;
                    l.globalAlpha = o.overlayOpacity;
                    var c = s.getTileSpaceBounds().getCenter().toWorldSpace();
                    a.drawItemCenteredClipped(c.x, c.y, e, 30),
                    this.storageOverlaySprite.drawCached(e, c.x - 15, c.y + 15, 30, 15),
                    e.visibleRect.containsCircle(c.x, c.y + 25, 20) && (l.font = "bold 10px GameFont",
                    l.textAlign = "center",
                    l.fillStyle = "#64666e",
                    l.fillText(Object(p.k)(o.storedCount), c.x, c.y + 25.5),
                    l.textAlign = "left"),
                    l.globalAlpha = 1
                }
            }
        }
    }
    var Le = function(e) {
        function StorageSystem(t) {
            var r;
            return (r = e.call(this, t, [ze.StorageComponent]) || this).storageOverlaySprite = w.a.getSprite("sprites/misc/storage_overlay.png"),
            r.drawnUids = new Set,
            r.root.signals.gameFrameStarted.add(r.clearDrawnUids, function storage_assertThisInitialized(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(r)),
            r
        }
        !function systems_storage_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(StorageSystem, e);
        var t = StorageSystem.prototype;
        return t.clearDrawnUids = _clearDrawnUids,
        t.update = storage_update,
        t.drawChunk = storage_drawChunk,
        StorageSystem
    }(te)
      , Re = r(8);
    function wired_pins_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    var De = {
        boolean: 9,
        shape: 9,
        color: 14
    };
    function _prePlacementCheck(e, t) {
        var r = e.components.StaticMapEntity.getTileSpaceBounds();
        if (t && (r.x += t.x,
        r.y += t.y),
        "wires" === e.layer)
            for (var n = r.x; n < r.x + r.w; ++n)
                for (var i = r.y; i < r.y + r.h; ++i)
                    for (var o = this.root.map.getLayersContentsMultipleXY(n, i), a = 0; a < o.length; ++a) {
                        var s = o[a]
                          , l = s.components.WiredPins
                          , c = s.components.StaticMapEntity;
                        if (l && !c.getMetaBuilding().getIsReplaceable())
                            for (var u = l.slots, d = 0; d < u.length; ++d) {
                                var p = c.localTileToWorld(u[d].pos);
                                if (p.x === n && p.y === i)
                                    return v.a
                            }
                    }
        if (this.checkEntityPinsCollide(e, t))
            return v.a
    }
    function _checkEntityPinsColli(e, t) {
        var r = e.components.WiredPins;
        if (!r)
            return !1;
        for (var n = 0; n < r.slots.length; ++n) {
            var i = r.slots[n]
              , o = e.components.StaticMapEntity.localTileToWorld(i.pos);
            t && (o.x += t.x,
            o.y += t.y);
            var a = this.root.map.getLayerContentXY(o.x, o.y, "wires");
            if (a && !a.components.StaticMapEntity.getMetaBuilding().getIsReplaceable())
                return !0
        }
        return !1
    }
    function _freeEntityAreaBefore(e) {
        var t = e.components.WiredPins;
        if (t)
            for (var r = 0; r < t.slots.length; ++r) {
                var n = t.slots[r]
                  , i = e.components.StaticMapEntity.localTileToWorld(n.pos)
                  , o = this.root.map.getLayerContentXY(i.x, i.y, "wires");
                o && (window.assert(o.components.StaticMapEntity.getMetaBuilding().getIsReplaceable(), "Tried to replace non-repleaceable entity for pins"),
                this.root.logic.tryDeleteBuilding(o) || window.assert(!1, "Tried to replace non-repleaceable entity for pins #2"))
            }
    }
    function wired_pins_drawChunk(e, t) {
        for (var r = t.containedEntities, n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = i.components.WiredPins;
            if (o)
                for (var a = i.components.StaticMapEntity, s = o.slots, l = 0; l < s.length; ++l) {
                    var c = s[l]
                      , u = a.localTileToWorld(c.pos);
                    if (t.tileSpaceRectangle.containsPoint(u.x, u.y)) {
                        var d = u.toWorldSpaceCenterOfTile();
                        if (e.visibleRect.containsCircle(d.x, d.y, 16)) {
                            var p = Math.radians(a.rotation + C.e[c.direction]);
                            a.getMetaBuilding().getRenderPins() && Object(me.a)({
                                parameters: e,
                                sprite: this.pinSprites[c.type],
                                x: d.x,
                                y: d.y,
                                angle: p,
                                size: 34,
                                offsetX: 0,
                                offsetY: 0
                            });
                            var h = c.value;
                            if (h) {
                                var g = new C.a(0,-9.1).rotated(p);
                                h.drawItemCenteredClipped(d.x + g.x, d.y + g.y, e, De[h.getItemType()])
                            }
                        }
                    }
                }
        }
    }
    var Ue = function(e) {
        function WiredPinsSystem(t) {
            var r;
            return (r = e.call(this, t, [Re.WiredPinsComponent]) || this).pinSprites = {
                [Re.enumPinSlotType.logicalEjector]: w.a.getSprite("sprites/wires/logical_ejector.png"),
                [Re.enumPinSlotType.logicalAcceptor]: w.a.getSprite("sprites/wires/logical_acceptor.png")
            },
            r.root.signals.prePlacementCheck.add(r.prePlacementCheck, wired_pins_assertThisInitialized(r)),
            r.root.signals.freeEntityAreaBeforeBuild.add(r.freeEntityAreaBeforeBuild, wired_pins_assertThisInitialized(r)),
            r
        }
        !function wired_pins_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(WiredPinsSystem, e);
        var t = WiredPinsSystem.prototype;
        return t.prePlacementCheck = _prePlacementCheck,
        t.checkEntityPinsCollide = _checkEntityPinsColli,
        t.freeEntityAreaBeforeBuild = _freeEntityAreaBefore,
        t.drawChunk = wired_pins_drawChunk,
        WiredPinsSystem
    }(te)
      , Fe = r(38);
    function belt_underlays_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    var je = {
        [Fe.enumClippedBeltUnderlayType.none]: null,
        [Fe.enumClippedBeltUnderlayType.full]: S.b,
        [Fe.enumClippedBeltUnderlayType.topOnly]: new G.a(0,0,1,.5),
        [Fe.enumClippedBeltUnderlayType.bottomOnly]: new G.a(0,.5,1,.5)
    };
    function belt_underlays_update() {
        this.staleArea.update()
    }
    function _recomputeStaleArea(e) {
        for (var t = 0; t < e.w; ++t)
            for (var r = 0; r < e.h; ++r) {
                var n = e.x + t
                  , i = e.y + r
                  , o = this.root.map.getLayerContentXY(n, i, "regular");
                if (o) {
                    var a = o.components.BeltUnderlays;
                    if (a)
                        for (var s = 0; s < a.underlays.length; ++s)
                            a.underlays[s].cachedType = null
                }
            }
    }
    function _checkIsAcceptorConne(e, t) {
        var r = this.root.map.getLayerContentXY(e.x, e.y, "regular");
        if (!r)
            return !1;
        var n = r.components.StaticMapEntity;
        if (r.components.Belt)
            return n.localDirectionToWorld(C.d.bottom) === t;
        var i = r.components.ItemAcceptor;
        if (i)
            for (var o = 0; o < i.slots.length; ++o) {
                var a = i.slots[o];
                if (n.localTileToWorld(a.pos).equals(e) && n.localDirectionToWorld(a.direction) === t)
                    return !0
            }
        return !1
    }
    function _checkIsEjectorConnec(e, t) {
        var r = this.root.map.getLayerContentXY(e.x, e.y, "regular");
        if (!r)
            return !1;
        var n = r.components.StaticMapEntity
          , i = r.components.Belt;
        if (i)
            return n.localDirectionToWorld(i.direction) === t;
        var o = r.components.ItemEjector;
        if (o)
            for (var a = 0; a < o.slots.length; ++a) {
                var s = o.slots[a];
                if (n.localTileToWorld(s.pos).equals(e) && n.localDirectionToWorld(s.direction) === t)
                    return !0
            }
        return !1
    }
    function _computeBeltUnderlayT(e, t) {
        if (t.cachedType)
            return t.cachedType;
        var r = e.components.StaticMapEntity
          , n = r.localTileToWorld(t.pos)
          , i = (n.x,
        n.y,
        r.localDirectionToWorld(t.direction))
          , o = C.f[i]
          , a = this.checkIsAcceptorConnected(n.add(o), C.g[i])
          , s = this.checkIsEjectorConnected(n.sub(o), i)
          , l = Fe.enumClippedBeltUnderlayType.none;
        return a && s ? l = Fe.enumClippedBeltUnderlayType.full : a ? l = Fe.enumClippedBeltUnderlayType.topOnly : s && (l = Fe.enumClippedBeltUnderlayType.bottomOnly),
        t.cachedType = l
    }
    function belt_underlays_drawChunk(e, t) {
        for (var r = Math.min(this.root.hubGoals.getBeltBaseSpeed(), 10), n = t.containedEntitiesByLayer.regular, i = 0; i < n.length; ++i) {
            var o = n[i]
              , a = o.components.BeltUnderlays;
            if (a)
                for (var s = o.components.StaticMapEntity, l = a.underlays, c = 0; c < l.length; ++c) {
                    var {pos: u, direction: d} = l[c]
                      , p = s.localTileToWorld(u)
                      , h = 32 * p.x
                      , f = 32 * p.y;
                    if (t.tileSpaceRectangle.containsPoint(p.x, p.y) && e.visibleRect.containsRect4Params(h, f, 32, 32)) {
                        var m = s.localDirectionToWorld(d)
                          , y = C.e[m]
                          , _ = this.computeBeltUnderlayType(o, l[c])
                          , v = je[_];
                        if (v) {
                            var b = h + 16
                              , w = f + 16
                              , S = Math.radians(y)
                              , A = Math.floor(this.root.time.realtimeNow() * r * se * 126 / 42 * g.e.itemSpacingOnBelts);
                            e.context.translate(b, w),
                            e.context.rotate(S),
                            this.underlayBeltSprites[A % this.underlayBeltSprites.length].drawCachedWithClipRect(e, -16, -16, 32, 32, v),
                            e.context.rotate(-S),
                            e.context.translate(-b, -w)
                        }
                    }
                }
        }
    }
    var Ve = function(e) {
        function BeltUnderlaysSystem(t) {
            var r;
            (r = e.call(this, t) || this).underlayBeltSprites = [];
            for (var n = 0; n < se; ++n)
                r.underlayBeltSprites.push(w.a.getSprite("sprites/belt/built/forward_" + n + ".png"));
            return r.staleArea = new de({
                root: t,
                name: "belt-underlay",
                recomputeMethod: r.recomputeStaleArea.bind(belt_underlays_assertThisInitialized(r))
            }),
            r.staleArea.recomputeOnComponentsChanged([Fe.BeltUnderlaysComponent, Y.BeltComponent, pe.ItemAcceptorComponent, he.ItemEjectorComponent], 1),
            r
        }
        !function belt_underlays_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BeltUnderlaysSystem, e);
        var t = BeltUnderlaysSystem.prototype;
        return t.update = belt_underlays_update,
        t.recomputeStaleArea = _recomputeStaleArea,
        t.checkIsAcceptorConnected = _checkIsAcceptorConne,
        t.checkIsEjectorConnected = _checkIsEjectorConnec,
        t.computeBeltUnderlayType = _computeBeltUnderlayT,
        t.drawChunk = belt_underlays_drawChunk,
        BeltUnderlaysSystem
    }(ee)
      , He = r(6);
    function production_analytics_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    var Ge = {
        produced: "produced",
        stored: "stored",
        delivered: "delivered"
    };
    function production_analytics_getId() {
        return "ProductionAnalytics"
    }
    function _onShapeDelivered(e) {
        var t = e.getHash()
          , r = this.history[Ge.delivered];
        r[r.length - 1][t] = (r[r.length - 1][t] || 0) + 1
    }
    function _onItemProduced(e) {
        if ("shape" === e.getItemType()) {
            var t = e.definition.getHash()
              , r = this.history[Ge.produced];
            r[r.length - 1][t] = (r[r.length - 1][t] || 0) + 1
        }
    }
    function _startNewSlice() {
        for (var e in this.history)
            for (e === Ge.stored ? this.history[e].push(Object.assign({}, this.root.hubGoals.storedShapes)) : this.history[e].push({}); this.history[e].length > g.e.statisticsGraphSlices; )
                this.history[e].shift()
    }
    function _getCurrentShapeRateR(e, t) {
        var r = this.history[e];
        return r[r.length - 2][t.getHash()] || 0
    }
    function _getPastShapeRate(e, t, r) {
        window.assert(r >= 0 && r < g.e.statisticsGraphSlices - 1, "Invalid slice offset: " + r);
        var n = this.history[e];
        return n[n.length - 2 - r][t.getHash()] || 0
    }
    function _getCurrentShapeRates(e) {
        for (var t = this.history[e], r = Object.assign({}, t[t.length - 2]), n = 0; n < 10; ++n) {
            var i = t[t.length - n - 3];
            for (var o in i)
                r[o] = r[o] || 0
        }
        return r
    }
    function production_analytics_update() {
        this.root.time.now() - this.lastAnalyticsSlice > g.e.analyticsSliceDurationSeconds && (this.lastAnalyticsSlice = this.root.time.now(),
        this.startNewSlice())
    }
    var We = function(e) {
        function ProductionAnalytics(t) {
            var r;
            (r = e.call(this) || this).root = t,
            r.history = {
                [Ge.produced]: [],
                [Ge.stored]: [],
                [Ge.delivered]: []
            };
            for (var n = 0; n < g.e.statisticsGraphSlices; ++n)
                r.startNewSlice();
            return r.root.signals.shapeDelivered.add(r.onShapeDelivered, production_analytics_assertThisInitialized(r)),
            r.root.signals.itemProduced.add(r.onItemProduced, production_analytics_assertThisInitialized(r)),
            r.lastAnalyticsSlice = 0,
            r
        }
        !function production_analytics_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ProductionAnalytics, e),
        ProductionAnalytics.getId = production_analytics_getId;
        var t = ProductionAnalytics.prototype;
        return t.onShapeDelivered = _onShapeDelivered,
        t.onItemProduced = _onItemProduced,
        t.startNewSlice = _startNewSlice,
        t.getCurrentShapeRateRaw = _getCurrentShapeRateR,
        t.getPastShapeRate = _getPastShapeRate,
        t.getCurrentShapeRatesRaw = _getCurrentShapeRates,
        t.update = production_analytics_update,
        ProductionAnalytics
    }(He.a)
      , Ne = {
        belt500Tiles: "belt500Tiles",
        blueprint100k: "blueprint100k",
        blueprint1m: "blueprint1m",
        completeLvl26: "completeLvl26",
        cutShape: "cutShape",
        darkMode: "darkMode",
        destroy1000: "destroy1000",
        irrelevantShape: "irrelevantShape",
        level100: "level100",
        level50: "level50",
        logoBefore18: "logoBefore18",
        mam: "mam",
        mapMarkers15: "mapMarkers15",
        noBeltUpgradesUntilBp: "noBeltUpgradesUntilBp",
        noInverseRotater: "noInverseRotater",
        oldLevel17: "oldLevel17",
        openWires: "openWires",
        paintShape: "paintShape",
        place5000Wires: "place5000Wires",
        placeBlueprint: "placeBlueprint",
        placeBp1000: "placeBp1000",
        play1h: "play1h",
        play10h: "play10h",
        play20h: "play20h",
        produceLogo: "produceLogo",
        produceMsLogo: "produceMsLogo",
        produceRocket: "produceRocket",
        rotateShape: "rotateShape",
        speedrunBp30: "speedrunBp30",
        speedrunBp60: "speedrunBp60",
        speedrunBp120: "speedrunBp120",
        stack4Layers: "stack4Layers",
        stackShape: "stackShape",
        store100Unique: "store100Unique",
        storeShape: "storeShape",
        throughputBp25: "throughputBp25",
        throughputBp50: "throughputBp50",
        throughputLogo25: "throughputLogo25",
        throughputLogo50: "throughputLogo50",
        throughputRocket10: "throughputRocket10",
        throughputRocket20: "throughputRocket20",
        trash1000: "trash1000",
        unlockWires: "unlockWires",
        upgradesTier5: "upgradesTier5",
        upgradesTier8: "upgradesTier8"
    };
    function achievement_provider_AchievementProviderI(e) {
        this.app = e
    }
    function achievement_provider_initialize() {
        return window.assert(!1, "abstract method called"),
        Promise.reject()
    }
    function _onLoad(e) {
        return window.assert(!1, "abstract method called"),
        Promise.reject()
    }
    function _hasLoaded() {
        return window.assert(!1, "abstract method called"),
        !1
    }
    function _activate(e) {
        return window.assert(!1, "abstract method called"),
        Promise.reject()
    }
    function _hasAchievements() {
        return window.assert(!1, "abstract method called"),
        !1
    }
    Se.a.getId();
    var qe = function() {
        var e = achievement_provider_AchievementProviderI.prototype;
        return e.initialize = achievement_provider_initialize,
        e.onLoad = _onLoad,
        e.hasLoaded = _hasLoaded,
        e.activate = _activate,
        e.hasAchievements = _hasAchievements,
        achievement_provider_AchievementProviderI
    }()
      , Ke = r(21)
      , Qe = {
        reward_cutter_and_trash: "reward_cutter_and_trash",
        reward_rotater: "reward_rotater",
        reward_painter: "reward_painter",
        reward_mixer: "reward_mixer",
        reward_stacker: "reward_stacker",
        reward_balancer: "reward_balancer",
        reward_tunnel: "reward_tunnel",
        reward_rotater_ccw: "reward_rotater_ccw",
        reward_rotater_180: "reward_rotater_180",
        reward_miner_chainable: "reward_miner_chainable",
        reward_underground_belt_tier_2: "reward_underground_belt_tier_2",
        reward_belt_reader: "reward_belt_reader",
        reward_splitter: "reward_splitter",
        reward_cutter_quad: "reward_cutter_quad",
        reward_painter_double: "reward_painter_double",
        reward_storage: "reward_storage",
        reward_merger: "reward_merger",
        reward_wires_painter_and_levers: "reward_wires_painter_and_levers",
        reward_display: "reward_display",
        reward_constant_signal: "reward_constant_signal",
        reward_logic_gates: "reward_logic_gates",
        reward_virtual_processing: "reward_virtual_processing",
        reward_filter: "reward_filter",
        reward_demo_end: "reward_demo_end",
        reward_blueprints: "reward_blueprints",
        reward_freeplay: "reward_freeplay",
        no_reward: "no_reward",
        no_reward_freeplay: "no_reward_freeplay"
    }
      , Ye = [Ke.enumWireType.forward, Ke.enumWireType.turn, Ke.enumWireType.split, Ke.enumWireType.cross]
      , Je = {
        [Ke.enumWireType.forward]: Object(p.q)([0, 1, 0, 0, 1, 0, 0, 1, 0]),
        [Ke.enumWireType.split]: Object(p.q)([0, 0, 0, 1, 1, 1, 0, 1, 0]),
        [Ke.enumWireType.turn]: Object(p.q)([0, 0, 0, 0, 1, 1, 0, 1, 0]),
        [Ke.enumWireType.cross]: Object(p.q)([0, 1, 0, 1, 1, 1, 0, 1, 0])
    }
      , Ze = {
        second: "second"
    }
      , Xe = {
        [z]: Ke.enumWireVariant.first,
        [Ze.second]: Ke.enumWireVariant.second
    };
    function wire_getAllVariantCombina() {
        return [{
            internalId: 27,
            variant: z,
            rotationVariant: 0
        }, {
            internalId: 28,
            variant: z,
            rotationVariant: 1
        }, {
            internalId: 29,
            variant: z,
            rotationVariant: 2
        }, {
            internalId: 30,
            variant: z,
            rotationVariant: 3
        }, {
            internalId: 52,
            variant: Ke.enumWireVariant.second,
            rotationVariant: 0
        }, {
            internalId: 53,
            variant: Ke.enumWireVariant.second,
            rotationVariant: 1
        }, {
            internalId: 54,
            variant: Ke.enumWireVariant.second,
            rotationVariant: 2
        }, {
            internalId: 55,
            variant: Ke.enumWireVariant.second,
            rotationVariant: 3
        }]
    }
    function wire_getHasDirectionLockA() {
        return !0
    }
    function wire_getSilhouetteColor() {
        return "#61ef6f"
    }
    function wire_getAvailableVariants() {
        return [z, Ze.second]
    }
    function wire_getDimensions() {
        return new C.a(1,1)
    }
    function wire_getStayInPlacementMo() {
        return !0
    }
    function wire_getPlacementSound() {
        return k.placeBelt
    }
    function wire_getRotateAutomatical() {
        return !0
    }
    function wire_getLayer() {
        return "wires"
    }
    function wire_getSprite() {
        return null
    }
    function wire_getIsReplaceable() {
        return !0
    }
    function wire_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_wires_painter_and_levers)
    }
    function wire_setupEntityComponent(e) {
        e.addComponent(new Ke.WireComponent({}))
    }
    function wire_updateVariants(e, t, r) {
        e.components.Wire.type = Ye[t],
        e.components.Wire.variant = Xe[r]
    }
    function wire_getSpecialOverlayRen(e, t, r, n) {
        return Je[n.components.Wire.type][e]
    }
    function wire_getPreviewSprite(e, t) {
        var r = Xe[t];
        switch (Ye[e]) {
        case Ke.enumWireType.forward:
            return w.a.getSprite("sprites/wires/sets/" + r + "_forward.png");
        case Ke.enumWireType.turn:
            return w.a.getSprite("sprites/wires/sets/" + r + "_turn.png");
        case Ke.enumWireType.split:
            return w.a.getSprite("sprites/wires/sets/" + r + "_split.png");
        case Ke.enumWireType.cross:
            return w.a.getSprite("sprites/wires/sets/" + r + "_cross.png");
        default:
            window.assert(!1, "Invalid wire rotation variant")
        }
    }
    function wire_getBlueprintSprite(e, t) {
        return this.getPreviewSprite(e, t)
    }
    function wire_computeOptimalDirect({root: e, tile: t, rotation: r, variant: n, layer: i}) {
        var o = Xe[n]
          , a = 0;
        a |= e.logic.computeWireEdgeStatus({
            tile: t,
            wireVariant: o,
            edge: C.d.top
        }) ? 4096 : 0,
        a |= e.logic.computeWireEdgeStatus({
            tile: t,
            wireVariant: o,
            edge: C.d.right
        }) ? 256 : 0,
        a |= e.logic.computeWireEdgeStatus({
            tile: t,
            wireVariant: o,
            edge: C.d.bottom
        }) ? 16 : 0,
        a |= e.logic.computeWireEdgeStatus({
            tile: t,
            wireVariant: o,
            edge: C.d.left
        }) ? 1 : 0;
        var s = Ke.enumWireType.forward;
        switch (r = 0,
        a) {
        case 0:
            break;
        case 1:
            r += 90;
            break;
        case 16:
            break;
        case 17:
            s = Ke.enumWireType.turn,
            r += 90;
            break;
        case 256:
        case 257:
            r += 90;
            break;
        case 272:
            s = Ke.enumWireType.turn;
            break;
        case 273:
            s = Ke.enumWireType.split;
            break;
        case 4096:
            break;
        case 4097:
            s = Ke.enumWireType.turn,
            r += 180;
            break;
        case 4112:
            break;
        case 4113:
            s = Ke.enumWireType.split,
            r += 90;
            break;
        case 4352:
            s = Ke.enumWireType.turn,
            r -= 90;
            break;
        case 4353:
            s = Ke.enumWireType.split,
            r += 180;
            break;
        case 4368:
            s = Ke.enumWireType.split,
            r -= 90;
            break;
        case 4369:
            s = Ke.enumWireType.cross
        }
        return {
            rotation: (r + 3600) % 360,
            rotationVariant: Ye.indexOf(s)
        }
    }
    var $e = function(e) {
        function MetaWireBuilding() {
            return e.call(this, "wire") || this
        }
        !function wire_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaWireBuilding, e),
        MetaWireBuilding.getAllVariantCombinations = wire_getAllVariantCombina;
        var t = MetaWireBuilding.prototype;
        return t.getHasDirectionLockAvailable = wire_getHasDirectionLockA,
        t.getSilhouetteColor = wire_getSilhouetteColor,
        t.getAvailableVariants = wire_getAvailableVariants,
        t.getDimensions = wire_getDimensions,
        t.getStayInPlacementMode = wire_getStayInPlacementMo,
        t.getPlacementSound = wire_getPlacementSound,
        t.getRotateAutomaticallyWhilePlacing = wire_getRotateAutomatical,
        t.getLayer = wire_getLayer,
        t.getSprite = wire_getSprite,
        t.getIsReplaceable = wire_getIsReplaceable,
        t.getIsUnlocked = wire_getIsUnlocked,
        t.setupEntityComponents = wire_setupEntityComponent,
        t.updateVariants = wire_updateVariants,
        t.getSpecialOverlayRenderMatrix = wire_getSpecialOverlayRen,
        t.getPreviewSprite = wire_getPreviewSprite,
        t.getBlueprintSprite = wire_getBlueprintSprite,
        t.computeOptimalDirectionAndRotationVariantAtTile = wire_computeOptimalDirect,
        MetaWireBuilding
    }(L)
      , et = r(64);
    function wire_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    var tt = Object(c.a)("wires")
      , rt = 0
      , nt = !1;
    function _WireNetwork() {
        this.providers = [],
        this.receivers = [],
        this.allSlots = [],
        this.tunnels = [],
        this.wires = [],
        this.currentValue = null,
        this.valueConflict = !1,
        this.uid = ++rt
    }
    function _hasValue() {
        return !!this.currentValue && !this.valueConflict
    }
    var it = function() {
        return _WireNetwork.prototype.hasValue = _hasValue,
        _WireNetwork
    }();
    function _queueRecomputeIfWire(e) {
        this.root.gameInitialized && this.isEntityRelevantForWires(e) && (this.needsRecompute = !0,
        this.networks = [])
    }
    function _recomputeWiresNetwor() {
        this.needsRecompute = !1,
        tt.log("Recomputing wires network"),
        this.networks = [];
        var e = this.root.entityMgr.getAllWithComponent(Ke.WireComponent)
          , t = this.root.entityMgr.getAllWithComponent(et.WireTunnelComponent)
          , r = this.root.entityMgr.getAllWithComponent(Re.WiredPinsComponent);
        if (this.isFirstRecompute)
            tt.log("Recomputing wires first time"),
            this.isFirstRecompute = !1;
        else {
            for (var n = 0; n < e.length; ++n)
                e[n].components.Wire.linkedNetwork = null;
            for (var i = 0; i < t.length; ++i)
                t[i].components.WireTunnel.linkedNetworks = [];
            for (var o = 0; o < r.length; ++o)
                for (var a = r[o].components.WiredPins.slots, s = 0; s < a.length; ++s)
                    a[s].linkedNetwork = null
        }
        nt && tt.log("Recomputing slots");
        for (var l = 0; l < r.length; ++l)
            for (var c = r[l], u = c.components.WiredPins.slots, d = 0; d < u.length; ++d) {
                var p = u[d];
                p.type !== Re.enumPinSlotType.logicalEjector || p.linkedNetwork || this.findNetworkForEjector(c, p)
            }
    }
    function _findNetworkForEjecto(e, t) {
        var r = new it;
        nt && tt.log("Finding network for entity", e.uid, e.components.StaticMapEntity.origin.toString(), "(nw-id:", r.uid, ")");
        for (var n = [{
            entity: e,
            slot: t
        }], i = null; n.length > 0; ) {
            var o = n.pop()
              , a = o.entity
              , s = a.components.Wire
              , l = a.components.StaticMapEntity;
            nt && tt.log("Visiting", l.origin.toString(), "(", a.uid, ")");
            var c = []
              , u = null;
            if (s && (s.linkedNetwork || i && s.variant !== i || (nt && tt.log("  Visited new wire:", l.origin.toString()),
            s.linkedNetwork = r,
            r.wires.push(a),
            c = C.b,
            u = a.components.StaticMapEntity.origin,
            i = s.variant)),
            a.components.WiredPins) {
                var d = o.slot;
                d.type === Re.enumPinSlotType.logicalEjector ? nt && tt.log("  Visiting ejector slot", l.origin.toString(), "->", d.type) : d.type === Re.enumPinSlotType.logicalAcceptor ? nt && tt.log("  Visiting acceptor slot", l.origin.toString(), "->", d.type) : window.assert(!1, "Bad slot type: " + d.type),
                d.linkedNetwork || (nt && tt.log("  Visited new slot:", l.origin.toString()),
                d.type === Re.enumPinSlotType.logicalEjector ? r.providers.push({
                    entity: a,
                    slot: d
                }) : d.type === Re.enumPinSlotType.logicalAcceptor ? r.receivers.push({
                    entity: a,
                    slot: d
                }) : window.assert(!1, "unknown slot type:" + d.type),
                r.allSlots.push({
                    entity: a,
                    slot: d
                }),
                d.linkedNetwork = r,
                c = [l.localDirectionToWorld(d.direction)],
                u = l.localTileToWorld(d.pos))
            }
            if (u) {
                var h = this.findSurroundingWireTargets(u, c, r, i);
                nt && tt.log("   Found", h, "new targets to visit!");
                for (var g = 0; g < h.length; ++g)
                    n.push(h[g])
            }
        }
        if (r.providers.length > 0 && (r.wires.length > 0 || r.receivers.length > 0 || r.tunnels.length > 0))
            this.networks.push(r),
            nt && tt.log("Attached new network with uid", r);
        else {
            for (var f = 0; f < r.wires.length; ++f)
                r.wires[f].components.Wire.linkedNetwork = null;
            for (var m = 0; m < r.tunnels.length; ++m)
                Object(p.h)(r.tunnels[m].components.WireTunnel.linkedNetworks, r);
            for (var y = 0; y < r.allSlots.length; ++y)
                r.allSlots[y].slot.linkedNetwork = null
        }
    }
    function _findSurroundingWireT(e, t, r, n=null) {
        var i = [];
        nt && tt.log("    Searching for new targets at", e.toString(), "and d=", t, "with mask=", n);
        for (var o = 0; o < t.length; ++o) {
            for (var a = t[o], s = C.f[a], l = e.add(s), c = new Set, u = this.root.map.getLayersContentsMultipleXY(l.x, l.y), d = [], p = 0; p < u.length; ++p)
                d.push({
                    entity: u[p],
                    tile: l
                });
            for (var h = 0; h < d.length; ++h) {
                var {entity: g, tile: f} = d[h]
                  , m = g.components.Wire;
                !m || m.linkedNetwork || n && m.variant !== n || i.push({
                    entity: g
                });
                var y = g.components.WiredPins;
                if (y)
                    for (var _ = g.components.StaticMapEntity, v = y.slots, b = 0; b < v.length; ++b) {
                        var w = v[b];
                        _.localTileToWorld(w.pos).equals(f) && _.localDirectionToWorld(w.direction) === C.g[a] && (w.linkedNetwork || i.push({
                            entity: g,
                            slot: w
                        }))
                    }
                else {
                    var S = g.components.WireTunnel;
                    if (S) {
                        if (c.has(g.uid))
                            continue;
                        var A = g.components.StaticMapEntity.origin.add(s);
                        nt && tt.log("   Found tunnel", g.uid, "at", f, "-> forwarding to", A);
                        for (var k = this.root.map.getLayersContentsMultipleXY(A.x, A.y), E = 0; E < k.length; ++E)
                            d.push({
                                entity: k[E],
                                tile: A
                            });
                        S.linkedNetworks.indexOf(r) < 0 && S.linkedNetworks.push(r),
                        r.tunnels.indexOf(g) < 0 && r.tunnels.push(g),
                        c.add(g.uid)
                    }
                }
            }
        }
        return nt && tt.log("     -> Found", i.length),
        i
    }
    function wire_update() {
        this.staleArea.update(),
        this.needsRecompute && this.recomputeWiresNetwork();
        for (var e = 0; e < this.networks.length; ++e) {
            var t = this.networks[e];
            t.valueConflict = !1;
            for (var r = t.providers, n = null, i = 0; i < r.length; ++i) {
                var o = r[i].slot.value;
                if (n) {
                    if (o && !n.equals(o)) {
                        t.valueConflict = !0;
                        break
                    }
                } else
                    n = o
            }
            t.valueConflict ? t.currentValue = null : t.currentValue = n
        }
    }
    function _getSpriteSetAndOpaci(e) {
        if (!e.linkedNetwork)
            return {
                spriteSet: this.wireSprites[e.variant],
                opacity: .5
            };
        var t = e.linkedNetwork;
        return t.valueConflict ? {
            spriteSet: this.wireSprites.conflict,
            opacity: 1
        } : {
            spriteSet: this.wireSprites[e.variant],
            opacity: Object(we.e)(t.currentValue) ? 1 : .5
        }
    }
    function wire_drawChunk(e, t) {
        for (var r = t.wireContents, n = 0; n < g.e.mapChunkSize; ++n)
            for (var i = 0; i < g.e.mapChunkSize; ++i) {
                var o = r[i][n];
                if (o && o.components.Wire) {
                    var a = o.components.Wire
                      , s = a.type
                      , {opacity: l, spriteSet: c} = this.getSpriteSetAndOpacityForWire(a)
                      , u = c[s]
                      , d = o.components.StaticMapEntity;
                    e.context.globalAlpha = l,
                    d.drawSpriteOnBoundsClipped(e, u, 0)
                }
            }
        e.context.globalAlpha = 1
    }
    function _isEntityRelevantForW(e) {
        return e.components.Wire || e.components.WiredPins || e.components.WireTunnel
    }
    function _queuePlacementUpdate(e) {
        if (this.root.gameInitialized && this.isEntityRelevantForWires(e)) {
            var t = e.components.StaticMapEntity;
            if (t) {
                this.root.signals.achievementCheck.dispatch(Ne.place5000Wires, e);
                var r = t.getTileSpaceBounds().expandedInAllDirections(1);
                this.staleArea.invalidate(r)
            }
        }
    }
    function _updateSurroundingWir(e) {
        for (var t = F.e.findByClass($e), r = e.x; r < e.right(); ++r)
            for (var n = e.y; n < e.bottom(); ++n)
                for (var i = this.root.map.getLayersContentsMultipleXY(r, n), o = 0; o < i.length; ++o) {
                    var a = i[o]
                      , s = a.components.Wire
                      , l = a.components.StaticMapEntity;
                    if (s) {
                        var c = l.getVariant()
                          , {rotation: u, rotationVariant: d} = t.computeOptimalDirectionAndRotationVariantAtTile({
                            root: this.root,
                            tile: new C.a(r,n),
                            rotation: l.originalRotation,
                            variant: c,
                            layer: a.layer
                        })
                          , p = Ye[d];
                        l.rotation === u && p === s.type || (l.rotation = u,
                        t.updateVariants(a, d, c),
                        l.code = Object(O.d)(t, c, d),
                        this.root.signals.entityChanged.dispatch(a))
                    }
                }
    }
    var ot = function(e) {
        function WireSystem(t) {
            var r;
            (r = e.call(this, t) || this).wireSprites = {};
            for (var n = ["conflict", ...Object.keys(Ke.enumWireVariant)], i = 0; i < n.length; ++i) {
                var o = n[i]
                  , a = {};
                for (var s in Ke.enumWireType)
                    a[s] = w.a.getSprite("sprites/wires/sets/" + o + "_" + s + ".png");
                r.wireSprites[o] = a
            }
            return r.root.signals.entityDestroyed.add(r.queuePlacementUpdate, wire_assertThisInitialized(r)),
            r.root.signals.entityAdded.add(r.queuePlacementUpdate, wire_assertThisInitialized(r)),
            r.root.signals.entityDestroyed.add(r.queueRecomputeIfWire, wire_assertThisInitialized(r)),
            r.root.signals.entityChanged.add(r.queueRecomputeIfWire, wire_assertThisInitialized(r)),
            r.root.signals.entityAdded.add(r.queueRecomputeIfWire, wire_assertThisInitialized(r)),
            r.needsRecompute = !0,
            r.isFirstRecompute = !0,
            r.staleArea = new de({
                root: r.root,
                name: "wires",
                recomputeMethod: r.updateSurroundingWirePlacement.bind(wire_assertThisInitialized(r))
            }),
            r.networks = [],
            r
        }
        !function systems_wire_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(WireSystem, e);
        var t = WireSystem.prototype;
        return t.queueRecomputeIfWire = _queueRecomputeIfWire,
        t.recomputeWiresNetwork = _recomputeWiresNetwor,
        t.findNetworkForEjector = _findNetworkForEjecto,
        t.findSurroundingWireTargets = _findSurroundingWireT,
        t.update = wire_update,
        t.getSpriteSetAndOpacityForWire = _getSpriteSetAndOpaci,
        t.drawChunk = wire_drawChunk,
        t.isEntityRelevantForWires = _isEntityRelevantForW,
        t.queuePlacementUpdate = _queuePlacementUpdate,
        t.updateSurroundingWirePlacement = _updateSurroundingWir,
        WireSystem
    }(ee)
      , at = r(43);
    function constant_signal_update() {
        for (var e = 0; e < this.allEntities.length; ++e) {
            var t = this.allEntities[e]
              , r = t.components.ConstantSignal
              , n = t.components.WiredPins;
            n && (n.slots[0].value = r.signal)
        }
    }
    var st = function(e) {
        function ConstantSignalSystem(t) {
            var r;
            return (r = e.call(this, t, [at.ConstantSignalComponent]) || this).root.signals.entityManuallyPlaced.add(e => {
                var t = r.root.hud.parts.constantSignalEdit;
                t && t.editConstantSignal(e, {
                    deleteOnCancel: !0
                })
            }
            ),
            r
        }
        return function constant_signal_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ConstantSignalSystem, e),
        ConstantSignalSystem.prototype.update = constant_signal_update,
        ConstantSignalSystem
    }(te)
      , lt = r(17);
    function logic_gate_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    function logic_gate_update() {
        for (var e = 0; e < this.allEntities.length; ++e) {
            for (var t = this.allEntities[e], r = t.components.LogicGate, n = t.components.WiredPins, i = [], o = !1, a = 0; a < n.slots.length; ++a) {
                var s = n.slots[a];
                if (s.type === Re.enumPinSlotType.logicalAcceptor) {
                    var l = s.linkedNetwork;
                    if (l) {
                        if (l.valueConflict) {
                            o = !0;
                            break
                        }
                        i.push(l.currentValue)
                    } else
                        i.push(null)
                }
            }
            if (o)
                for (var c = 0; c < n.slots.length; ++c) {
                    var u = n.slots[c];
                    u.type === Re.enumPinSlotType.logicalEjector && (u.value = null)
                }
            else {
                var d = this.boundOperations[r.type](i);
                if (Array.isArray(d))
                    for (var p = 0, h = 0; h < n.slots.length; ++h) {
                        var g = n.slots[h];
                        g.type === Re.enumPinSlotType.logicalEjector && (g.value = d[p++])
                    }
                else
                    n.slots[0].value = d
            }
        }
    }
    function _compute_AND(e) {
        return Object(we.e)(e[0]) && Object(we.e)(e[1]) ? we.b : we.a
    }
    function _compute_NOT(e) {
        return Object(we.e)(e[0]) ? we.a : we.b
    }
    function _compute_XOR(e) {
        return Object(we.e)(e[0]) !== Object(we.e)(e[1]) ? we.b : we.a
    }
    function _compute_OR(e) {
        return Object(we.e)(e[0]) || Object(we.e)(e[1]) ? we.b : we.a
    }
    function _compute_IF(e) {
        var t = e[0]
          , r = e[1];
        return Object(we.e)(t) ? r : null
    }
    function _compute_ROTATE(e) {
        var t = e[0];
        if (!t || "shape" !== t.getItemType())
            return null;
        var r = t.definition
          , n = this.root.shapeDefinitionMgr.shapeActionRotateCW(r);
        return this.root.shapeDefinitionMgr.getShapeItemFromDefinition(n)
    }
    function _compute_ANALYZE(e) {
        var t = e[0];
        if (!t || "shape" !== t.getItemType())
            return [null, null];
        var r = t.definition.layers[0];
        if (!r)
            return [null, null];
        var n = r[0];
        if (!n || null === n.subShape)
            return [null, null];
        var i = new R.b({
            layers: [[{
                subShape: n.subShape,
                color: V.c.uncolored
            }, {
                subShape: n.subShape,
                color: V.c.uncolored
            }, {
                subShape: n.subShape,
                color: V.c.uncolored
            }, {
                subShape: n.subShape,
                color: V.c.uncolored
            }]]
        });
        return [H.a[n.color], this.root.shapeDefinitionMgr.getShapeItemFromDefinition(i)]
    }
    function _compute_CUT(e) {
        var t = e[0];
        if (!t || "shape" !== t.getItemType())
            return [null, null];
        var r = t.definition
          , n = this.root.shapeDefinitionMgr.shapeActionCutHalf(r);
        return [n[0].isEntirelyEmpty() ? null : this.root.shapeDefinitionMgr.getShapeItemFromDefinition(n[0]), n[1].isEntirelyEmpty() ? null : this.root.shapeDefinitionMgr.getShapeItemFromDefinition(n[1])]
    }
    function _compute_UNSTACK(e) {
        var t = e[0];
        if (!t || "shape" !== t.getItemType())
            return [null, null];
        var r = t.definition.layers
          , n = new R.b({
            layers: [r[r.length - 1]]
        })
          , i = r.slice(0, r.length - 1)
          , o = i.length > 0 ? new R.b({
            layers: i
        }) : null;
        return [o ? this.root.shapeDefinitionMgr.getShapeItemFromDefinition(o) : null, this.root.shapeDefinitionMgr.getShapeItemFromDefinition(n)]
    }
    function _compute_STACKER(e) {
        var t = e[0]
          , r = e[1];
        if (!t || !r)
            return null;
        if ("shape" !== t.getItemType() || "shape" !== r.getItemType())
            return null;
        var n = this.root.shapeDefinitionMgr.shapeActionStack(t.definition, r.definition);
        return this.root.shapeDefinitionMgr.getShapeItemFromDefinition(n)
    }
    function _compute_PAINTER(e) {
        var t = e[0]
          , r = e[1];
        if (!t || !r)
            return null;
        if ("shape" !== t.getItemType() || "color" !== r.getItemType())
            return null;
        var n = this.root.shapeDefinitionMgr.shapeActionPaintWith(t.definition, r.color);
        return this.root.shapeDefinitionMgr.getShapeItemFromDefinition(n)
    }
    function _compute_COMPARE(e) {
        var t = e[0]
          , r = e[1];
        if (!t || !r)
            return null;
        if (t.getItemType() !== r.getItemType())
            return we.a;
        switch (t.getItemType()) {
        case "shape":
            return t.definition.getHash() === r.definition.getHash() ? we.b : we.a;
        case "color":
            return t.color === r.color ? we.b : we.a;
        case "boolean":
            return t.value === r.value ? we.b : we.a;
        default:
            window.assert(!1, "Bad item type: " + t.getItemType())
        }
    }
    var ct = function(e) {
        function LogicGateSystem(t) {
            var r;
            return (r = e.call(this, t, [lt.LogicGateComponent]) || this).boundOperations = {
                [lt.enumLogicGateType.and]: r.compute_AND.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.not]: r.compute_NOT.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.xor]: r.compute_XOR.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.or]: r.compute_OR.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.transistor]: r.compute_IF.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.rotater]: r.compute_ROTATE.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.analyzer]: r.compute_ANALYZE.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.cutter]: r.compute_CUT.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.unstacker]: r.compute_UNSTACK.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.compare]: r.compute_COMPARE.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.stacker]: r.compute_STACKER.bind(logic_gate_assertThisInitialized(r)),
                [lt.enumLogicGateType.painter]: r.compute_PAINTER.bind(logic_gate_assertThisInitialized(r))
            },
            r
        }
        !function logic_gate_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(LogicGateSystem, e);
        var t = LogicGateSystem.prototype;
        return t.update = logic_gate_update,
        t.compute_AND = _compute_AND,
        t.compute_NOT = _compute_NOT,
        t.compute_XOR = _compute_XOR,
        t.compute_OR = _compute_OR,
        t.compute_IF = _compute_IF,
        t.compute_ROTATE = _compute_ROTATE,
        t.compute_ANALYZE = _compute_ANALYZE,
        t.compute_CUT = _compute_CUT,
        t.compute_UNSTACK = _compute_UNSTACK,
        t.compute_STACKER = _compute_STACKER,
        t.compute_PAINTER = _compute_PAINTER,
        t.compute_COMPARE = _compute_COMPARE,
        LogicGateSystem
    }(te)
      , ut = r(53);
    function lever_update() {
        for (var e = 0; e < this.allEntities.length; ++e) {
            var t = this.allEntities[e]
              , r = t.components.Lever;
            t.components.WiredPins.slots[0].value = r.toggled ? we.b : we.a
        }
    }
    function lever_drawChunk(e, t) {
        for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = i.components.Lever;
            if (o) {
                var a = o.toggled ? this.spriteOn : this.spriteOff;
                i.components.StaticMapEntity.drawSpriteOnBoundsClipped(e, a)
            }
        }
    }
    var dt = function(e) {
        function LeverSystem(t) {
            var r;
            return (r = e.call(this, t, [ut.LeverComponent]) || this).spriteOn = w.a.getSprite("sprites/wires/lever_on.png"),
            r.spriteOff = w.a.getSprite("sprites/buildings/lever.png"),
            r
        }
        !function lever_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(LeverSystem, e);
        var t = LeverSystem.prototype;
        return t.update = lever_update,
        t.drawChunk = lever_drawChunk,
        LeverSystem
    }(te);
    function _getDisplayItem(e) {
        if (!e)
            return null;
        switch (e.getItemType()) {
        case "boolean":
            return Object(we.d)(e) ? H.a[V.c.white] : null;
        case "color":
            var t = e;
            return t.color === V.c.uncolored ? null : t;
        case "shape":
            return e;
        default:
            window.assert(!1, "Unknown item type: " + e.getItemType())
        }
    }
    function display_drawChunk(e, t) {
        for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
            var i = r[n];
            if (i && i.components.Display) {
                var o = i.components.WiredPins.slots[0].linkedNetwork;
                if (!o || !o.hasValue())
                    continue;
                var a = this.getDisplayItem(o.currentValue);
                if (!a)
                    continue;
                var s = i.components.StaticMapEntity.origin;
                "color" === a.getItemType() ? this.displaySprites[a.color].drawCachedCentered(e, 32 * (s.x + .5), 32 * (s.y + .5), 32) : "shape" === a.getItemType() && a.drawItemCenteredClipped(32 * (s.x + .5), 32 * (s.y + .5), e, 30)
            }
        }
    }
    var pt = function(e) {
        function DisplaySystem(t) {
            var r;
            for (var n in (r = e.call(this, t) || this).displaySprites = {},
            V.c)
                n !== V.c.uncolored && (r.displaySprites[n] = w.a.getSprite("sprites/wires/display/" + n + ".png"));
            return r
        }
        !function display_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(DisplaySystem, e);
        var t = DisplaySystem.prototype;
        return t.getDisplayItem = _getDisplayItem,
        t.drawChunk = display_drawChunk,
        DisplaySystem
    }(ee);
    function item_processor_overlays_clearDrawnUids() {
        this.drawnUids.clear()
    }
    function item_processor_overlays_drawChunk(e, t) {
        for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = i.components.ItemProcessor
              , a = i.components.Filter;
            if (o) {
                var s = o.processingRequirement;
                if (!s && o.type !== be.enumItemProcessorTypes.reader)
                    continue;
                if (this.drawnUids.has(i.uid))
                    continue;
                switch (this.drawnUids.add(i.uid),
                s) {
                case be.enumItemProcessorRequirements.painterQuad:
                    this.drawConnectedSlotRequirement(e, i, {
                        drawIfFalse: !0
                    })
                }
                o.type === be.enumItemProcessorTypes.reader && this.drawReaderOverlays(e, i)
            } else if (a) {
                if (this.drawnUids.has(i.uid))
                    continue;
                this.drawnUids.add(i.uid),
                this.drawConnectedSlotRequirement(e, i, {
                    drawIfFalse: !1
                })
            }
        }
    }
    function _drawReaderOverlays(e, t) {
        var r = t.components.StaticMapEntity
          , n = t.components.BeltReader;
        this.readerOverlaySprite.drawCachedCentered(e, 32 * (r.origin.x + .5), 32 * (r.origin.y + .5), 32),
        e.context.fillStyle = "#333439",
        e.context.textAlign = "center",
        e.context.font = "bold 10px GameFont",
        e.context.fillText(Object(p.E)(n.lastThroughput), 32 * (r.origin.x + .5), 32 * (r.origin.y + .62)),
        e.context.textAlign = "left"
    }
    function _drawConnectedSlotReq(e, t, {drawIfFalse: r=!0}) {
        for (var n = t.components.StaticMapEntity, i = t.components.WiredPins, o = !1, a = 0; a < i.slots.length; ++a) {
            var s = i.slots[a].linkedNetwork;
            if (s && s.hasValue() && (o = !0,
            Object(we.e)(s.currentValue) || !r))
                return
        }
        var l = Object(p.J)(this.root.time.now());
        e.context.globalAlpha = .6 + .4 * l,
        (o ? this.spriteDisabled : this.spriteDisconnected).drawCachedCentered(e, 32 * (n.origin.x + .5), 32 * (n.origin.y + .5), 32 * (.7 + .2 * l)),
        e.context.globalAlpha = 1
    }
    var ht = function(e) {
        function ItemProcessorOverlaysSystem(t) {
            var r;
            return (r = e.call(this, t) || this).spriteDisabled = w.a.getSprite("sprites/misc/processor_disabled.png"),
            r.spriteDisconnected = w.a.getSprite("sprites/misc/processor_disconnected.png"),
            r.readerOverlaySprite = w.a.getSprite("sprites/misc/reader_overlay.png"),
            r.drawnUids = new Set,
            r.root.signals.gameFrameStarted.add(r.clearDrawnUids, function item_processor_overlays_assertThisInitialized(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(r)),
            r
        }
        !function item_processor_overlays_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemProcessorOverlaysSystem, e);
        var t = ItemProcessorOverlaysSystem.prototype;
        return t.clearDrawnUids = item_processor_overlays_clearDrawnUids,
        t.drawChunk = item_processor_overlays_drawChunk,
        t.drawReaderOverlays = _drawReaderOverlays,
        t.drawConnectedSlotRequirement = _drawConnectedSlotReq,
        ItemProcessorOverlaysSystem
    }(ee)
      , gt = r(65);
    function belt_reader_update() {
        for (var e = this.root.time.now(), t = e - g.e.readerAnalyzeIntervalSeconds, r = e - 1, n = 0; n < this.allEntities.length; ++n) {
            for (var i = this.allEntities[n], o = i.components.BeltReader, a = i.components.WiredPins; o.lastItemTimes[0] < t; )
                o.lastItemTimes.shift();
            if (a && (a.slots[1].value = o.lastItem,
            a.slots[0].value = (o.lastItemTimes[o.lastItemTimes.length - 1] || 0) > r ? we.b : we.a),
            e - o.lastThroughputComputation > .5) {
                o.lastThroughputComputation = e;
                var s = 0;
                if (o.lastItemTimes.length < 2)
                    s = 0;
                else {
                    for (var l = 0, c = 0, u = 0; u < o.lastItemTimes.length - 1; ++u)
                        l += o.lastItemTimes[u + 1] - o.lastItemTimes[u],
                        ++c;
                    s = 1 / (l / c)
                }
                o.lastThroughput = Math.min(47.8, s)
            }
        }
    }
    var ft = function(e) {
        function BeltReaderSystem(t) {
            return e.call(this, t, [gt.BeltReaderComponent]) || this
        }
        return function belt_reader_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BeltReaderSystem, e),
        BeltReaderSystem.prototype.update = belt_reader_update,
        BeltReaderSystem
    }(te)
      , mt = r(66)
      , yt = 2;
    function filter_update() {
        for (var e = this.root.dynamicTickrate.deltaSeconds * this.root.hubGoals.getBeltBaseSpeed() * g.e.itemSpacingOnBelts, t = 1 - e, r = 0; r < this.allEntities.length; ++r)
            for (var n = this.allEntities[r], i = n.components.Filter, o = n.components.ItemEjector, a = [i.pendingItemsToLeaveThrough, i.pendingItemsToReject], s = 0; s < a.length; ++s)
                for (var l = a[s], c = 0; c < l.length; ++c) {
                    var u = l[c];
                    u.progress = Math.min(t, u.progress + e),
                    u.progress >= t - 1e-5 && o.tryEject(s, u.item) && l.shift()
                }
    }
    function _tryAcceptItem(e, t, r) {
        var n = e.components.WiredPins.slots[0].linkedNetwork;
        if (!n || !n.hasValue())
            return !1;
        var i, o = n.currentValue, a = e.components.Filter;
        return !((i = o.equals(we.b) || o.equals(r) ? a.pendingItemsToLeaveThrough : a.pendingItemsToReject).length >= yt || (i.push({
            item: r,
            progress: 0
        }),
        0))
    }
    var _t = function(e) {
        function FilterSystem(t) {
            return e.call(this, t, [mt.FilterComponent]) || this
        }
        !function filter_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(FilterSystem, e);
        var t = FilterSystem.prototype;
        return t.update = filter_update,
        t.tryAcceptItem = _tryAcceptItem,
        FilterSystem
    }(te)
      , vt = r(48);
    function item_producer_update() {
        for (var e = 0; e < this.allEntities.length; ++e) {
            var t = this.allEntities[e]
              , r = t.components.ItemEjector
              , n = t.components.WiredPins;
            if (n) {
                var i = n.slots[0].linkedNetwork;
                i && i.hasValue() && (this.item = i.currentValue,
                r.tryEject(0, this.item))
            }
        }
    }
    var bt = function(e) {
        function ItemProducerSystem(t) {
            var r;
            return (r = e.call(this, t, [vt.ItemProducerComponent]) || this).item = null,
            r
        }
        return function item_producer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ItemProducerSystem, e),
        ItemProducerSystem.prototype.update = item_producer_update,
        ItemProducerSystem
    }(te);
    function constant_producer_update() {
        for (var e = 0; e < this.allEntities.length; ++e) {
            var t = this.allEntities[e]
              , r = t.components.ConstantSignal
              , n = t.components.ItemEjector;
            n && n.tryEject(0, r.signal)
        }
    }
    function constant_producer_drawChunk(e, t) {
        for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
            var i = r[n].components.ItemProducer
              , o = r[n].components.ConstantSignal;
            if (i && o) {
                var a = r[n].components.StaticMapEntity
                  , s = o.signal;
                if (s) {
                    var l = a.getTileSpaceBounds().getCenter().toWorldSpace()
                      , c = new C.a(0,1).rotateFastMultipleOf90(a.rotation);
                    s.drawItemCenteredClipped(l.x + c.x, l.y + c.y, e, 20.8)
                }
            }
        }
    }
    var wt = function(e) {
        function ConstantProducerSystem(t) {
            return e.call(this, t, [at.ConstantSignalComponent, vt.ItemProducerComponent]) || this
        }
        !function constant_producer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ConstantProducerSystem, e);
        var t = ConstantProducerSystem.prototype;
        return t.update = constant_producer_update,
        t.drawChunk = constant_producer_drawChunk,
        ConstantProducerSystem
    }(te)
      , St = r(54);
    function goal_acceptor_update() {
        for (var e = this.root.time.now(), t = !0, r = 0; r < this.allEntities.length; ++r) {
            var n = this.allEntities[r].components.GoalAcceptor;
            n.lastDelivery ? (e - n.lastDelivery.time > n.getRequiredSecondsPerItem() && n.clearItems(),
            n.currentDeliveredItems < g.e.goalAcceptorItemsRequired && (t = !1)) : t = !1
        }
        !this.puzzleCompleted && this.root.gameInitialized && t && !this.root.gameMode.getIsEditor() && (this.root.signals.puzzleComplete.dispatch(),
        this.puzzleCompleted = !0)
    }
    function goal_acceptor_drawChunk(e, t) {
        for (var r = t.containedEntitiesByLayer.regular, n = 0; n < r.length; ++n) {
            var i = r[n].components.GoalAcceptor;
            if (i) {
                var o = r[n].components.StaticMapEntity
                  , a = i.item
                  , s = g.e.goalAcceptorItemsRequired
                  , l = Object(p.d)(i.currentDeliveredItems / s, 0, 1)
                  , c = o.getTileSpaceBounds().getCenter().toWorldSpace();
                if (a) {
                    var u = new C.a(0,-1.8).rotateFastMultipleOf90(o.rotation);
                    a.drawItemCenteredClipped(c.x + u.x, c.y + u.y, e, 20.8)
                }
                var d = a && i.currentDeliveredItems >= s;
                e.context.translate(c.x, c.y),
                e.context.rotate(o.rotation / 180 * Math.PI),
                e.context.lineWidth = 1,
                e.context.fillStyle = "#8de255",
                e.context.strokeStyle = "#64666e",
                e.context.lineCap = "round",
                i.displayPercentage = Object(p.u)(i.displayPercentage, l, .2);
                var h = .595 * Math.PI
                  , f = 1.82 * Math.PI;
                e.context.beginPath(),
                e.context.arc(.25, -1.5, 11.6, h, h + i.displayPercentage * f, !1),
                e.context.arc(.25, -1.5, 15.5, h + i.displayPercentage * f, h, !0),
                e.context.closePath(),
                e.context.fill(),
                e.context.stroke(),
                e.context.lineCap = "butt",
                e.context.lineWidth = 1.2,
                e.context.strokeStyle = "#64666e",
                e.context.fillStyle = d ? "#8de255" : "#ff666a",
                e.context.beginCircle(10, 11.8, 5),
                e.context.fill(),
                e.context.stroke(),
                e.context.rotate(-o.rotation / 180 * Math.PI),
                e.context.translate(-c.x, -c.y)
            }
        }
    }
    var Ct = function(e) {
        function GoalAcceptorSystem(t) {
            var r;
            return (r = e.call(this, t, [St.GoalAcceptorComponent]) || this).puzzleCompleted = !1,
            r
        }
        !function goal_acceptor_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(GoalAcceptorSystem, e);
        var t = GoalAcceptorSystem.prototype;
        return t.update = goal_acceptor_update,
        t.drawChunk = goal_acceptor_drawChunk,
        GoalAcceptorSystem
    }(te);
    function zone_prePlacementCheck(e, t=null) {
        var r = e.components.StaticMapEntity;
        if (r) {
            var n = this.root.gameMode.getBuildableZones();
            if (n) {
                var i = r.getTileSpaceBounds();
                return t && (i.x += t.x,
                i.y += t.y),
                n.some(e => e.intersectsFully(i)) ? void 0 : v.a
            }
        }
    }
    function zone_drawChunk(e, t) {
        if (!this.drawn) {
            this.drawn = !0;
            var r = this.root.gameMode.getBuildableZones();
            if (r) {
                var n = r[0].allScaled(32)
                  , i = e.context;
                i.lineWidth = 2,
                i.strokeStyle = J.a.map.zone.borderSolid,
                i.beginPath(),
                i.rect(n.x - 1, n.y - 1, n.w + 2, n.h + 2),
                i.stroke();
                var o = n;
                i.fillStyle = J.a.map.zone.outerColor,
                i.fillRect(o.x + o.w, o.y, 1280, o.h),
                i.fillRect(o.x - 1280, o.y, 1280, o.h),
                i.fillRect(o.x - 1280 - 32, o.y - 1280, 2560 + n.w + 64, 1280),
                i.fillRect(o.x - 1280 - 32, o.y + o.h, 2560 + n.w + 64, 1280),
                i.globalAlpha = 1
            }
        }
    }
    var At = function(e) {
        function ZoneSystem(t) {
            var r;
            return (r = e.call(this, t) || this).drawn = !1,
            r.root.signals.prePlacementCheck.add(r.prePlacementCheck, function zone_assertThisInitialized(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(r)),
            r.root.signals.gameFrameStarted.add( () => {
                r.drawn = !1
            }
            ),
            r
        }
        !function zone_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ZoneSystem, e);
        var t = ZoneSystem.prototype;
        return t.prePlacementCheck = zone_prePlacementCheck,
        t.drawChunk = zone_drawChunk,
        ZoneSystem
    }(ee)
      , kt = Object(c.a)("game_system_manager")
      , Et = {};
    function _GameSystemManager(e) {
        this.root = e,
        this.systems = {},
        this.systemUpdateOrder = [],
        this.internalInitSystems()
    }
    function _internalInitSystems() {
        function _ref({id: e, systemClass: r}) {
            return t(e, r)
        }
        var e = e => {
            var t = Et[e];
            t && t.forEach(_ref)
        }
          , t = (t, r) => {
            e(t),
            this.systems[t] = new r(this.root),
            this.systemUpdateOrder.push(t)
        }
        ;
        for (var r in t("itemAcceptor", Oe),
        t("belt", ce),
        t("undergroundBelt", Ie),
        t("miner", ve),
        t("storage", Le),
        t("itemProcessor", ke),
        t("filter", _t),
        t("itemProducer", bt),
        t("itemEjector", fe),
        this.root.gameMode.hasResources() && t("mapResources", ye),
        t("hub", Te),
        t("staticMapEntities", Me),
        t("wiredPins", Ue),
        t("beltUnderlays", Ve),
        t("constantSignal", st),
        t("lever", dt),
        t("wire", ot),
        t("logicGate", ct),
        t("beltReader", ft),
        t("display", pt),
        t("itemProcessorOverlays", ht),
        t("constantProducer", wt),
        t("goalAcceptor", Ct),
        this.root.gameMode.getBuildableZones() && t("zone", At),
        e("end"),
        Et)
            this.systems[r] || "end" === r || kt.error("Mod system not attached due to invalid 'before': ", r);
        kt.log("\u{1f4e6} There are", this.systemUpdateOrder.length, "game systems")
    }
    function game_system_manager_update() {
        for (var e = 0; e < this.systemUpdateOrder.length; ++e)
            this.systems[this.systemUpdateOrder[e]].update()
    }
    function game_system_manager_refreshCaches() {
        for (var e = 0; e < this.systemUpdateOrder.length; ++e)
            this.systems[this.systemUpdateOrder[e]].refreshCaches()
    }
    var It = function() {
        var e = _GameSystemManager.prototype;
        return e.internalInitSystems = _internalInitSystems,
        e.update = game_system_manager_update,
        e.refreshCaches = game_system_manager_refreshCaches,
        _GameSystemManager
    }();
    function key_action_mapper_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    function keyToKeyCode(e) {
        return e.toUpperCase().charCodeAt(0)
    }
    var Bt = {
        Tab: 9,
        Enter: 13,
        Shift: 16,
        Ctrl: 17,
        Alt: 18,
        Escape: 27,
        Space: 32,
        ArrowLeft: 37,
        ArrowUp: 38,
        ArrowRight: 39,
        ArrowDown: 40,
        Delete: 46,
        F1: 112,
        F2: 113,
        F3: 114,
        F4: 115,
        F5: 116,
        F6: 117,
        F7: 118,
        F8: 119,
        F9: 120,
        F10: 121,
        F11: 122,
        F12: 123,
        Plus: 187,
        Minus: 189
    }
      , xt = {
        mods: {},
        general: {
            confirm: {
                keyCode: Bt.Enter
            },
            back: {
                keyCode: Bt.Escape,
                builtin: !0
            }
        },
        ingame: {
            menuOpenShop: {
                keyCode: keyToKeyCode("F")
            },
            menuOpenStats: {
                keyCode: keyToKeyCode("G")
            },
            menuClose: {
                keyCode: keyToKeyCode("Q")
            },
            toggleHud: {
                keyCode: Bt.F2
            },
            exportScreenshot: {
                keyCode: Bt.F3
            },
            toggleFPSInfo: {
                keyCode: Bt.F4
            },
            switchLayers: {
                keyCode: keyToKeyCode("E")
            },
            showShapeTooltip: {
                keyCode: Bt.Alt
            }
        },
        navigation: {
            mapMoveUp: {
                keyCode: keyToKeyCode("W")
            },
            mapMoveRight: {
                keyCode: keyToKeyCode("D")
            },
            mapMoveDown: {
                keyCode: keyToKeyCode("S")
            },
            mapMoveLeft: {
                keyCode: keyToKeyCode("A")
            },
            mapMoveFaster: {
                keyCode: Bt.Shift
            },
            centerMap: {
                keyCode: Bt.Space
            },
            mapZoomIn: {
                keyCode: Bt.Plus,
                repeated: !0
            },
            mapZoomOut: {
                keyCode: Bt.Minus,
                repeated: !0
            },
            createMarker: {
                keyCode: keyToKeyCode("M")
            }
        },
        buildings: {
            constant_producer: {
                keyCode: keyToKeyCode("H")
            },
            goal_acceptor: {
                keyCode: keyToKeyCode("N")
            },
            block: {
                keyCode: keyToKeyCode("4")
            },
            belt: {
                keyCode: keyToKeyCode("1")
            },
            balancer: {
                keyCode: keyToKeyCode("2")
            },
            underground_belt: {
                keyCode: keyToKeyCode("3")
            },
            miner: {
                keyCode: keyToKeyCode("4")
            },
            cutter: {
                keyCode: keyToKeyCode("5")
            },
            rotater: {
                keyCode: keyToKeyCode("6")
            },
            stacker: {
                keyCode: keyToKeyCode("7")
            },
            mixer: {
                keyCode: keyToKeyCode("8")
            },
            painter: {
                keyCode: keyToKeyCode("9")
            },
            trash: {
                keyCode: keyToKeyCode("0")
            },
            item_producer: {
                keyCode: keyToKeyCode("L")
            },
            storage: {
                keyCode: keyToKeyCode("Y")
            },
            reader: {
                keyCode: keyToKeyCode("U")
            },
            lever: {
                keyCode: keyToKeyCode("I")
            },
            filter: {
                keyCode: keyToKeyCode("O")
            },
            display: {
                keyCode: keyToKeyCode("P")
            },
            wire: {
                keyCode: keyToKeyCode("1")
            },
            wire_tunnel: {
                keyCode: keyToKeyCode("2")
            },
            constant_signal: {
                keyCode: keyToKeyCode("3")
            },
            logic_gate: {
                keyCode: keyToKeyCode("4")
            },
            virtual_processor: {
                keyCode: keyToKeyCode("5")
            },
            analyzer: {
                keyCode: keyToKeyCode("6")
            },
            comparator: {
                keyCode: keyToKeyCode("7")
            },
            transistor: {
                keyCode: keyToKeyCode("8")
            }
        },
        placement: {
            pipette: {
                keyCode: keyToKeyCode("Q")
            },
            rotateWhilePlacing: {
                keyCode: keyToKeyCode("R")
            },
            rotateInverseModifier: {
                keyCode: Bt.Shift
            },
            rotateToUp: {
                keyCode: Bt.ArrowUp
            },
            rotateToDown: {
                keyCode: Bt.ArrowDown
            },
            rotateToRight: {
                keyCode: Bt.ArrowRight
            },
            rotateToLeft: {
                keyCode: Bt.ArrowLeft
            },
            cycleBuildingVariants: {
                keyCode: keyToKeyCode("T")
            },
            cycleBuildings: {
                keyCode: Bt.Tab
            },
            switchDirectionLockSide: {
                keyCode: keyToKeyCode("R")
            },
            copyWireValue: {
                keyCode: keyToKeyCode("Z")
            }
        },
        massSelect: {
            massSelectStart: {
                keyCode: Bt.Ctrl
            },
            massSelectSelectMultiple: {
                keyCode: Bt.Shift
            },
            massSelectCopy: {
                keyCode: keyToKeyCode("C")
            },
            massSelectCut: {
                keyCode: keyToKeyCode("X")
            },
            massSelectClear: {
                keyCode: keyToKeyCode("B")
            },
            confirmMassDelete: {
                keyCode: Bt.Delete
            },
            pasteLastBlueprint: {
                keyCode: keyToKeyCode("V")
            }
        },
        placementModifiers: {
            lockBeltDirection: {
                keyCode: Bt.Shift
            },
            placementDisableAutoOrientation: {
                keyCode: Bt.Ctrl
            },
            placeMultiple: {
                keyCode: Bt.Shift
            },
            placeInverse: {
                keyCode: Bt.Alt
            }
        }
    };
    for (var Pt in xt)
        for (var Tt in xt[Pt])
            xt[Pt][Tt].id = Tt;
    var Mt = 1
      , Ot = 2
      , zt = 3;
    function getStringForKeyCode(e) {
        switch (e) {
        case Mt:
            return "LMB";
        case Ot:
            return "MMB";
        case zt:
            return "RMB";
        case 4:
            return "MB4";
        case 5:
            return "MB5";
        case 8:
            return "\u232b";
        case Bt.Tab:
            return U.a.global.keys.tab;
        case Bt.Enter:
            return "\u23ce";
        case Bt.Shift:
            return "\u21ea";
        case Bt.Ctrl:
            return U.a.global.keys.control;
        case Bt.Alt:
            return U.a.global.keys.alt;
        case 19:
            return "PAUSE";
        case 20:
            return "CAPS";
        case Bt.Escape:
            return U.a.global.keys.escape;
        case Bt.Space:
            return U.a.global.keys.space;
        case 33:
            return "PGUP";
        case 34:
            return "PGDOWN";
        case 35:
            return "END";
        case 36:
            return "HOME";
        case Bt.ArrowLeft:
            return "\u2b05";
        case Bt.ArrowUp:
            return "\u2b06";
        case Bt.ArrowRight:
            return "\u27a1";
        case Bt.ArrowDown:
            return "\u2b07";
        case 44:
            return "PRNT";
        case 45:
            return "INS";
        case 46:
            return "DEL";
        case 93:
            return "SEL";
        case 96:
            return "NUM 0";
        case 97:
            return "NUM 1";
        case 98:
            return "NUM 2";
        case 99:
            return "NUM 3";
        case 100:
            return "NUM 4";
        case 101:
            return "NUM 5";
        case 102:
            return "NUM 6";
        case 103:
            return "NUM 7";
        case 104:
            return "NUM 8";
        case 105:
            return "NUM 9";
        case 106:
            return "*";
        case 107:
            return "+";
        case 109:
            return "-";
        case 110:
            return ".";
        case 111:
            return "/";
        case Bt.F1:
            return "F1";
        case Bt.F2:
            return "F2";
        case Bt.F3:
            return "F3";
        case Bt.F4:
            return "F4";
        case Bt.F5:
            return "F5";
        case Bt.F6:
            return "F6";
        case Bt.F7:
            return "F7";
        case Bt.F8:
            return "F8";
        case Bt.F9:
            return "F9";
        case Bt.F10:
            return "F10";
        case Bt.F11:
            return "F11";
        case Bt.F12:
            return "F12";
        case 144:
            return "NUMLOCK";
        case 145:
            return "SCRLOCK";
        case 182:
            return "COMP";
        case 183:
            return "CALC";
        case 186:
            return ";";
        case 187:
            return "+";
        case 188:
            return ",";
        case 189:
            return "-";
        case 190:
            return ".";
        case 191:
            return "/";
        case 192:
            return "`";
        case 219:
            return "[";
        case 220:
            return "\\";
        case 221:
            return "]";
        case 222:
            return "'"
        }
        return 48 <= e && e <= 57 || 65 <= e && e <= 90 ? String.fromCharCode(e) : "[" + e + "]"
    }
    function _Keybinding(e, t, {keyCode: r, builtin: n=!1, repeated: i=!1, modifiers: o={}}) {
        this.keyMapper = e,
        this.app = t,
        this.keyCode = r,
        this.builtin = n,
        this.repeated = i,
        this.modifiers = o,
        this.signal = new v.b,
        this.toggled = new v.b
    }
    function key_action_mapper_add(e, t=null) {
        this.signal.add(e, t)
    }
    function _addToTop(e, t=null) {
        this.signal.addToTop(e, t)
    }
    function _appendLabelToElement(e) {
        if (g.b)
            return null;
        var t = document.createElement("code");
        return t.classList.add("keybinding"),
        t.innerHTML = getStringForKeyCode(this.keyCode),
        e.appendChild(t),
        t
    }
    function _getKeyCodeString() {
        return getStringForKeyCode(this.keyCode)
    }
    function _clearSignalReceivers() {
        this.signal.removeAll()
    }
    function key_action_mapper_ref() {
        if (this.app.inputMgr.keysDown.has(this.keyCode)) {
            var e = this.keyMapper.inputReceiver;
            return this.app.inputMgr.getTopReciever() === e
        }
        return !1
    }
    var Lt = function() {
        var e = _Keybinding.prototype;
        return e.add = key_action_mapper_add,
        e.addToTop = _addToTop,
        e.appendLabelToElement = _appendLabelToElement,
        e.getKeyCodeString = _getKeyCodeString,
        e.clearSignalReceivers = _clearSignalReceivers,
        function key_action_mapper_createClass(e, t, r) {
            t && key_action_mapper_defineProperties(e.prototype, t),
            r && key_action_mapper_defineProperties(e, r)
        }(_Keybinding, [{
            key: "pressed",
            get: key_action_mapper_ref
        }]),
        _Keybinding
    }();
    function _KeyActionMapper(e, t) {
        this.root = e,
        this.inputReceiver = t,
        t.keydown.add(this.handleKeydown, this),
        t.keyup.add(this.handleKeyup, this),
        this.keybindings = {};
        var r = e.app.settings.getKeybindingOverrides();
        for (var n in xt)
            for (var i in xt[n]) {
                var o = Object.assign({}, xt[n][i]);
                r[i] && (o.keyCode = r[i]),
                this.keybindings[i] = new Lt(this,this.root.app,o)
            }
        t.pageBlur.add(this.onPageBlur, this),
        t.destroyed.add(this.cleanup, this)
    }
    function _getKeybindingsStarti(e) {
        var t = [];
        for (var r in this.keybindings)
            r.startsWith(e) && t.push(this.keybindings[r]);
        return t
    }
    function _forward(e, t) {
        for (var r = this, n = function(n) {
            var i = t[n];
            r.keybindings[i].signal.add( (...t) => e.keybindings[i].signal.dispatch(...t))
        }, i = 0; i < t.length; ++i)
            n(i)
    }
    function _cleanup() {
        for (var e in this.keybindings)
            this.keybindings[e].signal.removeAll()
    }
    function _onPageBlur() {
        for (var e in this.keybindings)
            this.keybindings[e]
    }
    function _handleKeydown({keyCode: e, shift: t, alt: r, ctrl: n, initial: i}) {
        for (var o in this.keybindings) {
            var a = this.keybindings[o];
            if (a.keyCode === e && (i || a.repeated)) {
                if (a.modifiers.shift && !t)
                    continue;
                if (a.modifiers.ctrl && !n)
                    continue;
                if (a.modifiers.alt && !r)
                    continue;
                if (this.keybindings[o].signal.dispatch() === v.a)
                    return
            }
        }
    }
    function _handleKeyup({keyCode: e, shift: t, alt: r}) {}
    function _getBinding(e) {
        var t = e.id;
        return this.keybindings[t]
    }
    function _getBindingById(e) {
        return this.keybindings[e]
    }
    var Rt = function() {
        var e = _KeyActionMapper.prototype;
        return e.getKeybindingsStartingWith = _getKeybindingsStarti,
        e.forward = _forward,
        e.cleanup = _cleanup,
        e.onPageBlur = _onPageBlur,
        e.handleKeydown = _handleKeydown,
        e.handleKeyup = _handleKeyup,
        e.getBinding = _getBinding,
        e.getBindingById = _getBindingById,
        _KeyActionMapper
    }();
    function _TrackedState(e=null, t=null) {
        this.lastSeenValue = null,
        e && (this.callback = e,
        t && (this.callback = this.callback.bind(t)))
    }
    function _set(e, t=null, r=null) {
        if (e !== this.lastSeenValue) {
            var n = e;
            this.lastSeenValue = e,
            t ? r ? t.call(r, n) : t(n) : this.callback && this.callback(e)
        }
    }
    function _setSilent(e) {
        this.lastSeenValue = e
    }
    function _get() {
        return this.lastSeenValue
    }
    var Dt = function() {
        var e = _TrackedState.prototype;
        return e.set = _set,
        e.setSilent = _setSilent,
        e.get = _get,
        _TrackedState
    }();
    function _DynamicDomAttach(e, t, {timeToKeepSeconds: r=0, attachClass: n=null, trackHover: i=!1}={}) {
        this.root = e,
        this.element = t,
        this.parent = this.element.parentElement,
        this.attachClass = n,
        this.trackHover = i,
        this.timeToKeepSeconds = r,
        this.lastVisibleTime = 0,
        this.attached = !0,
        this.internalDetach(),
        this.internalIsClassAttached = !1,
        this.classAttachTimeout = null,
        this.lastComputedBounds = null,
        this.lastComputedBoundsTime = -1,
        this.trackedIsHovered = new Dt(this.setIsHoveredClass,this)
    }
    function _internalAttach() {
        this.attached || (this.parent.appendChild(this.element),
        this.attached = !0)
    }
    function _internalDetach() {
        this.attached && (this.element.parentElement.removeChild(this.element),
        this.attached = !1)
    }
    function _isAttached() {
        return this.attached
    }
    function _setIsHoveredClass(e) {
        this.element.classList.toggle("hovered", e)
    }
    function dynamic_dom_attach_update(e) {
        if (e) {
            if (this.lastVisibleTime = this.root ? this.root.time.realtimeNow() : 0,
            this.internalAttach(),
            this.trackHover && this.root) {
                var t = this.lastComputedBounds;
                (!t || this.root.time.realtimeNow() - this.lastComputedBoundsTime > 1) && (t = this.lastComputedBounds = this.element.getBoundingClientRect(),
                this.lastComputedBoundsTime = this.root.time.realtimeNow());
                var r = this.root.app.mousePosition;
                r && this.trackedIsHovered.set(r.x > t.left && r.x < t.right && r.y > t.top && r.y < t.bottom)
            }
        } else
            (!this.root || this.root.time.realtimeNow() - this.lastVisibleTime >= this.timeToKeepSeconds) && this.internalDetach();
        this.attachClass && e !== this.internalIsClassAttached && (this.internalIsClassAttached = e,
        this.classAttachTimeout && (clearTimeout(this.classAttachTimeout),
        this.classAttachTimeout = null),
        e ? this.classAttachTimeout = setTimeout( () => {
            this.element.classList.add(this.attachClass)
        }
        , 15) : this.element.classList.remove(this.attachClass))
    }
    var Ut = function() {
        var e = _DynamicDomAttach.prototype;
        return e.internalAttach = _internalAttach,
        e.internalDetach = _internalDetach,
        e.isAttached = _isAttached,
        e.setIsHoveredClass = _setIsHoveredClass,
        e.update = dynamic_dom_attach_update,
        _DynamicDomAttach
    }()
      , Ft = null
      , jt = Object(c.a)("click_detector")
      , Vt = g.b ? 20 : 80
      , Ht = !1;
    Ht && (window.activeClickDetectors = []);
    var Gt = []
      , Wt = {
        lastTouchTime: -1e3
    };
    function _ClickDetector(e, {consumeEvents: t=!1, preventDefault: r=!0, applyCssClass: n="pressed", captureTouchmove: i=!1, targetOnly: o=!1, maxDistance: a=Vt, clickSound: s=k.uiClick, preventClick: l=!1}) {
        this.clickDownPosition = null,
        this.consumeEvents = t,
        this.preventDefault = r,
        this.applyCssClass = n,
        this.captureTouchmove = i,
        this.targetOnly = o,
        this.clickSound = s,
        this.maxDistance = a,
        this.preventClick = l,
        this.click = new v.b,
        this.rightClick = new v.b,
        this.touchstart = new v.b,
        this.touchmove = new v.b,
        this.touchend = new v.b,
        this.touchcancel = new v.b,
        this.touchstartSimple = new v.b,
        this.touchmoveSimple = new v.b,
        this.touchendSimple = new v.b,
        this.clickStartTime = null,
        this.cancelled = !1,
        this.internalBindTo(e)
    }
    function click_detector_cleanup() {
        if (this.element) {
            if (Ht) {
                var e = window.activeClickDetectors.indexOf(this);
                e < 0 ? jt.error("Click detector cleanup but is not active") : window.activeClickDetectors.splice(e, 1)
            }
            var t = this.internalGetEventListenerOptions();
            g.c && (this.element.removeEventListener("touchstart", this.handlerTouchStart, t),
            this.element.removeEventListener("touchend", this.handlerTouchEnd, t),
            this.element.removeEventListener("touchcancel", this.handlerTouchCancel, t)),
            this.element.removeEventListener("mouseup", this.handlerTouchStart, t),
            this.element.removeEventListener("mousedown", this.handlerTouchEnd, t),
            this.element.removeEventListener("mouseout", this.handlerTouchCancel, t),
            this.captureTouchmove && (g.c && this.element.removeEventListener("touchmove", this.handlerTouchMove, t),
            this.element.removeEventListener("mousemove", this.handlerTouchMove, t)),
            this.preventClick && this.element.removeEventListener("click", this.handlerPreventClick, t),
            this.click.removeAll(),
            this.touchstart.removeAll(),
            this.touchmove.removeAll(),
            this.touchend.removeAll(),
            this.touchcancel.removeAll(),
            this.element = null
        }
    }
    function _internalPreventClick(e) {
        window.focus(),
        e.preventDefault()
    }
    function _internalGetEventList() {
        return {
            capture: this.consumeEvents,
            passive: !this.preventDefault
        }
    }
    function _internalBindTo(e) {
        var t = this.internalGetEventListenerOptions();
        this.handlerTouchStart = this.internalOnPointerDown.bind(this),
        this.handlerTouchEnd = this.internalOnPointerEnd.bind(this),
        this.handlerTouchMove = this.internalOnPointerMove.bind(this),
        this.handlerTouchCancel = this.internalOnTouchCancel.bind(this),
        this.preventClick && (this.handlerPreventClick = this.internalPreventClick.bind(this),
        e.addEventListener("click", this.handlerPreventClick, t)),
        g.c && (e.addEventListener("touchstart", this.handlerTouchStart, t),
        e.addEventListener("touchend", this.handlerTouchEnd, t),
        e.addEventListener("touchcancel", this.handlerTouchCancel, t)),
        e.addEventListener("mousedown", this.handlerTouchStart, t),
        e.addEventListener("mouseup", this.handlerTouchEnd, t),
        e.addEventListener("mouseout", this.handlerTouchCancel, t),
        this.captureTouchmove && (g.c && e.addEventListener("touchmove", this.handlerTouchMove, t),
        e.addEventListener("mousemove", this.handlerTouchMove, t)),
        Ht && window.activeClickDetectors.push(this),
        this.element = e
    }
    function _internalIsDomElement() {
        return this.element && document.documentElement.contains(this.element)
    }
    function _internalEventPreHand(e, t=1) {
        return !(!this.element || this.targetOnly && e.target !== this.element || (this.consumeEvents && e.cancelable && e.stopPropagation(),
        this.preventDefault && e.cancelable && e.preventDefault(),
        window.TouchEvent && e instanceof TouchEvent && (Wt.lastTouchTime = performance.now(),
        e.targetTouches.length !== t) || e instanceof MouseEvent && performance.now() - Wt.lastTouchTime < 1e3))
    }
    function _extractPointerPositi(e) {
        if (window.TouchEvent && e instanceof TouchEvent) {
            if (1 !== e.changedTouches.length)
                return jt.warn("Got unexpected target touches:", e.targetTouches.length, "->", e.targetTouches),
                new C.a(0,0);
            var t = e.changedTouches[0];
            return new C.a(t.clientX,t.clientY)
        }
        return e instanceof MouseEvent ? new C.a(e.clientX,e.clientY) : (window.assert(!1, "Got unknown event: " + e),
        new C.a(0,0))
    }
    function _cancelOngoingEvents() {
        this.applyCssClass && this.element && this.element.classList.remove(this.applyCssClass),
        this.clickDownPosition = null,
        this.clickStartTime = null,
        this.cancelled = !0,
        Object(p.h)(Gt, this)
    }
    function _internalOnPointerDow(e) {
        if (window.focus(),
        !this.internalEventPreHandler(e, 1))
            return !1;
        var t = this.constructor.extractPointerPosition(e);
        return e instanceof MouseEvent && 2 === e.button ? (this.rightClick.dispatch(t, e),
        this.cancelled = !0,
        void (this.clickDownPosition = null)) : this.clickDownPosition ? (jt.warn("Ignoring double click"),
        !1) : (this.cancelled = !1,
        this.touchstart.dispatch(e),
        this.clickDownPosition = t,
        this.clickStartTime = performance.now(),
        this.touchstartSimple.dispatch(this.clickDownPosition.x, this.clickDownPosition.y),
        Gt.indexOf(this) < 0 ? Gt.push(this) : jt.warn("Click detector got pointer down of active pointer twice"),
        this.applyCssClass && this.element.classList.add(this.applyCssClass),
        this.clickSound && Ft.sound.playUiSound(this.clickSound),
        !1)
    }
    function _internalOnPointerMov(e) {
        if (!this.internalEventPreHandler(e, 1))
            return !1;
        this.touchmove.dispatch(e);
        var t = this.constructor.extractPointerPosition(e);
        return this.touchmoveSimple.dispatch(t.x, t.y),
        !1
    }
    function _internalOnPointerEnd(e) {
        if (window.focus(),
        !this.internalEventPreHandler(e, 0))
            return !1;
        if (this.cancelled)
            return !1;
        if (!(e instanceof MouseEvent && 2 === e.button)) {
            var t = Gt.indexOf(this);
            t < 0 ? jt.warn("Got pointer end but click detector is not in pressed state") : Object(p.f)(Gt, t);
            var r = !1
              , n = null;
            if (this.clickDownPosition) {
                var i = this.constructor.extractPointerPosition(e)
                  , o = i.distance(this.clickDownPosition);
                !g.b || o <= this.maxDistance ? (r = !0,
                n = i) : console.warn("[ClickDetector] Touch does not count as click:", "(was", o, ")")
            }
            if (this.clickDownPosition = null,
            this.clickStartTime = null,
            this.applyCssClass && this.element.classList.remove(this.applyCssClass),
            this.internalIsDomElementAttached() && (this.touchend.dispatch(e),
            this.touchendSimple.dispatch(),
            r)) {
                for (var a = Gt.slice(), s = 0; s < a.length; ++s)
                    a[s].cancelOngoingEvents();
                this.click.dispatch(n, e)
            }
            return !1
        }
    }
    function _internalOnTouchCance(e) {
        return !!this.internalEventPreHandler(e, 0) && !this.cancelled && (this.cancelOngoingEvents(),
        this.touchcancel.dispatch(e),
        this.touchendSimple.dispatch(e),
        !1)
    }
    var Nt = function() {
        var e = _ClickDetector.prototype;
        return e.cleanup = click_detector_cleanup,
        e.internalPreventClick = _internalPreventClick,
        e.internalGetEventListenerOptions = _internalGetEventList,
        e.internalBindTo = _internalBindTo,
        e.internalIsDomElementAttached = _internalIsDomElement,
        e.internalEventPreHandler = _internalEventPreHand,
        _ClickDetector.extractPointerPosition = _extractPointerPositi,
        e.cancelOngoingEvents = _cancelOngoingEvents,
        e.internalOnPointerDown = _internalOnPointerDow,
        e.internalOnPointerMove = _internalOnPointerMov,
        e.internalOnPointerEnd = _internalOnPointerEnd,
        e.internalOnTouchCancel = _internalOnTouchCance,
        _ClickDetector
    }();
    function _BaseHUDPart(e) {
        this.root = e,
        this.clickDetectors = []
    }
    function _createElements(e) {}
    function base_hud_part_initialize() {
        window.assert(!1, "abstract method called")
    }
    function base_hud_part_update() {}
    function base_hud_part_draw(e) {}
    function _drawOverlays(e) {}
    function _shouldPauseRendering() {
        return !1
    }
    function _shouldPauseGame() {
        return !1
    }
    function _isBlockingOverlay() {
        return !1
    }
    function base_hud_part_cleanup() {
        this.cleanupClickDetectors()
    }
    function _cleanupClickDetector() {
        if (this.clickDetectors) {
            for (var e = 0; e < this.clickDetectors.length; ++e)
                this.clickDetectors[e].cleanup();
            this.clickDetectors = []
        }
    }
    function _close() {}
    function _trackClicks(e, t, r={}) {
        var n = new Nt(e,r);
        n.click.add(t, this),
        this.registerClickDetector(n)
    }
    function _registerClickDetecto(e) {
        this.clickDetectors.push(e)
    }
    function _closeOnBackgroundCli(e, t=null) {
        var r = new Nt(e,{
            preventDefault: !0,
            targetOnly: !0,
            applyCssClass: null,
            consumeEvents: !0,
            clickSound: null
        });
        r.touchend.add(t || this.close, this),
        this.registerClickDetector(r)
    }
    function _forwardGameSpeedKeyb(e) {
        e.forward(this.root.keyMapper, ["gamespeed_pause", "gamespeed_fastforward"])
    }
    function _forwardMapMovementKe(e) {
        e.forward(this.root.keyMapper, ["mapMoveUp", "mapMoveRight", "mapMoveDown", "mapMoveLeft"])
    }
    var qt = function() {
        var e = _BaseHUDPart.prototype;
        return e.createElements = _createElements,
        e.initialize = base_hud_part_initialize,
        e.update = base_hud_part_update,
        e.draw = base_hud_part_draw,
        e.drawOverlays = _drawOverlays,
        e.shouldPauseRendering = _shouldPauseRendering,
        e.shouldPauseGame = _shouldPauseGame,
        e.isBlockingOverlay = _isBlockingOverlay,
        e.cleanup = base_hud_part_cleanup,
        e.cleanupClickDetectors = _cleanupClickDetector,
        e.close = _close,
        e.trackClicks = _trackClicks,
        e.registerClickDetector = _registerClickDetecto,
        e.closeOnBackgroundClick = _closeOnBackgroundCli,
        e.forwardGameSpeedKeybindings = _forwardGameSpeedKeyb,
        e.forwardMapMovementKeybindings = _forwardMapMovementKe,
        _BaseHUDPart
    }();
    function _InputReceiver(e="unknown") {
        this.context = e,
        this.backButton = new v.b,
        this.keydown = new v.b,
        this.keyup = new v.b,
        this.pageBlur = new v.b,
        this.destroyed = new v.b,
        this.paste = new v.b
    }
    function input_receiver_cleanup() {
        this.backButton.removeAll(),
        this.keydown.removeAll(),
        this.keyup.removeAll(),
        this.paste.removeAll(),
        this.destroyed.dispatch()
    }
    var Kt = function() {
        return _InputReceiver.prototype.cleanup = input_receiver_cleanup,
        _InputReceiver
    }();
    function modal_dialog_forms_inheritsLoose(e, t) {
        e.prototype = Object.create(t.prototype),
        e.prototype.constructor = e,
        e.__proto__ = t
    }
    function _FormElement4(e, t) {
        this.id = e,
        this.label = t,
        this.valueChosen = new v.b
    }
    function _getHtml() {
        return window.assert(!1, "abstract method called"),
        ""
    }
    function _getFormElement(e) {
        return e.querySelector("[data-formId='" + this.id + "']")
    }
    function _bindEvents(e, t) {
        window.assert(!1, "abstract method called")
    }
    function _focus() {}
    function modal_dialog_forms_isValid() {
        return !0
    }
    function _getValue() {
        window.assert(!1, "abstract method called")
    }
    var Qt = function() {
        var e = _FormElement4.prototype;
        return e.getHtml = _getHtml,
        e.getFormElement = _getFormElement,
        e.bindEvents = _bindEvents,
        e.focus = _focus,
        e.isValid = modal_dialog_forms_isValid,
        e.getValue = _getValue,
        _FormElement4
    }();
    function _getHtml2() {
        var e = []
          , t = "text"
          , r = 256;
        switch (this.inputType) {
        case "text":
            e.push("input-text");
            break;
        case "email":
            e.push("input-email"),
            t = "email";
            break;
        case "token":
            e.push("input-token"),
            t = "text",
            r = 4
        }
        return '<div class="formElement input">' + (this.label ? "<label>" + this.label + "</label>" : "") + '\n                <input\n                    type="' + t + '"\n                    value="' + this.defaultValue.replace(/["\\]+/gi, "") + '"\n                    maxlength="' + r + '"\n                    autocomplete="off"\n                    autocorrect="off"\n                    autocapitalize="off"\n                    spellcheck="false"\n                    class="' + e.join(" ") + '"\n                    placeholder="' + this.placeholder.replace(/["\\]+/gi, "") + '"\n                    data-formId="' + this.id + '">\n            </div>\n        '
    }
    function _bindEvents2(e, t) {
        this.element = this.getFormElement(e),
        this.element.addEventListener("input", e => this.updateErrorState()),
        this.updateErrorState()
    }
    function _updateErrorState() {
        this.element.classList.toggle("errored", !this.isValid())
    }
    function _isValid2() {
        return !this.validator || this.validator(this.element.value)
    }
    function _getValue2() {
        return this.element.value
    }
    function _setValue(e) {
        this.element.value = e,
        this.updateErrorState()
    }
    function _focus2() {
        this.element.focus(),
        this.element.select()
    }
    var Yt = function(e) {
        function FormElementInput({id: t, label: r=null, placeholder: n, defaultValue: i="", inputType: o="text", validator: a=null}) {
            var s;
            return (s = e.call(this, t, r) || this).placeholder = n,
            s.defaultValue = i,
            s.inputType = o,
            s.validator = a,
            s.element = null,
            s
        }
        modal_dialog_forms_inheritsLoose(FormElementInput, e);
        var t = FormElementInput.prototype;
        return t.getHtml = _getHtml2,
        t.bindEvents = _bindEvents2,
        t.updateErrorState = _updateErrorState,
        t.isValid = _isValid2,
        t.getValue = _getValue2,
        t.setValue = _setValue,
        t.focus = _focus2,
        FormElementInput
    }(Qt);
    function _getHtml4() {
        return '<div class="formElement">' + (this.label ? "<label>" + this.label + "</label>" : "") + '\n                <div class="ingameItemChooser input" data-formId="' + this.id + '"></div>\n            </div>\n            '
    }
    function _bindEvents4(e, t) {
        var r = this;
        this.element = this.getFormElement(e);
        for (var n = function(e) {
            var n = r.items[e]
              , i = document.createElement("canvas");
            i.width = 128,
            i.height = 128;
            var o = i.getContext("2d");
            n.drawFullSizeOnCanvas(o, 128),
            r.element.appendChild(i);
            var a = new Nt(i,{});
            t.push(a),
            a.click.add( () => {
                r.chosenItem = n,
                r.valueChosen.dispatch(n)
            }
            )
        }, i = 0; i < this.items.length; ++i)
            n(i)
    }
    function _isValid3() {
        return !0
    }
    function _getValue4() {
        return null
    }
    function _focus4() {}
    var Jt = function(e) {
        function FormElementItemChooser({id: t, label: r, items: n=[]}) {
            var i;
            return (i = e.call(this, t, r) || this).items = n,
            i.element = null,
            i.chosenItem = null,
            i
        }
        modal_dialog_forms_inheritsLoose(FormElementItemChooser, e);
        var t = FormElementItemChooser.prototype;
        return t.getHtml = _getHtml4,
        t.bindEvents = _bindEvents4,
        t.isValid = _isValid3,
        t.getValue = _getValue4,
        t.focus = _focus4,
        FormElementItemChooser
    }(Qt);
    function modal_dialog_elements_inheritsLoose(e, t) {
        e.prototype = Object.create(t.prototype),
        e.prototype.constructor = e,
        e.__proto__ = t
    }
    var Zt = 13
      , Xt = 27
      , $t = Object(c.a)("dialogs");
    function _Dialog4({app: e, title: t, contentHTML: r, buttons: n, type: i="info", closeButton: o=!1}) {
        this.app = e,
        this.title = t,
        this.contentHTML = r,
        this.type = i,
        this.buttonIds = n,
        this.closeButton = o,
        this.closeRequested = new v.b,
        this.buttonSignals = {};
        for (var a = 0; a < n.length; ++a) {
            var s = this.buttonIds[a].split(":")[0];
            this.buttonSignals[s] = new v.b
        }
        this.valueChosen = new v.b,
        this.timeouts = [],
        this.clickDetectors = [],
        this.inputReciever = new Kt("dialog-" + this.title),
        this.inputReciever.keydown.add(this.handleKeydown, this),
        this.enterHandler = null,
        this.escapeHandler = null
    }
    function modal_dialog_elements_handleKeydown({keyCode: e, shift: t, alt: r, ctrl: n}) {
        return e === Zt && this.enterHandler ? (this.internalButtonHandler(this.enterHandler),
        v.a) : e === Xt && this.escapeHandler ? (this.internalButtonHandler(this.escapeHandler),
        v.a) : void 0
    }
    function _internalButtonHandle(e, ...t) {
        this.app.inputMgr.popReciever(this.inputReciever),
        "close-button" !== e && this.buttonSignals[e].dispatch(...t),
        this.closeRequested.dispatch()
    }
    function _createElement() {
        var e = this
          , t = document.createElement("div");
        t.classList.add("ingameDialog"),
        this.dialogElem = document.createElement("div"),
        this.dialogElem.classList.add("dialogInner"),
        this.type && this.dialogElem.classList.add(this.type),
        t.appendChild(this.dialogElem);
        var r = document.createElement("h1");
        if (r.innerText = this.title,
        r.classList.add("title"),
        this.dialogElem.appendChild(r),
        this.closeButton) {
            this.dialogElem.classList.add("hasCloseButton");
            var n = document.createElement("button");
            n.classList.add("closeButton"),
            this.trackClicks(n, () => this.internalButtonHandler("close-button"), {
                applyCssClass: "pressedSmallElement"
            }),
            r.appendChild(n),
            this.inputReciever.backButton.add( () => this.internalButtonHandler("close-button"))
        }
        var i = document.createElement("div");
        if (i.classList.add("content"),
        i.innerHTML = this.contentHTML,
        this.dialogElem.appendChild(i),
        this.buttonIds.length > 0) {
            var o = document.createElement("div");
            o.classList.add("buttons");
            for (var a = function(t) {
                var [r,n,i] = e.buttonIds[t].split(":")
                  , a = document.createElement("button");
                a.classList.add("button"),
                a.classList.add("styledButton"),
                a.classList.add(n),
                a.innerText = U.a.dialogs.buttons[r];
                var s = (i || "").split("/")
                  , l = s.indexOf("timeout") >= 0
                  , c = s.indexOf("enter") >= 0
                  , u = s.indexOf("escape") >= 0;
                if (u && e.closeButton && $t.warn("Showing dialog with close button, and additional cancel button"),
                l) {
                    a.classList.add("timedButton");
                    var d = setTimeout( () => {
                        a.classList.remove("timedButton"),
                        Object(p.c)(e.timeouts, d)
                    }
                    , 3e3);
                    e.timeouts.push(d)
                }
                if (c || u) {
                    var h = document.createElement("code");
                    h.classList.add("keybinding"),
                    h.innerHTML = getStringForKeyCode(c ? Zt : Xt),
                    a.appendChild(h),
                    c && (e.enterHandler = r),
                    u && (e.escapeHandler = r)
                }
                e.trackClicks(a, () => e.internalButtonHandler(r)),
                o.appendChild(a)
            }, s = 0; s < this.buttonIds.length; ++s)
                a(s);
            this.dialogElem.appendChild(o)
        } else
            this.dialogElem.classList.add("buttonless");
        return this.element = t,
        this.app.inputMgr.pushReciever(this.inputReciever),
        this.element
    }
    function _setIndex(e) {
        this.element.style.zIndex = e
    }
    function _destroy() {
        if (this.element) {
            this.app.inputMgr.destroyReceiver(this.inputReciever);
            for (var e = 0; e < this.clickDetectors.length; ++e)
                this.clickDetectors[e].cleanup();
            this.clickDetectors = [],
            this.element.remove(),
            this.element = null;
            for (var t = 0; t < this.timeouts.length; ++t)
                clearTimeout(this.timeouts[t]);
            this.timeouts = []
        }
    }
    function _hide() {
        this.element.classList.remove("visible")
    }
    function _show() {
        this.element.classList.add("visible")
    }
    function modal_dialog_elements_trackClicks(e, t, r={}) {
        var n = new Nt(e,r);
        return n.click.add(t, this),
        this.clickDetectors.push(n),
        n
    }
    var er = function() {
        var e = _Dialog4.prototype;
        return e.handleKeydown = modal_dialog_elements_handleKeydown,
        e.internalButtonHandler = _internalButtonHandle,
        e.createElement = _createElement,
        e.setIndex = _setIndex,
        e.destroy = _destroy,
        e.hide = _hide,
        e.show = _show,
        e.trackClicks = modal_dialog_elements_trackClicks,
        _Dialog4
    }();
    function _createElement2() {
        var e = document.createElement("div");
        if (e.classList.add("ingameDialog"),
        e.classList.add("loadingDialog"),
        this.element = e,
        this.text) {
            var t = document.createElement("div");
            t.classList.add("text"),
            t.innerText = this.text,
            e.appendChild(t)
        }
        var r = document.createElement("div");
        return r.classList.add("prefab_LoadingTextWithAnim"),
        r.classList.add("loadingIndicator"),
        e.appendChild(r),
        this.app.inputMgr.pushReciever(this.inputReciever),
        e
    }
    var tr = function(e) {
        function DialogLoading(t, r="") {
            var n;
            return (n = e.call(this, {
                app: t,
                title: "",
                contentHTML: "",
                buttons: [],
                type: "loading"
            }) || this).inputReciever.backButton.removeAll(),
            n.inputReciever.context = "dialog-loading",
            n.text = r,
            n
        }
        return modal_dialog_elements_inheritsLoose(DialogLoading, e),
        DialogLoading.prototype.createElement = _createElement2,
        DialogLoading
    }(er)
      , rr = function(e) {
        function DialogOptionChooser({app: t, title: r, options: n}) {
            var i, o = "<div class='optionParent'>";
            return n.options.forEach( ({value: e, text: t, desc: r=null, iconPrefix: i=null}) => {
                var a = r ? '<span class="desc">' + r + "</span>" : ""
                  , s = i ? '<span class="icon icon-' + i + "-" + e + '"></span>' : "";
                o += "<div class='option " + (e === n.active ? "active" : "") + " " + (i ? "hasIcon" : "") + "' data-optionvalue='" + e + "'>" + s + "<span class='title'>" + t + "</span>" + a + "</div>"
            }
            ),
            o += "</div>",
            (i = e.call(this, {
                app: t,
                title: r,
                contentHTML: o,
                buttons: [],
                type: "info",
                closeButton: !0
            }) || this).options = n,
            i.initialOption = n.active,
            i.buttonSignals.optionSelected = new v.b,
            i
        }
        return modal_dialog_elements_inheritsLoose(DialogOptionChooser, e),
        DialogOptionChooser.prototype.createElement = function createElement() {
            var t = e.prototype.createElement.call(this);
            return this.dialogElem.classList.add("optionChooserDialog"),
            t.querySelectorAll("[data-optionvalue]").forEach(e => {
                var r = e.getAttribute("data-optionvalue");
                if (e) {
                    var n = new Nt(e,{
                        consumeEvents: !1,
                        preventDefault: !1,
                        clickSound: null,
                        applyCssClass: "pressedOption",
                        targetOnly: !0
                    });
                    this.clickDetectors.push(n),
                    r !== this.initialOption && n.click.add( () => {
                        var n = t.querySelector(".option.active");
                        n ? n.classList.remove("active") : $t.warn("No selected option"),
                        e.classList.add("active"),
                        this.app.sound.playUiSound(k.uiClick),
                        this.internalButtonHandler("optionSelected", r)
                    }
                    )
                } else
                    $t.error("Failed to bind option value in dialog:", r)
            }
            ),
            t
        }
        ,
        DialogOptionChooser
    }(er);
    function _hasAnyInvalid() {
        for (var e = 0; e < this.formElements.length; ++e)
            if (!this.formElements[e].isValid())
                return !0;
        return !1
    }
    var nr = function(e) {
        function DialogWithForm({app: t, title: r, desc: n, formElements: i, buttons: o=["cancel", "ok:good"], confirmButtonId: a="ok", closeButton: s=!0}) {
            var l, c = "";
            c += n + "<br>";
            for (var u = 0; u < i.length; ++u)
                c += i[u].getHtml();
            return (l = e.call(this, {
                app: t,
                title: r,
                contentHTML: c,
                buttons: o,
                type: "info",
                closeButton: s
            }) || this).confirmButtonId = a,
            l.formElements = i,
            l.enterHandler = a,
            l
        }
        modal_dialog_elements_inheritsLoose(DialogWithForm, e);
        var t = DialogWithForm.prototype;
        return t.internalButtonHandler = function internalButtonHandler(t, ...r) {
            if (t === this.confirmButtonId && this.hasAnyInvalid())
                return this.dialogElem.classList.remove("errorShake"),
                Object(p.L)().then( () => {
                    this.dialogElem && this.dialogElem.classList.add("errorShake")
                }
                ),
                void this.app.sound.playUiSound(k.uiError);
            e.prototype.internalButtonHandler.call(this, t, r)
        }
        ,
        t.hasAnyInvalid = _hasAnyInvalid,
        t.createElement = function createElement() {
            for (var t = e.prototype.createElement.call(this), r = 0; r < this.formElements.length; ++r) {
                var n = this.formElements[r];
                n.bindEvents(t, this.clickDetectors),
                n.valueChosen.add(this.valueChosen.dispatch, this.valueChosen)
            }
            return Object(p.L)().then( () => {
                this.formElements[this.formElements.length - 1].focus()
            }
            ),
            t
        }
        ,
        DialogWithForm
    }(er);
    function modal_dialogs_initialize() {
        this.dialogParent = document.getElementById("ingame_HUD_ModalDialogs"),
        this.domWatcher = new Ut(this.root,this.dialogParent)
    }
    function modal_dialogs_shouldPauseRendering() {
        return !1
    }
    function modal_dialogs_shouldPauseGame() {
        return !1
    }
    function modal_dialogs_createElements(e) {
        return Object(p.x)(e, "ingame_HUD_ModalDialogs")
    }
    function _initializeToElement(e) {
        this.dialogParent = e
    }
    function modal_dialogs_isBlockingOverlay() {
        return this.dialogStack.length > 0
    }
    function _showInfo(e, t, r=["ok:good"]) {
        var n = new er({
            app: this.app,
            title: e,
            contentHTML: t,
            buttons: r,
            type: "info"
        });
        return this.internalShowDialog(n),
        this.app && this.app.sound.playUiSound(k.dialogOk),
        n.buttonSignals
    }
    function _showWarning(e, t, r=["ok:good"]) {
        var n = new er({
            app: this.app,
            title: e,
            contentHTML: t,
            buttons: r,
            type: "warning"
        });
        return this.internalShowDialog(n),
        this.app && this.app.sound.playUiSound(k.dialogError),
        n.buttonSignals
    }
    function _showFeatureRestricti(e, t=U.a.dialogs.featureRestriction.desc) {
        var r = new er({
            app: this.app,
            title: U.a.dialogs.featureRestriction.title,
            contentHTML: t.replace("<feature>", e),
            buttons: ["cancel:bad", "getStandalone:good"],
            type: "warning"
        });
        return this.internalShowDialog(r),
        this.app && this.app.sound.playUiSound(k.dialogOk),
        this.app.analytics.trackUiClick("demo_dialog_show"),
        r.buttonSignals.cancel.add( () => {
            this.app.analytics.trackUiClick("demo_dialog_cancel")
        }
        ),
        r.buttonSignals.getStandalone.add( () => {
            this.app.analytics.trackUiClick("demo_dialog_click"),
            window.open(g.d.stanaloneCampaignLink + "/cmg_shapez_demo_dialog")
        }
        ),
        r.buttonSignals
    }
    function _showOptionChooser(e, t) {
        var r = new rr({
            app: this.app,
            title: e,
            options: t
        });
        return this.internalShowDialog(r),
        r.buttonSignals
    }
    function _showLoadingDialog(e="") {
        var t = new tr(this.app,e);
        return this.internalShowDialog(t),
        this.closeDialog.bind(this, t)
    }
    function _internalShowDialog(e) {
        var t = e.createElement();
        e.setIndex(1e3 + this.dialogStack.length),
        this.dialogStack.length > 0 && this.dialogStack[this.dialogStack.length - 1].hide(),
        this.dialogStack.push(e),
        e.show(),
        e.closeRequested.add(this.closeDialog.bind(this, e)),
        this.dialogParent.appendChild(t),
        document.body.classList.toggle("modalDialogActive", this.dialogStack.length > 0),
        this.update()
    }
    function modal_dialogs_update() {
        this.domWatcher && this.domWatcher.update(this.dialogStack.length > 0)
    }
    function _closeDialog(e) {
        e.destroy();
        for (var t = -1, r = 0; r < this.dialogStack.length; ++r)
            if (this.dialogStack[r] === e) {
                t = r;
                break
            }
        this.dialogStack.splice(t, 1),
        this.dialogStack.length > 0 && this.dialogStack[this.dialogStack.length - 1].show(),
        document.body.classList.toggle("modalDialogActive", this.dialogStack.length > 0)
    }
    function modal_dialogs_close() {
        for (var e = 0; e < this.dialogStack.length; ++e)
            this.dialogStack[e].destroy();
        this.dialogStack = []
    }
    var ir = function(e) {
        function HUDModalDialogs(t, r) {
            var n;
            return (n = e.call(this, t) || this).app = t ? t.app : r,
            n.dialogParent = null,
            n.dialogStack = [],
            n
        }
        !function modal_dialogs_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDModalDialogs, e);
        var t = HUDModalDialogs.prototype;
        return t.initialize = modal_dialogs_initialize,
        t.shouldPauseRendering = modal_dialogs_shouldPauseRendering,
        t.shouldPauseGame = modal_dialogs_shouldPauseGame,
        t.createElements = modal_dialogs_createElements,
        t.initializeToElement = _initializeToElement,
        t.isBlockingOverlay = modal_dialogs_isBlockingOverlay,
        t.showInfo = _showInfo,
        t.showWarning = _showWarning,
        t.showFeatureRestrictionInfo = _showFeatureRestricti,
        t.showOptionChooser = _showOptionChooser,
        t.showLoadingDialog = _showLoadingDialog,
        t.internalShowDialog = _internalShowDialog,
        t.update = modal_dialogs_update,
        t.closeDialog = _closeDialog,
        t.close = modal_dialogs_close,
        t.cleanup = function cleanup() {
            e.prototype.cleanup.call(this);
            for (var t = 0; t < this.dialogStack.length; ++t)
                this.dialogStack[t].destroy();
            this.dialogStack = [],
            this.dialogParent = null
        }
        ,
        HUDModalDialogs
    }(qt)
      , or = r(36);
    function mod_interface_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    function _ModInterface(e) {
        this.modLoader = e
    }
    function mod_interface_ref(e, t) {
        return "calc((" + t + ") * var(--ui-scale))"
    }
    function _registerCss(e) {
        e = e.replace(/\$scaled\(([^)]*)\)/gim, mod_interface_ref);
        var t = document.createElement("style");
        t.textContent = e,
        document.head.appendChild(t)
    }
    function _registerSprite(e, t) {
        var r = new Image
          , n = new S.a(e);
        n.frozen = !0,
        r.addEventListener("load", () => {
            for (var e in n.linksByResolution) {
                var t = n.linksByResolution[e];
                t.w = r.width,
                t.h = r.height,
                t.packedW = r.width,
                t.packedH = r.height
            }
        }
        ),
        r.src = t;
        var i = new S.e({
            w: 1,
            h: 1,
            atlas: r,
            packOffsetX: 0,
            packOffsetY: 0,
            packedW: 1,
            packedH: 1,
            packedX: 0,
            packedY: 0
        });
        n.linksByResolution[.25] = i,
        n.linksByResolution[.5] = i,
        n.linksByResolution[.75] = i,
        w.a.sprites.set(e, n)
    }
    function _registerAtlas(e, t) {
        var r = JSON.parse(t)
          , n = new Image;
        n.src = e;
        var i = r.frames;
        for (var o in i) {
            var {frame: a, sourceSize: s, spriteSourceSize: l} = i[o]
              , c = w.a.sprites.get(o);
            c || (c = new S.a(o),
            w.a.sprites.set(o, c)),
            c.frozen = !0;
            var u = new S.e({
                packedX: a.x,
                packedY: a.y,
                packedW: a.w,
                packedH: a.h,
                packOffsetX: l.x,
                packOffsetY: l.y,
                atlas: n,
                w: s.w,
                h: s.h
            });
            r.meta && r.meta.scale ? c.linksByResolution[r.meta.scale] = u : (c.linksByResolution[.25] = u,
            c.linksByResolution[.5] = u,
            c.linksByResolution[.75] = u)
        }
    }
    function _registerSubShapeType({id: e, shortCode: t, weightComputation: r, draw: n}) {
        if (1 !== t.length)
            throw new Error("Bad short code: " + t);
        R.d[e] = e,
        R.e[e] = t,
        R.c[t] = e,
        N[e] = r,
        R.a[e] = n
    }
    function _registerTranslations(e, t) {
        var r = D.a[e];
        if (!r)
            throw new Error("Unknown language: " + e);
        Object(U.c)(r.data, t, !0),
        "en" === e && Object(U.c)(U.a, t, !0)
    }
    function _registerItem(e, t) {
        F.d.register(e),
        or.a[e.getId()] = t
    }
    function _registerComponent(e) {
        F.a.register(e)
    }
    function _registerGameSystem({id: e, systemClass: t, before: r, drawHooks: n}) {
        var i = r || "key"
          , o = {
            id: e,
            systemClass: t
        };
        Et[i] ? Et[i].push(o) : Et[i] = [o],
        n && n.forEach(t => this.registerGameSystemDrawHook(t, e))
    }
    function _registerGameSystemDr(e, t) {
        if (!ne[e])
            throw new Error("bad game system draw hook: " + e);
        ne[e].push(t)
    }
    function _registerNewBuilding({metaClass: e, buildingIconBase64: t}) {
        var r = (new e).getId();
        if (F.e.hasId(r))
            throw new Error("Tried to register building twice: " + r);
        F.e.register(e);
        var n = F.e.findByClass(e);
        U.a.buildings[r] = {},
        e.getAllVariantCombinations().forEach(t => {
            var i = t.variant || z
              , o = t.rotationVariant || 0
              , a = r + (i === z ? "" : "-" + i)
              , s = a + (0 === o ? "" : "-" + o);
            Object(O.e)(s, e, i, o),
            O.b[r].metaInstance = n,
            this.registerTranslations("en", {
                buildings: {
                    [r]: {
                        [i]: {
                            name: t.name || "Name",
                            description: t.description || "Description"
                        }
                    }
                }
            }),
            t.regularImageBase64 && this.registerSprite("sprites/buildings/" + a + ".png", t.regularImageBase64),
            t.blueprintImageBase64 && this.registerSprite("sprites/blueprints/" + a + ".png", t.blueprintImageBase64),
            t.tutorialImageBase64 && this.setBuildingTutorialImage(r, i, t.tutorialImageBase64)
        }
        ),
        t && this.setBuildingToolbarIcon(r, t)
    }
    function _registerIngameKeybin({id: e, keyCode: t, translation: r, modifiers: n={}, repeated: i=!1, builtin: o=!1, handler: a=null}) {
        xt.mods || (xt.mods = {});
        var s = xt.mods[e] = {
            keyCode: t,
            id: e,
            repeated: i,
            modifiers: n,
            builtin: o
        };
        return this.registerTranslations("en", {
            keybindings: {
                mappings: {
                    [e]: r
                }
            }
        }),
        a && this.modLoader.signals.gameStarted.add((function _ref2(t) {
            t.keyMapper.getBindingById(e).addToTop(a.bind(null, t))
        }
        )),
        s
    }
    function _setBuildingToolbarIc(e, t) {
        this.registerCss('\n            [data-icon="building_icons/' + e + ".png\"] .icon {\n                    background-image: url('" + t + "') !important;\n            }\n        ")
    }
    function _setBuildingTutorialI(e, t, r) {
        "function" == typeof e && (e = (new e).id);
        var n = e + (t === z ? "" : "-" + t);
        this.registerCss('\n            [data-icon="building_tutorials/' + n + ".png\"] {\n                    background-image: url('" + r + "') !important;\n            }\n        ")
    }
    function _registerGameTheme({id: e, name: t, theme: r}) {
        J.b[e] = r,
        this.registerTranslations("en", {
            settings: {
                labels: {
                    theme: {
                        themes: {
                            [e]: t
                        }
                    }
                }
            }
        })
    }
    function _registerGameState(e) {
        this.modLoader.app.stateMgr.register(e)
    }
    function _addNewBuildingToTool({toolbar: e, location: t, metaClass: r}) {
        var n = "wires" === e ? "HUDWiresToolbar" : "HUDBuildingsToolbar"
          , i = "secondary" === t ? "secondaryBuildings" : "primaryBuildings";
        this.modLoader.signals.hudElementInitialized.add(e => {
            e.constructor.name === n && e[i].push(r)
        }
        )
    }
    function _replaceMethod(e, t, r) {
        var n = e.prototype[t];
        e.prototype[t] = function() {
            return r.call(this, n.bind(this), arguments)
        }
    }
    function _runBeforeMethod(e, t, r) {
        var n = e.prototype[t];
        e.prototype[t] = function() {
            return r.apply(this, arguments),
            n.apply(this, arguments)
        }
    }
    function _runAfterMethod(e, t, r) {
        var n = e.prototype[t];
        e.prototype[t] = function() {
            var e = n.apply(this, arguments);
            return r.apply(this, arguments),
            e
        }
    }
    function _extendObject(e, t) {
        var r = Object.getPrototypeOf(e)
          , n = {}
          , i = t({
            $super: r,
            $old: n
        });
        Array.from(Object.getOwnPropertyNames(i)).forEach(t => {
            ["constructor", "prototype"].includes(t) || (n[t] = e[t],
            e[t] = i[t])
        }
        )
    }
    function _extendClass(e, t) {
        this.extendObject(e.prototype, t)
    }
    function _registerHudElement(e, t) {
        this.modLoader.signals.hudInitializer.add(r => {
            r.hud.parts[e] = new t(r)
        }
        )
    }
    function _registerBuildingTran(e, t, {name: r, description: n, language: i="en"}) {
        "function" == typeof e && (e = (new e).id),
        this.registerTranslations(i, {
            buildings: {
                [e]: {
                    [t]: {
                        name: r,
                        description: n
                    }
                }
            }
        })
    }
    function _registerBuildingSpri(e, t, {regularBase64: r, blueprintBase64: n}) {
        "function" == typeof e && (e = (new e).id);
        var i = e + (t === z ? "" : "-" + t) + ".png";
        r && this.registerSprite("sprites/buildings/" + i, r),
        n && this.registerSprite("sprites/blueprints/" + i, n)
    }
    function _addVariantToExisting(e, t, r) {
        r.rotationVariants || (r.rotationVariants = [0]),
        r.tutorialImageBase64 && this.setBuildingTutorialImage(e, t, r.tutorialImageBase64),
        r.regularSpriteBase64 && this.registerBuildingSprites(e, t, {
            regularBase64: r.regularSpriteBase64
        }),
        r.blueprintSpriteBase64 && this.registerBuildingSprites(e, t, {
            blueprintBase64: r.blueprintSpriteBase64
        }),
        r.name && r.description && this.registerBuildingTranslation(e, t, {
            name: r.name,
            description: r.description
        });
        var n = (new e).getId() + "-" + t;
        function _ref3(e) {
            return {
                internalId: n,
                variant: t,
                rotationVariant: e
            }
        }
        this.extendObject(e, ({$old: e}) => ({
            getAllVariantCombinations() {
                return [...e.bind(this).getAllVariantCombinations(), ...r.rotationVariants.map(_ref3)]
            }
        }));
        var i = t;
        r.dimensions && this.extendClass(e, (function _ref4({$old: e}) {
            return {
                getDimensions(t) {
                    return t === i ? r.dimensions : e.getDimensions.bind(this)(...arguments)
                }
            }
        }
        )),
        r.additionalStatistics && this.extendClass(e, (function _ref5({$old: e}) {
            return {
                getAdditionalStatistics(t, n) {
                    return n === i ? r.additionalStatistics(t) : e.getAdditionalStatistics.bind(this)(t, n)
                }
            }
        }
        )),
        r.isUnlocked && this.extendClass(e, (function _ref6({$old: e}) {
            return {
                getAvailableVariants(t) {
                    return r.isUnlocked(t) ? [...e.getAvailableVariants.bind(this)(t), i] : e.getAvailableVariants.bind(this)(t)
                }
            }
        }
        )),
        r.rotationVariants.forEach(r => shapez.registerBuildingVariant(n, e, t, r))
    }
    function mod_interface_ref7() {
        var e = this.modLoader.app.stateMgr.currentState;
        if (e.dialogs)
            return e.dialogs;
        throw new Error("Tried to access dialogs but current state doesn't support it")
    }
    var ar = function() {
        var e = _ModInterface.prototype;
        return e.registerCss = _registerCss,
        e.registerSprite = _registerSprite,
        e.registerAtlas = _registerAtlas,
        e.registerSubShapeType = _registerSubShapeType,
        e.registerTranslations = _registerTranslations,
        e.registerItem = _registerItem,
        e.registerComponent = _registerComponent,
        e.registerGameSystem = _registerGameSystem,
        e.registerGameSystemDrawHook = _registerGameSystemDr,
        e.registerNewBuilding = _registerNewBuilding,
        e.registerIngameKeybinding = _registerIngameKeybin,
        e.setBuildingToolbarIcon = _setBuildingToolbarIc,
        e.setBuildingTutorialImage = _setBuildingTutorialI,
        e.registerGameTheme = _registerGameTheme,
        e.registerGameState = _registerGameState,
        e.addNewBuildingToToolbar = _addNewBuildingToTool,
        e.replaceMethod = _replaceMethod,
        e.runBeforeMethod = _runBeforeMethod,
        e.runAfterMethod = _runAfterMethod,
        e.extendObject = _extendObject,
        e.extendClass = _extendClass,
        e.registerHudElement = _registerHudElement,
        e.registerBuildingTranslation = _registerBuildingTran,
        e.registerBuildingSprites = _registerBuildingSpri,
        e.addVariantToExistingBuilding = _addVariantToExisting,
        function mod_interface_createClass(e, t, r) {
            t && mod_interface_defineProperties(e.prototype, t),
            r && mod_interface_defineProperties(e, r)
        }(_ModInterface, [{
            key: "dialogs",
            get: mod_interface_ref7
        }]),
        _ModInterface
    }()
      , sr = (r(142),
    r(143),
    Object(c.a)("mods"));
    function _ModLoader() {
        sr.log("modloader created"),
        this.app = void 0,
        this.mods = [],
        this.modInterface = new ar(this),
        this.modLoadQueue = [],
        this.initialized = !1,
        this.signals = b
    }
    function _linkApp(e) {
        this.app = e
    }
    function _anyModsActive() {
        return this.mods.length > 0
    }
    function modloader_ref(e) {
        return !e.metadata.doesNotAffectSavegame
    }
    function modloader_ref2(e) {
        return {
            id: e.metadata.id,
            version: e.metadata.version,
            website: e.metadata.website,
            name: e.metadata.name,
            author: e.metadata.author
        }
    }
    function _getModsListForSavega() {
        return this.mods.filter(modloader_ref).map(modloader_ref2)
    }
    function _computeModDifference(e) {
        var t = []
          , r = this.getModsListForSavegame();
        return e.forEach(e => {
            for (var n = 0; n < r.length; ++n) {
                var i = r[n];
                if (i.id === e.id && i.version === e.version)
                    return void r.splice(n, 1)
            }
            t.push(e)
        }
        ),
        {
            missing: t,
            extra: r
        }
    }
    function _exposeExports() {}
    async function _initMods() {
        this.initialized = !0
    }
    var lr = new (function() {
        var e = _ModLoader.prototype;
        return e.linkApp = _linkApp,
        e.anyModsActive = _anyModsActive,
        e.getModsListForSavegame = _getModsListForSavega,
        e.computeModDifference = _computeModDifference,
        e.exposeExports = _exposeExports,
        e.initMods = _initMods,
        _ModLoader
    }())
      , cr = r(144)
      , ur = r.n(cr)
      , dr = Object(c.a)("animation_frame")
      , pr = 1e3
      , hr = 16;
    function animation_frame_ref(e) {
        dr.error("Error in background fps worker:", e)
    }
    function _AnimationFrame() {
        this.frameEmitted = new v.b,
        this.bgFrameEmitted = new v.b,
        this.lastTime = performance.now(),
        this.bgLastTime = performance.now(),
        this.boundMethod = this.handleAnimationFrame.bind(this),
        this.backgroundWorker = new ur.a,
        this.backgroundWorker.addEventListener("error", animation_frame_ref),
        this.backgroundWorker.addEventListener("message", this.handleBackgroundTick.bind(this))
    }
    function _handleBackgroundTick() {
        var e = performance.now()
          , t = e - this.bgLastTime;
        t > pr && (t = hr),
        this.bgFrameEmitted.dispatch(t),
        this.bgLastTime = e
    }
    function _start() {
        window.assert(window.requestAnimationFrame, "requestAnimationFrame is not supported!"),
        this.handleAnimationFrame()
    }
    function _handleAnimationFrame(e) {
        var t = e - this.lastTime;
        t > pr && (t = hr);
        try {
            this.frameEmitted.dispatch(t)
        } catch (r) {
            console.error(r)
        }
        this.lastTime = e,
        window.requestAnimationFrame(this.boundMethod)
    }
    var gr = function() {
        var e = _AnimationFrame.prototype;
        return e.handleBackgroundTick = _handleBackgroundTick,
        e.start = _start,
        e.handleAnimationFrame = _handleAnimationFrame,
        _AnimationFrame
    }();
    function _AtlasDefinition({frames: e, meta: t}) {
        this.meta = t,
        this.sourceData = e,
        this.sourceFileName = t.image
    }
    function _getFullSourcePath() {
        return this.sourceFileName
    }
    var fr = function() {
        return _AtlasDefinition.prototype.getFullSourcePath = _getFullSourcePath,
        _AtlasDefinition
    }()
      , mr = r(209).keys().map(e => e.replace(/^\.\//gi, "")).map(e => r(210)("./" + e)).map(e => new fr(e))
      , yr = Object(p.q)([1, 1, 0, 1, 1, 1, 0, 1, 0]);
    function analyzer_getAllVariantCombina() {
        return [{
            internalId: 43,
            variant: z
        }]
    }
    function analyzer_getSilhouetteColor() {
        return "#3a52bc"
    }
    function analyzer_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_virtual_processing)
    }
    function analyzer_getLayer() {
        return "wires"
    }
    function analyzer_getDimensions() {
        return new C.a(1,1)
    }
    function analyzer_getRenderPins() {
        return !1
    }
    function analyzer_getSpecialOverlayRen(e, t, r) {
        return yr[e]
    }
    function analyzer_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.left,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.right,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }]
        })),
        e.addComponent(new lt.LogicGateComponent({
            type: lt.enumLogicGateType.analyzer
        }))
    }
    var _r = function(e) {
        function MetaAnalyzerBuilding() {
            return e.call(this, "analyzer") || this
        }
        !function analyzer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaAnalyzerBuilding, e),
        MetaAnalyzerBuilding.getAllVariantCombinations = analyzer_getAllVariantCombina;
        var t = MetaAnalyzerBuilding.prototype;
        return t.getSilhouetteColor = analyzer_getSilhouetteColor,
        t.getIsUnlocked = analyzer_getIsUnlocked,
        t.getLayer = analyzer_getLayer,
        t.getDimensions = analyzer_getDimensions,
        t.getRenderPins = analyzer_getRenderPins,
        t.getSpecialOverlayRenderMatrix = analyzer_getSpecialOverlayRen,
        t.setupEntityComponents = analyzer_setupEntityComponent,
        MetaAnalyzerBuilding
    }(L)
      , vr = {
        merger: "merger",
        mergerInverse: "merger-inverse",
        splitter: "splitter",
        splitterInverse: "splitter-inverse"
    }
      , br = {
        [z]: null,
        [vr.merger]: Object(p.q)([0, 1, 0, 0, 1, 1, 0, 1, 0]),
        [vr.mergerInverse]: Object(p.q)([0, 1, 0, 1, 1, 0, 0, 1, 0]),
        [vr.splitter]: Object(p.q)([0, 1, 0, 0, 1, 1, 0, 1, 0]),
        [vr.splitterInverse]: Object(p.q)([0, 1, 0, 1, 1, 0, 0, 1, 0])
    };
    function balancer_getAllVariantCombina() {
        return [{
            internalId: 4,
            variant: z
        }, {
            internalId: 5,
            variant: vr.merger
        }, {
            internalId: 6,
            variant: vr.mergerInverse
        }, {
            internalId: 47,
            variant: vr.splitter
        }, {
            internalId: 48,
            variant: vr.splitterInverse
        }]
    }
    function balancer_getDimensions(e) {
        switch (e) {
        case z:
            return new C.a(2,1);
        case vr.merger:
        case vr.mergerInverse:
        case vr.splitter:
        case vr.splitterInverse:
            return new C.a(1,1);
        default:
            window.assert(!1, "Unknown balancer variant: " + e)
        }
    }
    function balancer_getSpecialOverlayRen(e, t, r, n) {
        var i = br[r];
        return i ? i[e] : null
    }
    function balancer_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        var r = 2;
        switch (t) {
        case vr.merger:
        case vr.mergerInverse:
        case vr.splitter:
        case vr.splitterInverse:
            r = 1
        }
        var n = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.balancer) / 2 * r;
        return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(n)]]
    }
    function balancer_getSilhouetteColor() {
        return "#555759"
    }
    function balancer_getAvailableVariants(e) {
        var t = e.gameMode.getIsDeterministic()
          , r = t ? [] : [z];
        return !t && e.hubGoals.isRewardUnlocked(Qe.reward_merger) && r.push(vr.merger, vr.mergerInverse),
        e.hubGoals.isRewardUnlocked(Qe.reward_splitter) && r.push(vr.splitter, vr.splitterInverse),
        r
    }
    function balancer_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_balancer)
    }
    function balancer_setupEntityComponent(e) {
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: []
        })),
        e.addComponent(new be.ItemProcessorComponent({
            inputsPerCharge: 1,
            processorType: be.enumItemProcessorTypes.balancer
        })),
        e.addComponent(new he.ItemEjectorComponent({
            slots: [],
            renderFloatingItems: !1
        })),
        e.addComponent(new Fe.BeltUnderlaysComponent({
            underlays: []
        }))
    }
    function balancer_updateVariants(e, t, r) {
        switch (r) {
        case z:
            e.components.ItemAcceptor.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.bottom
            }, {
                pos: new C.a(1,0),
                direction: C.d.bottom
            }]),
            e.components.ItemEjector.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top
            }, {
                pos: new C.a(1,0),
                direction: C.d.top
            }]),
            e.components.BeltUnderlays.underlays = [{
                pos: new C.a(0,0),
                direction: C.d.top
            }, {
                pos: new C.a(1,0),
                direction: C.d.top
            }];
            break;
        case vr.merger:
        case vr.mergerInverse:
            e.components.ItemAcceptor.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.bottom
            }, {
                pos: new C.a(0,0),
                direction: r === vr.mergerInverse ? C.d.left : C.d.right
            }]),
            e.components.ItemEjector.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top
            }]),
            e.components.BeltUnderlays.underlays = [{
                pos: new C.a(0,0),
                direction: C.d.top
            }];
            break;
        case vr.splitter:
        case vr.splitterInverse:
            e.components.ItemAcceptor.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.bottom
            }]),
            e.components.ItemEjector.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top
            }, {
                pos: new C.a(0,0),
                direction: r === vr.splitterInverse ? C.d.left : C.d.right
            }]),
            e.components.BeltUnderlays.underlays = [{
                pos: new C.a(0,0),
                direction: C.d.top
            }];
            break;
        default:
            window.assert(!1, "Unknown balancer variant: " + r)
        }
    }
    var wr = function(e) {
        function MetaBalancerBuilding() {
            return e.call(this, "balancer") || this
        }
        !function balancer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaBalancerBuilding, e),
        MetaBalancerBuilding.getAllVariantCombinations = balancer_getAllVariantCombina;
        var t = MetaBalancerBuilding.prototype;
        return t.getDimensions = balancer_getDimensions,
        t.getSpecialOverlayRenderMatrix = balancer_getSpecialOverlayRen,
        t.getAdditionalStatistics = balancer_getAdditionalStatist,
        t.getSilhouetteColor = balancer_getSilhouetteColor,
        t.getAvailableVariants = balancer_getAvailableVariants,
        t.getIsUnlocked = balancer_getIsUnlocked,
        t.setupEntityComponents = balancer_setupEntityComponent,
        t.updateVariants = balancer_updateVariants,
        MetaBalancerBuilding
    }(L);
    function block_getAllVariantCombina() {
        return [{
            internalId: 64,
            variant: z
        }]
    }
    function block_getSilhouetteColor() {
        return "#333"
    }
    function block_getIsRemovable(e) {
        return e.gameMode.getIsEditor()
    }
    function block_setupEntityComponent(e) {}
    var Sr = function(e) {
        function MetaBlockBuilding() {
            return e.call(this, "block") || this
        }
        !function block_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaBlockBuilding, e),
        MetaBlockBuilding.getAllVariantCombinations = block_getAllVariantCombina;
        var t = MetaBlockBuilding.prototype;
        return t.getSilhouetteColor = block_getSilhouetteColor,
        t.getIsRemovable = block_getIsRemovable,
        t.setupEntityComponents = block_setupEntityComponent,
        MetaBlockBuilding
    }(L);
    function comparator_getAllVariantCombina() {
        return [{
            internalId: 46,
            variant: z
        }]
    }
    function comparator_getSilhouetteColor() {
        return "#823cab"
    }
    function comparator_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_virtual_processing)
    }
    function comparator_getLayer() {
        return "wires"
    }
    function comparator_getDimensions() {
        return new C.a(1,1)
    }
    function comparator_getRenderPins() {
        return !1
    }
    function comparator_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.left,
                type: Re.enumPinSlotType.logicalAcceptor
            }, {
                pos: new C.a(0,0),
                direction: C.d.right,
                type: Re.enumPinSlotType.logicalAcceptor
            }]
        })),
        e.addComponent(new lt.LogicGateComponent({
            type: lt.enumLogicGateType.compare
        }))
    }
    var Cr = function(e) {
        function MetaComparatorBuilding() {
            return e.call(this, "comparator") || this
        }
        !function comparator_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaComparatorBuilding, e),
        MetaComparatorBuilding.getAllVariantCombinations = comparator_getAllVariantCombina;
        var t = MetaComparatorBuilding.prototype;
        return t.getSilhouetteColor = comparator_getSilhouetteColor,
        t.getIsUnlocked = comparator_getIsUnlocked,
        t.getLayer = comparator_getLayer,
        t.getDimensions = comparator_getDimensions,
        t.getRenderPins = comparator_getRenderPins,
        t.setupEntityComponents = comparator_setupEntityComponent,
        MetaComparatorBuilding
    }(L);
    function constant_producer_getAllVariantCombina() {
        return [{
            internalId: 62,
            variant: z
        }]
    }
    function constant_producer_getSilhouetteColor() {
        return "#bfd630"
    }
    function constant_producer_getIsRemovable(e) {
        return e.gameMode.getIsEditor()
    }
    function constant_producer_setupEntityComponent(e) {
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }]
        })),
        e.addComponent(new vt.ItemProducerComponent({})),
        e.addComponent(new at.ConstantSignalComponent({}))
    }
    var Ar = function(e) {
        function MetaConstantProducerBuilding() {
            return e.call(this, "constant_producer") || this
        }
        !function buildings_constant_producer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaConstantProducerBuilding, e),
        MetaConstantProducerBuilding.getAllVariantCombinations = constant_producer_getAllVariantCombina;
        var t = MetaConstantProducerBuilding.prototype;
        return t.getSilhouetteColor = constant_producer_getSilhouetteColor,
        t.getIsRemovable = constant_producer_getIsRemovable,
        t.setupEntityComponents = constant_producer_setupEntityComponent,
        MetaConstantProducerBuilding
    }(L)
      , kr = Object(p.q)([0, 1, 0, 1, 1, 1, 1, 1, 1]);
    function constant_signal_getAllVariantCombina() {
        return [{
            internalId: 31,
            variant: z
        }]
    }
    function constant_signal_getSilhouetteColor() {
        return "#2b84fd"
    }
    function constant_signal_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_constant_signal)
    }
    function constant_signal_getLayer() {
        return "wires"
    }
    function constant_signal_getDimensions() {
        return new C.a(1,1)
    }
    function constant_signal_getRenderPins() {
        return !1
    }
    function constant_signal_getSpecialOverlayRen(e) {
        return kr[e]
    }
    function constant_signal_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top,
                type: Re.enumPinSlotType.logicalEjector
            }]
        })),
        e.addComponent(new at.ConstantSignalComponent({}))
    }
    var Er = function(e) {
        function MetaConstantSignalBuilding() {
            return e.call(this, "constant_signal") || this
        }
        !function buildings_constant_signal_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaConstantSignalBuilding, e),
        MetaConstantSignalBuilding.getAllVariantCombinations = constant_signal_getAllVariantCombina;
        var t = MetaConstantSignalBuilding.prototype;
        return t.getSilhouetteColor = constant_signal_getSilhouetteColor,
        t.getIsUnlocked = constant_signal_getIsUnlocked,
        t.getLayer = constant_signal_getLayer,
        t.getDimensions = constant_signal_getDimensions,
        t.getRenderPins = constant_signal_getRenderPins,
        t.getSpecialOverlayRenderMatrix = constant_signal_getSpecialOverlayRen,
        t.setupEntityComponents = constant_signal_setupEntityComponent,
        MetaConstantSignalBuilding
    }(L)
      , Ir = {
        quad: "quad"
    };
    function cutter_getAllVariantCombina() {
        return [{
            internalId: 9,
            variant: z
        }, {
            internalId: 10,
            variant: Ir.quad
        }]
    }
    function cutter_getSilhouetteColor() {
        return "#7dcda2"
    }
    function cutter_getDimensions(e) {
        switch (e) {
        case z:
            return new C.a(2,1);
        case Ir.quad:
            return new C.a(4,1);
        default:
            window.assert(!1, "Unknown cutter variant: " + e)
        }
    }
    function cutter_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        var r = e.hubGoals.getProcessorBaseSpeed(t === Ir.quad ? be.enumItemProcessorTypes.cutterQuad : be.enumItemProcessorTypes.cutter);
        return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(r)]]
    }
    function cutter_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_cutter_and_trash)
    }
    function cutter_setupEntityComponent(e) {
        e.addComponent(new be.ItemProcessorComponent({
            inputsPerCharge: 1,
            processorType: be.enumItemProcessorTypes.cutter
        })),
        e.addComponent(new he.ItemEjectorComponent({})),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.bottom,
                filter: "shape"
            }]
        }))
    }
    function cutter_updateVariants(e, t, r) {
        switch (r) {
        case z:
            e.components.ItemEjector.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top
            }, {
                pos: new C.a(1,0),
                direction: C.d.top
            }]),
            e.components.ItemProcessor.type = be.enumItemProcessorTypes.cutter;
            break;
        case Ir.quad:
            e.components.ItemEjector.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top
            }, {
                pos: new C.a(1,0),
                direction: C.d.top
            }, {
                pos: new C.a(2,0),
                direction: C.d.top
            }, {
                pos: new C.a(3,0),
                direction: C.d.top
            }]),
            e.components.ItemProcessor.type = be.enumItemProcessorTypes.cutterQuad;
            break;
        default:
            window.assert(!1, "Unknown painter variant: " + r)
        }
    }
    var Br = function(e) {
        function MetaCutterBuilding() {
            return e.call(this, "cutter") || this
        }
        !function cutter_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaCutterBuilding, e),
        MetaCutterBuilding.getAllVariantCombinations = cutter_getAllVariantCombina;
        var t = MetaCutterBuilding.prototype;
        return t.getSilhouetteColor = cutter_getSilhouetteColor,
        t.getDimensions = cutter_getDimensions,
        t.getAdditionalStatistics = cutter_getAdditionalStatist,
        t.getAvailableVariants = function getAvailableVariants(t) {
            return t.hubGoals.isRewardUnlocked(Qe.reward_cutter_quad) ? [z, Ir.quad] : e.prototype.getAvailableVariants.call(this, t)
        }
        ,
        t.getIsUnlocked = cutter_getIsUnlocked,
        t.setupEntityComponents = cutter_setupEntityComponent,
        t.updateVariants = cutter_updateVariants,
        MetaCutterBuilding
    }(L)
      , xr = r(77);
    function display_getAllVariantCombina() {
        return [{
            internalId: 40,
            variant: z
        }]
    }
    function display_getSilhouetteColor() {
        return "#aaaaaa"
    }
    function display_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_display)
    }
    function display_getDimensions() {
        return new C.a(1,1)
    }
    function display_getShowWiresLayerPre() {
        return !0
    }
    function display_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }]
        })),
        e.addComponent(new xr.DisplayComponent)
    }
    var Pr = function(e) {
        function MetaDisplayBuilding() {
            return e.call(this, "display") || this
        }
        !function buildings_display_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaDisplayBuilding, e),
        MetaDisplayBuilding.getAllVariantCombinations = display_getAllVariantCombina;
        var t = MetaDisplayBuilding.prototype;
        return t.getSilhouetteColor = display_getSilhouetteColor,
        t.getIsUnlocked = display_getIsUnlocked,
        t.getDimensions = display_getDimensions,
        t.getShowWiresLayerPreview = display_getShowWiresLayerPre,
        t.setupEntityComponents = display_setupEntityComponent,
        MetaDisplayBuilding
    }(L);
    function filter_getAllVariantCombina() {
        return [{
            internalId: 37,
            variant: z
        }]
    }
    function filter_getSilhouetteColor() {
        return "#c45c2e"
    }
    function filter_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_filter)
    }
    function filter_getDimensions() {
        return new C.a(2,1)
    }
    function filter_getShowWiresLayerPre() {
        return !0
    }
    function filter_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        var r = e.hubGoals.getBeltBaseSpeed();
        return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(r)]]
    }
    function filter_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.left,
                type: Re.enumPinSlotType.logicalAcceptor
            }]
        })),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.bottom
            }]
        })),
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }, {
                pos: new C.a(1,0),
                direction: C.d.right
            }]
        })),
        e.addComponent(new mt.FilterComponent)
    }
    var Tr = function(e) {
        function MetaFilterBuilding() {
            return e.call(this, "filter") || this
        }
        !function buildings_filter_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaFilterBuilding, e),
        MetaFilterBuilding.getAllVariantCombinations = filter_getAllVariantCombina;
        var t = MetaFilterBuilding.prototype;
        return t.getSilhouetteColor = filter_getSilhouetteColor,
        t.getIsUnlocked = filter_getIsUnlocked,
        t.getDimensions = filter_getDimensions,
        t.getShowWiresLayerPreview = filter_getShowWiresLayerPre,
        t.getAdditionalStatistics = filter_getAdditionalStatist,
        t.setupEntityComponents = filter_setupEntityComponent,
        MetaFilterBuilding
    }(L);
    function goal_acceptor_getAllVariantCombina() {
        return [{
            internalId: 63,
            variant: z
        }]
    }
    function goal_acceptor_getSilhouetteColor() {
        return "#ce418a"
    }
    function goal_acceptor_getIsRemovable(e) {
        return e.gameMode.getIsEditor()
    }
    function goal_acceptor_setupEntityComponent(e) {
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.bottom,
                filter: "shape"
            }]
        })),
        e.addComponent(new be.ItemProcessorComponent({
            processorType: be.enumItemProcessorTypes.goal
        })),
        e.addComponent(new St.GoalAcceptorComponent({}))
    }
    var Mr = function(e) {
        function MetaGoalAcceptorBuilding() {
            return e.call(this, "goal_acceptor") || this
        }
        !function buildings_goal_acceptor_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaGoalAcceptorBuilding, e),
        MetaGoalAcceptorBuilding.getAllVariantCombinations = goal_acceptor_getAllVariantCombina;
        var t = MetaGoalAcceptorBuilding.prototype;
        return t.getSilhouetteColor = goal_acceptor_getSilhouetteColor,
        t.getIsRemovable = goal_acceptor_getIsRemovable,
        t.setupEntityComponents = goal_acceptor_setupEntityComponent,
        MetaGoalAcceptorBuilding
    }(L);
    function hub_getAllVariantCombina() {
        return [{
            internalId: 26,
            variant: z
        }]
    }
    function hub_getDimensions() {
        return new C.a(4,4)
    }
    function hub_getSilhouetteColor() {
        return "#eb5555"
    }
    function hub_getIsRotateable() {
        return !1
    }
    function hub_getBlueprintSprite() {
        return null
    }
    function hub_getSprite() {
        return null
    }
    function hub_getIsRemovable() {
        return !1
    }
    function hub_setupEntityComponent(e) {
        e.addComponent(new xe.HubComponent),
        e.addComponent(new be.ItemProcessorComponent({
            inputsPerCharge: 1,
            processorType: be.enumItemProcessorTypes.hub
        })),
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,2),
                type: Re.enumPinSlotType.logicalEjector,
                direction: C.d.left
            }]
        }));
        for (var t = [], r = 0; r < 4; ++r)
            t.push({
                pos: new C.a(r,0),
                direction: C.d.top,
                filter: "shape"
            }, {
                pos: new C.a(r,3),
                direction: C.d.bottom,
                filter: "shape"
            }, {
                pos: new C.a(0,r),
                direction: C.d.left,
                filter: "shape"
            }, {
                pos: new C.a(3,r),
                direction: C.d.right,
                filter: "shape"
            });
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: t
        }))
    }
    var Or = function(e) {
        function MetaHubBuilding() {
            return e.call(this, "hub") || this
        }
        !function buildings_hub_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaHubBuilding, e),
        MetaHubBuilding.getAllVariantCombinations = hub_getAllVariantCombina;
        var t = MetaHubBuilding.prototype;
        return t.getDimensions = hub_getDimensions,
        t.getSilhouetteColor = hub_getSilhouetteColor,
        t.getIsRotateable = hub_getIsRotateable,
        t.getBlueprintSprite = hub_getBlueprintSprite,
        t.getSprite = hub_getSprite,
        t.getIsRemovable = hub_getIsRemovable,
        t.setupEntityComponents = hub_setupEntityComponent,
        MetaHubBuilding
    }(L);
    function item_producer_getAllVariantCombina() {
        return [{
            internalId: 61,
            variant: z
        }]
    }
    function item_producer_getSilhouetteColor() {
        return "#b37dcd"
    }
    function item_producer_getShowWiresLayerPre() {
        return !0
    }
    function item_producer_setupEntityComponent(e) {
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }]
        })),
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                type: Re.enumPinSlotType.logicalAcceptor,
                direction: C.d.bottom
            }]
        })),
        e.addComponent(new vt.ItemProducerComponent({}))
    }
    var zr = function(e) {
        function MetaItemProducerBuilding() {
            return e.call(this, "item_producer") || this
        }
        !function buildings_item_producer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaItemProducerBuilding, e),
        MetaItemProducerBuilding.getAllVariantCombinations = item_producer_getAllVariantCombina;
        var t = MetaItemProducerBuilding.prototype;
        return t.getSilhouetteColor = item_producer_getSilhouetteColor,
        t.getShowWiresLayerPreview = item_producer_getShowWiresLayerPre,
        t.setupEntityComponents = item_producer_setupEntityComponent,
        MetaItemProducerBuilding
    }(L);
    function lever_getAllVariantCombina() {
        return [{
            internalId: 33,
            variant: z
        }]
    }
    function lever_getSilhouetteColor() {
        return "#1a678b"
    }
    function lever_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_wires_painter_and_levers)
    }
    function lever_getDimensions() {
        return new C.a(1,1)
    }
    function lever_getSprite() {
        return null
    }
    function lever_getShowWiresLayerPre() {
        return !0
    }
    function lever_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top,
                type: Re.enumPinSlotType.logicalEjector
            }]
        })),
        e.addComponent(new ut.LeverComponent({}))
    }
    var Lr = function(e) {
        function MetaLeverBuilding() {
            return e.call(this, "lever") || this
        }
        !function buildings_lever_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaLeverBuilding, e),
        MetaLeverBuilding.getAllVariantCombinations = lever_getAllVariantCombina;
        var t = MetaLeverBuilding.prototype;
        return t.getSilhouetteColor = lever_getSilhouetteColor,
        t.getIsUnlocked = lever_getIsUnlocked,
        t.getDimensions = lever_getDimensions,
        t.getSprite = lever_getSprite,
        t.getShowWiresLayerPreview = lever_getShowWiresLayerPre,
        t.setupEntityComponents = lever_setupEntityComponent,
        MetaLeverBuilding
    }(L)
      , Rr = {
        not: "not",
        xor: "xor",
        or: "or"
    }
      , Dr = {
        [z]: lt.enumLogicGateType.and,
        [Rr.not]: lt.enumLogicGateType.not,
        [Rr.xor]: lt.enumLogicGateType.xor,
        [Rr.or]: lt.enumLogicGateType.or
    }
      , Ur = {
        [z]: Object(p.q)([0, 1, 0, 1, 1, 1, 0, 1, 1]),
        [Rr.xor]: Object(p.q)([0, 1, 0, 1, 1, 1, 0, 1, 1]),
        [Rr.or]: Object(p.q)([0, 1, 0, 1, 1, 1, 0, 1, 1]),
        [Rr.not]: Object(p.q)([0, 1, 0, 0, 1, 0, 0, 1, 0])
    }
      , Fr = {
        [z]: "#f48d41",
        [Rr.xor]: "#f4a241",
        [Rr.or]: "#f4d041",
        [Rr.not]: "#f44184"
    };
    function logic_gate_getAllVariantCombina() {
        return [{
            internalId: 32,
            variant: z
        }, {
            internalId: 34,
            variant: Rr.not
        }, {
            internalId: 35,
            variant: Rr.xor
        }, {
            internalId: 36,
            variant: Rr.or
        }]
    }
    function logic_gate_getSilhouetteColor(e) {
        return Fr[e]
    }
    function logic_gate_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_logic_gates)
    }
    function logic_gate_getLayer() {
        return "wires"
    }
    function logic_gate_getDimensions() {
        return new C.a(1,1)
    }
    function logic_gate_getSpecialOverlayRen(e, t, r) {
        return Ur[r][e]
    }
    function logic_gate_getAvailableVariants() {
        return [z, Rr.or, Rr.not, Rr.xor]
    }
    function logic_gate_getRenderPins() {
        return !1
    }
    function logic_gate_updateVariants(e, t, r) {
        var n = Dr[r];
        e.components.LogicGate.type = n;
        var i = e.components.WiredPins;
        switch (n) {
        case lt.enumLogicGateType.and:
        case lt.enumLogicGateType.xor:
        case lt.enumLogicGateType.or:
            i.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.left,
                type: Re.enumPinSlotType.logicalAcceptor
            }, {
                pos: new C.a(0,0),
                direction: C.d.right,
                type: Re.enumPinSlotType.logicalAcceptor
            }]);
            break;
        case lt.enumLogicGateType.not:
            i.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }]);
            break;
        default:
            window.assert("unknown logic gate type: " + n)
        }
    }
    function logic_gate_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: []
        })),
        e.addComponent(new lt.LogicGateComponent({}))
    }
    var jr = function(e) {
        function MetaLogicGateBuilding() {
            return e.call(this, "logic_gate") || this
        }
        !function buildings_logic_gate_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaLogicGateBuilding, e),
        MetaLogicGateBuilding.getAllVariantCombinations = logic_gate_getAllVariantCombina;
        var t = MetaLogicGateBuilding.prototype;
        return t.getSilhouetteColor = logic_gate_getSilhouetteColor,
        t.getIsUnlocked = logic_gate_getIsUnlocked,
        t.getLayer = logic_gate_getLayer,
        t.getDimensions = logic_gate_getDimensions,
        t.getSpecialOverlayRenderMatrix = logic_gate_getSpecialOverlayRen,
        t.getAvailableVariants = logic_gate_getAvailableVariants,
        t.getRenderPins = logic_gate_getRenderPins,
        t.updateVariants = logic_gate_updateVariants,
        t.setupEntityComponents = logic_gate_setupEntityComponent,
        MetaLogicGateBuilding
    }(L)
      , Vr = {
        chainable: "chainable"
    }
      , Hr = {
        [z]: Object(p.q)([1, 1, 1, 1, 0, 1, 1, 1, 1]),
        [Vr.chainable]: Object(p.q)([0, 1, 0, 1, 1, 1, 1, 1, 1])
    };
    function miner_getAllVariantCombina() {
        return [{
            internalId: 7,
            variant: z
        }, {
            internalId: 8,
            variant: Vr.chainable
        }]
    }
    function miner_getSilhouetteColor() {
        return "#b37dcd"
    }
    function miner_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        var r = e.hubGoals.getMinerBaseSpeed();
        return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(r)]]
    }
    function miner_getSpecialOverlayRen(e, t, r, n) {
        return Hr[r][e]
    }
    function miner_setupEntityComponent(e) {
        e.addComponent(new _e.MinerComponent({})),
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }]
        }))
    }
    function miner_updateVariants(e, t, r) {
        e.components.Miner.chainable = r === Vr.chainable
    }
    var Gr = function(e) {
        function MetaMinerBuilding() {
            return e.call(this, "miner") || this
        }
        !function buildings_miner_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaMinerBuilding, e),
        MetaMinerBuilding.getAllVariantCombinations = miner_getAllVariantCombina;
        var t = MetaMinerBuilding.prototype;
        return t.getSilhouetteColor = miner_getSilhouetteColor,
        t.getAdditionalStatistics = miner_getAdditionalStatist,
        t.getAvailableVariants = function getAvailableVariants(t) {
            return t.hubGoals.isRewardUnlocked(Qe.reward_miner_chainable) ? [Vr.chainable] : e.prototype.getAvailableVariants.call(this, t)
        }
        ,
        t.getSpecialOverlayRenderMatrix = miner_getSpecialOverlayRen,
        t.setupEntityComponents = miner_setupEntityComponent,
        t.updateVariants = miner_updateVariants,
        MetaMinerBuilding
    }(L);
    function mixer_getAllVariantCombina() {
        return [{
            internalId: 15,
            variant: z
        }]
    }
    function mixer_getDimensions() {
        return new C.a(2,1)
    }
    function mixer_getSilhouetteColor() {
        return "#cdbb7d"
    }
    function mixer_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_mixer)
    }
    function mixer_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        var r = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.mixer);
        return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(r)]]
    }
    function mixer_setupEntityComponent(e) {
        e.addComponent(new be.ItemProcessorComponent({
            inputsPerCharge: 2,
            processorType: be.enumItemProcessorTypes.mixer
        })),
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }]
        })),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.bottom,
                filter: "color"
            }, {
                pos: new C.a(1,0),
                direction: C.d.bottom,
                filter: "color"
            }]
        }))
    }
    var Wr = function(e) {
        function MetaMixerBuilding() {
            return e.call(this, "mixer") || this
        }
        !function mixer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaMixerBuilding, e),
        MetaMixerBuilding.getAllVariantCombinations = mixer_getAllVariantCombina;
        var t = MetaMixerBuilding.prototype;
        return t.getDimensions = mixer_getDimensions,
        t.getSilhouetteColor = mixer_getSilhouetteColor,
        t.getIsUnlocked = mixer_getIsUnlocked,
        t.getAdditionalStatistics = mixer_getAdditionalStatist,
        t.setupEntityComponents = mixer_setupEntityComponent,
        MetaMixerBuilding
    }(L)
      , Nr = {
        mirrored: "mirrored",
        double: "double",
        quad: "quad"
    };
    function painter_getAllVariantCombina() {
        return [{
            internalId: 16,
            variant: z
        }, {
            internalId: 17,
            variant: Nr.mirrored
        }, {
            internalId: 18,
            variant: Nr.double
        }, {
            internalId: 19,
            variant: Nr.quad
        }]
    }
    function painter_getDimensions(e) {
        switch (e) {
        case z:
        case Nr.mirrored:
            return new C.a(2,1);
        case Nr.double:
            return new C.a(2,2);
        case Nr.quad:
            return new C.a(4,1);
        default:
            window.assert(!1, "Unknown painter variant: " + e)
        }
    }
    function painter_getSilhouetteColor() {
        return "#cd9b7d"
    }
    function painter_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        switch (t) {
        case z:
        case Nr.mirrored:
            var r = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.painter);
            return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(r)]];
        case Nr.double:
            var n = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.painterDouble);
            return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(n, !0)]];
        case Nr.quad:
            var i = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.painterQuad);
            return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(i)]]
        }
    }
    function painter_getAvailableVariants(e) {
        var t = [z, Nr.mirrored];
        return e.hubGoals.isRewardUnlocked(Qe.reward_painter_double) && t.push(Nr.double),
        e.hubGoals.isRewardUnlocked(Qe.reward_wires_painter_and_levers) && e.gameMode.getSupportsWires() && t.push(Nr.quad),
        t
    }
    function painter_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_painter)
    }
    function painter_setupEntityComponent(e) {
        e.addComponent(new be.ItemProcessorComponent({})),
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(1,0),
                direction: C.d.right
            }]
        })),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.left,
                filter: "shape"
            }, {
                pos: new C.a(1,0),
                direction: C.d.top,
                filter: "color"
            }]
        }))
    }
    function painter_updateVariants(e, t, r) {
        switch (r) {
        case z:
        case Nr.mirrored:
            e.components.WiredPins && e.removeComponent(Re.WiredPinsComponent),
            e.components.ItemAcceptor.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.left,
                filter: "shape"
            }, {
                pos: new C.a(1,0),
                direction: r === z ? C.d.top : C.d.bottom,
                filter: "color"
            }]),
            e.components.ItemEjector.setSlots([{
                pos: new C.a(1,0),
                direction: C.d.right
            }]),
            e.components.ItemProcessor.type = be.enumItemProcessorTypes.painter,
            e.components.ItemProcessor.processingRequirement = null,
            e.components.ItemProcessor.inputsPerCharge = 2;
            break;
        case Nr.double:
            e.components.WiredPins && e.removeComponent(Re.WiredPinsComponent),
            e.components.ItemAcceptor.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.left,
                filter: "shape"
            }, {
                pos: new C.a(0,1),
                direction: C.d.left,
                filter: "shape"
            }, {
                pos: new C.a(1,0),
                direction: C.d.top,
                filter: "color"
            }]),
            e.components.ItemEjector.setSlots([{
                pos: new C.a(1,0),
                direction: C.d.right
            }]),
            e.components.ItemProcessor.type = be.enumItemProcessorTypes.painterDouble,
            e.components.ItemProcessor.processingRequirement = null,
            e.components.ItemProcessor.inputsPerCharge = 3;
            break;
        case Nr.quad:
            e.components.WiredPins || e.addComponent(new Re.WiredPinsComponent({
                slots: []
            })),
            e.components.WiredPins.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }, {
                pos: new C.a(1,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }, {
                pos: new C.a(2,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }, {
                pos: new C.a(3,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }]),
            e.components.ItemAcceptor.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.left,
                filter: "shape"
            }, {
                pos: new C.a(0,0),
                direction: C.d.bottom,
                filter: "color"
            }, {
                pos: new C.a(1,0),
                direction: C.d.bottom,
                filter: "color"
            }, {
                pos: new C.a(2,0),
                direction: C.d.bottom,
                filter: "color"
            }, {
                pos: new C.a(3,0),
                direction: C.d.bottom,
                filter: "color"
            }]),
            e.components.ItemEjector.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top
            }]),
            e.components.ItemProcessor.type = be.enumItemProcessorTypes.painterQuad,
            e.components.ItemProcessor.processingRequirement = be.enumItemProcessorRequirements.painterQuad,
            e.components.ItemProcessor.inputsPerCharge = 5;
            break;
        default:
            window.assert(!1, "Unknown painter variant: " + r)
        }
    }
    var qr = function(e) {
        function MetaPainterBuilding() {
            return e.call(this, "painter") || this
        }
        !function painter_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaPainterBuilding, e),
        MetaPainterBuilding.getAllVariantCombinations = painter_getAllVariantCombina;
        var t = MetaPainterBuilding.prototype;
        return t.getDimensions = painter_getDimensions,
        t.getSilhouetteColor = painter_getSilhouetteColor,
        t.getAdditionalStatistics = painter_getAdditionalStatist,
        t.getAvailableVariants = painter_getAvailableVariants,
        t.getIsUnlocked = painter_getIsUnlocked,
        t.setupEntityComponents = painter_setupEntityComponent,
        t.updateVariants = painter_updateVariants,
        MetaPainterBuilding
    }(L)
      , Kr = Object(p.q)([0, 1, 0, 0, 1, 0, 0, 1, 0]);
    function reader_getAllVariantCombina() {
        return [{
            internalId: 49,
            variant: z
        }]
    }
    function reader_getSilhouetteColor() {
        return "#25fff2"
    }
    function reader_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_belt_reader)
    }
    function reader_getDimensions() {
        return new C.a(1,1)
    }
    function reader_getShowWiresLayerPre() {
        return !0
    }
    function reader_getSpecialOverlayRen(e, t, r, n) {
        return Kr[e]
    }
    function reader_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.right,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.left,
                type: Re.enumPinSlotType.logicalEjector
            }]
        })),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.bottom
            }]
        })),
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }]
        })),
        e.addComponent(new be.ItemProcessorComponent({
            processorType: be.enumItemProcessorTypes.reader,
            inputsPerCharge: 1
        })),
        e.addComponent(new Fe.BeltUnderlaysComponent({
            underlays: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }]
        })),
        e.addComponent(new gt.BeltReaderComponent)
    }
    var Qr = function(e) {
        function MetaReaderBuilding() {
            return e.call(this, "reader") || this
        }
        !function reader_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaReaderBuilding, e),
        MetaReaderBuilding.getAllVariantCombinations = reader_getAllVariantCombina;
        var t = MetaReaderBuilding.prototype;
        return t.getSilhouetteColor = reader_getSilhouetteColor,
        t.getIsUnlocked = reader_getIsUnlocked,
        t.getDimensions = reader_getDimensions,
        t.getShowWiresLayerPreview = reader_getShowWiresLayerPre,
        t.getSpecialOverlayRenderMatrix = reader_getSpecialOverlayRen,
        t.setupEntityComponents = reader_setupEntityComponent,
        MetaReaderBuilding
    }(L)
      , Yr = {
        ccw: "ccw",
        rotate180: "rotate180"
    }
      , Jr = {
        [z]: Object(p.q)([0, 1, 1, 1, 1, 0, 0, 1, 1]),
        [Yr.ccw]: Object(p.q)([1, 1, 0, 0, 1, 1, 1, 1, 0]),
        [Yr.rotate180]: Object(p.q)([1, 1, 0, 1, 1, 1, 0, 1, 1])
    };
    function rotater_getAllVariantCombina() {
        return [{
            internalId: 11,
            variant: z
        }, {
            internalId: 12,
            variant: Yr.ccw
        }, {
            internalId: 13,
            variant: Yr.rotate180
        }]
    }
    function rotater_getSilhouetteColor() {
        return "#7dc6cd"
    }
    function rotater_getSpecialOverlayRen(e, t, r, n) {
        var i = Jr[r];
        return i ? i[e] : null
    }
    function rotater_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        switch (t) {
        case z:
            var r = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.rotater);
            return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(r)]];
        case Yr.ccw:
            var n = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.rotaterCCW);
            return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(n)]];
        case Yr.rotate180:
            var i = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.rotater180);
            return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(i)]]
        }
    }
    function rotater_getAvailableVariants(e) {
        var t = [z];
        return e.hubGoals.isRewardUnlocked(Qe.reward_rotater_ccw) && t.push(Yr.ccw),
        e.hubGoals.isRewardUnlocked(Qe.reward_rotater_180) && t.push(Yr.rotate180),
        t
    }
    function rotater_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_rotater)
    }
    function rotater_setupEntityComponent(e) {
        e.addComponent(new be.ItemProcessorComponent({
            inputsPerCharge: 1,
            processorType: be.enumItemProcessorTypes.rotater
        })),
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }]
        })),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.bottom,
                filter: "shape"
            }]
        }))
    }
    function rotater_updateVariants(e, t, r) {
        switch (r) {
        case z:
            e.components.ItemProcessor.type = be.enumItemProcessorTypes.rotater;
            break;
        case Yr.ccw:
            e.components.ItemProcessor.type = be.enumItemProcessorTypes.rotaterCCW;
            break;
        case Yr.rotate180:
            e.components.ItemProcessor.type = be.enumItemProcessorTypes.rotater180;
            break;
        default:
            window.assert(!1, "Unknown rotater variant: " + r)
        }
    }
    var Zr = function(e) {
        function MetaRotaterBuilding() {
            return e.call(this, "rotater") || this
        }
        !function rotater_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaRotaterBuilding, e),
        MetaRotaterBuilding.getAllVariantCombinations = rotater_getAllVariantCombina;
        var t = MetaRotaterBuilding.prototype;
        return t.getSilhouetteColor = rotater_getSilhouetteColor,
        t.getSpecialOverlayRenderMatrix = rotater_getSpecialOverlayRen,
        t.getAdditionalStatistics = rotater_getAdditionalStatist,
        t.getAvailableVariants = rotater_getAvailableVariants,
        t.getIsUnlocked = rotater_getIsUnlocked,
        t.setupEntityComponents = rotater_setupEntityComponent,
        t.updateVariants = rotater_updateVariants,
        MetaRotaterBuilding
    }(L);
    function stacker_getAllVariantCombina() {
        return [{
            internalId: 14,
            variant: z
        }]
    }
    function stacker_getSilhouetteColor() {
        return "#9fcd7d"
    }
    function stacker_getDimensions() {
        return new C.a(2,1)
    }
    function stacker_getAdditionalStatist(e, t) {
        if (e.gameMode.throughputDoesNotMatter())
            return [];
        var r = e.hubGoals.getProcessorBaseSpeed(be.enumItemProcessorTypes.stacker);
        return [[U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(r)]]
    }
    function stacker_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_stacker)
    }
    function stacker_setupEntityComponent(e) {
        e.addComponent(new be.ItemProcessorComponent({
            inputsPerCharge: 2,
            processorType: be.enumItemProcessorTypes.stacker
        })),
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }]
        })),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.bottom,
                filter: "shape"
            }, {
                pos: new C.a(1,0),
                direction: C.d.bottom,
                filter: "shape"
            }]
        }))
    }
    var Xr = function(e) {
        function MetaStackerBuilding() {
            return e.call(this, "stacker") || this
        }
        !function stacker_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaStackerBuilding, e),
        MetaStackerBuilding.getAllVariantCombinations = stacker_getAllVariantCombina;
        var t = MetaStackerBuilding.prototype;
        return t.getSilhouetteColor = stacker_getSilhouetteColor,
        t.getDimensions = stacker_getDimensions,
        t.getAdditionalStatistics = stacker_getAdditionalStatist,
        t.getIsUnlocked = stacker_getIsUnlocked,
        t.setupEntityComponents = stacker_setupEntityComponent,
        MetaStackerBuilding
    }(L)
      , $r = 5e3;
    function storage_getAllVariantCombina() {
        return [{
            internalId: 21,
            variant: z
        }]
    }
    function storage_getSilhouetteColor() {
        return "#bbdf6d"
    }
    function storage_getAdditionalStatist(e, t) {
        return [[U.a.ingame.buildingPlacement.infoTexts.storage, Object(p.k)($r)]]
    }
    function storage_getDimensions() {
        return new C.a(2,2)
    }
    function storage_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_storage)
    }
    function storage_setupEntityComponent(e) {
        e.addComponent(new he.ItemEjectorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }, {
                pos: new C.a(1,0),
                direction: C.d.top
            }]
        })),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,1),
                direction: C.d.bottom
            }, {
                pos: new C.a(1,1),
                direction: C.d.bottom
            }]
        })),
        e.addComponent(new ze.StorageComponent({
            maximumStorage: $r
        })),
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(1,1),
                direction: C.d.right,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,1),
                direction: C.d.left,
                type: Re.enumPinSlotType.logicalEjector
            }]
        }))
    }
    var en = function(e) {
        function MetaStorageBuilding() {
            return e.call(this, "storage") || this
        }
        !function buildings_storage_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaStorageBuilding, e),
        MetaStorageBuilding.getAllVariantCombinations = storage_getAllVariantCombina;
        var t = MetaStorageBuilding.prototype;
        return t.getSilhouetteColor = storage_getSilhouetteColor,
        t.getAdditionalStatistics = storage_getAdditionalStatist,
        t.getDimensions = storage_getDimensions,
        t.getIsUnlocked = storage_getIsUnlocked,
        t.setupEntityComponents = storage_setupEntityComponent,
        MetaStorageBuilding
    }(L)
      , tn = {
        mirrored: "mirrored"
    }
      , rn = {
        [z]: Object(p.q)([0, 1, 0, 1, 1, 0, 0, 1, 0]),
        [tn.mirrored]: Object(p.q)([0, 1, 0, 0, 1, 1, 0, 1, 0])
    };
    function transistor_getAllVariantCombina() {
        return [{
            internalId: 38,
            variant: z
        }, {
            internalId: 60,
            variant: tn.mirrored
        }]
    }
    function transistor_getSilhouetteColor() {
        return "#bc3a61"
    }
    function transistor_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_logic_gates)
    }
    function transistor_getLayer() {
        return "wires"
    }
    function transistor_getDimensions() {
        return new C.a(1,1)
    }
    function transistor_getAvailableVariants() {
        return [z, tn.mirrored]
    }
    function transistor_getSpecialOverlayRen(e, t, r) {
        return rn[r][e]
    }
    function transistor_getRenderPins() {
        return !1
    }
    function transistor_updateVariants(e, t, r) {
        e.components.WiredPins.slots[1].direction = r === tn.mirrored ? C.d.right : C.d.left
    }
    function transistor_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.left,
                type: Re.enumPinSlotType.logicalAcceptor
            }, {
                pos: new C.a(0,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }]
        })),
        e.addComponent(new lt.LogicGateComponent({
            type: lt.enumLogicGateType.transistor
        }))
    }
    var nn = function(e) {
        function MetaTransistorBuilding() {
            return e.call(this, "transistor") || this
        }
        !function transistor_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaTransistorBuilding, e),
        MetaTransistorBuilding.getAllVariantCombinations = transistor_getAllVariantCombina;
        var t = MetaTransistorBuilding.prototype;
        return t.getSilhouetteColor = transistor_getSilhouetteColor,
        t.getIsUnlocked = transistor_getIsUnlocked,
        t.getLayer = transistor_getLayer,
        t.getDimensions = transistor_getDimensions,
        t.getAvailableVariants = transistor_getAvailableVariants,
        t.getSpecialOverlayRenderMatrix = transistor_getSpecialOverlayRen,
        t.getRenderPins = transistor_getRenderPins,
        t.updateVariants = transistor_updateVariants,
        t.setupEntityComponents = transistor_setupEntityComponent,
        MetaTransistorBuilding
    }(L)
      , on = Object(p.q)([1, 1, 0, 1, 1, 1, 0, 1, 1]);
    function trash_getAllVariantCombina() {
        return [{
            internalId: 20,
            variant: z
        }]
    }
    function trash_getIsRotateable() {
        return !1
    }
    function trash_getSilhouetteColor() {
        return "#ed1d5d"
    }
    function trash_getDimensions() {
        return new C.a(1,1)
    }
    function trash_getSpecialOverlayRen(e) {
        return on[e]
    }
    function trash_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_cutter_and_trash)
    }
    function _addAchievementReceiv(e) {
        if (e.root) {
            var t = e.components.ItemProcessor
              , r = t.tryTakeItem.bind(t);
            t.tryTakeItem = () => {
                var t = r(...arguments);
                return t && e.root.signals.achievementCheck.dispatch(Ne.trash1000, 1),
                t
            }
        }
    }
    function trash_setupEntityComponent(e) {
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: [{
                pos: new C.a(0,0),
                direction: C.d.top
            }, {
                pos: new C.a(0,0),
                direction: C.d.right
            }, {
                pos: new C.a(0,0),
                direction: C.d.bottom
            }, {
                pos: new C.a(0,0),
                direction: C.d.left
            }]
        })),
        e.addComponent(new be.ItemProcessorComponent({
            inputsPerCharge: 1,
            processorType: be.enumItemProcessorTypes.trash
        })),
        this.addAchievementReceiver(e)
    }
    var an = function(e) {
        function MetaTrashBuilding() {
            return e.call(this, "trash") || this
        }
        !function trash_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaTrashBuilding, e),
        MetaTrashBuilding.getAllVariantCombinations = trash_getAllVariantCombina;
        var t = MetaTrashBuilding.prototype;
        return t.getIsRotateable = trash_getIsRotateable,
        t.getSilhouetteColor = trash_getSilhouetteColor,
        t.getDimensions = trash_getDimensions,
        t.getSpecialOverlayRenderMatrix = trash_getSpecialOverlayRen,
        t.getIsUnlocked = trash_getIsUnlocked,
        t.addAchievementReceiver = _addAchievementReceiv,
        t.setupEntityComponents = trash_setupEntityComponent,
        MetaTrashBuilding
    }(L)
      , sn = [Ee.enumUndergroundBeltMode.sender, Ee.enumUndergroundBeltMode.receiver]
      , ln = {
        tier2: "tier2"
    }
      , cn = {
        [z]: 0,
        [ln.tier2]: 1
    }
      , un = ["#6d9dff", "#71ff9c"]
      , dn = [Object(p.q)([1, 1, 1, 0, 1, 0, 0, 1, 0]), Object(p.q)([0, 1, 0, 0, 1, 0, 1, 1, 1])];
    function underground_belt_getAllVariantCombina() {
        return [{
            internalId: 22,
            variant: z,
            rotationVariant: 0
        }, {
            internalId: 23,
            variant: z,
            rotationVariant: 1
        }, {
            internalId: 24,
            variant: ln.tier2,
            rotationVariant: 0
        }, {
            internalId: 25,
            variant: ln.tier2,
            rotationVariant: 1
        }]
    }
    function underground_belt_getSilhouetteColor(e, t) {
        return un[t]
    }
    function underground_belt_getFlipOrientationAf() {
        return !0
    }
    function underground_belt_getStayInPlacementMo() {
        return !0
    }
    function underground_belt_getSpecialOverlayRen(e, t, r, n) {
        return dn[t][e]
    }
    function underground_belt_getAdditionalStatist(e, t) {
        var r = g.e.undergroundBeltMaxTilesByTier[cn[t]]
          , n = e.hubGoals.getUndergroundBeltBaseSpeed()
          , i = [[U.a.ingame.buildingPlacement.infoTexts.range, U.a.ingame.buildingPlacement.infoTexts.tiles.replace("<x>", "" + r)]];
        return e.gameMode.throughputDoesNotMatter() ? i : (i.push([U.a.ingame.buildingPlacement.infoTexts.speed, Object(p.m)(n)]),
        i)
    }
    function underground_belt_getPreviewSprite(e, t) {
        var r = "";
        switch (t !== z && (r = "-" + t),
        sn[e]) {
        case Ee.enumUndergroundBeltMode.sender:
            return w.a.getSprite("sprites/buildings/underground_belt_entry" + r + ".png");
        case Ee.enumUndergroundBeltMode.receiver:
            return w.a.getSprite("sprites/buildings/underground_belt_exit" + r + ".png");
        default:
            window.assert(!1, "Invalid rotation variant")
        }
    }
    function underground_belt_getBlueprintSprite(e, t) {
        var r = "";
        switch (t !== z && (r = "-" + t),
        sn[e]) {
        case Ee.enumUndergroundBeltMode.sender:
            return w.a.getSprite("sprites/blueprints/underground_belt_entry" + r + ".png");
        case Ee.enumUndergroundBeltMode.receiver:
            return w.a.getSprite("sprites/blueprints/underground_belt_exit" + r + ".png");
        default:
            window.assert(!1, "Invalid rotation variant")
        }
    }
    function underground_belt_getSprite(e, t) {
        return this.getPreviewSprite(e, t)
    }
    function underground_belt_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_tunnel)
    }
    function underground_belt_setupEntityComponent(e) {
        e.addComponent(new he.ItemEjectorComponent({
            slots: []
        })),
        e.addComponent(new Ee.UndergroundBeltComponent({})),
        e.addComponent(new pe.ItemAcceptorComponent({
            slots: []
        }))
    }
    function underground_belt_computeOptimalDirect({root: e, tile: t, rotation: r, variant: n, layer: i}) {
        for (var o = C.c[r], a = C.f[o], s = cn[n], l = (r + 180) % 360, c = r, u = 1; u <= g.e.undergroundBeltMaxTilesByTier[s]; ++u) {
            t = t.addScalars(a.x, a.y);
            var d = e.map.getTileContent(t, "regular");
            if (d) {
                var p = d.components.UndergroundBelt;
                if (p && p.tier === s) {
                    var h = d.components.StaticMapEntity;
                    if (h.rotation === l) {
                        if (p.mode !== Ee.enumUndergroundBeltMode.sender)
                            break;
                        return {
                            rotation: l,
                            rotationVariant: 1,
                            connectedEntities: [d]
                        }
                    }
                    if (h.rotation === c) {
                        if (p.mode === Ee.enumUndergroundBeltMode.receiver)
                            return {
                                rotation: r,
                                rotationVariant: 0,
                                connectedEntities: [d]
                            };
                        break
                    }
                }
            }
        }
        return {
            rotation: r,
            rotationVariant: 0
        }
    }
    function underground_belt_updateVariants(e, t, r) {
        switch (e.components.UndergroundBelt.tier = cn[r],
        sn[t]) {
        case Ee.enumUndergroundBeltMode.sender:
            return e.components.UndergroundBelt.mode = Ee.enumUndergroundBeltMode.sender,
            e.components.ItemEjector.setSlots([]),
            void e.components.ItemAcceptor.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.bottom
            }]);
        case Ee.enumUndergroundBeltMode.receiver:
            return e.components.UndergroundBelt.mode = Ee.enumUndergroundBeltMode.receiver,
            e.components.ItemAcceptor.setSlots([]),
            void e.components.ItemEjector.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top
            }]);
        default:
            window.assert(!1, "Invalid rotation variant")
        }
    }
    var pn = function(e) {
        function MetaUndergroundBeltBuilding() {
            return e.call(this, "underground_belt") || this
        }
        !function buildings_underground_belt_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaUndergroundBeltBuilding, e),
        MetaUndergroundBeltBuilding.getAllVariantCombinations = underground_belt_getAllVariantCombina;
        var t = MetaUndergroundBeltBuilding.prototype;
        return t.getSilhouetteColor = underground_belt_getSilhouetteColor,
        t.getFlipOrientationAfterPlacement = underground_belt_getFlipOrientationAf,
        t.getStayInPlacementMode = underground_belt_getStayInPlacementMo,
        t.getSpecialOverlayRenderMatrix = underground_belt_getSpecialOverlayRen,
        t.getAdditionalStatistics = underground_belt_getAdditionalStatist,
        t.getAvailableVariants = function getAvailableVariants(t) {
            return t.hubGoals.isRewardUnlocked(Qe.reward_underground_belt_tier_2) ? [z, ln.tier2] : e.prototype.getAvailableVariants.call(this, t)
        }
        ,
        t.getPreviewSprite = underground_belt_getPreviewSprite,
        t.getBlueprintSprite = underground_belt_getBlueprintSprite,
        t.getSprite = underground_belt_getSprite,
        t.getIsUnlocked = underground_belt_getIsUnlocked,
        t.setupEntityComponents = underground_belt_setupEntityComponent,
        t.computeOptimalDirectionAndRotationVariantAtTile = underground_belt_computeOptimalDirect,
        t.updateVariants = underground_belt_updateVariants,
        MetaUndergroundBeltBuilding
    }(L)
      , hn = {
        rotater: "rotater",
        unstacker: "unstacker",
        stacker: "stacker",
        painter: "painter"
    }
      , gn = {
        [z]: lt.enumLogicGateType.cutter,
        [hn.rotater]: lt.enumLogicGateType.rotater,
        [hn.unstacker]: lt.enumLogicGateType.unstacker,
        [hn.stacker]: lt.enumLogicGateType.stacker,
        [hn.painter]: lt.enumLogicGateType.painter
    }
      , fn = {
        [z]: (new Br).getSilhouetteColor(),
        [hn.rotater]: (new Zr).getSilhouetteColor(),
        [hn.unstacker]: (new Xr).getSilhouetteColor(),
        [hn.stacker]: (new Xr).getSilhouetteColor(),
        [hn.painter]: (new qr).getSilhouetteColor()
    };
    function virtual_processor_getAllVariantCombina() {
        return [{
            internalId: 42,
            variant: z
        }, {
            internalId: 44,
            variant: hn.rotater
        }, {
            internalId: 45,
            variant: hn.unstacker
        }, {
            internalId: 50,
            variant: hn.stacker
        }, {
            internalId: 51,
            variant: hn.painter
        }]
    }
    function virtual_processor_getSilhouetteColor(e) {
        return fn[e]
    }
    function virtual_processor_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_virtual_processing)
    }
    function virtual_processor_getLayer() {
        return "wires"
    }
    function virtual_processor_getDimensions() {
        return new C.a(1,1)
    }
    function virtual_processor_getAvailableVariants() {
        return [z, hn.rotater, hn.stacker, hn.painter, hn.unstacker]
    }
    function virtual_processor_getRenderPins() {
        return !1
    }
    function virtual_processor_updateVariants(e, t, r) {
        var n = gn[r];
        e.components.LogicGate.type = n;
        var i = e.components.WiredPins;
        switch (n) {
        case lt.enumLogicGateType.cutter:
        case lt.enumLogicGateType.unstacker:
            i.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.left,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.right,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }]);
            break;
        case lt.enumLogicGateType.rotater:
            i.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }]);
            break;
        case lt.enumLogicGateType.stacker:
        case lt.enumLogicGateType.painter:
            i.setSlots([{
                pos: new C.a(0,0),
                direction: C.d.top,
                type: Re.enumPinSlotType.logicalEjector
            }, {
                pos: new C.a(0,0),
                direction: C.d.bottom,
                type: Re.enumPinSlotType.logicalAcceptor
            }, {
                pos: new C.a(0,0),
                direction: C.d.right,
                type: Re.enumPinSlotType.logicalAcceptor
            }]);
            break;
        default:
            window.assert("unknown logic gate type: " + n)
        }
    }
    function virtual_processor_setupEntityComponent(e) {
        e.addComponent(new Re.WiredPinsComponent({
            slots: []
        })),
        e.addComponent(new lt.LogicGateComponent({}))
    }
    var mn = function(e) {
        function MetaVirtualProcessorBuilding() {
            return e.call(this, "virtual_processor") || this
        }
        !function virtual_processor_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaVirtualProcessorBuilding, e),
        MetaVirtualProcessorBuilding.getAllVariantCombinations = virtual_processor_getAllVariantCombina;
        var t = MetaVirtualProcessorBuilding.prototype;
        return t.getSilhouetteColor = virtual_processor_getSilhouetteColor,
        t.getIsUnlocked = virtual_processor_getIsUnlocked,
        t.getLayer = virtual_processor_getLayer,
        t.getDimensions = virtual_processor_getDimensions,
        t.getAvailableVariants = virtual_processor_getAvailableVariants,
        t.getRenderPins = virtual_processor_getRenderPins,
        t.updateVariants = virtual_processor_updateVariants,
        t.setupEntityComponents = virtual_processor_setupEntityComponent,
        MetaVirtualProcessorBuilding
    }(L)
      , yn = Object(p.q)([0, 1, 0, 1, 1, 1, 0, 1, 0]);
    function wire_tunnel_getAllVariantCombina() {
        return [{
            internalId: 39,
            variant: z
        }]
    }
    function wire_tunnel_getSilhouetteColor() {
        return "#777a86"
    }
    function wire_tunnel_getIsUnlocked(e) {
        return e.hubGoals.isRewardUnlocked(Qe.reward_wires_painter_and_levers)
    }
    function wire_tunnel_getSpecialOverlayRen(e, t, r, n) {
        return yn[e]
    }
    function wire_tunnel_getIsRotateable() {
        return !1
    }
    function wire_tunnel_getDimensions() {
        return new C.a(1,1)
    }
    function wire_tunnel_getLayer() {
        return "wires"
    }
    function wire_tunnel_setupEntityComponent(e) {
        e.addComponent(new et.WireTunnelComponent)
    }
    var _n = function(e) {
        function MetaWireTunnelBuilding() {
            return e.call(this, "wire_tunnel") || this
        }
        !function wire_tunnel_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MetaWireTunnelBuilding, e),
        MetaWireTunnelBuilding.getAllVariantCombinations = wire_tunnel_getAllVariantCombina;
        var t = MetaWireTunnelBuilding.prototype;
        return t.getSilhouetteColor = wire_tunnel_getSilhouetteColor,
        t.getIsUnlocked = wire_tunnel_getIsUnlocked,
        t.getSpecialOverlayRenderMatrix = wire_tunnel_getSpecialOverlayRen,
        t.getIsRotateable = wire_tunnel_getIsRotateable,
        t.getDimensions = wire_tunnel_getDimensions,
        t.getLayer = wire_tunnel_getLayer,
        t.setupEntityComponents = wire_tunnel_setupEntityComponent,
        MetaWireTunnelBuilding
    }(L)
      , vn = Object(c.a)("building_registry");
    function registerBuildingVariants(e) {
        F.e.register(e),
        e.getAllVariantCombinations().forEach(t => {
            Object(O.e)(t.internalId, e, t.variant || z, t.rotationVariant || 0)
        }
        )
    }
    var bn = r(37)
      , wn = Object(c.a)("background_loader")
      , Sn = ["logo.png", ...["logo.png", "ui/changelog_skins/achievements.noinline.png"].filter(e => e.startsWith("ui/") && e.indexOf(".gif") < 0)]
      , Cn = [k.uiClick, k.uiError, k.dialogError, k.dialogOk, k.swishShow, k.swishHide]
      , An = mr
      , kn = ["logo.png", "ui/changelog_skins/achievements.noinline.png"].filter(e => e.indexOf(".gif") < 0)
      , En = [E.theme]
      , In = []
      , Bn = [...Object.values(k), ...Object.values(E)];
    function _BackgroundResourcesL(e) {
        this.app = e,
        this.registerReady = !1,
        this.mainMenuReady = !1,
        this.bareGameReady = !1,
        this.additionalReady = !1,
        this.signalMainMenuLoaded = new v.b,
        this.signalBareGameLoaded = new v.b,
        this.signalAdditionalLoaded = new v.b,
        this.numAssetsLoaded = 0,
        this.numAssetsToLoadTotal = 0,
        this.spritesLoaded = [],
        this.soundsLoaded = []
    }
    function _getNumAssetsLoaded() {
        return this.numAssetsLoaded
    }
    function _getNumAssetsTotal() {
        return this.numAssetsToLoadTotal
    }
    function _getPromiseForMainMen() {
        return this.mainMenuReady ? Promise.resolve() : new Promise(e => {
            this.signalMainMenuLoaded.add(e)
        }
        )
    }
    function _getPromiseForBareGam() {
        return this.bareGameReady ? Promise.resolve() : new Promise(e => {
            this.signalBareGameLoaded.add(e)
        }
        )
    }
    function _startLoading() {
        this.internalStartLoadingEssentialsForMainMenu()
    }
    function background_resources_loader_ref(e) {
        wn.warn("\u23f0 Failed to load essentials for main menu:", e)
    }
    function _internalStartLoading() {
        wn.log("\u23f0 Start load: main menu"),
        this.internalLoadSpritesAndSounds(Sn, Cn).catch(background_resources_loader_ref).then( () => {
            wn.log("\u23f0 Finish load: main menu"),
            this.mainMenuReady = !0,
            this.signalMainMenuLoaded.dispatch(),
            this.internalStartLoadingEssentialsForBareGame()
        }
        )
    }
    function background_resources_loader_ref2(e) {
        wn.warn("\u23f0 Failed to load essentials for bare game:", e)
    }
    function _internalStartLoading2() {
        wn.log("\u23f0 Start load: bare game"),
        this.internalLoadSpritesAndSounds(kn, En, An).then( () => this.internalPreloadCss("async-resources.scss")).catch(background_resources_loader_ref2).then( () => {
            wn.log("\u23f0 Finish load: bare game"),
            this.bareGameReady = !0,
            function initBuildingCodesAfterResourcesLoaded() {
                for (var e in vn.log("Propagating sprite cache"),
                O.b) {
                    var t = O.b[e];
                    t.sprite = t.metaInstance.getSprite(t.rotationVariant, t.variant),
                    t.blueprintSprite = t.metaInstance.getBlueprintSprite(t.rotationVariant, t.variant),
                    t.silhouetteColor = t.metaInstance.getSilhouetteColor(t.variant, t.rotationVariant)
                }
                Object(O.a)()
            }(),
            this.signalBareGameLoaded.dispatch(),
            this.internalStartLoadingAdditionalGameAssets()
        }
        )
    }
    function background_resources_loader_ref3(e) {
        wn.warn("\u23f0 Failed to load additional assets:", e)
    }
    function _internalStartLoading3() {
        var e = [];
        wn.log("\u23f0 Start load: additional assets (", e.length, "images)"),
        this.internalLoadSpritesAndSounds(In, Bn, e).catch(background_resources_loader_ref3).then( () => {
            wn.log("\u23f0 Finish load: additional assets"),
            this.additionalReady = !0,
            this.signalAdditionalLoaded.dispatch()
        }
        )
    }
    function _ref4(e, t) {
        var r = document.createElement("link");
        r.onload = e,
        r.onerror = t,
        r.setAttribute("rel", "stylesheet"),
        r.setAttribute("media", "all"),
        r.setAttribute("type", "text/css"),
        r.setAttribute("href", Object(bn.a)("async-resources.css")),
        document.head.appendChild(r)
    }
    function _internalPreloadCss(e) {
        return new Promise(_ref4)
    }
    function _internalLoadSpritesA(e, t, r=[]) {
        var n = this;
        this.numAssetsToLoadTotal = e.length + t.length + r.length,
        this.numAssetsLoaded = 0;
        var i = [];
        function _ref5() {
            n.numAssetsLoaded++
        }
        for (var o = function(e) {
            if (n.soundsLoaded.indexOf(t[e]) >= 0)
                return "continue";
            n.soundsLoaded.push(t[e]),
            i.push(n.app.sound.loadSound(t[e]).catch(r => {
                wn.warn("Failed to load sound:", t[e])
            }
            ).then(_ref5))
        }, a = 0; a < t.length; ++a)
            o(a);
        function _ref6() {
            n.numAssetsLoaded++
        }
        var s = function(t) {
            if (n.spritesLoaded.indexOf(e[t]) >= 0)
                return "continue";
            n.spritesLoaded.push(e[t]),
            i.push(w.a.preloadCSSSprite(e[t]).catch(r => {
                wn.warn("Failed to load css sprite:", e[t])
            }
            ).then(_ref6))
        };
        for (a = 0; a < e.length; ++a)
            s(a);
        function _ref7() {
            n.numAssetsLoaded++
        }
        var l = function(e) {
            var t = r[e];
            i.push(w.a.preloadAtlas(t).catch(e => {
                wn.warn("Failed to load atlas:", t.sourceFileName)
            }
            ).then(_ref7))
        };
        for (a = 0; a < r.length; ++a)
            l(a);
        return Promise.all(i).then( () => {
            this.numAssetsToLoadTotal = 0,
            this.numAssetsLoaded = 0
        }
        )
    }
    var xn = function() {
        var e = _BackgroundResourcesL.prototype;
        return e.getNumAssetsLoaded = _getNumAssetsLoaded,
        e.getNumAssetsTotal = _getNumAssetsTotal,
        e.getPromiseForMainMenu = _getPromiseForMainMen,
        e.getPromiseForBareGame = _getPromiseForBareGam,
        e.startLoading = _startLoading,
        e.internalStartLoadingEssentialsForMainMenu = _internalStartLoading,
        e.internalStartLoadingEssentialsForBareGame = _internalStartLoading2,
        e.internalStartLoadingAdditionalGameAssets = _internalStartLoading3,
        e.internalPreloadCss = _internalPreloadCss,
        e.internalLoadSpritesAndSounds = _internalLoadSpritesA,
        _BackgroundResourcesL
    }()
      , Pn = Object(c.a)("request_channel");
    function _RequestChannel() {
        this.pendingPromises = []
    }
    function _watch(e) {
        var t = !1
          , r = new Promise( (n, i) => {
            e.then(e => {
                Object(p.h)(this.pendingPromises, r),
                t ? Pn.warn("Not resolving because promise got cancelled") : n.call(this, e)
            }
            , e => {
                Object(p.h)(this.pendingPromises, r),
                t ? Pn.warn("Not rejecting because promise got cancelled") : i.call(this, e)
            }
            )
        }
        );
        return r.cancel = function() {
            t = !0
        }
        ,
        this.pendingPromises.push(r),
        r
    }
    function _cancelAll() {
        this.pendingPromises.length > 0 && Pn.log("Cancel all pending promises (", this.pendingPromises.length, ")");
        for (var e = 0; e < this.pendingPromises.length; ++e)
            this.pendingPromises[e].cancel();
        this.pendingPromises = []
    }
    var Tn = function() {
        var e = _RequestChannel.prototype;
        return e.watch = _watch,
        e.cancelAll = _cancelAll,
        _RequestChannel
    }()
      , Mn = Object(c.a)("game_state");
    function game_state_GameState(e) {
        this.key = e,
        this.stateManager = null,
        this.app = null,
        this.fadingOut = !1,
        this.clickDetectors = [],
        this.inputReciever = new Kt("state-" + e),
        this.inputReciever.backButton.add(this.onBackButton, this),
        this.asyncChannel = new Tn
    }
    function _getKey() {
        return this.key
    }
    function _getDivElement() {
        return document.getElementById("state_" + this.key)
    }
    function _moveToState(e, t={}, r=!1) {
        if (this.fadingOut)
            Mn.warn("Skipping move to '" + e + "' since already fading out");
        else {
            this.internalCleanUpClickDetectors();
            var n = this.internalGetFadeInOutTime()
              , i = !r && this.getHasFadeOut() && 0 !== n;
            Mn.log("Moving to", e, "(fading=", i, ")"),
            i ? (this.htmlElement.classList.remove("arrived"),
            this.fadingOut = !0,
            setTimeout( () => {
                this.stateManager.moveToState(e, t)
            }
            , n)) : this.stateManager.moveToState(e, t)
        }
    }
    function game_state_trackClicks(e, t, r={}) {
        var n = new Nt(e,r);
        n.click.add(t, this),
        this.clickDetectors.push(n)
    }
    function _cancelAllAsyncOperat() {
        this.asyncChannel.cancelAll()
    }
    function _onEnter(e) {}
    function _onLeave() {}
    function _onBeforeExit() {}
    function _onAppPause() {}
    function _onAppResume() {}
    function _onRender(e) {}
    function _onBackgroundTick(e) {}
    function _onResized(e, t) {}
    function _onBackButton() {}
    function _getInOutFadeTime() {
        return "".noArtificialDelays ? 0 : 200
    }
    function _getHasFadeIn() {
        return !0
    }
    function _getHasFadeOut() {
        return !0
    }
    function _getPauseOnFocusLost() {
        return !0
    }
    function _getInnerHTML() {
        return window.assert(!1, "abstract method called"),
        ""
    }
    function _getHasUnloadConfirma() {
        return !1
    }
    function _getThemeMusic() {
        return E.menu
    }
    function _internalRegisterCall(e, t) {
        this.stateManager = e,
        this.app = t
    }
    function _internalEnterCallbac(e, t=!0) {
        Object(c.c)(this.key, "#26a69a"),
        this.app.inputMgr.pushReciever(this.inputReciever),
        this.htmlElement = this.getDivElement(),
        this.htmlElement.classList.add("active"),
        Object(p.L)().then( () => {
            this.htmlElement && (this.htmlElement.classList.remove("fadingOut"),
            this.htmlElement.classList.remove("fadingIn"))
        }
        ),
        t && this.onEnter(e)
    }
    function _internalLeaveCallbac() {
        this.onLeave(),
        this.htmlElement.classList.remove("active"),
        this.app.inputMgr.popReciever(this.inputReciever),
        this.internalCleanUpClickDetectors(),
        this.asyncChannel.cancelAll()
    }
    function _internalOnBeforeExit() {
        this.onBeforeExit()
    }
    function _internalOnAppPauseCa() {
        this.onAppPause()
    }
    function _internalOnAppResumeC() {
        this.onAppResume()
    }
    function _internalCleanUpClick() {
        if (this.clickDetectors) {
            for (var e = 0; e < this.clickDetectors.length; ++e)
                this.clickDetectors[e].cleanup();
            this.clickDetectors = []
        }
    }
    function _internalGetFullHtml() {
        return this.getInnerHTML()
    }
    function _internalGetFadeInOut() {
        return this.getInOutFadeTime()
    }
    var On = function() {
        var e = game_state_GameState.prototype;
        return e.getKey = _getKey,
        e.getDivElement = _getDivElement,
        e.moveToState = _moveToState,
        e.trackClicks = game_state_trackClicks,
        e.cancelAllAsyncOperations = _cancelAllAsyncOperat,
        e.onEnter = _onEnter,
        e.onLeave = _onLeave,
        e.onBeforeExit = _onBeforeExit,
        e.onAppPause = _onAppPause,
        e.onAppResume = _onAppResume,
        e.onRender = _onRender,
        e.onBackgroundTick = _onBackgroundTick,
        e.onResized = _onResized,
        e.onBackButton = _onBackButton,
        e.getInOutFadeTime = _getInOutFadeTime,
        e.getHasFadeIn = _getHasFadeIn,
        e.getHasFadeOut = _getHasFadeOut,
        e.getPauseOnFocusLost = _getPauseOnFocusLost,
        e.getInnerHTML = _getInnerHTML,
        e.getHasUnloadConfirmation = _getHasUnloadConfirma,
        e.getThemeMusic = _getThemeMusic,
        e.internalRegisterCallback = _internalRegisterCall,
        e.internalEnterCallback = _internalEnterCallbac,
        e.internalLeaveCallback = _internalLeaveCallbac,
        e.internalOnBeforeExitCallback = _internalOnBeforeExit,
        e.internalOnAppPauseCallback = _internalOnAppPauseCa,
        e.internalOnAppResumeCallback = _internalOnAppResumeC,
        e.internalCleanUpClickDetectors = _internalCleanUpClick,
        e.internalGetFullHtml = _internalGetFullHtml,
        e.internalGetFadeInOutTime = _internalGetFadeInOut,
        game_state_GameState
    }()
      , zn = Object(c.a)("input_distributor");
    function _InputDistributor(e) {
        this.app = e,
        this.recieverStack = [],
        this.filters = [],
        this.keysDown = new Set,
        this.bindToEvents()
    }
    function _installFilter(e) {
        this.filters.push(e)
    }
    function _dismountFilter(e) {
        Object(p.g)(this.filters, e)
    }
    function input_distributor_ref(e) {
        return e.context
    }
    function _pushReciever(e) {
        this.isRecieverAttached(e) ? zn.error("Can not add reciever", e.context, "twice") : (this.recieverStack.push(e),
        this.recieverStack.length > 10 && zn.error("Reciever stack is huge, probably some dead receivers arround:", this.recieverStack.map(input_distributor_ref)))
    }
    function input_distributor_ref2(e) {
        return e.context
    }
    function _popReciever(e) {
        this.recieverStack.indexOf(e) < 0 ? zn.error("Can not pop reciever", e.context, "since its not contained") : (this.recieverStack[this.recieverStack.length - 1] !== e && zn.warn("Popping reciever", e.context, "which is not on top of the stack. Stack is: ", this.recieverStack.map(input_distributor_ref2)),
        Object(p.c)(this.recieverStack, e))
    }
    function _isRecieverAttached(e) {
        return this.recieverStack.indexOf(e) >= 0
    }
    function _isRecieverOnTop(e) {
        return this.isRecieverAttached(e) && this.recieverStack[this.recieverStack.length - 1] === e
    }
    function _makeSureAttachedAndO(e) {
        this.makeSureDetached(e),
        this.pushReciever(e)
    }
    function _makeSureDetached(e) {
        this.isRecieverAttached(e) && Object(p.c)(this.recieverStack, e)
    }
    function _destroyReceiver(e) {
        this.makeSureDetached(e),
        e.cleanup()
    }
    function _getTopReciever() {
        return this.recieverStack.length > 0 ? this.recieverStack[this.recieverStack.length - 1] : null
    }
    function _bindToEvents() {
        window.addEventListener("popstate", this.handleBackButton.bind(this), !1),
        document.addEventListener("backbutton", this.handleBackButton.bind(this), !1),
        window.addEventListener("keydown", this.handleKeyMouseDown.bind(this)),
        window.addEventListener("keyup", this.handleKeyMouseUp.bind(this)),
        window.addEventListener("mousedown", this.handleKeyMouseDown.bind(this)),
        window.addEventListener("mouseup", this.handleKeyMouseUp.bind(this)),
        window.addEventListener("blur", this.handleBlur.bind(this)),
        document.addEventListener("paste", this.handlePaste.bind(this))
    }
    function _forwardToReceiver(e, t=null) {
        for (var r = 0; r < this.filters.length; ++r)
            if (!this.filters[r](e))
                return v.a;
        var n = this.getTopReciever();
        if (n)
            return n[e].dispatch(t);
        zn.warn("Dismissing event because not reciever was found:", e)
    }
    function _handleBackButton(e) {
        e.preventDefault(),
        e.stopPropagation(),
        this.forwardToReceiver("backButton")
    }
    function _handleBlur() {
        this.forwardToReceiver("pageBlur", {}),
        this.keysDown.clear()
    }
    function _handlePaste(e) {
        this.forwardToReceiver("paste", e)
    }
    function _handleKeyMouseDown(e) {
        var t = e instanceof MouseEvent ? e.button + 1 : e.keyCode;
        (4 === t || 5 === t || 9 === t || 16 === t || 17 === t || 18 === t || t >= 112 && t < 122) && e.preventDefault();
        var r = !this.keysDown.has(t);
        if (this.keysDown.add(t),
        this.forwardToReceiver("keydown", {
            keyCode: t,
            shift: e.shiftKey,
            alt: e.altKey,
            ctrl: e.ctrlKey,
            initial: r,
            event: e
        }) !== v.a)
            return 27 === t ? (e.preventDefault(),
            e.stopPropagation(),
            this.forwardToReceiver("backButton")) : void 0
    }
    function _handleKeyMouseUp(e) {
        var t = e instanceof MouseEvent ? e.button + 1 : e.keyCode;
        this.keysDown.delete(t),
        this.forwardToReceiver("keyup", {
            keyCode: t,
            shift: e.shiftKey,
            alt: e.altKey
        })
    }
    var Ln = function() {
        var e = _InputDistributor.prototype;
        return e.installFilter = _installFilter,
        e.dismountFilter = _dismountFilter,
        e.pushReciever = _pushReciever,
        e.popReciever = _popReciever,
        e.isRecieverAttached = _isRecieverAttached,
        e.isRecieverOnTop = _isRecieverOnTop,
        e.makeSureAttachedAndOnTop = _makeSureAttachedAndO,
        e.makeSureDetached = _makeSureDetached,
        e.destroyReceiver = _destroyReceiver,
        e.getTopReciever = _getTopReciever,
        e.bindToEvents = _bindToEvents,
        e.forwardToReceiver = _forwardToReceiver,
        e.handleBackButton = _handleBackButton,
        e.handleBlur = _handleBlur,
        e.handlePaste = _handlePaste,
        e.handleKeyMouseDown = _handleKeyMouseDown,
        e.handleKeyMouseUp = _handleKeyMouseUp,
        _InputDistributor
    }()
      , Rn = Object(c.a)("state_manager");
    function _StateManager(e) {
        this.app = e,
        this.currentState = null,
        this.stateClasses = {}
    }
    function _register(e) {
        var t = (new e).getKey();
        this.stateClasses[t] = e
    }
    function _constructState(e) {
        if (this.stateClasses[e])
            return new this.stateClasses[e]
    }
    function state_manager_ref() {
        document.body.classList.add("arrived")
    }
    function state_manager_moveToState(e, t={}) {
        if (!h) {
            if (this.currentState) {
                if (e === this.currentState.getKey())
                    return Rn.error("State '" + e + "' is already active!"),
                    !1;
                for (var r in this.currentState.internalLeaveCallback(),
                this.currentState)
                    this.currentState.hasOwnProperty(r) && delete this.currentState[r];
                this.currentState = null
            }
            this.currentState = this.constructState(e),
            this.currentState.internalRegisterCallback(this, this.app),
            Object(p.C)(document.body),
            document.body.className = "gameState " + (this.currentState.getHasFadeIn() ? "" : "arrived"),
            document.body.id = "state_" + e,
            document.body.innerHTML = this.currentState.internalGetFullHtml();
            var n = document.createElement("div");
            n.classList.add("modalDialogParent"),
            document.body.appendChild(n);
            try {
                this.currentState.internalEnterCallback(t)
            } catch (i) {
                throw console.error(i),
                i
            }
            return this.app.sound.playThemeMusic(this.currentState.getThemeMusic()),
            this.currentState.onResized(this.app.screenWidth, this.app.screenHeight),
            this.app.analytics.trackStateEnter(e),
            window.history.pushState({
                key: e
            }, e),
            b.stateEntered.dispatch(this.currentState),
            Object(p.L)().then(state_manager_ref),
            !0
        }
        console.warn("Skipping state transition because of application crash")
    }
    function _getCurrentState() {
        return this.currentState
    }
    var Dn = function() {
        var e = _StateManager.prototype;
        return e.register = _register,
        e.constructState = _constructState,
        e.moveToState = state_manager_moveToState,
        e.getCurrentState = _getCurrentState,
        _StateManager
    }();
    function _AdProviderInterface(e) {
        this.app = e
    }
    function ad_provider_initialize() {
        return Promise.resolve()
    }
    function _getHasAds() {
        return window.assert(!1, "abstract method called"),
        !1
    }
    function _getCanShowVideoAd() {
        return window.assert(!1, "abstract method called"),
        !1
    }
    function _showVideoAd() {
        return Promise.resolve()
    }
    var Un = function() {
        var e = _AdProviderInterface.prototype;
        return e.initialize = ad_provider_initialize,
        e.getHasAds = _getHasAds,
        e.getCanShowVideoAd = _getCanShowVideoAd,
        e.showVideoAd = _showVideoAd,
        _AdProviderInterface
    }();
    function no_ad_provider_getHasAds() {
        return !1
    }
    function no_ad_provider_getCanShowVideoAd() {
        return !1
    }
    var Fn = function(e) {
        function NoAdProvider() {
            return e.apply(this, arguments) || this
        }
        !function no_ad_provider_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(NoAdProvider, e);
        var t = NoAdProvider.prototype;
        return t.getHasAds = no_ad_provider_getHasAds,
        t.getCanShowVideoAd = no_ad_provider_getCanShowVideoAd,
        NoAdProvider
    }(Un);
    function no_achievement_provider_hasAchievements() {
        return !1
    }
    function no_achievement_provider_hasLoaded() {
        return !1
    }
    function no_achievement_provider_initialize() {
        return Promise.resolve()
    }
    function no_achievement_provider_onLoad() {
        return Promise.reject(new Error("No achievements to load"))
    }
    function no_achievement_provider_activate() {
        return Promise.resolve()
    }
    var jn = function(e) {
        function NoAchievementProvider() {
            return e.apply(this, arguments) || this
        }
        !function no_achievement_provider_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(NoAchievementProvider, e);
        var t = NoAchievementProvider.prototype;
        return t.hasAchievements = no_achievement_provider_hasAchievements,
        t.hasLoaded = no_achievement_provider_hasLoaded,
        t.initialize = no_achievement_provider_initialize,
        t.onLoad = no_achievement_provider_onLoad,
        t.activate = no_achievement_provider_activate,
        NoAchievementProvider
    }(qe);
    function _AnalyticsInterface(e) {
        this.app = e
    }
    function analytics_initialize() {
        return window.assert(!1, "abstract method called"),
        Promise.reject()
    }
    function _setUserContext(e) {}
    function _trackUiClick(e) {}
    function _trackStateEnter(e) {}
    function _trackDecision(e) {}
    var Vn = function() {
        var e = _AnalyticsInterface.prototype;
        return e.initialize = analytics_initialize,
        e.setUserContext = _setUserContext,
        e.trackUiClick = _trackUiClick,
        e.trackStateEnter = _trackStateEnter,
        e.trackDecision = _trackDecision,
        _AnalyticsInterface
    }()
      , Hn = Object(c.a)("ga");
    function google_analytics_initialize() {
        return this.lastUiClickTracked = -1e3,
        setInterval( () => this.internalTrackAfkEvent(), 12e4),
        Promise.resolve()
    }
    function google_analytics_setUserContext(e) {
        try {
            window.gtag && (Hn.log("\u{1f4ca} Setting user context:", e),
            window.gtag("set", {
                player: e
            }))
        } catch (t) {
            Hn.warn("\u{1f4ca} Failed to set user context:", t)
        }
    }
    function google_analytics_trackStateEnter(e) {
        try {
            window.gtag && (Hn.log("\u{1f4ca} Tracking state enter:", e),
            window.gtag("event", "enter_state", {
                event_category: "ui",
                event_label: e,
                non_interaction: ["LoginState", "MainMenuState", "PreloadState", "RegisterState", "WatchAdState"].indexOf(e) >= 0
            }))
        } catch (t) {
            Hn.warn("\u{1f4ca} Failed to track state analytcis:", t)
        }
    }
    function google_analytics_trackDecision(e) {
        try {
            window.gtag && (Hn.log("\u{1f4ca} Tracking decision:", e),
            window.gtag("event", "decision", {
                event_category: "ui",
                event_label: e,
                non_interaction: !0
            }))
        } catch (t) {
            Hn.warn("\u{1f4ca} Failed to track state analytcis:", t)
        }
    }
    function google_analytics_trackUiClick(e) {
        var t = this.app.stateMgr.getCurrentState().key + ">" + e;
        try {
            window.gtag && (Hn.log("\u{1f4ca} Tracking click on:", t),
            window.gtag("event", "click", {
                event_category: "ui",
                event_label: t
            }))
        } catch (r) {
            Hn.warn("\u{1f4ca} Failed to track ui click:", r)
        }
    }
    function _internalTrackAfkEven() {
        window.gtag && window.gtag("event", "afk", {
            event_category: "ping",
            event_label: "timed"
        })
    }
    var Gn = function(e) {
        function GoogleAnalyticsImpl() {
            return e.apply(this, arguments) || this
        }
        !function google_analytics_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(GoogleAnalyticsImpl, e);
        var t = GoogleAnalyticsImpl.prototype;
        return t.initialize = google_analytics_initialize,
        t.setUserContext = google_analytics_setUserContext,
        t.trackStateEnter = google_analytics_trackStateEnter,
        t.trackDecision = google_analytics_trackDecision,
        t.trackUiClick = google_analytics_trackUiClick,
        t.internalTrackAfkEvent = _internalTrackAfkEven,
        GoogleAnalyticsImpl
    }(Vn);
    function sound_inheritsLoose(e, t) {
        e.prototype = Object.create(t.prototype),
        e.prototype.constructor = e,
        e.__proto__ = t
    }
    var {Howl: Wn, Howler: Nn} = r(217)
      , qn = Object(c.a)("sound/browser")
      , Kn = r(218);
    function _SoundSpritesContaine() {
        this.howl = null,
        this.loadingPromise = null
    }
    function sound_ref(e, t) {
        setTimeout(t, 5e3)
    }
    function sound_ref2(e, t) {
        qn.warn("SFX failed to play:", e, t)
    }
    function sound_load() {
        return this.loadingPromise ? this.loadingPromise : this.loadingPromise = Promise.race([new Promise(sound_ref), new Promise(e => {
            this.howl = new Wn({
                src: Object(bn.a)("res/sounds/sfx.mp3"),
                sprite: Kn.sprite,
                autoplay: !1,
                loop: !1,
                volume: 0,
                preload: !0,
                pool: 20,
                onload: () => {
                    e()
                }
                ,
                onloaderror: (t, r) => {
                    qn.warn("SFX failed to load:", t, r),
                    this.howl = null,
                    e()
                }
                ,
                onplayerror: sound_ref2
            })
        }
        )])
    }
    function sound_play(e, t) {
        if (this.howl) {
            var r = this.howl.play(t);
            this.howl.volume(e, r)
        }
    }
    function sound_deinitialize() {
        this.howl && (this.howl.unload(),
        this.howl = null)
    }
    var Qn = function() {
        var e = _SoundSpritesContaine.prototype;
        return e.load = sound_load,
        e.play = sound_play,
        e.deinitialize = sound_deinitialize,
        _SoundSpritesContaine
    }();
    function sound_load2() {
        return this.spriteContainer.load()
    }
    function sound_play2(e) {
        this.spriteContainer.play(e, this.key)
    }
    function sound_deinitialize2() {
        return this.spriteContainer.deinitialize()
    }
    var Yn = function(e) {
        function WrappedSoundInstance(t, r) {
            var n;
            return (n = e.call(this, r, "sfx.mp3") || this).spriteContainer = t,
            n
        }
        sound_inheritsLoose(WrappedSoundInstance, e);
        var t = WrappedSoundInstance.prototype;
        return t.load = sound_load2,
        t.play = sound_play2,
        t.deinitialize = sound_deinitialize2,
        WrappedSoundInstance
    }(I);
    function sound_ref3(e, t) {
        setTimeout(t, 5e3)
    }
    function _load3() {
        return Promise.race([new Promise(sound_ref3), new Promise( (e, t) => {
            this.howl = new Wn({
                src: Object(bn.a)("res/sounds/music/" + this.url + ".mp3"),
                autoplay: !1,
                loop: !0,
                html5: !0,
                volume: 1,
                preload: !0,
                pool: 2,
                onunlock: () => {
                    this.playing && (qn.log("Playing music after manual unlock"),
                    this.play())
                }
                ,
                onload: () => {
                    e()
                }
                ,
                onloaderror: (t, r) => {
                    qn.warn(this, "Music", this.url, "failed to load:", t, r),
                    this.howl = null,
                    e()
                }
                ,
                onplayerror: (e, t) => {
                    qn.warn(this, "Music", this.url, "failed to play:", e, t)
                }
            })
        }
        )])
    }
    function sound_stop() {
        this.howl && this.instance && (this.playing = !1,
        this.howl.pause(this.instance))
    }
    function sound_isPlaying() {
        return this.playing
    }
    function _play3(e) {
        this.howl && (this.playing = !0,
        this.howl.volume(e),
        this.instance ? this.howl.play(this.instance) : this.instance = this.howl.play())
    }
    function sound_setVolume(e) {
        this.howl && this.howl.volume(e)
    }
    function sound_deinitialize3() {
        this.howl && (this.howl.unload(),
        this.howl = null,
        this.instance = null)
    }
    var Jn = function(e) {
        function MusicInstance(t, r) {
            var n;
            return (n = e.call(this, t, r) || this).howl = null,
            n.instance = null,
            n.playing = !1,
            n
        }
        sound_inheritsLoose(MusicInstance, e);
        var t = MusicInstance.prototype;
        return t.load = _load3,
        t.stop = sound_stop,
        t.isPlaying = sound_isPlaying,
        t.play = _play3,
        t.setVolume = sound_setVolume,
        t.deinitialize = sound_deinitialize3,
        MusicInstance
    }(B);
    function browser_sound_initialize() {
        this.sfxHandle = new Qn;
        var e = Object.values(k);
        for (var t in e.forEach(e => {
            this.sounds[e] = new Yn(this.sfxHandle,e)
        }
        ),
        E) {
            var r = E[t]
              , n = new this.musicClass(t,r);
            this.music[r] = n
        }
        return this.musicVolume = this.app.settings.getAllSettings().musicVolume,
        this.soundVolume = this.app.settings.getAllSettings().soundVolume,
        Promise.resolve()
    }
    function sound_ref4() {
        return Nn.unload()
    }
    var Zn = function(e) {
        function SoundImplBrowser(t) {
            return Nn.mobileAutoEnable = !0,
            Nn.autoUnlock = !0,
            Nn.autoSuspend = !1,
            Nn.html5PoolSize = 20,
            Nn.pos(0, 0, 0),
            e.call(this, t, Yn, Jn) || this
        }
        sound_inheritsLoose(SoundImplBrowser, e);
        var t = SoundImplBrowser.prototype;
        return t.initialize = browser_sound_initialize,
        t.deinitialize = function deinitialize() {
            return e.prototype.deinitialize.call(this).then(sound_ref4)
        }
        ,
        SoundImplBrowser
    }(x)
      , Xn = r(219).parse(location.search)
      , $n = {
        embedProvider: null,
        fullVersion: !1,
        sandboxMode: !1
    };
    Xn.embed && ($n.embedProvider = Xn.embed),
    Xn.fullVersion,
    Xn.sandboxMode;
    var ei = 3e5
      , ti = Object(c.a)("gamedistribution");
    function gamedistribution_getHasAds() {
        return !0
    }
    function gamedistribution_getCanShowVideoAd() {
        return this.getHasAds() && !this.videoAdResolveFunction && performance.now() - this.lastVideoAdShowTime > ei
    }
    function gamedistribution_initialize() {
        if (!this.getHasAds())
            return Promise.resolve();
        ti.log("\u{1f3ac} Initializing gamedistribution ads");
        try {
            parent.postMessage("shapezio://gd.game_loaded", "*")
        } catch (e) {
            return Promise.reject("Frame communication not allowed")
        }
        return window.addEventListener("message", e => {
            "shapezio://gd.ad_started" === e.data ? console.log("\u{1f3ac} Got ad started callback") : "shapezio://gd.ad_finished" === e.data && (console.log("\u{1f3ac} Got ad finished callback"),
            this.videoAdResolveFunction && this.videoAdResolveFunction())
        }
        , !1),
        Promise.resolve()
    }
    function gamedistribution_showVideoAd() {
        this.lastVideoAdShowTime = performance.now(),
        console.log("\u{1f3ac} Gamedistribution: Start ad");
        try {
            parent.postMessage("shapezio://gd.show_ad", "*")
        } catch (e) {
            return ti.warn("\u{1f3ac} Failed to send message for gd ad:", e),
            Promise.resolve()
        }
        return document.body.classList.add("externalAdOpen"),
        ti.log("Set sound volume to 0"),
        this.app.sound.setMusicVolume(0),
        this.app.sound.setSoundVolume(0),
        new Promise(e => {
            this.videoAdResolveFunction = () => {
                this.videoAdResolveFunction = null,
                clearTimeout(this.videoAdResolveTimer),
                this.videoAdResolveTimer = null,
                this.lastVideoAdShowTime = performance.now(),
                e()
            }
            ,
            this.videoAdResolveTimer = setTimeout( () => {
                ti.warn("Automatically closing ad after not receiving callback"),
                this.videoAdResolveFunction && this.videoAdResolveFunction()
            }
            , 35e3)
        }
        ).catch(e => {
            ti.error(this, "Error while resolving video ad:", e)
        }
        ).then( () => {
            document.body.classList.remove("externalAdOpen"),
            ti.log("Restored sound volume"),
            this.app.sound.setMusicVolume(this.app.settings.getSetting("musicVolume")),
            this.app.sound.setSoundVolume(this.app.settings.getSetting("soundVolume"))
        }
        )
    }
    var ri = function(e) {
        function GamedistributionAdProvider(t) {
            var r;
            return (r = e.call(this, t) || this).videoAdResolveFunction = null,
            r.videoAdResolveTimer = null,
            r.lastVideoAdShowTime = -1e20,
            console.error("X"),
            r
        }
        !function gamedistribution_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(GamedistributionAdProvider, e);
        var t = GamedistributionAdProvider.prototype;
        return t.getHasAds = gamedistribution_getHasAds,
        t.getCanShowVideoAd = gamedistribution_getCanShowVideoAd,
        t.initialize = gamedistribution_initialize,
        t.showVideoAd = gamedistribution_showVideoAd,
        GamedistributionAdProvider
    }(Un);
    function wrapper_PlatformWrapperInter(e) {
        this.app = e
    }
    function wrapper_getId() {
        return window.assert(!1, "abstract method called"),
        "unknown-platform"
    }
    function _getUiScale() {
        return 1
    }
    function _getSupportsRestart() {
        return window.assert(!1, "abstract method called"),
        !1
    }
    function _getTouchPanStrength() {
        return 1
    }
    function wrapper_initialize() {
        return document.documentElement.classList.add("p-" + this.getId()),
        Promise.resolve()
    }
    function _initializeAdProvider() {
        return Promise.resolve()
    }
    function _getMinimumZoom() {
        return .1 * this.getScreenScale()
    }
    function _getMaximumZoom() {
        return 3.5 * this.getScreenScale()
    }
    function _getScreenScale() {
        return Math.min(window.innerWidth, window.innerHeight) / 1024
    }
    function _getSupportsAds() {
        return !1
    }
    function _openExternalLink(e, t=!1) {
        window.assert(!1, "abstract method called")
    }
    function _performRestart() {
        window.assert(!1, "abstract method called")
    }
    function _getSupportsFullscree() {
        return !1
    }
    function _setFullscreen(e) {
        window.assert(!1, "abstract method called")
    }
    function _getSupportsAppExit() {
        return !1
    }
    function _exitApp() {
        window.assert(!1, "abstract method called")
    }
    function _getSupportsKeyboard() {
        return !g.b
    }
    Object(c.a)("achievements/steam"),
    Ne.belt500Tiles,
    Ne.blueprint100k,
    Ne.blueprint1m,
    Ne.completeLvl26,
    Ne.cutShape,
    Ne.darkMode,
    Ne.destroy1000,
    Ne.irrelevantShape,
    Ne.level100,
    Ne.level50,
    Ne.logoBefore18,
    Ne.mam,
    Ne.mapMarkers15,
    Ne.openWires,
    Ne.oldLevel17,
    Ne.noBeltUpgradesUntilBp,
    Ne.noInverseRotater,
    Ne.paintShape,
    Ne.place5000Wires,
    Ne.placeBlueprint,
    Ne.placeBp1000,
    Ne.play1h,
    Ne.play10h,
    Ne.play20h,
    Ne.produceLogo,
    Ne.produceMsLogo,
    Ne.produceRocket,
    Ne.rotateShape,
    Ne.speedrunBp30,
    Ne.speedrunBp60,
    Ne.speedrunBp120,
    Ne.stack4Layers,
    Ne.stackShape,
    Ne.store100Unique,
    Ne.storeShape,
    Ne.throughputBp25,
    Ne.throughputBp50,
    Ne.throughputLogo25,
    Ne.throughputLogo50,
    Ne.throughputRocket10,
    Ne.throughputRocket20,
    Ne.trash1000,
    Ne.unlockWires,
    Ne.upgradesTier5,
    Ne.upgradesTier8;
    var ni = function() {
        var e = wrapper_PlatformWrapperInter.prototype;
        return e.getId = wrapper_getId,
        e.getUiScale = _getUiScale,
        e.getSupportsRestart = _getSupportsRestart,
        e.getTouchPanStrength = _getTouchPanStrength,
        e.initialize = wrapper_initialize,
        e.initializeAdProvider = _initializeAdProvider,
        e.getMinimumZoom = _getMinimumZoom,
        e.getMaximumZoom = _getMaximumZoom,
        e.getScreenScale = _getScreenScale,
        e.getSupportsAds = _getSupportsAds,
        e.openExternalLink = _openExternalLink,
        e.performRestart = _performRestart,
        e.getSupportsFullscreen = _getSupportsFullscree,
        e.setFullscreen = _setFullscreen,
        e.getSupportsAppExit = _getSupportsAppExit,
        e.exitApp = _exitApp,
        e.getSupportsKeyboard = _getSupportsKeyboard,
        wrapper_PlatformWrapperInter
    }()
      , ii = Object(c.a)("storage/browser")
      , oi = "local-storage-unavailable"
      , ai = "local-storage-no-write-permission"
      , si = () => 0;
    function browser_storage_ref(e, t) {
        window.localStorage || (alert("Local storage is not available! Please upgrade to a newer browser!"),
        t(oi));
        try {
            window.localStorage.setItem("storage_availability_test", "1"),
            window.localStorage.removeItem("storage_availability_test")
        } catch (r) {
            return alert("It seems we don't have permission to write to local storage! Please update your browsers settings or use a different browser!"),
            void t(ai)
        }
        setTimeout(e, 0)
    }
    function browser_storage_initialize() {
        return ii.error("Using localStorage, please update to a newer browser"),
        new Promise(browser_storage_ref)
    }
    function browser_storage_writeFileAsync(e, t) {
        return this.currentBusyFilename === e && ii.warn("Attempt to write", e, "while write process is not finished!"),
        this.currentBusyFilename = e,
        window.localStorage.setItem(e, t),
        new Promise( (e, t) => {
            setTimeout( () => {
                this.currentBusyFilename = !1,
                e()
            }
            , 0)
        }
        )
    }
    function browser_storage_readFileAsync(e) {
        return this.currentBusyFilename === e && ii.warn("Attempt to read", e, "while write progress on it is ongoing!"),
        new Promise( (t, r) => {
            var n = window.localStorage.getItem(e);
            n ? setTimeout( () => t(n), 0) : setTimeout((function _ref2() {
                return r(f)
            }
            ), si())
        }
        )
    }
    function browser_storage_deleteFileAsync(e) {
        return this.currentBusyFilename === e && ii.warn("Attempt to delete", e, "while write progres on it is ongoing!"),
        this.currentBusyFilename = e,
        new Promise( (t, r) => {
            window.localStorage.removeItem(e),
            setTimeout( () => {
                this.currentBusyFilename = !1,
                t()
            }
            , 0)
        }
        )
    }
    var li = function(e) {
        function StorageImplBrowser(t) {
            var r;
            return (r = e.call(this, t) || this).currentBusyFilename = !1,
            r
        }
        !function browser_storage_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(StorageImplBrowser, e);
        var t = StorageImplBrowser.prototype;
        return t.initialize = browser_storage_initialize,
        t.writeFileAsync = browser_storage_writeFileAsync,
        t.readFileAsync = browser_storage_readFileAsync,
        t.deleteFileAsync = browser_storage_deleteFileAsync,
        StorageImplBrowser
    }(m)
      , ci = Object(c.a)("platform/browser");
    function _detectStorageImpleme() {
        return new Promise(e => {
            if (ci.log("Detecting storage"),
            !window.indexedDB)
                return ci.log("Indexed DB not supported"),
                this.app.storage = new li(this.app),
                void e();
            var t;
            try {
                t = window.indexedDB.open("indexeddb_feature_detection", 1)
            } catch (r) {
                return ci.warn("Error while opening indexed db:", r),
                this.app.storage = new li(this.app),
                void e()
            }
            t.onerror = t => {
                ci.log("Indexed DB can *not* be accessed: ", t),
                ci.log("Using fallback to local storage"),
                this.app.storage = new li(this.app),
                e()
            }
            ,
            t.onsuccess = () => {
                ci.log("Indexed DB *can* be accessed"),
                this.app.storage = new _(this.app),
                e()
            }
        }
        )
    }
    function browser_wrapper_getId() {
        return "browser@" + this.embedProvider.id
    }
    function wrapper_getUiScale() {
        if (g.b)
            return 1;
        var e = Math.min(this.app.screenWidth, this.app.screenHeight);
        return Object(p.d)(e / 1e3 * 1.9, .1, 10)
    }
    function wrapper_getSupportsRestart() {
        return !0
    }
    function wrapper_getTouchPanStrength() {
        return g.b ? 1 : .5
    }
    function wrapper_openExternalLink(e, t=!1) {
        ci.log("Opening external:", e),
        window.open(e)
    }
    function wrapper_performRestart() {
        ci.log("Performing restart"),
        window.location.reload(!0)
    }
    function wrapper_ref(e) {
        setTimeout( () => e(!1), 30)
    }
    function wrapper_ref2(e) {
        fetch("https://googleads.g.doubleclick.net/pagead/id", {
            method: "HEAD",
            mode: "no-cors"
        }).then(t => {
            e(!1)
        }
        ).catch(t => {
            e(!0)
        }
        )
    }
    function _detectAdblock() {
        return Promise.race([new Promise(wrapper_ref), new Promise(wrapper_ref2)])
    }
    function wrapper_initializeAdProvider() {
        return this.detectAdblock().then(e => {
            if (!e) {
                var t = this.embedProvider.adProvider;
                return this.app.adProvider = new t(this.app),
                this.app.adProvider.initialize().catch(e => {
                    ci.error("Failed to initialize ad provider, disabling ads:", e),
                    this.app.adProvider = new Fn(this.app)
                }
                )
            }
            ci.log("Adblock detected")
        }
        )
    }
    function _initializeAchievemen() {
        return this.app.achievementProvider.initialize()
    }
    function wrapper_exitApp() {}
    var ui = function(e) {
        function PlatformWrapperImplBrowser() {
            return e.apply(this, arguments) || this
        }
        !function wrapper_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(PlatformWrapperImplBrowser, e);
        var t = PlatformWrapperImplBrowser.prototype;
        return t.initialize = function initialize() {
            if (this.recaptchaTokenCallback = null,
            this.embedProvider = {
                id: "shapezio-website",
                adProvider: Fn,
                iframed: !1,
                externalLinks: !0,
                iogLink: !0
            },
            $n.embedProvider) {
                var t = $n.embedProvider;
                switch (this.embedProvider.iframed = !0,
                this.embedProvider.iogLink = !1,
                t) {
                case "armorgames":
                    this.embedProvider.id = "armorgames";
                    break;
                case "iogames.space":
                    this.embedProvider.id = "iogames.space",
                    this.embedProvider.iogLink = !0;
                    break;
                case "miniclip":
                    this.embedProvider.id = "miniclip";
                    break;
                case "gamedistribution":
                    this.embedProvider.id = "gamedistribution",
                    this.embedProvider.externalLinks = !1,
                    this.embedProvider.adProvider = ri;
                    break;
                case "kongregate":
                    this.embedProvider.id = "kongregate";
                    break;
                case "crazygames":
                    this.embedProvider.id = "crazygames";
                    break;
                default:
                    ci.error("Got unsupported embed provider:", t)
                }
            }
            return ci.log("Embed provider:", this.embedProvider.id),
            this.detectStorageImplementation().then( () => this.initializeAdProvider()).then( () => this.initializeAchievementProvider()).then( () => e.prototype.initialize.call(this))
        }
        ,
        t.detectStorageImplementation = _detectStorageImpleme,
        t.getId = browser_wrapper_getId,
        t.getUiScale = wrapper_getUiScale,
        t.getSupportsRestart = wrapper_getSupportsRestart,
        t.getTouchPanStrength = wrapper_getTouchPanStrength,
        t.openExternalLink = wrapper_openExternalLink,
        t.performRestart = wrapper_performRestart,
        t.detectAdblock = _detectAdblock,
        t.initializeAdProvider = wrapper_initializeAdProvider,
        t.initializeAchievementProvider = _initializeAchievemen,
        t.exitApp = wrapper_exitApp,
        PlatformWrapperImplBrowser
    }(ni);
    Object(c.a)("electron-wrapper");
    var di = r(112)
      , pi = r(58)
      , hi = pi.Buffer.from && pi.Buffer.alloc && pi.Buffer.allocUnsafe && pi.Buffer.allocUnsafeSlow ? pi.Buffer.from : e => new pi.Buffer(e);
    let gi = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117];
    "undefined" != typeof Int32Array && (gi = new Int32Array(gi));
    var fi = function(e, t) {
        const r = (e, r) => t(e, r) >>> 0;
        return r.signed = t,
        r.unsigned = r,
        r.model = "crc-32",
        r
    }(0, (function(e, t) {
        pi.Buffer.isBuffer(e) || (e = hi(e));
        let r = 0 === t ? 0 : -1 ^ ~~t;
        for (let n = 0; n < e.length; n++) {
            const t = e[n];
            r = gi[255 & (r ^ t)] ^ r >>> 8
        }
        return -1 ^ r
    }
    ))
      , mi = r(28);
    function sha1(e) {
        return Object(di.createHash)().update(e).digest("hex")
    }
    var yi = "crc32".padEnd(32, "-");
    function computeCrc(e) {
        return yi + fi(e).toString(16).padStart(8, "0")
    }
    function _ExplainedResult(e=!0, t=null, r={}) {
        for (var n in this.result = e,
        this.reason = t,
        r)
            this[n] = r[n]
    }
    function _isGood() {
        return !!this.result
    }
    function _isBad() {
        return !this.result
    }
    function _good() {
        return new _ExplainedResult(!0)
    }
    function _bad(e, t) {
        return new _ExplainedResult(!1,e,t)
    }
    function _requireAll(...e) {
        for (var t = 0; t < e.length; ++t) {
            var r = e[t].call();
            if (!r.isGood())
                return r
        }
        return this.good()
    }
    var _i = function() {
        var e = _ExplainedResult.prototype;
        return e.isGood = _isGood,
        e.isBad = _isBad,
        _ExplainedResult.good = _good,
        _ExplainedResult.bad = _bad,
        _ExplainedResult.requireAll = _requireAll,
        _ExplainedResult
    }()
      , vi = r(145)
      , bi = r.n(vi)
      , wi = Object(c.a)("async_compression")
      , Si = String.fromCodePoint(1);
    function checkCryptPrefix(e) {
        try {
            return window.localStorage.setItem("prefix_test", e),
            window.localStorage.removeItem("prefix_test"),
            !0
        } catch (t) {
            return wi.warn("Prefix '" + e + "' not available"),
            !1
        }
    }
    function _AsynCompression() {
        this.worker = new bi.a,
        this.currentJobId = 1e3,
        this.currentJobs = {},
        this.worker.addEventListener("message", e => {
            var {jobId: t, result: r} = e.data
              , n = this.currentJobs[t];
            if (n) {
                var i = performance.now() - n.startTime;
                wi.log("Got job", t, "response within", Object(p.F)(i), "ms: ", r.length, "bytes");
                var o = n.resolver;
                delete this.currentJobs[t],
                o(r)
            } else
                wi.error("Failed to resolve job result, job id", t, "is not known")
        }
        ),
        this.worker.addEventListener("error", e => {
            wi.error("Got error from webworker:", e, "aborting all jobs");
            var t = [];
            for (var r in this.currentJobs)
                t.push(this.currentJobs[r].errorHandler);
            this.currentJobs = {};
            for (var n = 0; n < t.length; ++n)
                t[n](e)
        }
        )
    }
    function _compressObjectAsync(e) {
        return wi.log("Compressing object async (optimized)"),
        this.internalQueueJob("compressObject", {
            obj: e,
            compressionPrefix: Si
        })
    }
    function _internalQueueJob(e, t) {
        var r = ++this.currentJobId;
        return new Promise( (n, i) => {
            this.currentJobs[r] = {
                errorHandler: e => {
                    wi.error("Failed to compress job", r, ":", e),
                    i(e)
                }
                ,
                resolver: n,
                startTime: performance.now()
            },
            wi.log("Posting job", e, "/", r),
            this.worker.postMessage({
                jobId: r,
                job: e,
                data: t
            })
        }
        )
    }
    checkCryptPrefix(Si) || (wi.warn("Switching to basic prefix"),
    checkCryptPrefix(Si = " ") || wi.warn("Prefix not available, ls seems to be unavailable"));
    var Ci = new (function() {
        var e = _AsynCompression.prototype;
        return e.compressObjectAsync = _compressObjectAsync,
        e.internalQueueJob = _internalQueueJob,
        _AsynCompression
    }())
      , Ai = "!#%&'()*+,-./:;<=>?@[]^_`{|}~\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xffABCDEFGHIJKLMNOPQRSTUVWXYZ"
      , ki = {}
      , Ei = {};
    function compressInt(e) {
        var t = e += 1;
        if (ki[t])
            return ki[t];
        var r = "";
        do {
            r += Ai[e % Ai.length],
            e = Math.floor(e / Ai.length)
        } while (e > 0);
        return ki[t] = r
    }
    function decompressInt(e) {
        if (Ei[e])
            return Ei[e];
        for (var t = 0, r = (e = "" + e).length - 1; r >= 0; --r)
            t = t * Ai.length + Ai.indexOf(e.charAt(r));
        return t -= 1,
        Ei[e] = t
    }
    function indexMapToArray(e) {
        var t = new Array(e.size);
        return e.forEach( (e, r) => {
            t[e] = r
        }
        ),
        t
    }
    function compressObject(e) {
        var t = new Map
          , r = new Map
          , n = function compressObjectInternal(e, t, r) {
            if (Array.isArray(e)) {
                for (var n = [], i = 0; i < e.length; ++i)
                    n.push(compressObjectInternal(e[i], t, r));
                return n
            }
            if ("object" == typeof e && null !== e) {
                var o = {};
                for (var a in e) {
                    var s = t.get(a);
                    void 0 === s && (s = t.size,
                    t.set(a, s));
                    var l = e[a];
                    o[compressInt(s)] = compressObjectInternal(l, t, r)
                }
                return o
            }
            if ("string" == typeof e) {
                var c = r.get(e);
                return void 0 === c && (c = r.size,
                r.set(e, c)),
                compressInt(c)
            }
            return e
        }(e, t, r);
        return {
            keys: indexMapToArray(t),
            values: indexMapToArray(r),
            data: n
        }
    }
    function decompressObject(e) {
        if (e.keys && e.values && e.data) {
            var t = e.keys
              , r = e.values;
            return function decompressObjectInternal(e, t=[], r=[]) {
                if (Array.isArray(e)) {
                    for (var n = [], i = 0; i < e.length; ++i)
                        n.push(decompressObjectInternal(e[i], t, r));
                    return n
                }
                if ("object" == typeof e && null !== e) {
                    var o = {};
                    for (var a in e) {
                        var s = decompressInt(a)
                          , l = e[a];
                        o[t[s]] = decompressObjectInternal(l, t, r)
                    }
                    return o
                }
                return "string" == typeof e ? r[decompressInt(e)] : e
            }(e.data, t, r)
        }
        return e
    }
    var Ii = r(226)
      , Bi = Object(c.a)("read_write_proxy")
      , xi = Object(p.a)(g.e, ["file", "info"]);
    function read_write_proxy_ReadWriteProxy(e, t) {
        this.app = e,
        this.filename = t,
        this.currentData = null,
        this.debouncedWrite = Ii(this.doWriteAsync.bind(this), 50)
    }
    function _verify(e) {
        return window.assert(!1, "abstract method called"),
        _i.bad()
    }
    function _getDefaultData() {
        return window.assert(!1, "abstract method called"),
        {}
    }
    function _getCurrentVersion() {
        return window.assert(!1, "abstract method called"),
        0
    }
    function _migrate(e) {
        return window.assert(!1, "abstract method called"),
        _i.bad()
    }
    function _resetEverythingAsync() {
        return Bi.warn("Reset data to default"),
        this.currentData = this.getDefaultData(),
        this.writeAsync()
    }
    function _serializeObject(e) {
        var t = JSON.stringify(compressObject(e))
          , r = computeCrc(t + xi);
        return Si + Object(mi.compressX64)(r + t)
    }
    function _deserializeObject(e) {
        var t = Object(mi.decompressX64)(e.substr(Si.length));
        if (!t)
            throw new Error("bad-content / decompression-failed");
        if (t.length < 40)
            throw new Error("bad-content / payload-too-small");
        var r = t.substring(0, 40)
          , n = t.substr(40);
        if ((r.startsWith(yi) ? computeCrc(n + xi) : sha1(n + xi)) !== r)
            throw new Error("bad-content / checksum-mismatch");
        return decompressObject(JSON.parse(n))
    }
    function _writeAsync() {
        var e = this.internalVerifyEntry(this.currentData);
        return e.result ? this.debouncedWrite() : (Bi.error("Tried to write invalid data to", this.filename, "reason:", e.reason),
        Promise.reject(e.reason))
    }
    function _doWriteAsync() {
        return Ci.compressObjectAsync(this.currentData).then(e => this.app.storage.writeFileAsync(this.filename, e)).then( () => {
            Bi.log("\u{1f4c4} Wrote", this.filename)
        }
        ).catch(e => {
            throw Bi.error("Failed to write", this.filename, ":", e),
            e
        }
        )
    }
    function read_write_proxy_ref(e) {
        return e === f ? (Bi.log("File not found, using default data"),
        Promise.resolve(null)) : Promise.reject("file-error: " + e)
    }
    function read_write_proxy_ref2(e) {
        return decompressObject(e)
    }
    function _readAsync() {
        return this.app.storage.readFileAsync(this.filename).catch(read_write_proxy_ref).then(e => {
            if (null == e)
                return JSON.stringify(compressObject(this.getDefaultData()));
            if (e.startsWith(Si)) {
                var t = Object(mi.decompressX64)(e.substr(Si.length));
                if (!t)
                    return Promise.reject("bad-content / decompression-failed");
                if (t.length < 40)
                    return Promise.reject("bad-content / payload-too-small");
                var r = t.substring(0, 40)
                  , n = t.substr(40)
                  , i = r.startsWith(yi) ? computeCrc(n + xi) : sha1(n + xi);
                return i !== r ? Promise.reject("bad-content / checksum-mismatch: " + i + " vs " + r) : n
            }
            return Promise.reject("bad-content / missing-compression")
        }
        ).then(e => {
            try {
                return JSON.parse(e)
            } catch (t) {
                throw Bi.error("Failed to parse file content of", this.filename, ":", t, "(content was:", e, ")"),
                new Error("invalid-serialized-data")
            }
        }
        ).then(read_write_proxy_ref2).then(e => {
            var t = this.internalVerifyBasicStructure(e);
            return t.isGood() ? e : Promise.reject("verify-failed: " + t.reason)
        }
        ).then(e => {
            if (e.version > this.getCurrentVersion())
                return Promise.reject("stored-data-is-newer");
            if (e.version < this.getCurrentVersion()) {
                Bi.log("Trying to migrate data object from version", e.version, "to", this.getCurrentVersion());
                var t = this.migrate(e);
                if (t.isBad())
                    return Promise.reject("migration-failed: " + t.reason)
            }
            return e
        }
        ).then(e => {
            var t = this.internalVerifyEntry(e);
            return t.result ? e : (Bi.error("Read invalid data from", this.filename, "reason:", t.reason, "contents:", e),
            Promise.reject("invalid-data: " + t.reason))
        }
        ).then(e => (this.currentData = e,
        Bi.log("\u{1f4c4} Read data with version", this.currentData.version, "from", this.filename),
        e)).catch(e => Promise.reject("Failed to read " + this.filename + ": " + e))
    }
    function _deleteAsync() {
        return this.app.storage.deleteFileAsync(this.filename)
    }
    function _internalVerifyBasicS(e) {
        return e ? !Number.isInteger(e.version) || e.version < 0 ? _i.bad("Data has invalid version: " + e.version + " (expected " + this.getCurrentVersion() + ")") : _i.good() : _i.bad("Data is empty")
    }
    function _internalVerifyEntry(e) {
        if (e.version !== this.getCurrentVersion())
            return _i.bad("Version mismatch, got " + e.version + " and expected " + this.getCurrentVersion());
        var t = this.internalVerifyBasicStructure(e);
        return t.isGood() ? this.verify(e) : t
    }
    var Pi = function() {
        var e = read_write_proxy_ReadWriteProxy.prototype;
        return e.verify = _verify,
        e.getDefaultData = _getDefaultData,
        e.getCurrentVersion = _getCurrentVersion,
        e.migrate = _migrate,
        e.resetEverythingAsync = _resetEverythingAsync,
        read_write_proxy_ReadWriteProxy.serializeObject = _serializeObject,
        read_write_proxy_ReadWriteProxy.deserializeObject = _deserializeObject,
        e.writeAsync = _writeAsync,
        e.doWriteAsync = _doWriteAsync,
        e.readAsync = _readAsync,
        e.deleteAsync = _deleteAsync,
        e.internalVerifyBasicStructure = _internalVerifyBasicS,
        e.internalVerifyEntry = _internalVerifyEntry,
        read_write_proxy_ReadWriteProxy
    }();
    function setting_types_inheritsLoose(e, t) {
        e.prototype = Object.create(t.prototype),
        e.prototype.constructor = e,
        e.__proto__ = t
    }
    var Ti = Object(c.a)("setting_types");
    function _BaseSetting4(e, t, r, n=null) {
        this.id = e,
        this.categoryId = t,
        this.changeCb = r,
        this.enabledCb = n,
        this.app = null,
        this.element = null,
        this.dialogs = null
    }
    function _apply(e, t) {
        this.changeCb && this.changeCb(e, t)
    }
    function _bind(e, t, r) {
        this.app = e,
        this.element = t,
        this.dialogs = r
    }
    function setting_types_getHtml(e) {
        return window.assert(!1, "abstract method called"),
        ""
    }
    function _getIsAvailable(e) {
        return !this.enabledCb || this.enabledCb(e)
    }
    function _syncValueToElement() {
        window.assert(!1, "abstract method called")
    }
    function _modify() {
        window.assert(!1, "abstract method called")
    }
    function _showRestartRequiredD() {
        var {restart: e} = this.dialogs.showInfo(U.a.dialogs.restartRequired.title, U.a.dialogs.restartRequired.text, this.app.platformWrapper.getSupportsRestart() ? ["later:grey", "restart:misc"] : ["ok:good"]);
        e && e.add( () => this.app.platformWrapper.performRestart())
    }
    function _validate(e) {
        return window.assert(!1, "abstract method called"),
        !1
    }
    var Mi = function() {
        var e = _BaseSetting4.prototype;
        return e.apply = _apply,
        e.bind = _bind,
        e.getHtml = setting_types_getHtml,
        e.getIsAvailable = _getIsAvailable,
        e.syncValueToElement = _syncValueToElement,
        e.modify = _modify,
        e.showRestartRequiredDialog = _showRestartRequiredD,
        e.validate = _validate,
        _BaseSetting4
    }();
    function setting_types_ref() {
        return null
    }
    function setting_types_getHtml2(e) {
        var t = this.getIsAvailable(e);
        return '<div class="setting cardbox ' + (t ? "enabled" : "disabled") + '">' + (t ? "" : '<span class="standaloneOnlyHint">' + U.a.demo.settingNotAvailable + "</span>") + '\n                <div class="row">\n                    <label>' + U.a.settings.labels[this.id].title + '</label>\n                    <div class="value enum" data-setting="' + this.id + '"></div>\n                </div>\n                <div class="desc">\n                    ' + U.a.settings.labels[this.id].description + "\n                </div>\n            </div>"
    }
    function _validate2(e) {
        if (e === this.magicValue)
            return !0;
        var t = this.options.map(e => this.valueGetter(e));
        return !(t.indexOf(e) < 0 && (Ti.error("Value '" + e + "' is not contained in available values:", t, "of", this.id),
        1))
    }
    function _syncValueToElement2() {
        var e = this.app.settings.getSetting(this.id)
          , t = "???"
          , r = this.options.find(t => this.valueGetter(t) === e);
        r ? t = this.textGetter(r) : Ti.warn("Setting value", e, "not found for", this.id, "!"),
        this.element.innerText = t
    }
    function _modify2() {
        var {optionSelected: e} = this.dialogs.showOptionChooser(U.a.settings.labels[this.id].title, {
            active: this.app.settings.getSetting(this.id),
            options: this.options.map(e => ({
                value: this.valueGetter(e),
                text: this.textGetter(e),
                desc: this.descGetter(e),
                iconPrefix: this.iconPrefix
            }))
        });
        e.add(e => {
            this.app.settings.updateSetting(this.id, e),
            this.syncValueToElement(),
            this.restartRequired && this.showRestartRequiredDialog(),
            this.changeCb && this.changeCb(this.app, e)
        }
        , this)
    }
    var Oi = function(e) {
        function EnumSetting(t, {options: r, valueGetter: n, textGetter: i, descGetter: o=null, category: a, restartRequired: s=!0, iconPrefix: l=null, changeCb: c=null, magicValue: u=null, enabledCb: d=null}) {
            var p;
            return (p = e.call(this, t, a, c, d) || this).options = r,
            p.valueGetter = n,
            p.textGetter = i,
            p.descGetter = o || setting_types_ref,
            p.restartRequired = s,
            p.iconPrefix = l,
            p.magicValue = u,
            p
        }
        setting_types_inheritsLoose(EnumSetting, e);
        var t = EnumSetting.prototype;
        return t.getHtml = setting_types_getHtml2,
        t.validate = _validate2,
        t.syncValueToElement = _syncValueToElement2,
        t.modify = _modify2,
        EnumSetting
    }(Mi);
    function setting_types_getHtml3(e) {
        var t = this.getIsAvailable(e);
        return '<div class="setting cardbox ' + (t ? "enabled" : "disabled") + '">' + (t ? "" : '<span class="standaloneOnlyHint">' + U.a.demo.settingNotAvailable + "</span>") + '\n\n            <div class="row">\n                <label>' + U.a.settings.labels[this.id].title + '</label>\n                <div class="value checkbox checked" data-setting="' + this.id + '">\n                <span class="knob"></span>\n                </div>\n            </div>\n            <div class="desc">\n                ' + U.a.settings.labels[this.id].description + "\n            </div>\n        </div>"
    }
    function _syncValueToElement3() {
        var e = this.app.settings.getSetting(this.id);
        this.element.classList.toggle("checked", e)
    }
    function _modify3() {
        var e = !this.app.settings.getSetting(this.id);
        this.app.settings.updateSetting(this.id, e),
        this.syncValueToElement(),
        this.changeCb && this.changeCb(this.app, e)
    }
    function _validate3(e) {
        return "boolean" == typeof e
    }
    var zi = function(e) {
        function BoolSetting(t, r, n=null, i=null) {
            return e.call(this, t, r, n, i) || this
        }
        setting_types_inheritsLoose(BoolSetting, e);
        var t = BoolSetting.prototype;
        return t.getHtml = setting_types_getHtml3,
        t.syncValueToElement = _syncValueToElement3,
        t.modify = _modify3,
        t.validate = _validate3,
        BoolSetting
    }(Mi);
    function setting_types_getHtml4(e) {
        var t = this.getIsAvailable(e);
        return '<div class="setting cardbox ' + (t ? "enabled" : "disabled") + '">' + (t ? "" : '<span class="standaloneOnlyHint">' + U.a.demo.settingNotAvailable + "</span>") + '\n\n            <div class="row">\n                <label>' + U.a.settings.labels[this.id].title + '</label>\n                <div class="value rangeInputContainer noPressEffect" data-setting="' + this.id + '">\n                    <label>' + this.defaultValue + '</label>\n                    <input class="rangeInput" type="range" value="' + this.defaultValue + '" min="' + this.minValue + '" max="' + this.maxValue + '" step="' + this.stepSize + '">\n                </div>\n            </div>\n            <div class="desc">\n                ' + U.a.settings.labels[this.id].description + "\n            </div>\n        </div>"
    }
    function _bind2(e, t, r) {
        this.app = e,
        this.element = t,
        this.dialogs = r,
        this.getRangeInputElement().addEventListener("input", () => {
            this.updateLabels()
        }
        ),
        this.getRangeInputElement().addEventListener("change", () => {
            this.modify()
        }
        )
    }
    function _syncValueToElement4() {
        var e = this.app.settings.getSetting(this.id);
        this.setElementValue(e)
    }
    function _setElementValue(e) {
        var t = this.getRangeInputElement()
          , r = this.element.querySelector("label");
        t.value = String(e),
        r.innerHTML = U.a.settings.rangeSliderPercentage.replace("<amount>", String(Math.round(100 * e)))
    }
    function _updateLabels() {
        var e = Number(this.getRangeInputElement().value);
        this.setElementValue(e)
    }
    function _getRangeInputElement() {
        return this.element.querySelector("input.rangeInput")
    }
    function _modify4() {
        var e = this.getRangeInputElement()
          , t = Math.round(100 * Number(e.value)) / 100;
        this.app.settings.updateSetting(this.id, t),
        this.syncValueToElement(),
        console.log("SET", t),
        this.changeCb && this.changeCb(this.app, t)
    }
    function _validate4(e) {
        return "number" == typeof e && e >= this.minValue && e <= this.maxValue
    }
    var Li = function(e) {
        function RangeSetting(t, r, n=null, i=1, o=0, a=1, s=1e-4, l=null) {
            var c;
            return (c = e.call(this, t, r, n, l) || this).defaultValue = i,
            c.minValue = o,
            c.maxValue = a,
            c.stepSize = s,
            c
        }
        setting_types_inheritsLoose(RangeSetting, e);
        var t = RangeSetting.prototype;
        return t.getHtml = setting_types_getHtml4,
        t.bind = _bind2,
        t.syncValueToElement = _syncValueToElement4,
        t.setElementValue = _setElementValue,
        t.updateLabels = _updateLabels,
        t.getRangeInputElement = _getRangeInputElement,
        t.modify = _modify4,
        t.validate = _validate4,
        RangeSetting
    }(Mi)
      , Ri = Object(c.a)("application_settings")
      , Di = {
        general: "general",
        userInterface: "userInterface",
        performance: "performance",
        advanced: "advanced"
    }
      , Ui = [{
        id: "super_small",
        size: .6
    }, {
        id: "small",
        size: .8
    }, {
        id: "regular",
        size: 1
    }, {
        id: "large",
        size: 1.05
    }, {
        id: "huge",
        size: 1.1
    }]
      , Fi = [{
        id: "super_slow",
        scale: .25
    }, {
        id: "slow",
        scale: .5
    }, {
        id: "regular",
        scale: 1
    }, {
        id: "fast",
        scale: 2
    }, {
        id: "super_fast",
        scale: 4
    }]
      , ji = [{
        id: "super_slow",
        multiplier: .25
    }, {
        id: "slow",
        multiplier: .5
    }, {
        id: "regular",
        multiplier: 1
    }, {
        id: "fast",
        multiplier: 2
    }, {
        id: "super_fast",
        multiplier: 4
    }, {
        id: "extremely_fast",
        multiplier: 8
    }]
      , Vi = [{
        id: "one_minute",
        seconds: 60
    }, {
        id: "two_minutes",
        seconds: 120
    }, {
        id: "five_minutes",
        seconds: 300
    }, {
        id: "ten_minutes",
        seconds: 600
    }, {
        id: "twenty_minutes",
        seconds: 1200
    }, {
        id: "disabled",
        seconds: null
    }]
      , Hi = ["30", "60", "120", "180", "240"];
    function application_settings_ref(e) {
        return e
    }
    function application_settings_ref2(e) {
        return D.a[e].name
    }
    function application_settings_ref3(e, t) {
        return null
    }
    function application_settings_ref4(e, t) {
        return e.size - t.size
    }
    function application_settings_ref5(e) {
        return e.id
    }
    function application_settings_ref6(e) {
        return U.a.settings.labels.uiScale.scales[e.id]
    }
    function application_settings_ref7(e, t) {
        return e.updateAfterUiScaleChanged()
    }
    function _ref8(e, t) {
        return e.sound.setSoundVolume(t)
    }
    function _ref9(e, t) {
        return e.sound.setMusicVolume(t)
    }
    function _ref10(e, t) {
        e.platformWrapper.getSupportsFullscreen() && e.platformWrapper.setFullscreen(t)
    }
    function _ref11(e) {
        return e.restrictionMgr.getHasExtendedSettings()
    }
    function _ref12(e, t) {
        return null
    }
    function _ref13(e, t) {}
    function _ref14(e) {
        return e
    }
    function _ref15(e) {
        return U.a.settings.labels.theme.themes[e]
    }
    function _ref16(e, t) {
        Object(J.c)(t),
        document.documentElement.setAttribute("data-theme", t)
    }
    function _ref17(e) {
        return e.restrictionMgr.getHasExtendedSettings()
    }
    function _ref18(e) {
        return e.id
    }
    function _ref19(e) {
        return U.a.settings.labels.autosaveInterval.intervals[e.id]
    }
    function _ref20(e, t) {
        return null
    }
    function _ref21(e, t) {
        return e.scale - t.scale
    }
    function _ref22(e) {
        return e.id
    }
    function _ref23(e) {
        return U.a.settings.labels.scrollWheelSensitivity.sensitivity[e.id]
    }
    function _ref24(e, t) {
        return e.updateAfterUiScaleChanged()
    }
    function _ref25(e, t) {
        return e.multiplier - t.multiplier
    }
    function _ref26(e) {
        return e.id
    }
    function _ref27(e) {
        return U.a.settings.labels.movementSpeed.speeds[e.id]
    }
    function _ref28(e, t) {}
    function _ref29(e, t) {}
    function _ref30(e, t) {}
    function _ref31(e, t) {}
    function _ref32(e, t) {}
    function _ref33(e, t) {}
    function _ref34(e, t) {}
    function _ref35(e, t) {}
    function _ref36(e, t) {}
    function _ref37(e, t) {}
    function _ref38(e, t) {}
    function _ref39(e, t) {}
    function _ref40(e, t) {}
    function _ref41() {
        return null
    }
    function _ref42(e) {
        return e
    }
    function _ref43(e) {
        return U.a.settings.tickrateHz.replace("<amount>", e)
    }
    function _ref44(e, t) {}
    function _ref45(e) {
        return e.restrictionMgr.getHasExtendedSettings()
    }
    function _ref46(e, t) {}
    function _ref47(e, t) {}
    function _ref48(e, t) {}
    function _ref49(e, t) {}
    var Gi = function SettingsStorage() {
        this.uiScale = "regular",
        this.fullscreen = !1,
        this.soundVolume = 1,
        this.musicVolume = 1,
        this.theme = "light",
        this.refreshRate = "60",
        this.scrollWheelSensitivity = "regular",
        this.movementSpeed = "regular",
        this.language = "auto-detect",
        this.autosaveInterval = "two_minutes",
        this.alwaysMultiplace = !1,
        this.shapeTooltipAlwaysOn = !1,
        this.offerHints = !0,
        this.enableTunnelSmartplace = !0,
        this.vignette = !0,
        this.compactBuildingInfo = !1,
        this.disableCutDeleteWarnings = !1,
        this.rotationByBuilding = !0,
        this.clearCursorOnDeleteWhilePlacing = !0,
        this.displayChunkBorders = !1,
        this.pickMinerOnPatch = !0,
        this.enableMousePan = !0,
        this.enableColorBlindHelper = !1,
        this.lowQualityMapResources = !1,
        this.disableTileGrid = !1,
        this.lowQualityTextures = !1,
        this.simplifiedBelts = !1,
        this.zoomToCursor = !0,
        this.mapResourcesScale = .5,
        this.keybindingOverrides = {}
    };
    function application_settings_initialize() {
        return this.readAsync().then( () => {
            for (var e = this.getAllSettings(), t = 0; t < this.settingHandles.length; ++t) {
                var r = this.settingHandles[t];
                r.apply(this.app, e[r.id])
            }
        }
        ).then( () => this.writeAsync())
    }
    function _save() {
        return this.writeAsync()
    }
    function _getSettingHandleById(e) {
        return this.settingHandles.find(t => t.id === e)
    }
    function _getAllSettings() {
        return this.currentData.settings
    }
    function _getSetting(e) {
        return this.getAllSettings()[e]
    }
    function _getInterfaceScaleId() {
        return this.currentData ? this.getAllSettings().uiScale : "regular"
    }
    function _getDesiredFps() {
        return parseInt(this.getAllSettings().refreshRate)
    }
    function _getInterfaceScaleVal() {
        for (var e = this.getInterfaceScaleId(), t = 0; t < Ui.length; ++t)
            if (Ui[t].id === e)
                return Ui[t].size;
        return Ri.error("Unknown ui scale id:", e),
        1
    }
    function _getScrollWheelSensit() {
        for (var e = this.getAllSettings().scrollWheelSensitivity, t = 0; t < Fi.length; ++t)
            if (Fi[t].id === e)
                return Fi[t].scale;
        return Ri.error("Unknown scroll wheel sensitivity id:", e),
        1
    }
    function _getMovementSpeed() {
        for (var e = this.getAllSettings().movementSpeed, t = 0; t < ji.length; ++t)
            if (ji[t].id === e)
                return ji[t].multiplier;
        return Ri.error("Unknown movement speed id:", e),
        1
    }
    function _getAutosaveIntervalS() {
        for (var e = this.getAllSettings().autosaveInterval, t = 0; t < Vi.length; ++t)
            if (Vi[t].id === e)
                return Vi[t].seconds;
        return Ri.error("Unknown autosave interval id:", e),
        120
    }
    function _getIsFullScreen() {
        return this.getAllSettings().fullscreen
    }
    function _getKeybindingOverrid() {
        return this.getAllSettings().keybindingOverrides
    }
    function _getLanguage() {
        return this.getAllSettings().language
    }
    function _updateLanguage(e) {
        return this.updateSetting("language", e)
    }
    function _updateSetting(e, t) {
        var r = this.getSettingHandleById(e);
        return r || window.assert(!1, "Unknown setting: " + e),
        r.validate(t) || window.assert(!1, "Bad setting value: " + e),
        this.getAllSettings()[e] = t,
        r.changeCb && r.changeCb(this.app, t),
        this.writeAsync()
    }
    function _updateKeybindingOver(e, t) {
        return this.getAllSettings().keybindingOverrides[e] = t,
        this.writeAsync()
    }
    function _resetKeybindingOverr(e) {
        return delete this.getAllSettings().keybindingOverrides[e],
        this.writeAsync()
    }
    function _resetKeybindingOverr2() {
        return this.getAllSettings().keybindingOverrides = {},
        this.writeAsync()
    }
    function application_settings_verify(e) {
        if (!e.settings)
            return _i.bad("missing key 'settings'");
        if ("object" != typeof e.settings)
            return _i.bad("Bad settings object");
        var t = e.settings;
        J.b[t.theme] || (console.warn("Resetting theme because its no longer available: " + t.theme),
        t.theme = "light");
        for (var r = 0; r < this.settingHandles.length; ++r) {
            var n = this.settingHandles[r]
              , i = t[n.id];
            if (!n.validate(i))
                return _i.bad("Bad setting value for " + n.id + ": " + i + " @ settings version " + e.version + " (latest is " + this.getCurrentVersion() + ")")
        }
        return _i.good()
    }
    function application_settings_getDefaultData() {
        return {
            version: this.getCurrentVersion(),
            settings: new Gi
        }
    }
    function application_settings_getCurrentVersion() {
        return 31
    }
    function application_settings_migrate(e) {
        return e.version < 5 ? (e.settings = new Gi,
        e.version = this.getCurrentVersion(),
        _i.good()) : (e.version < 6 && (e.settings.alwaysMultiplace = !1,
        e.version = 6),
        e.version < 7 && (e.settings.offerHints = !0,
        e.version = 7),
        e.version < 8 && (e.settings.scrollWheelSensitivity = "regular",
        e.version = 8),
        e.version < 9 && (e.settings.language = "auto-detect",
        e.version = 9),
        e.version < 10 && (e.settings.movementSpeed = "regular",
        e.version = 10),
        e.version < 11 && (e.settings.enableTunnelSmartplace = !0,
        e.version = 11),
        e.version < 12 && (e.settings.vignette = !0,
        e.version = 12),
        e.version < 13 && (e.settings.compactBuildingInfo = !1,
        e.version = 13),
        e.version < 14 && (e.settings.disableCutDeleteWarnings = !1,
        e.version = 14),
        e.version < 15 && (e.settings.autosaveInterval = "two_minutes",
        e.version = 15),
        e.version < 16 && (e.settings.enableTunnelSmartplace = !0,
        e.version = 16),
        e.version < 17 && (e.settings.enableColorBlindHelper = !1,
        e.version = 17),
        e.version < 18 && (e.settings.rotationByBuilding = !0,
        e.version = 18),
        e.version < 19 && (e.settings.lowQualityMapResources = !1,
        e.version = 19),
        e.version < 20 && (e.settings.disableTileGrid = !1,
        e.version = 20),
        e.version < 21 && (e.settings.lowQualityTextures = !1,
        e.version = 21),
        e.version < 22 && (e.settings.clearCursorOnDeleteWhilePlacing = !0,
        e.version = 22),
        e.version < 23 && (e.settings.displayChunkBorders = !1,
        e.version = 23),
        e.version < 24 && (e.settings.refreshRate = "60"),
        e.version < 25 && (e.settings.musicVolume = .5,
        e.settings.soundVolume = .5,
        delete e.settings.musicMuted,
        delete e.settings.soundsMuted,
        e.version = 25),
        e.version < 26 && (e.settings.pickMinerOnPatch = !0,
        e.version = 26),
        e.version < 27 && (e.settings.simplifiedBelts = !1,
        e.version = 27),
        e.version < 28 && (e.settings.enableMousePan = !0,
        e.version = 28),
        e.version < 29 && (e.settings.zoomToCursor = !0,
        e.version = 29),
        e.version < 30 && (e.settings.mapResourcesScale = .5,
        e.settings.offerHints = !0,
        e.version = 30),
        e.version < 31 && (e.settings.shapeTooltipAlwaysOn = !1,
        e.version = 31),
        J.b[e.settings.theme] || (console.warn("Resetting theme because its no longer available: " + e.settings.theme),
        e.settings.theme = "light"),
        _i.good())
    }
    var Wi = function(e) {
        function ApplicationSettings(t) {
            var r;
            return (r = e.call(this, t, "app_settings.bin") || this).settingHandles = function initializeSettings() {
                return [new Oi("language",{
                    options: Object.keys(D.a),
                    valueGetter: application_settings_ref,
                    textGetter: application_settings_ref2,
                    category: Di.general,
                    restartRequired: !0,
                    changeCb: application_settings_ref3,
                    magicValue: "auto-detect"
                }), new Oi("uiScale",{
                    options: Ui.sort(application_settings_ref4),
                    valueGetter: application_settings_ref5,
                    textGetter: application_settings_ref6,
                    category: Di.userInterface,
                    restartRequired: !1,
                    changeCb: application_settings_ref7
                }), new Li("soundVolume",Di.general,_ref8), new Li("musicVolume",Di.general,_ref9), new zi("fullscreen",Di.general,_ref10,_ref11), new zi("enableColorBlindHelper",Di.general,_ref12), new zi("offerHints",Di.userInterface,_ref13), new Oi("theme",{
                    options: Object.keys(J.b),
                    valueGetter: _ref14,
                    textGetter: _ref15,
                    category: Di.userInterface,
                    restartRequired: !1,
                    changeCb: _ref16,
                    enabledCb: _ref17
                }), new Oi("autosaveInterval",{
                    options: Vi,
                    valueGetter: _ref18,
                    textGetter: _ref19,
                    category: Di.advanced,
                    restartRequired: !1,
                    changeCb: _ref20
                }), new Oi("scrollWheelSensitivity",{
                    options: Fi.sort(_ref21),
                    valueGetter: _ref22,
                    textGetter: _ref23,
                    category: Di.advanced,
                    restartRequired: !1,
                    changeCb: _ref24
                }), new Oi("movementSpeed",{
                    options: ji.sort(_ref25),
                    valueGetter: _ref26,
                    textGetter: _ref27,
                    category: Di.advanced,
                    restartRequired: !1,
                    changeCb: _ref28
                }), new zi("enableMousePan",Di.advanced,_ref29), new zi("shapeTooltipAlwaysOn",Di.advanced,_ref30), new zi("alwaysMultiplace",Di.advanced,_ref31), new zi("zoomToCursor",Di.advanced,_ref32), new zi("clearCursorOnDeleteWhilePlacing",Di.advanced,_ref33), new zi("enableTunnelSmartplace",Di.advanced,_ref34), new zi("vignette",Di.userInterface,_ref35), new zi("compactBuildingInfo",Di.userInterface,_ref36), new zi("disableCutDeleteWarnings",Di.advanced,_ref37), new zi("rotationByBuilding",Di.advanced,_ref38), new zi("displayChunkBorders",Di.advanced,_ref39), new zi("pickMinerOnPatch",Di.advanced,_ref40), new Li("mapResourcesScale",Di.advanced,_ref41), new Oi("refreshRate",{
                    options: Hi,
                    valueGetter: _ref42,
                    textGetter: _ref43,
                    category: Di.performance,
                    restartRequired: !1,
                    changeCb: _ref44,
                    enabledCb: _ref45
                }), new zi("lowQualityMapResources",Di.performance,_ref46), new zi("disableTileGrid",Di.performance,_ref47), new zi("lowQualityTextures",Di.performance,_ref48), new zi("simplifiedBelts",Di.performance,_ref49)]
            }(),
            r
        }
        !function application_settings_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ApplicationSettings, e);
        var t = ApplicationSettings.prototype;
        return t.initialize = application_settings_initialize,
        t.save = _save,
        t.getSettingHandleById = _getSettingHandleById,
        t.getAllSettings = _getAllSettings,
        t.getSetting = _getSetting,
        t.getInterfaceScaleId = _getInterfaceScaleId,
        t.getDesiredFps = _getDesiredFps,
        t.getInterfaceScaleValue = _getInterfaceScaleVal,
        t.getScrollWheelSensitivity = _getScrollWheelSensit,
        t.getMovementSpeed = _getMovementSpeed,
        t.getAutosaveIntervalSeconds = _getAutosaveIntervalS,
        t.getIsFullScreen = _getIsFullScreen,
        t.getKeybindingOverrides = _getKeybindingOverrid,
        t.getLanguage = _getLanguage,
        t.updateLanguage = _updateLanguage,
        t.updateSetting = _updateSetting,
        t.updateKeybindingOverride = _updateKeybindingOver,
        t.resetKeybindingOverride = _resetKeybindingOverr,
        t.resetKeybindingOverrides = _resetKeybindingOverr2,
        t.verify = application_settings_verify,
        t.getDefaultData = application_settings_getDefaultData,
        t.getCurrentVersion = application_settings_getCurrentVersion,
        t.migrate = application_settings_migrate,
        ApplicationSettings
    }(Pi);
    function _SerializerInternal() {}
    function _serializeEntityArray(e) {
        for (var t = [], r = 0; r < e.length; ++r) {
            var n = e[r];
            n.queuedForDestroy || n.destroyed || t.push(n.serialize())
        }
        return t
    }
    function _deserializeEntityArr(e, t) {
        for (var r = 0; r < t.length; ++r)
            this.deserializeEntity(e, t[r])
    }
    function _deserializeEntity(e, t) {
        var r = t.components.StaticMapEntity
          , n = r.code
          , i = Object(O.c)(n)
          , o = i.metaInstance.createEntity({
            root: e,
            origin: C.a.fromSerializedObject(r.origin),
            rotation: r.rotation,
            originalRotation: r.originalRotation,
            rotationVariant: i.rotationVariant,
            variant: i.variant
        });
        o.uid = t.uid,
        this.deserializeComponents(e, o, t.components),
        e.entityMgr.registerEntity(o, t.uid),
        e.map.placeStaticEntity(o)
    }
    function _deserializeComponent(e, t, r) {
        for (var n in r)
            if (t.components[n]) {
                var i = t.components[n].deserialize(r[n], e);
                if (i)
                    return i
            }
    }
    Object(c.a)("serializer_internal");
    var Ni = function() {
        var e = _SerializerInternal.prototype;
        return e.serializeEntityArray = _serializeEntityArray,
        e.deserializeEntityArray = _deserializeEntityArr,
        e.deserializeEntity = _deserializeEntity,
        e.deserializeComponents = _deserializeComponent,
        _SerializerInternal
    }();
    function _SavegameSerializer() {
        this.internal = new Ni
    }
    function _generateDumpFromGame(e, t=!0) {
        var r = {
            camera: e.camera.serialize(),
            time: e.time.serialize(),
            map: e.map.serialize(),
            gameMode: e.gameMode.serialize(),
            entityMgr: e.entityMgr.serialize(),
            hubGoals: e.hubGoals.serialize(),
            entities: this.internal.serializeEntityArray(e.entityMgr.entities),
            beltPaths: e.systemMgr.systems.belt.serializePaths(),
            pinnedShapes: e.hud.parts.pinnedShapes ? e.hud.parts.pinnedShapes.serialize() : null,
            waypoints: e.hud.parts.waypoints ? e.hud.parts.waypoints.serialize() : null,
            modExtraData: {}
        };
        return b.gameSerialized.dispatch(e, r),
        r
    }
    function _verifyLogicalErrors(e) {
        if (!e.entities)
            return _i.bad("Savegame has no entities");
        for (var t = new Set, r = 0; r < e.entities.length; ++r) {
            var n = e.entities[r]
              , i = n.uid;
            if (!Number.isInteger(i))
                return _i.bad("Entity has invalid uid: " + i);
            if (t.has(i))
                return _i.bad("Duplicate uid " + i);
            if (t.add(i),
            !n.components)
                return _i.bad("Entity is missing key 'components': " + JSON.stringify(n));
            var o = n.components;
            for (var a in o) {
                var s = F.a.findById(a);
                if (!s)
                    return _i.bad("Unknown component id: " + a);
                var l = o[a]
                  , c = s.verify(l);
                if (c)
                    return _i.bad("Component " + a + " has invalid data: " + c)
            }
        }
        return _i.good()
    }
    function _deserialize(e, t) {
        var r = this.verifyLogicalErrors(e);
        if (!r.result)
            return _i.bad(r.reason);
        var n = null;
        return n = (n = (n = (n = (n = (n = (n = (n = n || t.entityMgr.deserialize(e.entityMgr)) || t.time.deserialize(e.time)) || t.camera.deserialize(e.camera)) || t.map.deserialize(e.map)) || t.gameMode.deserialize(e.gameMode)) || t.hubGoals.deserialize(e.hubGoals, t)) || this.internal.deserializeEntityArray(t, e.entities)) || t.systemMgr.systems.belt.deserializePaths(e.beltPaths),
        t.hud.parts.pinnedShapes && (n = n || t.hud.parts.pinnedShapes.deserialize(e.pinnedShapes)),
        t.hud.parts.waypoints && (n = n || t.hud.parts.waypoints.deserialize(e.waypoints)),
        n ? _i.bad(n) : (b.gameDeserialized.dispatch(t, e),
        _i.good())
    }
    Object(c.a)("savegame_serializer");
    var qi = function() {
        var e = _SavegameSerializer.prototype;
        return e.generateDumpFromGameRoot = _generateDumpFromGame,
        e.verifyLogicalErrors = _verifyLogicalErrors,
        e.deserialize = _deserialize,
        _SavegameSerializer
    }()
      , Ki = new (r(227))({
        allErrors: !1,
        uniqueItems: !1,
        unicode: !1,
        nullable: !1
    })
      , Qi = {}
      , Yi = Object(c.a)("savegame_interface");
    function _getVersion() {
        throw new Error("Implement get version")
    }
    function _getSchemaUncached() {
        throw new Error("Implement get schema")
    }
    function _getValidator() {
        var e = this.getVersion();
        if (Qi[e])
            return Qi[e];
        Yi.log("Compiling schema for savegame version", e);
        var t = this.getSchemaUncached();
        try {
            Qi[e] = Ki.compile(t)
        } catch (r) {
            throw Yi.error("SCHEMA FOR", this.getVersion(), "IS INVALID!"),
            Yi.error(r),
            new Error("Invalid schema for version " + e)
        }
        return Qi[e]
    }
    function _BaseSavegameInterfac(e) {
        this.data = e
    }
    function savegame_interface_validate() {
        var e = this.getValidator();
        return !!e(this.data) || (Yi.error("Savegame failed validation! ErrorText:", Ki.errorsText(e.errors), "RawErrors:", e.errors),
        !1)
    }
    function _readLastUpdate() {
        return this.data.lastUpdate
    }
    function _readIngameTimeSecond() {
        return this.data.dump.time.timeSeconds
    }
    var Ji = function() {
        var e = _BaseSavegameInterfac.prototype;
        return e.getVersion = _getVersion,
        e.getSchemaUncached = _getSchemaUncached,
        e.getValidator = _getValidator,
        e.validate = savegame_interface_validate,
        e.readLastUpdate = _readLastUpdate,
        e.readIngameTimeSeconds = _readIngameTimeSecond,
        _BaseSavegameInterfac
    }()
      , Zi = r(261);
    function _1000_getVersion() {
        return 1e3
    }
    function _1000_getSchemaUncached() {
        return Zi
    }
    var Xi = function(e) {
        function SavegameInterface_V1000() {
            return e.apply(this, arguments) || this
        }
        !function _1000_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1000, e);
        var t = SavegameInterface_V1000.prototype;
        return t.getVersion = _1000_getVersion,
        t.getSchemaUncached = _1000_getSchemaUncached,
        SavegameInterface_V1000
    }(Ji);
    r(33);
    var $i = r(262)
      , eo = Object(c.a)("savegame_interface/1001");
    function _1001_getVersion() {
        return 1001
    }
    function _1001_getSchemaUncached() {
        return $i
    }
    function _migrate1000to(e) {
        eo.log("Migrating 1000 to 1001");
        var t = e.dump;
        if (!t)
            return !0;
        t.pinnedShapes = {
            shapes: []
        },
        t.waypoints = {
            waypoints: [{
                label: U.a.ingame.waypoints.hub,
                center: {
                    x: 0,
                    y: 0
                },
                zoomLevel: 3,
                deletable: !1
            }]
        };
        for (var r = t.entities, n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = i.components.StaticMapEntity
              , a = i.components.Belt;
            if (o)
                if (o.spriteKey)
                    o.blueprintSpriteKey = o.spriteKey.replace("sprites/buildings", "sprites/blueprints");
                else if (i.components.Hub)
                    o.blueprintSpriteKey = "";
                else if (a) {
                    var s = a.direction;
                    o.blueprintSpriteKey = "sprites/blueprints/belt_" + s + ".png"
                } else
                    window.assert(!1, "Could not deduct entity type for migrating 1000 -> 1001")
        }
    }
    var to = function(e) {
        function SavegameInterface_V1001() {
            return e.apply(this, arguments) || this
        }
        !function _1001_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1001, e);
        var t = SavegameInterface_V1001.prototype;
        return t.getVersion = _1001_getVersion,
        t.getSchemaUncached = _1001_getSchemaUncached,
        SavegameInterface_V1001.migrate1000to1001 = _migrate1000to,
        SavegameInterface_V1001
    }(Xi)
      , ro = r(263)
      , no = Object(c.a)("savegame_interface/1002");
    function _1002_getVersion() {
        return 1002
    }
    function _1002_getSchemaUncached() {
        return ro
    }
    function _migrate1001to(e) {
        no.log("Migrating 1001 to 1002");
        var t = e.dump;
        if (!t)
            return !0;
        for (var r = t.entities, n = 0; n < r.length; ++n) {
            var i = r[n]
              , o = i.components.Belt
              , a = i.components.ItemEjector;
            o && a && (a.instantEject = !0)
        }
    }
    var io = function(e) {
        function SavegameInterface_V1002() {
            return e.apply(this, arguments) || this
        }
        !function _1002_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1002, e);
        var t = SavegameInterface_V1002.prototype;
        return t.getVersion = _1002_getVersion,
        t.getSchemaUncached = _1002_getSchemaUncached,
        SavegameInterface_V1002.migrate1001to1002 = _migrate1001to,
        SavegameInterface_V1002
    }(to)
      , oo = r(264)
      , ao = Object(c.a)("savegame_interface/1003");
    function _1003_getVersion() {
        return 1003
    }
    function _1003_getSchemaUncached() {
        return oo
    }
    function _migrate1002to(e) {
        ao.log("Migrating 1002 to 1003");
        var t = e.dump;
        if (!t)
            return !0;
        t.pinnedShapes = {
            shapes: []
        }
    }
    var so = function(e) {
        function SavegameInterface_V1003() {
            return e.apply(this, arguments) || this
        }
        !function _1003_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1003, e);
        var t = SavegameInterface_V1003.prototype;
        return t.getVersion = _1003_getVersion,
        t.getSchemaUncached = _1003_getSchemaUncached,
        SavegameInterface_V1003.migrate1002to1003 = _migrate1002to,
        SavegameInterface_V1003
    }(io)
      , lo = r(265)
      , co = Object(c.a)("savegame_interface/1004");
    function _1004_getVersion() {
        return 1004
    }
    function _1004_getSchemaUncached() {
        return lo
    }
    function _migrate1003to(e) {
        co.log("Migrating 1003 to 1004");
        var t = e.dump;
        if (!t)
            return !0;
        for (var r = t.waypoints.waypoints, n = 0; n < r.length; ++n) {
            var i = r[n];
            i.deletable || (i.label = null),
            delete i.deletable
        }
    }
    var uo = function(e) {
        function SavegameInterface_V1004() {
            return e.apply(this, arguments) || this
        }
        !function _1004_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1004, e);
        var t = SavegameInterface_V1004.prototype;
        return t.getVersion = _1004_getVersion,
        t.getSchemaUncached = _1004_getSchemaUncached,
        SavegameInterface_V1004.migrate1003to1004 = _migrate1003to,
        SavegameInterface_V1004
    }(so)
      , po = r(266)
      , ho = Object(c.a)("savegame_interface/1005");
    function _1005_getVersion() {
        return 1005
    }
    function _1005_getSchemaUncached() {
        return po
    }
    function _migrate1004to(e) {
        ho.log("Migrating 1004 to 1005");
        var t = e.dump;
        if (!t)
            return !0;
        t.beltPaths = [];
        for (var r = t.entities, n = 0; n < r.length; ++n) {
            var i = r[n].components.ItemEjector;
            if (i)
                for (var o = i.slots, a = 0; a < o.length; ++a) {
                    var s = o[a];
                    s.item = null,
                    s.progress = 0
                }
        }
    }
    var go = function(e) {
        function SavegameInterface_V1005() {
            return e.apply(this, arguments) || this
        }
        !function _1005_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1005, e);
        var t = SavegameInterface_V1005.prototype;
        return t.getVersion = _1005_getVersion,
        t.getSchemaUncached = _1005_getSchemaUncached,
        SavegameInterface_V1005.migrate1004to1005 = _migrate1004to,
        SavegameInterface_V1005
    }(uo)
      , fo = r(267)
      , mo = Object(c.a)("savegame_interface/1006");
    function findCode(e, t=z, r=0) {
        return Object(O.d)(F.e.findByClass(e), t, r)
    }
    function rebalance(e) {
        return Math.round(Math.pow(e, .75))
    }
    function _1006_getVersion() {
        return 1006
    }
    function _1006_getSchemaUncached() {
        return fo
    }
    function _computeSpriteMapping() {
        return {
            "sprites/blueprints/belt_top.png": findCode($, z, 0),
            "sprites/blueprints/belt_left.png": findCode($, z, 1),
            "sprites/blueprints/belt_right.png": findCode($, z, 2),
            "sprites/blueprints/splitter.png": findCode(wr),
            "sprites/blueprints/splitter-compact.png": findCode(wr, vr.merger),
            "sprites/blueprints/splitter-compact-inverse.png": findCode(wr, vr.mergerInverse),
            "sprites/blueprints/underground_belt_entry.png": findCode(pn, z, 0),
            "sprites/blueprints/underground_belt_exit.png": findCode(pn, z, 1),
            "sprites/blueprints/underground_belt_entry-tier2.png": findCode(pn, ln.tier2, 0),
            "sprites/blueprints/underground_belt_exit-tier2.png": findCode(pn, ln.tier2, 1),
            "sprites/blueprints/miner.png": findCode(Gr),
            "sprites/blueprints/miner-chainable.png": findCode(Gr, Vr.chainable, 0),
            "sprites/blueprints/cutter.png": findCode(Br),
            "sprites/blueprints/cutter-quad.png": findCode(Br, Ir.quad),
            "sprites/blueprints/rotater.png": findCode(Zr),
            "sprites/blueprints/rotater-ccw.png": findCode(Zr, Yr.ccw),
            "sprites/blueprints/stacker.png": findCode(Xr),
            "sprites/blueprints/mixer.png": findCode(Wr),
            "sprites/blueprints/painter.png": findCode(qr),
            "sprites/blueprints/painter-mirrored.png": findCode(qr, Nr.mirrored),
            "sprites/blueprints/painter-double.png": findCode(qr, Nr.double),
            "sprites/blueprints/painter-quad.png": findCode(qr, Nr.quad),
            "sprites/blueprints/trash.png": findCode(an),
            "sprites/blueprints/trash-storage.png": findCode(en)
        }
    }
    function _migrate1005to(e) {
        mo.log("Migrating 1005 to 1006");
        var t = e.dump;
        if (!t)
            return !0;
        var r = t.hubGoals.storedShapes;
        for (var n in r)
            r[n] = rebalance(r[n]);
        r["RuCw--Cw:----Ru--"] = 0,
        t.hubGoals.currentGoal && (t.hubGoals.currentGoal.required = rebalance(t.hubGoals.currentGoal.required));
        var i = Math.min(19, t.hubGoals.level);
        t.hubGoals.level = {
            14: 15,
            15: 16,
            16: 17,
            17: 18,
            18: 19,
            19: 20
        }[i] || i;
        for (var o = t.entities, a = 0; a < o.length; ++a) {
            var s = o[a]
              , l = s.components;
            this.migrateStaticComp1005to1006(s),
            l.Hub && (l.Hub = {}),
            l.ItemProcessor && (l.ItemProcessor = {
                nextOutputSlot: 0
            }),
            l.Unremovable && delete l.Unremovable,
            l.ReplaceableMapEntity && delete l.ReplaceableMapEntity,
            l.ItemAcceptor && (l.ItemAcceptor = {}),
            l.Belt && (l.Belt = {}),
            l.ItemEjector && (l.ItemEjector = {
                slots: []
            }),
            l.UndergroundBelt && (l.UndergroundBelt = {
                pendingItems: []
            }),
            l.Miner && (delete l.Miner.chainable,
            l.Miner.lastMiningTime = 0,
            l.Miner.itemChainBuffer = []),
            l.Storage && (l.Storage = {
                storedCount: rebalance(l.Storage.storedCount),
                storedItem: null
            })
        }
    }
    function _migrateStaticComp(e) {
        var t = this.computeSpriteMapping()
          , r = e.components.StaticMapEntity
          , n = {};
        if (n.origin = r.origin,
        n.originalRotation = r.originalRotation,
        n.rotation = r.rotation,
        n.code = t[r.blueprintSpriteKey],
        e.components.Hub && (n.code = findCode(Or)),
        e.components.Belt) {
            var i = {
                top: findCode($, z, 0),
                left: findCode($, z, 1),
                right: findCode($, z, 2)
            }[e.components.Belt.direction];
            i !== n.code && (n.code = i)
        }
        if (!n.code)
            throw new Error("1006 Migration: Could not reconstruct code for " + r.blueprintSpriteKey);
        e.components.StaticMapEntity = n
    }
    var yo = function(e) {
        function SavegameInterface_V1006() {
            return e.apply(this, arguments) || this
        }
        !function _1006_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1006, e);
        var t = SavegameInterface_V1006.prototype;
        return t.getVersion = _1006_getVersion,
        t.getSchemaUncached = _1006_getSchemaUncached,
        SavegameInterface_V1006.computeSpriteMapping = _computeSpriteMapping,
        SavegameInterface_V1006.migrate1005to1006 = _migrate1005to,
        SavegameInterface_V1006.migrateStaticComp1005to1006 = _migrateStaticComp,
        SavegameInterface_V1006
    }(go)
      , _o = r(268)
      , vo = Object(c.a)("savegame_interface/1007");
    function _1007_getVersion() {
        return 1007
    }
    function _1007_getSchemaUncached() {
        return _o
    }
    function _migrate1006to(e) {
        vo.log("Migrating 1006 to 1007");
        var t = e.dump;
        if (!t)
            return !0;
        for (var r = t.waypoints.waypoints, n = 0; n < r.length; ++n)
            r[n].layer = "regular"
    }
    var bo = function(e) {
        function SavegameInterface_V1007() {
            return e.apply(this, arguments) || this
        }
        !function _1007_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1007, e);
        var t = SavegameInterface_V1007.prototype;
        return t.getVersion = _1007_getVersion,
        t.getSchemaUncached = _1007_getSchemaUncached,
        SavegameInterface_V1007.migrate1006to1007 = _migrate1006to,
        SavegameInterface_V1007
    }(yo)
      , wo = r(269)
      , So = Object(c.a)("savegame_interface/1008");
    function _1008_getVersion() {
        return 1008
    }
    function _1008_getSchemaUncached() {
        return wo
    }
    function _migrate1007to(e) {
        if (So.log("Migrating 1007 to 1008"),
        !e.dump)
            return !0;
        Object.assign(e.stats, {
            failedMam: !0,
            trashedCount: 0,
            usedInverseRotater: !0
        })
    }
    var Co = function(e) {
        function SavegameInterface_V1008() {
            return e.apply(this, arguments) || this
        }
        !function _1008_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1008, e);
        var t = SavegameInterface_V1008.prototype;
        return t.getVersion = _1008_getVersion,
        t.getSchemaUncached = _1008_getSchemaUncached,
        SavegameInterface_V1008.migrate1007to1008 = _migrate1007to,
        SavegameInterface_V1008
    }(bo)
      , Ao = {
        puzzleEdit: "puzzleEditMode",
        puzzlePlay: "puzzlePlayMode",
        regular: "regularMode"
    }
      , ko = {
        default: "defaultModeType",
        puzzle: "puzzleModeType"
    };
    function game_mode_getId() {
        return window.assert(!1, "abstract method called"),
        "unknownMode"
    }
    function _getType() {
        return window.assert(!1, "abstract method called"),
        "unknownType"
    }
    function _create(e, t=Ao.regular, r) {
        return new (F.b.findById(t))(e,r)
    }
    function _getId2() {
        return this.constructor.getId()
    }
    function _getType2() {
        return this.constructor.getType()
    }
    function _isBuildingExcluded(e) {
        return this.hiddenBuildings.indexOf(e) >= 0
    }
    function _getBuildableZones() {}
    function _getCameraBounds() {}
    function _hasHub() {
        return !0
    }
    function _hasResources() {
        return !0
    }
    function game_mode_hasAchievements() {
        return !1
    }
    function game_mode_getMinimumZoom() {
        return .06
    }
    function game_mode_getMaximumZoom() {
        return 3.5
    }
    function _getUpgrades() {
        return {
            belt: [],
            miner: [],
            processors: [],
            painting: []
        }
    }
    function _throughputDoesNotMat() {
        return !1
    }
    function _adjustZone(e=0, t=0) {
        window.assert(!1, "abstract method called")
    }
    function _getLevelDefinitions() {
        return []
    }
    function _getIsFreeplayAvailab() {
        return !1
    }
    function _getIsSaveable() {
        return !0
    }
    function _getHasFreeCopyPaste() {
        return !1
    }
    function _getSupportsWires() {
        return !0
    }
    function _getIsEditor() {
        return !1
    }
    function _getIsDeterministic() {
        return !1
    }
    function _getFixedTickrate() {}
    function _getBlueprintShapeKey() {
        return "CbCbCbRb:CwCwCwCw"
    }
    var Eo = function(e) {
        function GameMode(t) {
            var r;
            return (r = e.call(this) || this).root = t,
            r.additionalHudParts = {},
            r.hiddenBuildings = [zr],
            r
        }
        !function game_mode_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(GameMode, e),
        GameMode.getId = game_mode_getId,
        GameMode.getType = _getType,
        GameMode.create = _create;
        var t = GameMode.prototype;
        return t.serialize = function serialize() {
            return {
                $: this.getId(),
                data: e.prototype.serialize.call(this)
            }
        }
        ,
        t.deserialize = function deserialize({data: t}) {
            e.prototype.deserialize.call(this, t, this.root)
        }
        ,
        t.getId = _getId2,
        t.getType = _getType2,
        t.isBuildingExcluded = _isBuildingExcluded,
        t.getBuildableZones = _getBuildableZones,
        t.getCameraBounds = _getCameraBounds,
        t.hasHub = _hasHub,
        t.hasResources = _hasResources,
        t.hasAchievements = game_mode_hasAchievements,
        t.getMinimumZoom = game_mode_getMinimumZoom,
        t.getMaximumZoom = game_mode_getMaximumZoom,
        t.getUpgrades = _getUpgrades,
        t.throughputDoesNotMatter = _throughputDoesNotMat,
        t.adjustZone = _adjustZone,
        t.getLevelDefinitions = _getLevelDefinitions,
        t.getIsFreeplayAvailable = _getIsFreeplayAvailab,
        t.getIsSaveable = _getIsSaveable,
        t.getHasFreeCopyPaste = _getHasFreeCopyPaste,
        t.getSupportsWires = _getSupportsWires,
        t.getIsEditor = _getIsEditor,
        t.getIsDeterministic = _getIsDeterministic,
        t.getFixedTickrate = _getFixedTickrate,
        t.getBlueprintShapeKey = _getBlueprintShapeKey,
        GameMode
    }(He.a);
    function base_toolbar_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    function base_toolbar_createElements(e) {
        this.element = Object(p.x)(e, this.htmlElementId, ["ingame_buildingsToolbar"], "")
    }
    function _filterBuildings(e) {
        for (var t = [], r = 0; r < e.length; r++)
            this.root.gameMode.isBuildingExcluded(e[r]) || t.push(e[r]);
        return t
    }
    function base_toolbar_initialize() {
        var e, t = this, r = this.root.keyMapper;
        this.secondaryBuildings.length > 0 && (e = Object(p.x)(this.element, null, ["buildings", "secondary"]),
        this.secondaryDomAttach = new Ut(this.root,e,{
            attachClass: "visible"
        }));
        for (var n = Object(p.x)(this.element, null, ["buildings", "primary"]), i = this.allBuildings, o = function(o) {
            var a = F.e.findByClass(i[o])
              , s = xt.buildings[a.getId() + "_" + t.layer];
            s || (s = xt.buildings[a.getId()]),
            s ? r.getBinding(s).add((function _ref() {
                return t.selectBuildingForPlacement(a)
            }
            )) : Object(c.b)("Building has no keybinding:", a.getId());
            var l = Object(p.x)(t.primaryBuildings.includes(i[o]) ? n : e, null, ["building"]);
            l.setAttribute("data-icon", "building_icons/" + a.getId() + ".png"),
            l.setAttribute("data-id", a.getId());
            var u = Object(p.x)(l, null, ["icon"]);
            if (t.trackClicks(u, () => t.selectBuildingForPlacement(a), {
                clickSound: null
            }),
            t.root.gameMode.getIsEditor() && !t.inRequiredBuildings(a)) {
                var d = Object(p.x)(l, null, ["puzzle-lock"]);
                l.classList.toggle("editor", !0),
                t.trackClicks(d, (function _ref2() {
                    return t.toggleBuildingLock(a)
                }
                ), {
                    clickSound: null
                })
            }
            t.buildingHandles[a.id] = {
                metaBuilding: a,
                element: l,
                unlocked: !1,
                selected: !1,
                index: o,
                puzzleLocked: !1
            }
        }, a = 0; a < i.length; ++a)
            o(a);
        this.root.hud.signals.selectedPlacementBuildingChanged.add(this.onSelectedPlacementBuildingChanged, this),
        this.domAttach = new Ut(this.root,this.element,{
            timeToKeepSeconds: .12,
            attachClass: "visible"
        }),
        this.lastSelectedIndex = 0,
        r.getBinding(xt.placement.cycleBuildings).add(this.cycleBuildings, this)
    }
    function base_toolbar_update() {
        var e = this.visibilityCondition();
        if (this.domAttach.update(e),
        e) {
            var t = !1;
            for (var r in this.buildingHandles) {
                var n = this.buildingHandles[r]
                  , i = !n.puzzleLocked && n.metaBuilding.getIsUnlocked(this.root);
                n.unlocked !== i && (n.unlocked = i,
                n.element.classList.toggle("unlocked", i),
                t = !0)
            }
            if (t && this.secondaryDomAttach) {
                for (var o = !1, a = 0; a < this.secondaryBuildings.length; ++a)
                    if (F.e.findByClass(this.secondaryBuildings[a]).getIsUnlocked(this.root)) {
                        o = !0;
                        break
                    }
                this.secondaryDomAttach.update(o)
            }
        }
    }
    function _cycleBuildings() {
        if (this.visibilityCondition()) {
            for (var e = !1, t = this.lastSelectedIndex, r = this.root.keyMapper.getBinding(xt.placement.rotateInverseModifier).pressed ? -1 : 1, n = 0; n <= this.primaryBuildings.length; ++n) {
                t = Object(p.I)(t + r, this.primaryBuildings.length);
                var i = F.e.findByClass(this.primaryBuildings[t])
                  , o = this.buildingHandles[i.id];
                if (!o.selected && o.unlocked) {
                    e = !0;
                    break
                }
            }
            if (e) {
                var a = this.primaryBuildings[t]
                  , s = F.e.findByClass(a);
                this.selectBuildingForPlacement(s)
            }
        }
    }
    function _onSelectedPlacementB(e) {
        for (var t in this.buildingHandles) {
            var r = this.buildingHandles[t]
              , n = r.metaBuilding === e;
            r.selected !== n && (r.selected = n,
            r.element.classList.toggle("selected", n)),
            r.selected && (this.lastSelectedIndex = r.index)
        }
        this.element.classList.toggle("buildingSelected", !!e)
    }
    function _selectBuildingForPla(e) {
        if (this.visibilityCondition()) {
            if (!e.getIsUnlocked(this.root))
                return this.root.soundProxy.playUiError(),
                v.a;
            var t = this.buildingHandles[e.getId()];
            if (t.puzzleLocked)
                return t.puzzleLocked = !1,
                t.element.classList.toggle("unlocked", !1),
                void this.root.soundProxy.playUiClick();
            for (var r in this.buildingHandles) {
                var n = this.buildingHandles[r];
                if (n.selected && n.metaBuilding === e) {
                    e = null;
                    break
                }
            }
            this.root.soundProxy.playUiClick(),
            this.root.hud.signals.buildingSelectedForPlacement.dispatch(e),
            this.onSelectedPlacementBuildingChanged(e)
        }
    }
    function _toggleBuildingLock(e) {
        if (this.visibilityCondition()) {
            if (this.inRequiredBuildings(e) || !e.getIsUnlocked(this.root))
                return this.root.soundProxy.playUiError(),
                v.a;
            var t = this.buildingHandles[e.getId()];
            t.puzzleLocked = !t.puzzleLocked,
            t.element.classList.toggle("unlocked", !t.puzzleLocked),
            this.root.soundProxy.playUiClick();
            var r = this.root.entityMgr;
            for (var n of r.getAllWithComponent(P.StaticMapEntityComponent))
                n.components.StaticMapEntity.getMetaBuilding().id === e.id && (this.root.map.removeStaticEntity(n),
                r.destroyEntity(n));
            r.processDestroyList();
            var i = this.root.hud.parts.buildingPlacer.currentMetaBuilding;
            i.get() == e && i.set(null)
        }
    }
    function _inRequiredBuildings(e) {
        return [F.e.findByClass(Ar), F.e.findByClass(Mr), F.e.findByClass(Sr)].includes(e)
    }
    function base_toolbar_ref3() {
        return [...this.primaryBuildings, ...this.secondaryBuildings]
    }
    var Io = function(e) {
        function HUDBaseToolbar(t, {primaryBuildings: r, secondaryBuildings: n=[], visibilityCondition: i, htmlElementId: o, layer: a="regular"}) {
            var s;
            return (s = e.call(this, t) || this).primaryBuildings = s.filterBuildings(r),
            s.secondaryBuildings = s.filterBuildings(n),
            s.visibilityCondition = i,
            s.htmlElementId = o,
            s.layer = a,
            s.buildingHandles = {},
            s
        }
        !function base_toolbar_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDBaseToolbar, e);
        var t = HUDBaseToolbar.prototype;
        return t.createElements = base_toolbar_createElements,
        t.filterBuildings = _filterBuildings,
        t.initialize = base_toolbar_initialize,
        t.update = base_toolbar_update,
        t.cycleBuildings = _cycleBuildings,
        t.onSelectedPlacementBuildingChanged = _onSelectedPlacementB,
        t.selectBuildingForPlacement = _selectBuildingForPla,
        t.toggleBuildingLock = _toggleBuildingLock,
        t.inRequiredBuildings = _inRequiredBuildings,
        function base_toolbar_createClass(e, t, r) {
            t && base_toolbar_defineProperties(e.prototype, t),
            r && base_toolbar_defineProperties(e, r)
        }(HUDBaseToolbar, [{
            key: "allBuildings",
            get: base_toolbar_ref3
        }]),
        HUDBaseToolbar
    }(qt)
      , Bo = function(e) {
        function HUDWiresToolbar(t) {
            var r;
            return r = e.call(this, t, {
                primaryBuildings: [$e, _n, Er, jr, mn, _r, Cr, nn],
                secondaryBuildings: [en, Qr, Lr, Tr, Pr],
                visibilityCondition: () => !r.root.camera.getIsMapOverlayActive() && "wires" === r.root.currentLayer,
                htmlElementId: "ingame_HUD_wires_toolbar",
                layer: "wires"
            }) || this
        }
        return function wires_toolbar_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDWiresToolbar, e),
        HUDWiresToolbar
    }(Io)
      , xo = e => e
      , Po = {
        [Qe.reward_cutter_and_trash]: xo([[Br, z]]),
        [Qe.reward_rotater]: xo([[Zr, z]]),
        [Qe.reward_painter]: xo([[qr, z]]),
        [Qe.reward_mixer]: xo([[Wr, z]]),
        [Qe.reward_stacker]: xo([[Xr, z]]),
        [Qe.reward_balancer]: xo([[wr, z]]),
        [Qe.reward_tunnel]: xo([[pn, z]]),
        [Qe.reward_rotater_ccw]: xo([[Zr, Yr.ccw]]),
        [Qe.reward_rotater_180]: xo([[Zr, Yr.rotate180]]),
        [Qe.reward_miner_chainable]: xo([[Gr, Vr.chainable]]),
        [Qe.reward_underground_belt_tier_2]: xo([[pn, ln.tier2]]),
        [Qe.reward_splitter]: xo([[wr, vr.splitter]]),
        [Qe.reward_merger]: xo([[wr, vr.merger]]),
        [Qe.reward_cutter_quad]: xo([[Br, Ir.quad]]),
        [Qe.reward_painter_double]: xo([[qr, Nr.double]]),
        [Qe.reward_storage]: xo([[en, z]]),
        [Qe.reward_belt_reader]: xo([[Qr, z]]),
        [Qe.reward_display]: xo([[Pr, z]]),
        [Qe.reward_constant_signal]: xo([[Er, z]]),
        [Qe.reward_logic_gates]: xo([[jr, z]]),
        [Qe.reward_filter]: xo([[Tr, z]]),
        [Qe.reward_virtual_processing]: null,
        [Qe.reward_wires_painter_and_levers]: xo([[qr, Nr.quad]]),
        [Qe.reward_freeplay]: null,
        [Qe.reward_blueprints]: null,
        [Qe.no_reward]: null,
        [Qe.no_reward_freeplay]: null,
        [Qe.reward_demo_end]: null
    }
      , To = {
        saved: "saved",
        upgrade: "upgrade",
        success: "success",
        info: "info",
        warning: "warning",
        error: "error"
    }
      , Mo = 3;
    function notifications_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_Notifications", [], "")
    }
    function notifications_initialize() {
        this.root.hud.signals.notification.add(this.internalShowNotification, this),
        this.notificationElements = [],
        this.root.signals.gameSaved.add( () => this.internalShowNotification(U.a.ingame.notifications.gameSaved, To.saved))
    }
    function _internalShowNotifica(e, t) {
        var r = Object(p.x)(this.element, null, ["notification", "type-" + t], e);
        r.setAttribute("data-icon", "icons/notification_" + t + ".png"),
        this.notificationElements.push({
            element: r,
            expireAt: this.root.time.realtimeNow() + Mo
        })
    }
    function notifications_update() {
        for (var e = this.root.time.realtimeNow(), t = 0; t < this.notificationElements.length; ++t) {
            var r = this.notificationElements[t];
            r.expireAt <= e && (r.element.remove(),
            this.notificationElements.splice(t, 1))
        }
    }
    var Oo = function(e) {
        function HUDNotifications() {
            return e.apply(this, arguments) || this
        }
        !function notifications_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDNotifications, e);
        var t = HUDNotifications.prototype;
        return t.createElements = notifications_createElements,
        t.initialize = notifications_initialize,
        t.internalShowNotification = _internalShowNotifica,
        t.update = notifications_update,
        HUDNotifications
    }(qt);
    function unlock_notification_initialize() {
        this.visible = !1,
        this.domAttach = new Ut(this.root,this.element,{
            timeToKeepSeconds: 0
        }),
        this.root.signals.storyGoalCompleted.add(this.showForLevel, this),
        this.buttonShowTimeout = null
    }
    function unlock_notification_createElements(e) {
        this.inputReciever = new Kt("unlock-notification"),
        this.element = Object(p.x)(e, "ingame_HUD_UnlockNotification", ["noBlur"]);
        var t = Object(p.x)(this.element, null, ["dialog"]);
        this.elemTitle = Object(p.x)(t, null, ["title"]),
        this.elemSubTitle = Object(p.x)(t, null, ["subTitle"], U.a.ingame.levelCompleteNotification.completed),
        this.elemContents = Object(p.x)(t, null, ["contents"]),
        this.btnClose = document.createElement("button"),
        this.btnClose.classList.add("close", "styledButton"),
        this.btnClose.innerText = U.a.ingame.levelCompleteNotification.buttonNextLevel,
        t.appendChild(this.btnClose),
        this.trackClicks(this.btnClose, this.requestClose)
    }
    function _showForLevel(e, t) {
        if (this.root.soundProxy.playUi(k.levelComplete),
        e > this.root.gameMode.getLevelDefinitions().length)
            this.root.hud.signals.notification.dispatch(U.a.ingame.notifications.freeplayLevelComplete.replace("<level>", String(e)), To.success);
        else {
            this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever),
            this.elemTitle.innerText = U.a.ingame.levelCompleteNotification.levelTitle.replace("<level>", ("" + e).padStart(2, "0"));
            var r = U.a.storyRewards[t].title
              , n = '<div class="rewardName">' + U.a.ingame.levelCompleteNotification.unlockText.replace("<reward>", r) + '</div><div class="rewardDesc">' + U.a.storyRewards[t].desc + "</div>";
            n += "<div class='images'>";
            var i = Po[t];
            i && i.forEach((function _ref([e,t]) {
                var r = F.e.findByClass(e);
                n += '<div class="buildingExplanation" data-icon="building_tutorials/' + r.getId() + (t === z ? "" : "-" + t) + '.png"></div>'
            }
            )),
            n += "</div>",
            this.elemContents.innerHTML = n,
            this.visible = !0,
            this.buttonShowTimeout && clearTimeout(this.buttonShowTimeout),
            this.element.querySelector("button.close").classList.remove("unlocked"),
            this.root.app.settings.getAllSettings().offerHints ? this.buttonShowTimeout = setTimeout( () => this.element.querySelector("button.close").classList.add("unlocked"), 5e3) : this.element.querySelector("button.close").classList.add("unlocked")
        }
    }
    function unlock_notification_cleanup() {
        this.root.app.inputMgr.makeSureDetached(this.inputReciever),
        this.buttonShowTimeout && (clearTimeout(this.buttonShowTimeout),
        this.buttonShowTimeout = null)
    }
    function unlock_notification_isBlockingOverlay() {
        return this.visible
    }
    function _requestClose() {
        this.root.app.adProvider.showVideoAd().then( () => {
            this.close();
            try {
                window.parent.cmgGameEvent("start", String(this.root.hubGoals.level))
            } catch (r) {
                console.error("CMG lvl not initialized:", r)
            }
            if (this.root.hud.signals.unlockNotificationFinished.dispatch(),
            this.root.hubGoals.level > 14 && this.root.hud.parts.standaloneAdvantages.show(),
            this.root.app.settings.getAllSettings().offerHints) {
                if (3 === this.root.hubGoals.level) {
                    var {showUpgrades: e} = this.root.hud.parts.dialogs.showInfo(U.a.dialogs.upgradesIntroduction.title, U.a.dialogs.upgradesIntroduction.desc, ["showUpgrades:good:timeout"]);
                    e.add( () => this.root.hud.parts.shop.show())
                }
                if (5 === this.root.hubGoals.level) {
                    var {showKeybindings: t} = this.root.hud.parts.dialogs.showInfo(U.a.dialogs.keybindingsIntroduction.title, U.a.dialogs.keybindingsIntroduction.desc, ["showKeybindings:misc", "ok:good:timeout"]);
                    t.add( () => this.root.gameState.goToKeybindings())
                }
            }
        }
        )
    }
    function unlock_notification_close() {
        this.root.app.inputMgr.makeSureDetached(this.inputReciever),
        this.buttonShowTimeout && (clearTimeout(this.buttonShowTimeout),
        this.buttonShowTimeout = null),
        this.visible = !1
    }
    function unlock_notification_update() {
        this.domAttach.update(this.visible),
        !this.visible && this.buttonShowTimeout && (clearTimeout(this.buttonShowTimeout),
        this.buttonShowTimeout = null)
    }
    var zo = function(e) {
        function HUDUnlockNotification() {
            return e.apply(this, arguments) || this
        }
        !function unlock_notification_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDUnlockNotification, e);
        var t = HUDUnlockNotification.prototype;
        return t.initialize = unlock_notification_initialize,
        t.createElements = unlock_notification_createElements,
        t.showForLevel = _showForLevel,
        t.cleanup = unlock_notification_cleanup,
        t.isBlockingOverlay = unlock_notification_isBlockingOverlay,
        t.requestClose = _requestClose,
        t.close = unlock_notification_close,
        t.update = unlock_notification_update,
        HUDUnlockNotification
    }(qt);
    function blueprint_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    function _Blueprint(e) {
        this.entities = e
    }
    function _fromUids(e, t) {
        for (var r = [], n = new C.a, i = 0; i < t.length; ++i) {
            var o = e.entityMgr.findByUid(t[i])
              , a = o.clone();
            r.push(a);
            var s = o.components.StaticMapEntity.getTileSpaceBounds().getCenter();
            n.addInplace(s)
        }
        n.divideScalarInplace(t.length);
        for (var l = n.subScalars(.5, .5).floor(), c = 0; c < t.length; ++c)
            r[c].components.StaticMapEntity.origin.subInplace(l);
        return new _Blueprint(r)
    }
    function _getCost() {
        return Object(p.j)(4 * Math.pow(this.entities.length, 1.1))
    }
    function blueprint_draw(e, t) {
        e.context.globalAlpha = .8;
        for (var r = 0; r < this.entities.length; ++r) {
            var n = this.entities[r]
              , i = n.components.StaticMapEntity
              , o = i.origin.add(t);
            i.getTileSpaceBounds().moveBy(t.x, t.y),
            e.root.logic.checkCanPlaceEntity(n, {
                offset: t
            }) ? e.context.globalAlpha = 1 : e.context.globalAlpha = .3,
            i.drawSpriteOnBoundsClipped(e, i.getBlueprintSprite(), 0, o)
        }
        e.context.globalAlpha = 1
    }
    function _rotateCw() {
        for (var e = 0; e < this.entities.length; ++e) {
            var t = this.entities[e].components.StaticMapEntity;
            t.rotation = (t.rotation + 90) % 360,
            t.originalRotation = (t.originalRotation + 90) % 360,
            t.origin = t.origin.rotateFastMultipleOf90(90)
        }
    }
    function _rotateCcw() {
        for (var e = 0; e < 3; ++e)
            this.rotateCw()
    }
    function _canPlace(e, t) {
        for (var r = !1, n = 0; n < this.entities.length; ++n) {
            var i = this.entities[n];
            e.logic.checkCanPlaceEntity(i, {
                offset: t
            }) && (r = !0)
        }
        return r
    }
    function _canAfford(e) {
        return !!e.gameMode.getHasFreeCopyPaste() || e.hubGoals.getShapesStoredByKey(e.gameMode.getBlueprintShapeKey()) >= this.getCost()
    }
    function _tryPlace(e, t) {
        return e.logic.performBulkOperation( () => e.logic.performImmutableOperation( () => {
            for (var r = 0, n = 0; n < this.entities.length; ++n) {
                var i = this.entities[n];
                if (e.logic.checkCanPlaceEntity(i, {
                    offset: t
                })) {
                    var o = i.clone();
                    o.components.StaticMapEntity.origin.addInplace(t),
                    e.logic.freeEntityAreaBeforeBuild(o),
                    e.map.placeStaticEntity(o),
                    e.entityMgr.registerEntity(o),
                    r++
                }
            }
            return e.signals.bulkAchievementCheck.dispatch(Ne.placeBlueprint, r, Ne.placeBp1000, r),
            0 !== r
        }
        ))
    }
    function blueprint_ref() {
        return 0 === this.entities.length ? "regular" : this.entities[0].layer
    }
    var Lo = function() {
        _Blueprint.fromUids = _fromUids;
        var e = _Blueprint.prototype;
        return e.getCost = _getCost,
        e.draw = blueprint_draw,
        e.rotateCw = _rotateCw,
        e.rotateCcw = _rotateCcw,
        e.canPlace = _canPlace,
        e.canAfford = _canAfford,
        e.tryPlace = _tryPlace,
        function blueprint_createClass(e, t, r) {
            t && blueprint_defineProperties(e.prototype, t),
            r && blueprint_defineProperties(e, r)
        }(_Blueprint, [{
            key: "layer",
            get: blueprint_ref
        }]),
        _Blueprint
    }()
      , Ro = Object(c.a)("camera")
      , Do = "move"
      , Uo = "touchend"
      , Fo = .5
      , jo = .98
      , Vo = .4
      , Ho = 20
      , Go = 10
      , Wo = {
        left: "left",
        middle: "middle",
        right: "right"
    };
    function camera_getId() {
        return "Camera"
    }
    function _getSchema() {
        return {
            zoomLevel: He.b.float,
            center: He.b.vector
        }
    }
    function _addScreenShake(e) {
        var t = 1 / (1 + 3 * this.currentShake.length());
        this.currentShake.x = this.currentShake.x + 2 * (Math.random() - .5) * t * e,
        this.currentShake.y = this.currentShake.y + 2 * (Math.random() - .5) * t * e
    }
    function _setDesiredCenter(e) {
        this.desiredCenter = e.copy(),
        this.currentlyMoving = !1
    }
    function _setDesiredZoom(e) {
        this.desiredZoom = e
    }
    function _isCurrentlyMovingToD() {
        return null !== this.desiredCenter
    }
    function _setPan(e) {
        this.desiredPan = e.copy()
    }
    function _findInitialZoom() {
        var e = this.root.gameWidth / 480
          , t = this.root.gameHeight / 480;
        return Math.min(e, t)
    }
    function _clearAnimations() {
        this.touchPostMoveVelocity.x = 0,
        this.touchPostMoveVelocity.y = 0,
        this.desiredCenter = null,
        this.desiredPan.x = 0,
        this.desiredPan.y = 0,
        this.currentPan.x = 0,
        this.currentPan.y = 0,
        this.currentlyPinching = !1,
        this.currentlyMoving = !1,
        this.lastMovingPosition = null,
        this.didMoveSinceTouchStart = !1,
        this.desiredZoom = null
    }
    function _isCurrentlyInteracti() {
        return !!this.currentlyPinching || (this.currentlyMoving ? this.didMoveSinceTouchStart : this.touchPostMoveVelocity.lengthSquare() > 1)
    }
    function _viewportWillChange() {
        return null !== this.desiredCenter || null !== this.desiredZoom || this.isCurrentlyInteracting()
    }
    function _cancelAllInteraction() {
        this.touchPostMoveVelocity = new C.a(0,0),
        this.desiredCenter = null,
        this.currentlyMoving = !1,
        this.currentlyPinching = !1,
        this.desiredZoom = null
    }
    function _getViewportWidth() {
        return this.root.gameWidth / this.zoomLevel
    }
    function _getViewportHeight() {
        return this.root.gameHeight / this.zoomLevel
    }
    function _getViewportLeft() {
        return this.center.x - this.getViewportWidth() / 2 + 10 * this.currentShake.x / this.zoomLevel
    }
    function _getViewportRight() {
        return this.center.x + this.getViewportWidth() / 2 + 10 * this.currentShake.x / this.zoomLevel
    }
    function _getViewportTop() {
        return this.center.y - this.getViewportHeight() / 2 + 10 * this.currentShake.x / this.zoomLevel
    }
    function _getViewportBottom() {
        return this.center.y + this.getViewportHeight() / 2 + 10 * this.currentShake.x / this.zoomLevel
    }
    function _getVisibleRect() {
        return G.a.fromTRBL(Math.floor(this.getViewportTop()), Math.ceil(this.getViewportRight()), Math.ceil(this.getViewportBottom()), Math.floor(this.getViewportLeft()))
    }
    function _getIsMapOverlayActiv() {
        return this.zoomLevel < g.e.mapChunkOverviewMinZoom
    }
    function _internalInitEvents() {
        this.eventListenerTouchStart = this.onTouchStart.bind(this),
        this.eventListenerTouchEnd = this.onTouchEnd.bind(this),
        this.eventListenerTouchMove = this.onTouchMove.bind(this),
        this.eventListenerMousewheel = this.onMouseWheel.bind(this),
        this.eventListenerMouseDown = this.onMouseDown.bind(this),
        this.eventListenerMouseMove = this.onMouseMove.bind(this),
        this.eventListenerMouseUp = this.onMouseUp.bind(this),
        g.c && (this.root.canvas.addEventListener("touchstart", this.eventListenerTouchStart),
        this.root.canvas.addEventListener("touchend", this.eventListenerTouchEnd),
        this.root.canvas.addEventListener("touchcancel", this.eventListenerTouchEnd),
        this.root.canvas.addEventListener("touchmove", this.eventListenerTouchMove)),
        this.root.canvas.addEventListener("wheel", this.eventListenerMousewheel),
        this.root.canvas.addEventListener("mousedown", this.eventListenerMouseDown),
        this.root.canvas.addEventListener("mousemove", this.eventListenerMouseMove),
        window.addEventListener("mouseup", this.eventListenerMouseUp)
    }
    function camera_cleanup() {
        g.c && (this.root.canvas.removeEventListener("touchstart", this.eventListenerTouchStart),
        this.root.canvas.removeEventListener("touchend", this.eventListenerTouchEnd),
        this.root.canvas.removeEventListener("touchcancel", this.eventListenerTouchEnd),
        this.root.canvas.removeEventListener("touchmove", this.eventListenerTouchMove)),
        this.root.canvas.removeEventListener("wheel", this.eventListenerMousewheel),
        this.root.canvas.removeEventListener("mousedown", this.eventListenerMouseDown),
        this.root.canvas.removeEventListener("mousemove", this.eventListenerMouseMove),
        window.removeEventListener("mouseup", this.eventListenerMouseUp)
    }
    function _bindKeys() {
        var e = this.root.keyMapper;
        e.getBinding(xt.navigation.mapMoveUp).add( () => this.keyboardForce.y = -1),
        e.getBinding(xt.navigation.mapMoveDown).add( () => this.keyboardForce.y = 1),
        e.getBinding(xt.navigation.mapMoveRight).add( () => this.keyboardForce.x = 1),
        e.getBinding(xt.navigation.mapMoveLeft).add( () => this.keyboardForce.x = -1),
        e.getBinding(xt.navigation.mapZoomIn).add( () => this.desiredZoom = 1.2 * this.zoomLevel),
        e.getBinding(xt.navigation.mapZoomOut).add( () => this.desiredZoom = this.zoomLevel / 1.2),
        e.getBinding(xt.navigation.centerMap).add( () => this.centerOnMap())
    }
    function _centerOnMap() {
        this.desiredCenter = new C.a(0,0)
    }
    function _screenToWorld(e) {
        return e.subScalars(this.root.gameWidth / 2, this.root.gameHeight / 2).divideScalar(this.zoomLevel).add(this.center)
    }
    function _worldToScreen(e) {
        return e.sub(this.center).multiplyScalar(this.zoomLevel).addScalars(this.root.gameWidth / 2, this.root.gameHeight / 2)
    }
    function _isWorldPointOnScreen(e) {
        return this.getVisibleRect().containsPoint(e.x, e.y)
    }
    function camera_getMaximumZoom() {
        return this.root.gameMode.getMaximumZoom()
    }
    function camera_getMinimumZoom() {
        return this.root.gameMode.getMinimumZoom()
    }
    function _canZoomIn() {
        return this.zoomLevel <= this.getMaximumZoom() - .01
    }
    function _canZoomOut() {
        return this.zoomLevel >= this.getMinimumZoom() + .01
    }
    function _checkPreventDoubleMo() {
        return !(performance.now() - Wt.lastTouchTime < 1e3)
    }
    function _onMouseDown(e) {
        if (e.cancelable && e.preventDefault(),
        this.checkPreventDoubleMouse())
            return this.touchPostMoveVelocity = new C.a(0,0),
            0 === e.button ? this.combinedSingleTouchStartHandler(e.clientX, e.clientY) : 1 === e.button ? this.downPreHandler.dispatch(new C.a(e.clientX,e.clientY), Wo.middle) : 2 === e.button && this.downPreHandler.dispatch(new C.a(e.clientX,e.clientY), Wo.right),
            !1
    }
    function _onMouseMove(e) {
        if (e.cancelable && e.preventDefault(),
        this.checkPreventDoubleMouse())
            return 0 === e.button && this.combinedSingleTouchMoveHandler(e.clientX, e.clientY),
            this.clampZoomLevel(),
            this.clampToBounds(),
            !1
    }
    function _onMouseUp(e) {
        if (e && e.cancelable && e.preventDefault(),
        this.checkPreventDoubleMouse())
            return this.combinedSingleTouchStopHandler(e.clientX, e.clientY),
            !1
    }
    function _onMouseWheel(e) {
        e.cancelable && e.preventDefault();
        var t = this.zoomLevel
          , r = 1 + .15 * this.root.app.settings.getScrollWheelSensitivity();
        this.zoomLevel *= e.deltaY < 0 ? r : 1 / r,
        this.clampZoomLevel(),
        this.desiredZoom = null;
        var n = this.root.app.mousePosition;
        if (this.root.app.settings.getAllSettings().zoomToCursor || (n = new C.a(this.root.gameWidth / 2,this.root.gameHeight / 2)),
        n) {
            var i = this.root.camera.screenToWorld(n).sub(this.center)
              , o = this.zoomLevel / t - 1;
            this.center = this.center.add(i.multiplyScalar(o)),
            this.desiredCenter = null
        }
        return !1
    }
    function _onTouchStart(e) {
        if (e.cancelable && e.preventDefault(),
        Wt.lastTouchTime = performance.now(),
        this.touchPostMoveVelocity = new C.a(0,0),
        1 === e.touches.length) {
            var t = e.touches[0];
            this.combinedSingleTouchStartHandler(t.clientX, t.clientY)
        } else if (2 === e.touches.length) {
            var r = e.touches[0]
              , n = e.touches[1];
            this.currentlyMoving = !1,
            this.currentlyPinching = !0,
            this.lastPinchPositions = [new C.a(r.clientX,r.clientY), new C.a(n.clientX,n.clientY)]
        }
        return !1
    }
    function _onTouchMove(e) {
        if (e.cancelable && e.preventDefault(),
        Wt.lastTouchTime = performance.now(),
        1 === e.touches.length) {
            var t = e.touches[0];
            this.combinedSingleTouchMoveHandler(t.clientX, t.clientY)
        } else if (2 === e.touches.length && this.currentlyPinching) {
            var r = e.touches[0]
              , n = e.touches[1]
              , i = [new C.a(r.clientX,r.clientY), new C.a(n.clientX,n.clientY)]
              , o = this.lastPinchPositions[0].distance(this.lastPinchPositions[1])
              , a = i[0].distance(i[1]) / Math.max(.001, o)
              , s = this.lastPinchPositions[0].centerPoint(this.lastPinchPositions[1])
              , l = i[0].centerPoint(i[1])
              , c = s.sub(l);
            this.center.x += c.x / this.zoomLevel,
            this.center.y += c.y / this.zoomLevel,
            l = l.sub(new C.a(this.root.gameWidth / 2,this.root.gameHeight / 2)),
            this.zoomLevel *= a;
            var u = l.multiplyScalar(a - 1).divideScalar(this.zoomLevel);
            this.center = this.center.add(u),
            this.lastPinchPositions = i,
            this.userInteraction.dispatch(Do),
            this.desiredZoom && (this.desiredZoom = null)
        }
        return this.clampZoomLevel(),
        !1
    }
    function _onTouchEnd(e) {
        e && e.cancelable && e.preventDefault(),
        Wt.lastTouchTime = performance.now(),
        0 === e.changedTouches.length && Ro.warn("Touch end without changed touches");
        var t = e.changedTouches[0];
        return this.combinedSingleTouchStopHandler(t.clientX, t.clientY),
        !1
    }
    function _combinedSingleTouchS(e, t) {
        var r = new C.a(e,t);
        this.downPreHandler.dispatch(r, Wo.left) !== v.a && (this.touchPostMoveVelocity = new C.a(0,0),
        this.currentlyMoving = !0,
        this.lastMovingPosition = r,
        this.lastMovingPositionLastTick = null,
        this.numTicksStandingStill = 0,
        this.didMoveSinceTouchStart = !1)
    }
    function _combinedSingleTouchM(e, t) {
        var r = new C.a(e,t);
        if (this.movePreHandler.dispatch(r) !== v.a) {
            if (!this.currentlyMoving)
                return !1;
            var n = this.lastMovingPosition.sub(r).divideScalar(this.zoomLevel);
            this.didMoveSinceTouchStart = this.didMoveSinceTouchStart || n.length() > 0,
            this.center = this.center.add(n),
            this.touchPostMoveVelocity = this.touchPostMoveVelocity.multiplyScalar(Fo).add(n.multiplyScalar(1 - Fo)),
            this.lastMovingPosition = r,
            this.userInteraction.dispatch(Do),
            this.desiredCenter && (this.desiredCenter = null)
        }
    }
    function _combinedSingleTouchS2(e, t) {
        (this.currentlyMoving || this.currentlyPinching) && (this.currentlyMoving = !1,
        this.currentlyPinching = !1,
        this.lastMovingPosition = null,
        this.lastMovingPositionLastTick = null,
        this.numTicksStandingStill = 0,
        this.lastPinchPositions = null,
        this.userInteraction.dispatch(Uo),
        this.didMoveSinceTouchStart = !1),
        this.upPostHandler.dispatch(new C.a(e,t))
    }
    function _clampZoomLevel() {
        this.zoomLevel = Object(p.d)(this.zoomLevel, this.getMinimumZoom(), this.getMaximumZoom()),
        this.desiredZoom && (this.desiredZoom = Object(p.d)(this.desiredZoom, this.getMinimumZoom(), this.getMaximumZoom()))
    }
    function _clampToBounds() {
        if (this.root.gameMode.getCameraBounds()) {
            var e = this.root.gameMode.getCameraBounds().allScaled(32);
            this.center.x = Object(p.d)(this.center.x, e.x, e.x + e.w),
            this.center.y = Object(p.d)(this.center.y, e.y, e.y + e.h)
        }
    }
    function camera_update(e) {
        e = Math.min(e, 33),
        this.cameraUpdateTimeBucket += e;
        for (var t = this.root.time.systemNow() - 12.5; this.cameraUpdateTimeBucket > 1e3 / 240; )
            t += 1e3 / 240,
            this.cameraUpdateTimeBucket -= 1e3 / 240,
            this.internalUpdatePanning(t, 1e3 / 240),
            this.internalUpdateMousePanning(t, 1e3 / 240),
            this.internalUpdateZooming(t, 1e3 / 240),
            this.internalUpdateCentering(t, 1e3 / 240),
            this.internalUpdateShake(t, 1e3 / 240),
            this.internalUpdateKeyboardForce(t, 1e3 / 240);
        this.clampZoomLevel()
    }
    function _transform(e) {
        this.clampZoomLevel();
        var t = this.zoomLevel;
        e.transform(t, 0, 0, t, -t * this.getViewportLeft(), -t * this.getViewportTop())
    }
    function _internalUpdateShake(e, t) {
        this.currentShake = this.currentShake.multiplyScalar(.92)
    }
    function _internalUpdatePannin(e, t) {
        var r = Vo * this.root.app.platformWrapper.getTouchPanStrength();
        if (this.touchPostMoveVelocity = this.touchPostMoveVelocity.multiplyScalar(jo),
        this.currentlyMoving && null === this.desiredCenter && (null !== this.lastMovingPositionLastTick && this.lastMovingPositionLastTick.equalsEpsilon(this.lastMovingPosition) ? this.numTicksStandingStill++ : this.numTicksStandingStill = 0,
        this.lastMovingPositionLastTick = this.lastMovingPosition.copy(),
        this.numTicksStandingStill >= Go && (this.touchPostMoveVelocity.x = 0,
        this.touchPostMoveVelocity.y = 0)),
        !this.currentlyMoving && !this.currentlyPinching) {
            var n = this.touchPostMoveVelocity.length();
            n >= Ho && (this.touchPostMoveVelocity.x = this.touchPostMoveVelocity.x * Ho / n,
            this.touchPostMoveVelocity.y = this.touchPostMoveVelocity.y * Ho / n),
            this.center = this.center.add(this.touchPostMoveVelocity.multiplyScalar(r)),
            this.currentPan = Object(C.h)(this.currentPan, this.desiredPan, .06),
            this.center = this.center.add(this.currentPan.multiplyScalar(.5 * t / this.zoomLevel)),
            this.clampToBounds()
        }
    }
    function _internalUpdateMouseP(e, t) {
        if (this.root.app.focused && this.root.app.settings.getAllSettings().enableMousePan) {
            var r = this.root.app.mousePosition;
            if (r && !this.root.hud.shouldPauseGame() && !this.root.hud.hasBlockingOverlayOpen() && !(this.desiredCenter || this.desiredZoom || this.currentlyMoving || this.currentlyPinching || r.x < 0 || r.y < 0 || r.x > this.root.gameWidth || r.y > this.root.gameHeight)) {
                var n = new C.a;
                r.x < 2 && (n.x -= 1),
                r.x > this.root.gameWidth - 2 && (n.x += 1),
                r.y < 2 && (n.y -= 1),
                r.y > this.root.gameHeight - 2 && (n.y += 1),
                this.center = this.center.add(n.multiplyScalar(.5 * t / this.zoomLevel * this.root.app.settings.getMovementSpeed())),
                this.clampToBounds()
            }
        }
    }
    function _internalUpdateZoomin(e, t) {
        if (!this.currentlyPinching && null !== this.desiredZoom) {
            var r = this.zoomLevel - this.desiredZoom;
            if (Math.abs(r) > 1e-4) {
                var n = .94;
                r > 0 && (n = .9),
                this.zoomLevel = this.zoomLevel * n + this.desiredZoom * (1 - n)
            } else
                this.zoomLevel = this.desiredZoom,
                this.desiredZoom = null
        }
    }
    function _internalUpdateCenter(e, t) {
        if (!this.currentlyMoving && null !== this.desiredCenter) {
            var r = this.center.direction(this.desiredCenter);
            if (r.length() > 1 / this.zoomLevel) {
                var n = r.multiplyScalar(Math.min(1, .008 * t));
                this.center.x += n.x,
                this.center.y += n.y
            } else
                this.desiredCenter = null
        }
    }
    function _internalUpdateKeyboa(e, t) {
        if (!this.currentlyMoving && null == this.desiredCenter) {
            var r = Math.min(this.root.gameWidth, this.root.gameHeight) / 2048 * t / this.zoomLevel
              , n = 0
              , i = 0
              , o = this.root.keyMapper;
            o.getBinding(xt.navigation.mapMoveUp).pressed && (i -= 1),
            o.getBinding(xt.navigation.mapMoveDown).pressed && (i += 1),
            o.getBinding(xt.navigation.mapMoveLeft).pressed && (n -= 1),
            o.getBinding(xt.navigation.mapMoveRight).pressed && (n += 1);
            var a = this.root.app.settings.getMovementSpeed() * (o.getBinding(xt.navigation.mapMoveFaster).pressed ? 4 : 1);
            this.center.x += r * n * a,
            this.center.y += r * i * a,
            this.clampToBounds()
        }
    }
    var No = function(e) {
        function Camera(t) {
            var r;
            return (r = e.call(this) || this).root = t,
            r.zoomLevel = r.findInitialZoom(),
            r.clampZoomLevel(),
            r.center = new C.a(0,0),
            r.currentlyMoving = !1,
            r.lastMovingPosition = null,
            r.lastMovingPositionLastTick = null,
            r.numTicksStandingStill = null,
            r.cameraUpdateTimeBucket = 0,
            r.didMoveSinceTouchStart = !1,
            r.currentlyPinching = !1,
            r.lastPinchPositions = null,
            r.keyboardForce = new C.a,
            r.userInteraction = new v.b,
            r.currentShake = new C.a(0,0),
            r.currentPan = new C.a(0,0),
            r.desiredPan = new C.a(0,0),
            r.desiredCenter = null,
            r.desiredZoom = null,
            r.touchPostMoveVelocity = new C.a(0,0),
            r.downPreHandler = new v.b,
            r.movePreHandler = new v.b,
            r.upPostHandler = new v.b,
            r.internalInitEvents(),
            r.clampZoomLevel(),
            r.bindKeys(),
            r
        }
        !function camera_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(Camera, e),
        Camera.getId = camera_getId,
        Camera.getSchema = _getSchema;
        var t = Camera.prototype;
        return t.deserialize = function deserialize(t) {
            var r = e.prototype.deserialize.call(this, t);
            if (r)
                return r;
            this.clampZoomLevel()
        }
        ,
        t.addScreenShake = _addScreenShake,
        t.setDesiredCenter = _setDesiredCenter,
        t.setDesiredZoom = _setDesiredZoom,
        t.isCurrentlyMovingToDesiredCenter = _isCurrentlyMovingToD,
        t.setPan = _setPan,
        t.findInitialZoom = _findInitialZoom,
        t.clearAnimations = _clearAnimations,
        t.isCurrentlyInteracting = _isCurrentlyInteracti,
        t.viewportWillChange = _viewportWillChange,
        t.cancelAllInteractions = _cancelAllInteraction,
        t.getViewportWidth = _getViewportWidth,
        t.getViewportHeight = _getViewportHeight,
        t.getViewportLeft = _getViewportLeft,
        t.getViewportRight = _getViewportRight,
        t.getViewportTop = _getViewportTop,
        t.getViewportBottom = _getViewportBottom,
        t.getVisibleRect = _getVisibleRect,
        t.getIsMapOverlayActive = _getIsMapOverlayActiv,
        t.internalInitEvents = _internalInitEvents,
        t.cleanup = camera_cleanup,
        t.bindKeys = _bindKeys,
        t.centerOnMap = _centerOnMap,
        t.screenToWorld = _screenToWorld,
        t.worldToScreen = _worldToScreen,
        t.isWorldPointOnScreen = _isWorldPointOnScreen,
        t.getMaximumZoom = camera_getMaximumZoom,
        t.getMinimumZoom = camera_getMinimumZoom,
        t.canZoomIn = _canZoomIn,
        t.canZoomOut = _canZoomOut,
        t.checkPreventDoubleMouse = _checkPreventDoubleMo,
        t.onMouseDown = _onMouseDown,
        t.onMouseMove = _onMouseMove,
        t.onMouseUp = _onMouseUp,
        t.onMouseWheel = _onMouseWheel,
        t.onTouchStart = _onTouchStart,
        t.onTouchMove = _onTouchMove,
        t.onTouchEnd = _onTouchEnd,
        t.combinedSingleTouchStartHandler = _combinedSingleTouchS,
        t.combinedSingleTouchMoveHandler = _combinedSingleTouchM,
        t.combinedSingleTouchStopHandler = _combinedSingleTouchS2,
        t.clampZoomLevel = _clampZoomLevel,
        t.clampToBounds = _clampToBounds,
        t.update = camera_update,
        t.transform = _transform,
        t.internalUpdateShake = _internalUpdateShake,
        t.internalUpdatePanning = _internalUpdatePannin,
        t.internalUpdateMousePanning = _internalUpdateMouseP,
        t.internalUpdateZooming = _internalUpdateZoomin,
        t.internalUpdateCentering = _internalUpdateCenter,
        t.internalUpdateKeyboardForce = _internalUpdateKeyboa,
        Camera
    }(He.a)
      , qo = Object(c.a)("hud/mass_selector");
    function mass_selector_createElements(e) {}
    function mass_selector_initialize() {
        this.currentSelectionStartWorld = null,
        this.currentSelectionEnd = null,
        this.selectedUids = new Set,
        this.root.signals.entityQueuedForDestroy.add(this.onEntityDestroyed, this),
        this.root.hud.signals.pasteBlueprintRequested.add(this.clearSelection, this),
        this.root.camera.downPreHandler.add(this.onMouseDown, this),
        this.root.camera.movePreHandler.add(this.onMouseMove, this),
        this.root.camera.upPostHandler.add(this.onMouseUp, this),
        this.root.keyMapper.getBinding(xt.general.back).addToTop(this.onBack, this),
        this.root.keyMapper.getBinding(xt.massSelect.confirmMassDelete).add(this.confirmDelete, this),
        this.root.keyMapper.getBinding(xt.massSelect.massSelectCut).add(this.confirmCut, this),
        this.root.keyMapper.getBinding(xt.massSelect.massSelectCopy).add(this.startCopy, this),
        this.root.keyMapper.getBinding(xt.massSelect.massSelectClear).add(this.clearBelts, this),
        this.root.hud.signals.selectedPlacementBuildingChanged.add(this.clearSelection, this),
        this.root.signals.editModeChanged.add(this.clearSelection, this)
    }
    function mass_selector_onEntityDestroyed(e) {
        this.root.bulkOperationRunning || this.selectedUids.delete(e.uid)
    }
    function _onBack() {
        if (this.selectedUids.size > 0)
            return this.selectedUids = new Set,
            v.a
    }
    function _clearSelection() {
        this.selectedUids = new Set
    }
    function _confirmDelete() {
        if (!this.root.app.settings.getAllSettings().disableCutDeleteWarnings && this.selectedUids.size > 100) {
            var {ok: e} = this.root.hud.parts.dialogs.showWarning(U.a.dialogs.massDeleteConfirm.title, U.a.dialogs.massDeleteConfirm.desc.replace("<count>", "" + Object(p.l)(this.selectedUids.size)), ["cancel:good:escape", "ok:bad:enter"]);
            e.add( () => this.doDelete())
        } else
            this.doDelete()
    }
    function _doDelete() {
        var e = Array.from(this.selectedUids)
          , t = this.root.entityMgr.getFrozenUidSearchMap()
          , r = 0;
        this.root.logic.performBulkOperation( () => {
            for (var n = 0; n < e.length; ++n) {
                var i = e[n]
                  , o = t.get(i);
                o ? this.root.logic.tryDeleteBuilding(o) ? r++ : qo.error("Error in mass delete, could not remove building") : qo.error("Entity not found by uid:", i)
            }
            this.root.signals.achievementCheck.dispatch(Ne.destroy1000, r)
        }
        ),
        this.selectedUids = new Set
    }
    function _startCopy() {
        if (this.selectedUids.size > 0) {
            if (!this.root.hubGoals.isRewardUnlocked(Qe.reward_blueprints))
                return void this.root.hud.parts.dialogs.showInfo(U.a.dialogs.blueprintsNotUnlocked.title, U.a.dialogs.blueprintsNotUnlocked.desc);
            this.root.hud.signals.buildingsSelectedForCopy.dispatch(Array.from(this.selectedUids)),
            this.selectedUids = new Set,
            this.root.soundProxy.playUiClick()
        } else
            this.root.soundProxy.playUiError()
    }
    function _clearBelts() {
        for (var e of this.selectedUids) {
            var t = this.root.entityMgr.findByUid(e);
            for (var r of Object.values(t.components))
                r.clear()
        }
        this.selectedUids = new Set
    }
    function _confirmCut() {
        if (this.root.hubGoals.isRewardUnlocked(Qe.reward_blueprints))
            if (!this.root.app.settings.getAllSettings().disableCutDeleteWarnings && this.selectedUids.size > 100) {
                var {ok: e} = this.root.hud.parts.dialogs.showWarning(U.a.dialogs.massCutConfirm.title, U.a.dialogs.massCutConfirm.desc.replace("<count>", "" + Object(p.l)(this.selectedUids.size)), ["cancel:good:escape", "ok:bad:enter"]);
                e.add( () => this.doCut())
            } else
                this.doCut();
        else
            this.root.hud.parts.dialogs.showInfo(U.a.dialogs.blueprintsNotUnlocked.title, U.a.dialogs.blueprintsNotUnlocked.desc)
    }
    function _doCut() {
        if (this.selectedUids.size > 0) {
            var e = Array.from(this.selectedUids)
              , t = () => {
                this.root.hud.signals.buildingsSelectedForCopy.dispatch(e);
                for (var t = 0; t < e.length; ++t) {
                    var r = e[t]
                      , n = this.root.entityMgr.findByUid(r);
                    this.root.logic.tryDeleteBuilding(n) || (qo.error("Error in mass cut, could not remove building"),
                    this.selectedUids.delete(r))
                }
            }
            ;
            if (Lo.fromUids(this.root, e).canAfford(this.root))
                t();
            else {
                var {cancel: r, ok: n} = this.root.hud.parts.dialogs.showWarning(U.a.dialogs.massCutInsufficientConfirm.title, U.a.dialogs.massCutInsufficientConfirm.desc, ["cancel:good:escape", "ok:bad:enter"]);
                n.add(t)
            }
            this.root.soundProxy.playUiClick()
        } else
            this.root.soundProxy.playUiError()
    }
    function mass_selector_onMouseDown(e, t) {
        if (this.root.keyMapper.getBinding(xt.massSelect.massSelectStart).pressed && t === Wo.left)
            return this.root.keyMapper.getBinding(xt.massSelect.massSelectSelectMultiple).pressed || (this.selectedUids = new Set),
            this.currentSelectionStartWorld = this.root.camera.screenToWorld(e.copy()),
            this.currentSelectionEnd = e.copy(),
            v.a
    }
    function mass_selector_onMouseMove(e) {
        this.currentSelectionStartWorld && (this.currentSelectionEnd = e.copy())
    }
    function mass_selector_onMouseUp() {
        if (this.currentSelectionStartWorld) {
            for (var e = this.currentSelectionStartWorld, t = this.root.camera.screenToWorld(this.currentSelectionEnd), r = e.toTileSpace(), n = t.toTileSpace(), i = r.min(n), o = r.max(n), a = i.x; a <= o.x; ++a)
                for (var s = i.y; s <= o.y; ++s) {
                    var l = this.root.map.getLayerContentXY(a, s, this.root.currentLayer);
                    if (l && this.root.logic.canDeleteBuilding(l)) {
                        if (!l.components.StaticMapEntity.getMetaBuilding().getIsRemovable(this.root))
                            continue;
                        this.selectedUids.add(l.uid)
                    }
                }
            this.currentSelectionStartWorld = null,
            this.currentSelectionEnd = null
        }
    }
    function mass_selector_draw(e) {
        if (this.currentSelectionStartWorld) {
            var t = this.currentSelectionStartWorld
              , r = this.root.camera.screenToWorld(this.currentSelectionEnd)
              , n = t.min(r)
              , i = t.max(r)
              , o = t.toTileSpace()
              , a = r.toTileSpace()
              , s = o.min(a)
              , l = o.max(a);
            e.context.lineWidth = 1,
            e.context.fillStyle = J.a.map.selectionBackground,
            e.context.strokeStyle = J.a.map.selectionOutline,
            e.context.beginPath(),
            e.context.rect(n.x, n.y, i.x - n.x, i.y - n.y),
            e.context.fill(),
            e.context.stroke(),
            e.context.fillStyle = J.a.map.selectionOverlay,
            e.context.beginPath();
            for (var c = new Set, u = s.x; u <= l.x; ++u)
                for (var d = s.y; d <= l.y; ++d) {
                    var p = this.root.map.getLayerContentXY(u, d, this.root.currentLayer);
                    if (p && this.root.logic.canDeleteBuilding(p)) {
                        var h = p.uid;
                        if (c.has(h))
                            continue;
                        c.add(h);
                        var g = p.components.StaticMapEntity;
                        if (!g.getMetaBuilding().getIsRemovable(this.root))
                            continue;
                        var f = g.getTileSpaceBounds();
                        e.context.rect(32 * f.x + 2, 32 * f.y + 2, 32 * f.w - 4, 32 * f.h - 4)
                    }
                }
            e.context.fill()
        }
        e.context.fillStyle = J.a.map.selectionOverlay,
        e.context.beginPath(),
        this.selectedUids.forEach(t => {
            var r = this.root.entityMgr.findByUid(t).components.StaticMapEntity.getTileSpaceBounds();
            e.context.rect(32 * r.x + 2, 32 * r.y + 2, 32 * r.w - 4, 32 * r.h - 4)
        }
        ),
        e.context.fill()
    }
    var Ko = function(e) {
        function HUDMassSelector() {
            return e.apply(this, arguments) || this
        }
        !function mass_selector_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDMassSelector, e);
        var t = HUDMassSelector.prototype;
        return t.createElements = mass_selector_createElements,
        t.initialize = mass_selector_initialize,
        t.onEntityDestroyed = mass_selector_onEntityDestroyed,
        t.onBack = _onBack,
        t.clearSelection = _clearSelection,
        t.confirmDelete = _confirmDelete,
        t.doDelete = _doDelete,
        t.startCopy = _startCopy,
        t.clearBelts = _clearBelts,
        t.confirmCut = _confirmCut,
        t.doCut = _doCut,
        t.onMouseDown = mass_selector_onMouseDown,
        t.onMouseMove = mass_selector_onMouseMove,
        t.onMouseUp = mass_selector_onMouseUp,
        t.draw = mass_selector_draw,
        HUDMassSelector
    }(qt);
    function shop_createElements(e) {
        var t = this;
        this.background = Object(p.x)(e, "ingame_HUD_Shop", ["ingameDialog"]),
        this.dialogInner = Object(p.x)(this.background, null, ["dialogInner"]),
        this.title = Object(p.x)(this.dialogInner, null, ["title"], U.a.ingame.shop.title),
        this.closeButton = Object(p.x)(this.title, null, ["closeButton"]),
        this.trackClicks(this.closeButton, this.close),
        this.contentDiv = Object(p.x)(this.dialogInner, null, ["content"]),
        this.upgradeToElements = {};
        var r = function(e) {
            var r = {
                requireIndexToElement: []
            };
            r.elem = Object(p.x)(t.contentDiv, null, ["upgrade"]),
            r.elem.setAttribute("data-upgrade-id", e);
            var n = Object(p.x)(r.elem, null, ["title"], U.a.shopUpgrades[e].name);
            r.elemTierLabel = Object(p.x)(n, null, ["tier"]),
            r.icon = Object(p.x)(r.elem, null, ["icon"]),
            r.icon.setAttribute("data-icon", "upgrades/" + e + ".png"),
            r.elemDescription = Object(p.x)(r.elem, null, ["description"], "??"),
            r.elemRequirements = Object(p.x)(r.elem, null, ["requirements"]),
            r.buyButton = document.createElement("button"),
            r.buyButton.classList.add("buy", "styledButton"),
            r.buyButton.innerText = U.a.ingame.shop.buttonUnlock,
            r.elem.appendChild(r.buyButton),
            t.trackClicks(r.buyButton, () => t.tryUnlockNextTier(e)),
            t.upgradeToElements[e] = r
        };
        for (var n in this.root.gameMode.getUpgrades())
            r(n)
    }
    function _rerenderFull() {
        var e = this
          , t = function(t) {
            var r = e.upgradeToElements[t]
              , n = e.root.gameMode.getUpgrades()[t]
              , i = e.root.hubGoals.getUpgradeLevel(t)
              , o = e.root.hubGoals.upgradeImprovements[t]
              , a = n[i];
            r.elemTierLabel.innerText = U.a.ingame.shop.tier.replace("<x>", Object(p.s)(i + 1)),
            r.elemTierLabel.setAttribute("data-tier", i);
            for (var s = 0; s < r.requireIndexToElement.length; ++s) {
                var l = r.requireIndexToElement[s];
                l.container.remove(),
                l.pinDetector.cleanup(),
                l.infoDetector && l.infoDetector.cleanup()
            }
            if (r.requireIndexToElement = [],
            r.elem.classList.toggle("maxLevel", !a),
            !a)
                return r.elemDescription.innerText = U.a.ingame.shop.maximumLevel.replace("<currentMult>", Object(p.k)(o)),
                "continue";
            r.elemDescription.innerText = U.a.shopUpgrades[t].description.replace("<currentMult>", Object(p.k)(o)).replace("<newMult>", Object(p.k)(o + a.improvement)),
            a.required.forEach( ({shape: t, amount: n}) => {
                var i = Object(p.x)(r.elemRequirements, null, ["requirement"])
                  , o = e.root.shapeDefinitionMgr.getShapeFromShortKey(t)
                  , a = o.generateAsCanvas(120);
                a.classList.add(),
                i.appendChild(a);
                var s = Object(p.x)(i, null, ["amount"])
                  , l = document.createElement("label");
                l.classList.add("progressBar"),
                s.appendChild(l);
                var c = document.createElement("label");
                s.appendChild(c);
                var u, d = document.createElement("button");
                d.classList.add("pin"),
                i.appendChild(d);
                var h = document.createElement("button");
                h.classList.add("showInfo"),
                i.appendChild(h),
                (u = new Nt(h,{
                    consumeEvents: !0,
                    preventDefault: !0
                })).click.add((function _ref() {
                    return e.root.hud.signals.viewShapeDetailsRequested.dispatch(o)
                }
                ));
                var g = e.root.hubGoals.currentGoal.definition.getHash();
                t === g ? d.classList.add("isGoal") : e.root.hud.parts.pinnedShapes.isShapePinned(t) && d.classList.add("alreadyPinned");
                var f = new Nt(d,{
                    consumeEvents: !0,
                    preventDefault: !0
                });
                f.click.add( () => {
                    e.root.hud.parts.pinnedShapes.isShapePinned(t) ? (e.root.hud.signals.shapeUnpinRequested.dispatch(t),
                    d.classList.add("unpinned"),
                    d.classList.remove("pinned", "alreadyPinned")) : (e.root.hud.signals.shapePinRequested.dispatch(o),
                    d.classList.add("pinned"),
                    d.classList.remove("unpinned"))
                }
                ),
                r.requireIndexToElement.push({
                    container: i,
                    progressLabel: c,
                    progressBar: l,
                    definition: o,
                    required: n,
                    pinDetector: f,
                    infoDetector: u
                })
            }
            )
        };
        for (var r in this.upgradeToElements)
            t(r)
    }
    function _renderCountsAndStatu() {
        for (var e in this.upgradeToElements) {
            for (var t = this.upgradeToElements[e], r = 0; r < t.requireIndexToElement.length; ++r) {
                var {progressLabel: n, progressBar: i, definition: o, required: a} = t.requireIndexToElement[r]
                  , s = this.root.hubGoals.getShapesStored(o)
                  , l = Math.min(s / a, 1);
                n.innerText = Object(p.k)(s) + " / " + Object(p.k)(a),
                i.style.width = 100 * l + "%",
                i.classList.toggle("complete", l >= 1)
            }
            t.buyButton.classList.toggle("buyable", this.root.hubGoals.canUnlockUpgrade(e))
        }
    }
    function shop_initialize() {
        this.domAttach = new Ut(this.root,this.background,{
            attachClass: "visible"
        }),
        this.inputReciever = new Kt("shop"),
        this.keyActionMapper = new Rt(this.root,this.inputReciever),
        this.keyActionMapper.getBinding(xt.general.back).add(this.close, this),
        this.keyActionMapper.getBinding(xt.ingame.menuClose).add(this.close, this),
        this.keyActionMapper.getBinding(xt.ingame.menuOpenShop).add(this.close, this),
        this.close(),
        this.rerenderFull(),
        this.root.signals.upgradePurchased.add(this.rerenderFull, this)
    }
    function shop_cleanup() {
        for (var e in this.upgradeToElements) {
            for (var t = this.upgradeToElements[e], r = 0; r < t.requireIndexToElement.length; ++r) {
                var n = t.requireIndexToElement[r];
                n.container.remove(),
                n.pinDetector.cleanup(),
                n.infoDetector && n.infoDetector.cleanup()
            }
            t.requireIndexToElement = []
        }
    }
    function shop_show() {
        this.visible = !0,
        this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever),
        this.rerenderFull()
    }
    function shop_close() {
        this.visible = !1,
        this.root.app.inputMgr.makeSureDetached(this.inputReciever),
        this.update()
    }
    function shop_update() {
        this.domAttach.update(this.visible),
        this.visible && this.renderCountsAndStatus()
    }
    function _tryUnlockNextTier(e) {
        this.root.hubGoals.tryUnlockUpgrade(e)
    }
    function shop_isBlockingOverlay() {
        return this.visible
    }
    var Qo = function(e) {
        function HUDShop() {
            return e.apply(this, arguments) || this
        }
        !function shop_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDShop, e);
        var t = HUDShop.prototype;
        return t.createElements = shop_createElements,
        t.rerenderFull = _rerenderFull,
        t.renderCountsAndStatus = _renderCountsAndStatu,
        t.initialize = shop_initialize,
        t.cleanup = shop_cleanup,
        t.show = shop_show,
        t.close = shop_close,
        t.update = shop_update,
        t.tryUnlockNextTier = _tryUnlockNextTier,
        t.isBlockingOverlay = shop_isBlockingOverlay,
        HUDShop
    }(qt)
      , Yo = r(27)
      , Jo = 71;
    function waypoints_createElements(e) {
        this.root.app.settings.getAllSettings().offerHints && (this.hintElement = Object(p.x)(e, "ingame_HUD_Waypoints_Hint", [], "\n            <strong class='title'>" + U.a.ingame.waypoints.waypoints + "</strong>\n            <span class='desc'>" + U.a.ingame.waypoints.description.replace("<keybinding>", "<code class='keybinding'>" + this.root.keyMapper.getBinding(xt.navigation.createMarker).getKeyCodeString() + "</code>") + "</span>\n        ")),
        this.waypointsListElement = Object(p.x)(e, "ingame_HUD_Waypoints", [], "Waypoints")
    }
    function _serialize() {
        return {
            waypoints: this.waypoints
        }
    }
    function waypoints_deserialize(e) {
        if (!e || !e.waypoints || !Array.isArray(e.waypoints))
            return "Invalid waypoints data";
        this.waypoints = e.waypoints,
        this.rerenderWaypointList()
    }
    function waypoints_initialize() {
        this.waypointSprites = {
            regular: w.a.getSprite("sprites/misc/waypoint.png"),
            wires: w.a.getSprite("sprites/misc/waypoint_wires.png")
        },
        this.directionIndicatorSprite = w.a.getSprite("sprites/misc/hub_direction_indicator.png"),
        this.waypoints = [],
        this.waypoints.push({
            label: null,
            center: {
                x: 0,
                y: 0
            },
            zoomLevel: 3,
            layer: F.e.findByClass(Or).getLayer()
        }),
        this.dummyBuffer = Object(Yo.e)(1, 1, {
            reusable: !1,
            label: "waypoints-measure-canvas"
        })[1],
        this.hintElement && (this.domAttach = new Ut(this.root,this.hintElement)),
        this.root.camera.downPreHandler.add(this.onMouseDown, this),
        this.root.keyMapper.getBinding(xt.navigation.createMarker).add( () => this.requestSaveMarker({})),
        this.currentMarkerOpacity = 1,
        this.currentCompassOpacity = 0;
        var [e,t] = Object(Yo.e)(48, 48, {
            smooth: !0,
            reusable: !1,
            label: "waypoints-compass"
        });
        this.compassBuffer = {
            canvas: e,
            context: t
        },
        this.cachedKeyToCanvas = {},
        this.cachedTextWidths = {},
        this.rerenderWaypointList()
    }
    function _getTextWidth(e) {
        return this.cachedTextWidths[e] ? this.cachedTextWidths[e] : (this.dummyBuffer.font = "bold " + this.getTextScale() + "px GameFont",
        this.cachedTextWidths[e] = this.dummyBuffer.measureText(e).width)
    }
    function _getTextScale() {
        return 12 * this.getWaypointUiScale()
    }
    function _getWaypointUiScale() {
        return this.root.app.getEffectiveUiScale()
    }
    function _rerenderWaypointList() {
        var e = this;
        Object(p.C)(this.waypointsListElement),
        this.cleanupClickDetectors();
        for (var t = function(t) {
            var r = e.waypoints[t]
              , n = e.getWaypointLabel(r)
              , i = Object(p.x)(e.waypointsListElement, null, ["waypoint", "layer--" + r.layer]);
            if (R.b.isValidShortKey(n)) {
                var o = e.getWaypointCanvas(r)
                  , [a,s] = Object(Yo.e)(48, 48, {
                    smooth: !0,
                    label: n + "-waypoint-" + t
                });
                s.drawImage(o, 0, 0),
                i.appendChild(a),
                i.classList.add("shapeIcon")
            } else
                i.innerText = n;
            if (e.isWaypointDeletable(r)) {
                var l = Object(p.x)(i, null, ["editButton"]);
                e.trackClicks(l, (function _ref() {
                    return e.requestSaveMarker({
                        waypoint: r
                    })
                }
                ))
            }
            r.label || (i.classList.add("hub"),
            i.insertBefore(e.compassBuffer.canvas, i.childNodes[0])),
            e.trackClicks(i, () => e.moveToWaypoint(r), {
                targetOnly: !0
            })
        }, r = 0; r < this.waypoints.length; ++r)
            t(r)
    }
    function _moveToWaypoint(e) {
        this.root.currentLayer = e.layer,
        this.root.camera.setDesiredCenter(new C.a(e.center.x,e.center.y)),
        this.root.camera.setDesiredZoom(e.zoomLevel)
    }
    function _deleteWaypoint(e) {
        Object(p.c)(this.waypoints, e),
        this.rerenderWaypointList()
    }
    function _getWaypointCanvas(e) {
        var t = e.label;
        if (this.cachedKeyToCanvas[t])
            return this.cachedKeyToCanvas[t];
        var r = this.root.shapeDefinitionMgr.getShapeFromShortKey(t).generateAsCanvas(48);
        return this.cachedKeyToCanvas[t] = r
    }
    function waypoints_ref2(e) {
        return e.length > 0 && (e.length < Jo || R.b.isValidShortKey(e))
    }
    function _requestSaveMarker({worldPos: e=null, waypoint: t=null}) {
        var r = new Yt({
            id: "markerName",
            label: null,
            placeholder: "",
            defaultValue: t ? t.label : "",
            validator: waypoints_ref2
        })
          , n = new nr({
            app: this.root.app,
            title: t ? U.a.dialogs.createMarker.titleEdit : U.a.dialogs.createMarker.title,
            desc: Object(p.i)(U.a.dialogs.createMarker.desc, g.d.shapeViewer),
            formElements: [r],
            buttons: t ? ["delete:bad", "cancel", "ok:good"] : ["cancel", "ok:good"]
        });
        if (this.root.hud.parts.dialogs.internalShowDialog(n),
        t)
            n.buttonSignals.ok.add( () => {
                this.renameWaypoint(t, r.getValue())
            }
            ),
            n.buttonSignals.delete.add( () => {
                this.deleteWaypoint(t)
            }
            );
        else {
            var i = e || this.root.camera.center;
            n.buttonSignals.ok.add( () => {
                this.waypoints.length > this.root.app.restrictionMgr.getMaximumWaypoints() ? this.root.hud.parts.dialogs.showFeatureRestrictionInfo("", U.a.dialogs.markerDemoLimit.desc) : this.addWaypoint(r.getValue(), i)
            }
            )
        }
    }
    function _addWaypoint(e, t) {
        this.waypoints.push({
            label: e,
            center: {
                x: t.x,
                y: t.y
            },
            zoomLevel: this.root.camera.zoomLevel,
            layer: this.root.currentLayer
        }),
        this.sortWaypoints(),
        this.root.hud.signals.notification.dispatch(U.a.ingame.waypoints.creationSuccessNotification, To.success),
        this.root.signals.achievementCheck.dispatch(Ne.mapMarkers15, this.waypoints.length - 1),
        this.rerenderWaypointList()
    }
    function _renameWaypoint(e, t) {
        e.label = t,
        this.sortWaypoints(),
        this.root.hud.signals.notification.dispatch(U.a.ingame.waypoints.creationSuccessNotification, To.success),
        this.rerenderWaypointList()
    }
    function waypoints_update() {
        this.domAttach && this.domAttach.update(this.root.camera.getIsMapOverlayActive())
    }
    function _sortWaypoints() {
        this.waypoints.sort( (e, t) => e.label ? t.label ? this.getWaypointLabel(e).padEnd(Jo, "0").localeCompare(this.getWaypointLabel(t).padEnd(Jo, "0")) : 1 : -1)
    }
    function _getWaypointLabel(e) {
        return e.label || U.a.ingame.waypoints.hub
    }
    function _isWaypointDeletable(e) {
        return null !== e.label
    }
    function _getWaypointScreenPar(e) {
        if (!this.root.camera.getIsMapOverlayActive())
            return null;
        var t, r, n, i = this.getWaypointUiScale(), o = this.root.camera.worldToScreen(new C.a(e.center.x,e.center.y)), a = this.getWaypointLabel(e);
        return R.b.isValidShortKey(a) ? (r = this.root.shapeDefinitionMgr.getShapeItemFromShortKey(a),
        n = 40) : (t = a,
        n = this.getTextWidth(t)),
        {
            screenBounds: new G.a(o.x - 7 * i,o.y - 12 * i,15 * i + n,15 * i),
            item: r,
            text: t
        }
    }
    function _findCurrentIntersect() {
        var e = this.root.app.mousePosition;
        if (e)
            for (var t = 0; t < this.waypoints.length; ++t) {
                var r = this.waypoints[t]
                  , n = this.getWaypointScreenParams(r);
                if (n && n.screenBounds.containsPoint(e.x, e.y))
                    return r
            }
    }
    function waypoints_onMouseDown(e, t) {
        var r = this.findCurrentIntersectedWaypoint();
        if (r)
            return t === Wo.left ? (this.root.soundProxy.playUiClick(),
            this.moveToWaypoint(r)) : t === Wo.right && (this.isWaypointDeletable(r) ? (this.root.soundProxy.playUiClick(),
            this.requestSaveMarker({
                waypoint: r
            })) : this.root.soundProxy.playUiError()),
            v.a;
        if (t === Wo.right && this.root.camera.getIsMapOverlayActive()) {
            var n = this.root.camera.screenToWorld(e);
            return this.requestSaveMarker({
                worldPos: n
            }),
            v.a
        }
    }
    function _rerenderWaypointsCom() {
        var e = this.root.camera.center
          , t = this.compassBuffer.context;
        t.clearRect(0, 0, 48, 48);
        var r = e.length() > 320 / this.root.camera.zoomLevel ? 1 : 0;
        if (this.currentCompassOpacity = Object(p.u)(this.currentCompassOpacity, r, .08),
        this.currentCompassOpacity > .01) {
            t.globalAlpha = this.currentCompassOpacity;
            var n = e.angle() + Math.radians(45) + Math.PI / 2;
            t.translate(24, 24),
            t.rotate(n),
            this.directionIndicatorSprite.drawCentered(t, 0, 0, 30),
            t.rotate(-n),
            t.translate(-24, -24),
            t.globalAlpha = 1
        }
        var i = 1 - this.currentCompassOpacity;
        i > .01 && (t.globalAlpha = i,
        this.waypointSprites.regular.drawCentered(t, 24, 24, 48 * .7),
        t.globalAlpha = 1)
    }
    function waypoints_drawOverlays(e) {
        var t = this.root.app.mousePosition
          , r = this.root.camera.getIsMapOverlayActive() ? 1 : 0;
        if (this.currentMarkerOpacity = Object(p.u)(this.currentMarkerOpacity, r, .08),
        this.rerenderWaypointsCompass(),
        !(this.currentMarkerOpacity < .01)) {
            var n = this.getWaypointUiScale()
              , i = this.getTextScale();
            e.context.font = "bold " + i + "px GameFont",
            e.context.textBaseline = "middle";
            for (var o = 0; o < this.waypoints.length; ++o) {
                var a = this.waypoints[o]
                  , s = this.getWaypointScreenParams(a);
                if (s && e.visibleRect.containsRect(s.screenBounds)) {
                    var l = s.screenBounds
                      , c = 7 * n
                      , u = t && l.containsPoint(t.x, t.y);
                    if (e.context.globalAlpha = this.currentMarkerOpacity * (u ? 1 : .7),
                    e.context.fillStyle = "rgba(255, 255, 255, 0.7)",
                    e.context.fillRect(l.x, l.y, l.w, l.h),
                    s.item) {
                        var d = this.getWaypointCanvas(a)
                          , h = 14 * n;
                        e.context.drawImage(d, l.x + c + 6 * n, l.y + l.h / 2 - h / 2, h, h)
                    } else
                        s.text ? (e.context.fillStyle = "#000",
                        e.context.textBaseline = "middle",
                        e.context.fillText(s.text, l.x + c + 6 * n, l.y + l.h / 2),
                        e.context.textBaseline = "alphabetic") : window.assert(!1, "Waypoint has no item and text");
                    this.waypointSprites[a.layer].drawCentered(e.context, l.x + c, l.y + l.h / 2, .6 * l.h)
                }
            }
            e.context.textBaseline = "alphabetic",
            e.context.globalAlpha = 1
        }
    }
    var Zo = function(e) {
        function HUDWaypoints() {
            return e.apply(this, arguments) || this
        }
        !function waypoints_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDWaypoints, e);
        var t = HUDWaypoints.prototype;
        return t.createElements = waypoints_createElements,
        t.serialize = _serialize,
        t.deserialize = waypoints_deserialize,
        t.initialize = waypoints_initialize,
        t.getTextWidth = _getTextWidth,
        t.getTextScale = _getTextScale,
        t.getWaypointUiScale = _getWaypointUiScale,
        t.rerenderWaypointList = _rerenderWaypointList,
        t.moveToWaypoint = _moveToWaypoint,
        t.deleteWaypoint = _deleteWaypoint,
        t.getWaypointCanvas = _getWaypointCanvas,
        t.requestSaveMarker = _requestSaveMarker,
        t.addWaypoint = _addWaypoint,
        t.renameWaypoint = _renameWaypoint,
        t.update = waypoints_update,
        t.sortWaypoints = _sortWaypoints,
        t.getWaypointLabel = _getWaypointLabel,
        t.isWaypointDeletable = _isWaypointDeletable,
        t.getWaypointScreenParams = _getWaypointScreenPar,
        t.findCurrentIntersectedWaypoint = _findCurrentIntersect,
        t.onMouseDown = waypoints_onMouseDown,
        t.rerenderWaypointsCompass = _rerenderWaypointsCom,
        t.drawOverlays = waypoints_drawOverlays,
        HUDWaypoints
    }(qt)
      , Xo = {
        icons: "icons",
        detailed: "detailed"
    }
      , $o = {
        second: 1,
        minute: 60,
        hour: 3600
    };
    function _HUDShapeStatisticsHa(e, t, r) {
        this.definition = t,
        this.root = e,
        this.intersectionObserver = r,
        this.visible = !1
    }
    function _initElement() {
        this.element = document.createElement("div"),
        this.element.setAttribute("data-shape-key", this.definition.getHash()),
        this.counter = document.createElement("span"),
        this.counter.classList.add("counter"),
        this.element.appendChild(this.counter)
    }
    function _setVisible(e) {
        e !== this.visible && (this.visible = e,
        e ? this.shapeCanvas || (this.shapeCanvas = this.definition.generateAsCanvas(100),
        this.shapeCanvas.classList.add("icon"),
        this.element.appendChild(this.shapeCanvas)) : this.cleanupChildElements())
    }
    function statistics_handle_update(e, t, r, n=!1) {
        if (this.element && (this.visible || n)) {
            switch (this.element.classList.toggle("pinned", this.root.hud.parts.pinnedShapes.isShapePinned(this.definition.getHash())),
            t) {
            case Ge.stored:
                this.counter.innerText = Object(p.k)(this.root.hubGoals.storedShapes[this.definition.getHash()] || 0);
                break;
            case Ge.delivered:
            case Ge.produced:
                var i = this.root.productionAnalytics.getCurrentShapeRateRaw(t, this.definition) / g.e.analyticsSliceDurationSeconds;
                this.counter.innerText = U.a.ingame.statistics.shapesDisplayUnits[r].replace("<shapes>", Object(p.k)(i * $o[r]))
            }
            if (e === Xo.detailed) {
                var o = g.e.statisticsGraphDpi;
                if (!this.graphCanvas) {
                    var [a,s] = Object(Yo.e)(270 * o, 40 * o, {
                        smooth: !0,
                        reusable: !1,
                        label: "statgraph-" + this.definition.getHash()
                    });
                    s.scale(o, o),
                    a.classList.add("graph"),
                    this.graphCanvas = a,
                    this.graphContext = s,
                    this.element.appendChild(this.graphCanvas)
                }
                this.graphContext.clearRect(0, 0, 270, 40),
                this.graphContext.fillStyle = "#bee0db",
                this.graphContext.strokeStyle = "#66ccbc",
                this.graphContext.lineWidth = 1.5;
                for (var l = 270 / (g.e.statisticsGraphSlices - 1), c = [], u = 1, d = 0; d < g.e.statisticsGraphSlices - 2; ++d) {
                    var h = this.root.productionAnalytics.getPastShapeRate(t, this.definition, g.e.statisticsGraphSlices - d - 2);
                    h > u && (u = h),
                    c.push(h)
                }
                this.graphContext.beginPath(),
                this.graphContext.moveTo(.75, 45);
                for (var f = 0; f < c.length; ++f) {
                    var m = Object(p.d)(40 * (1 - c[f] / u), .75, 39.25)
                      , y = f * l;
                    0 === f && this.graphContext.lineTo(.75, m),
                    this.graphContext.lineTo(y, m),
                    f === c.length - 1 && (this.graphContext.lineTo(370, m),
                    this.graphContext.lineTo(370, 45))
                }
                this.graphContext.closePath(),
                this.graphContext.stroke(),
                this.graphContext.fill()
            } else
                this.graphCanvas && (this.graphCanvas.remove(),
                delete this.graphCanvas,
                delete this.graphContext)
        }
    }
    function _attach(e) {
        this.element || this.initElement(),
        this.element.parentElement !== e && (e.appendChild(this.element),
        this.intersectionObserver.observe(this.element))
    }
    function _detach() {
        this.element && this.element.parentElement && (this.element.parentElement.removeChild(this.element),
        this.intersectionObserver.unobserve(this.element))
    }
    function _cleanupChildElements() {
        this.shapeCanvas && (this.shapeCanvas.remove(),
        delete this.shapeCanvas),
        this.graphCanvas && (this.graphCanvas.remove(),
        delete this.graphCanvas,
        delete this.graphContext)
    }
    function statistics_handle_destroy() {
        this.cleanupChildElements(),
        this.element && (this.intersectionObserver.unobserve(this.element),
        this.element.remove(),
        delete this.element,
        delete this.counter)
    }
    var ea = function() {
        var e = _HUDShapeStatisticsHa.prototype;
        return e.initElement = _initElement,
        e.setVisible = _setVisible,
        e.update = statistics_handle_update,
        e.attach = _attach,
        e.detach = _detach,
        e.cleanupChildElements = _cleanupChildElements,
        e.destroy = statistics_handle_destroy,
        _HUDShapeStatisticsHa
    }();
    function statistics_createElements(e) {
        var t = this;
        this.background = Object(p.x)(e, "ingame_HUD_Statistics", ["ingameDialog"]),
        this.dialogInner = Object(p.x)(this.background, null, ["dialogInner"]),
        this.title = Object(p.x)(this.dialogInner, null, ["title"], U.a.ingame.statistics.title),
        this.closeButton = Object(p.x)(this.title, null, ["closeButton"]),
        this.trackClicks(this.closeButton, this.close),
        this.filterHeader = Object(p.x)(this.dialogInner, null, ["filterHeader"]),
        this.sourceExplanation = Object(p.x)(this.dialogInner, null, ["sourceExplanation"]),
        this.filtersDataSource = Object(p.x)(this.filterHeader, null, ["filtersDataSource"]),
        this.filtersDisplayMode = Object(p.x)(this.filterHeader, null, ["filtersDisplayMode"]);
        for (var r = [Ge.produced, Ge.delivered, Ge.stored], n = function(e) {
            var n, i = r[e], o = Object(p.w)(t.filtersDataSource, ["mode" + (n = i,
            n.substr(0, 1).toUpperCase() + n.substr(1).toLowerCase())], U.a.ingame.statistics.dataSources[i].title);
            t.trackClicks(o, () => t.setDataSource(i))
        }, i = 0; i < r.length; ++i)
            n(i);
        var o = Object(p.w)(this.filtersDisplayMode, ["displayIterateUnit"])
          , a = Object(p.w)(this.filtersDisplayMode, ["displaySorted"])
          , s = Object(p.w)(this.filtersDisplayMode, ["displayDetailed"])
          , l = Object(p.w)(this.filtersDisplayMode, ["displayIcons"]);
        this.trackClicks(o, () => this.iterateUnit()),
        this.trackClicks(a, () => this.toggleSorted()),
        this.trackClicks(l, () => this.setDisplayMode(Xo.icons)),
        this.trackClicks(s, () => this.setDisplayMode(Xo.detailed)),
        this.contentDiv = Object(p.x)(this.dialogInner, null, ["content"])
    }
    function _setDataSource(e) {
        this.dataSource = e,
        this.dialogInner.setAttribute("data-datasource", e),
        this.sourceExplanation.innerText = U.a.ingame.statistics.dataSources[e].description,
        this.visible && this.rerenderFull()
    }
    function _setDisplayMode(e) {
        this.displayMode = e,
        this.dialogInner.setAttribute("data-displaymode", e),
        this.visible && this.rerenderFull()
    }
    function _setSorted(e) {
        this.sorted = e,
        this.dialogInner.setAttribute("data-sorted", String(e)),
        this.visible && this.rerenderFull()
    }
    function _toggleSorted() {
        this.setSorted(!this.sorted)
    }
    function _iterateUnit() {
        var e = Array.from(Object.keys($o))
          , t = (e.indexOf(this.currentUnit) + 1) % e.length;
        this.currentUnit = e[t],
        this.rerenderPartial()
    }
    function statistics_initialize() {
        this.domAttach = new Ut(this.root,this.background,{
            attachClass: "visible"
        }),
        this.inputReciever = new Kt("statistics"),
        this.keyActionMapper = new Rt(this.root,this.inputReciever),
        this.keyActionMapper.getBinding(xt.general.back).add(this.close, this),
        this.keyActionMapper.getBinding(xt.ingame.menuClose).add(this.close, this),
        this.keyActionMapper.getBinding(xt.ingame.menuOpenStats).add(this.close, this),
        this.activeHandles = {},
        this.currentUnit = "second",
        this.setSorted(!0),
        this.setDataSource(Ge.produced),
        this.setDisplayMode(Xo.detailed),
        this.intersectionObserver = new IntersectionObserver(this.intersectionCallback.bind(this),{
            root: this.contentDiv
        }),
        this.lastFullRerender = 0,
        this.close(),
        this.rerenderFull()
    }
    function _intersectionCallback(e) {
        for (var t = 0; t < e.length; ++t) {
            var r = e[t]
              , n = this.activeHandles[r.target.getAttribute("data-shape-key")];
            n && n.setVisible(r.intersectionRatio > 0)
        }
    }
    function statistics_isBlockingOverlay() {
        return this.visible
    }
    function statistics_show() {
        this.visible = !0,
        this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever),
        this.rerenderFull(),
        this.update()
    }
    function statistics_close() {
        this.visible = !1,
        this.root.app.inputMgr.makeSureDetached(this.inputReciever),
        this.update()
    }
    function statistics_update() {
        this.domAttach.update(this.visible),
        this.visible && (this.root.time.now() - this.lastFullRerender > 1 && (this.lastFullRerender = this.root.time.now(),
        this.lastPartialRerender = this.root.time.now(),
        this.rerenderFull()),
        this.rerenderPartial())
    }
    function _rerenderPartial() {
        for (var e in this.activeHandles)
            this.activeHandles[e].update(this.displayMode, this.dataSource, this.currentUnit)
    }
    function statistics_rerenderFull() {
        for (var e in this.activeHandles)
            this.activeHandles[e].detach();
        Object(p.C)(this.contentDiv);
        var t = null;
        switch (this.dataSource) {
        case Ge.stored:
            t = Object.entries(this.root.hubGoals.storedShapes);
            break;
        case Ge.produced:
        case Ge.delivered:
            t = Object.entries(this.root.productionAnalytics.getCurrentShapeRatesRaw(this.dataSource))
        }
        var r = this.root.hud.parts.pinnedShapes;
        t.sort( (e, t) => {
            var n = r.isShapePinned(e[0]);
            return n !== r.isShapePinned(t[0]) ? n ? -1 : 1 : this.sorted && t[1] != e[1] ? t[1] - e[1] : t[0].localeCompare(e[0])
        }
        );
        for (var n = new Set, i = 0; i < Math.min(t.length, 200); ++i) {
            var o = t[i][0]
              , a = this.activeHandles[o];
            if (!a) {
                var s = this.root.shapeDefinitionMgr.getShapeFromShortKey(o);
                a = this.activeHandles[o] = new ea(this.root,s,this.intersectionObserver)
            }
            n.add(o),
            a.attach(this.contentDiv)
        }
        for (var l in this.activeHandles)
            n.has(l) || (this.activeHandles[l].destroy(),
            delete this.activeHandles[l]);
        0 === t.length && (this.contentDiv.innerHTML = '<strong class="noEntries">' + U.a.ingame.statistics.noShapesProduced + "</strong>"),
        this.contentDiv.classList.toggle("hasEntries", t.length > 0)
    }
    var ta = function(e) {
        function HUDStatistics() {
            return e.apply(this, arguments) || this
        }
        !function statistics_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDStatistics, e);
        var t = HUDStatistics.prototype;
        return t.createElements = statistics_createElements,
        t.setDataSource = _setDataSource,
        t.setDisplayMode = _setDisplayMode,
        t.setSorted = _setSorted,
        t.toggleSorted = _toggleSorted,
        t.iterateUnit = _iterateUnit,
        t.initialize = statistics_initialize,
        t.intersectionCallback = _intersectionCallback,
        t.isBlockingOverlay = statistics_isBlockingOverlay,
        t.show = statistics_show,
        t.close = statistics_close,
        t.update = statistics_update,
        t.rerenderPartial = _rerenderPartial,
        t.rerenderFull = statistics_rerenderFull,
        HUDStatistics
    }(qt);
    function wire_info_initialize() {
        this.spriteEmpty = w.a.getSprite("sprites/wires/network_empty.png"),
        this.spriteConflict = w.a.getSprite("sprites/wires/network_conflict.png")
    }
    function wire_info_drawOverlays(e) {
        if ("wires" === this.root.currentLayer) {
            var t = this.root.app.mousePosition;
            if (t) {
                var r = this.root.camera.screenToWorld(t)
                  , n = r.toTileSpace()
                  , i = this.root.map.getLayerContentXY(n.x, n.y, "wires");
                if (i && (this.root.camera.getIsMapOverlayActive() || this.root.logic.getIsEntityIntersectedWithMatrix(i, r))) {
                    var o = this.root.logic.getEntityWireNetworks(i, n);
                    if (null !== o && 0 !== o.length) {
                        for (var a = 0; a < o.length; ++a) {
                            var s = o[a];
                            this.drawHighlightedNetwork(e, s)
                        }
                        if (1 === o.length) {
                            var l = o[0];
                            l.valueConflict ? this.spriteConflict.draw(e.context, t.x + 15, t.y - 10, 60, 60) : l.currentValue ? l.currentValue.drawItemCenteredClipped(t.x + 40, t.y + 10, e, 60) : this.spriteEmpty.draw(e.context, t.x + 15, t.y - 10, 60, 60)
                        }
                    }
                }
            }
        }
    }
    function _drawHighlightedNetwo(e, t) {
        e.context.globalAlpha = .5;
        for (var r = 0; r < t.wires.length; ++r) {
            var n = t.wires[r]
              , i = n.components.StaticMapEntity
              , o = this.root.camera.worldToScreen(i.origin.toWorldSpace());
            ae.drawSingleWiresOverviewTile({
                context: e.context,
                x: o.x,
                y: o.y,
                entity: n,
                tileSizePixels: 32 * this.root.camera.zoomLevel,
                overrideColor: J.a.map.wires.highlightColor
            })
        }
        for (var a = 0; a < t.tunnels.length; ++a) {
            var s = t.tunnels[a]
              , l = s.components.StaticMapEntity
              , c = this.root.camera.worldToScreen(l.origin.toWorldSpace());
            ae.drawSingleWiresOverviewTile({
                context: e.context,
                x: c.x,
                y: c.y,
                entity: s,
                tileSizePixels: 32 * this.root.camera.zoomLevel,
                overrideColor: J.a.map.wires.highlightColor
            })
        }
        e.context.globalAlpha = 1
    }
    var ra = function(e) {
        function HUDWireInfo() {
            return e.apply(this, arguments) || this
        }
        !function wire_info_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDWireInfo, e);
        var t = HUDWireInfo.prototype;
        return t.initialize = wire_info_initialize,
        t.drawOverlays = wire_info_drawOverlays,
        t.drawHighlightedNetwork = _drawHighlightedNetwo,
        HUDWireInfo
    }(qt);
    function lever_toggle_initialize() {
        this.root.camera.downPreHandler.add(this.downPreHandler, this)
    }
    function _downPreHandler(e, t) {
        var r = this.root.camera.screenToWorld(e).toTileSpace()
          , n = this.root.map.getLayerContentXY(r.x, r.y, "regular");
        if (n) {
            var i = n.components.Lever;
            if (i) {
                if (t === Wo.left)
                    return i.toggled = !i.toggled,
                    v.a;
                if (t === Wo.right)
                    return this.root.hud.parts.buildingPlacer.currentMetaBuilding || this.root.logic.tryDeleteBuilding(n),
                    v.a
            }
        }
    }
    var na = function(e) {
        function HUDLeverToggle() {
            return e.apply(this, arguments) || this
        }
        !function lever_toggle_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDLeverToggle, e);
        var t = HUDLeverToggle.prototype;
        return t.initialize = lever_toggle_initialize,
        t.downPreHandler = _downPreHandler,
        HUDLeverToggle
    }(qt);
    function pinned_shapes_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_PinnedShapes", [])
    }
    function pinned_shapes_serialize() {
        return {
            shapes: this.pinnedShapes
        }
    }
    function pinned_shapes_deserialize(e) {
        if (!e || !e.shapes || !Array.isArray(e.shapes))
            return "Invalid pinned shapes data: " + JSON.stringify(e);
        this.pinnedShapes = e.shapes
    }
    function pinned_shapes_initialize() {
        this.root.signals.storyGoalCompleted.add(this.rerenderFull, this),
        this.root.signals.upgradePurchased.add(this.updateShapesAfterUpgrade, this),
        this.root.signals.postLoadHook.add(this.rerenderFull, this),
        this.root.hud.signals.shapePinRequested.add(this.pinNewShape, this),
        this.root.hud.signals.shapeUnpinRequested.add(this.unpinShape, this),
        this.updateShapesAfterUpgrade()
    }
    function _updateShapesAfterUpg() {
        for (var e = 0; e < this.pinnedShapes.length; ++e) {
            var t = this.pinnedShapes[e];
            t !== this.root.gameMode.getBlueprintShapeKey() && (this.findGoalValueForShape(t) || (this.pinnedShapes.splice(e, 1),
            e -= 1))
        }
        this.rerenderFull()
    }
    function _findGoalValueForShap(e) {
        if (e === this.root.hubGoals.currentGoal.definition.getHash())
            return this.root.hubGoals.currentGoal.required;
        if (e === this.root.gameMode.getBlueprintShapeKey())
            return null;
        var t = this.root.gameMode.getUpgrades();
        for (var r in t) {
            var n = t[r][this.root.hubGoals.getUpgradeLevel(r)];
            if (n)
                for (var i = 0; i < n.required.length; ++i) {
                    var {shape: o, amount: a} = n.required[i];
                    if (o === e)
                        return a
                }
        }
        return null
    }
    function _isShapePinned(e) {
        return e === this.root.hubGoals.currentGoal.definition.getHash() || e === this.root.gameMode.getBlueprintShapeKey() || this.pinnedShapes.indexOf(e) >= 0
    }
    function pinned_shapes_rerenderFull() {
        for (var e = this.root.hubGoals.currentGoal, t = e.definition.getHash(), r = 0; r < this.handles.length; ++r) {
            this.handles[r].element.remove();
            var n = this.handles[r].detector;
            n && n.cleanup();
            var i = this.handles[r].infoDetector;
            i && i.cleanup()
        }
        this.handles = [],
        this.internalPinShape({
            key: t,
            canUnpin: !1,
            className: "goal",
            throughputOnly: e.throughputOnly
        }),
        this.root.hubGoals.isRewardUnlocked(Qe.reward_blueprints) && this.internalPinShape({
            key: this.root.gameMode.getBlueprintShapeKey(),
            canUnpin: !1,
            className: "blueprint"
        });
        for (var o = 0; o < this.pinnedShapes.length; ++o) {
            var a = this.pinnedShapes[o];
            a !== t && this.internalPinShape({
                key: a
            })
        }
    }
    function _internalPinShape({key: e, canUnpin: t=!0, className: r=null, throughputOnly: n=!1}) {
        var i = this.root.shapeDefinitionMgr.getShapeFromShortKey(e)
          , o = Object(p.x)(this.element, null, ["shape"])
          , a = i.generateAsCanvas(120);
        o.appendChild(a),
        r && o.classList.add(r);
        var s, l = null;
        if (t) {
            var c = document.createElement("button");
            c.classList.add("unpinButton"),
            o.appendChild(c),
            o.classList.add("removable"),
            (l = new Nt(c,{
                consumeEvents: !0,
                preventDefault: !0,
                targetOnly: !0
            })).click.add( () => this.unpinShape(e))
        } else
            o.classList.add("marked");
        var u = document.createElement("button");
        u.classList.add("infoButton"),
        o.appendChild(u),
        (s = new Nt(u,{
            consumeEvents: !0,
            preventDefault: !0,
            targetOnly: !0
        })).click.add( () => this.root.hud.signals.viewShapeDetailsRequested.dispatch(i));
        var d = Object(p.x)(o, null, ["amountLabel"], "")
          , h = this.findGoalValueForShape(e);
        h && Object(p.x)(o, null, ["goalLabel"], "/" + Object(p.k)(h)),
        this.handles.push({
            key: e,
            definition: i,
            element: o,
            amountLabel: d,
            lastRenderedValue: "",
            detector: l,
            infoDetector: s,
            throughputOnly: n
        })
    }
    function pinned_shapes_update() {
        for (var e = 0; e < this.handles.length; ++e) {
            var t = this.handles[e]
              , r = this.root.hubGoals.getShapesStoredByKey(t.key)
              , n = Object(p.k)(r);
            if (t.throughputOnly && (r = this.root.productionAnalytics.getCurrentShapeRateRaw(Ge.delivered, t.definition) / g.e.analyticsSliceDurationSeconds,
            n = U.a.ingame.statistics.shapesDisplayUnits.second.replace("<shapes>", String(r))),
            n !== t.lastRenderedValue) {
                t.lastRenderedValue = n,
                t.amountLabel.innerText = n;
                var i = this.findGoalValueForShape(t.key);
                t.element.classList.toggle("completed", i && r > i)
            }
        }
    }
    function _unpinShape(e) {
        console.log("unpin", e),
        Object(p.c)(this.pinnedShapes, e),
        this.rerenderFull()
    }
    function _pinNewShape(e) {
        var t = e.getHash();
        t !== this.root.hubGoals.currentGoal.definition.getHash() && t !== this.root.gameMode.getBlueprintShapeKey() && (this.pinnedShapes.indexOf(t) >= 0 || (this.pinnedShapes.push(t),
        this.rerenderFull()))
    }
    var ia = function(e) {
        function HUDPinnedShapes(t) {
            var r;
            return (r = e.call(this, t) || this).pinnedShapes = [],
            r.handles = [],
            r
        }
        !function pinned_shapes_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPinnedShapes, e);
        var t = HUDPinnedShapes.prototype;
        return t.createElements = pinned_shapes_createElements,
        t.serialize = pinned_shapes_serialize,
        t.deserialize = pinned_shapes_deserialize,
        t.initialize = pinned_shapes_initialize,
        t.updateShapesAfterUpgrade = _updateShapesAfterUpg,
        t.findGoalValueForShape = _findGoalValueForShap,
        t.isShapePinned = _isShapePinned,
        t.rerenderFull = pinned_shapes_rerenderFull,
        t.internalPinShape = _internalPinShape,
        t.update = pinned_shapes_update,
        t.unpinShape = _unpinShape,
        t.pinNewShape = _pinNewShape,
        HUDPinnedShapes
    }(qt)
      , oa = Object(c.a)("screenshot_exporter");
    function screenshot_exporter_createElements() {}
    function screenshot_exporter_initialize() {
        this.root.keyMapper.getBinding(xt.ingame.exportScreenshot).add(this.startExport, this)
    }
    function _startExport() {
        if (this.root.app.restrictionMgr.getIsExportingScreenshotsPossible()) {
            var {ok: e} = this.root.hud.parts.dialogs.showInfo(U.a.dialogs.exportScreenshotWarning.title, U.a.dialogs.exportScreenshotWarning.desc, ["cancel:good", "ok:bad"]);
            e.add(this.doExport, this)
        } else
            this.root.hud.parts.dialogs.showFeatureRestrictionInfo(U.a.demo.features.exportingBase)
    }
    function _doExport() {
        oa.log("Starting export ...");
        for (var e = this.root.entityMgr.getAllWithComponent(P.StaticMapEntityComponent), t = new C.a(0,0), r = new C.a(0,0), n = 0; n < e.length; ++n) {
            var i = e[n].components.StaticMapEntity.getTileSpaceBounds();
            t.x = Math.min(t.x, i.x),
            t.y = Math.min(t.y, i.y),
            r.x = Math.max(r.x, i.x + i.w),
            r.y = Math.max(r.y, i.y + i.h)
        }
        var o = t.divideScalar(g.e.mapChunkSize).floor()
          , a = r.divideScalar(g.e.mapChunkSize).ceil().sub(o);
        oa.log("Dimensions:", a);
        var s = 128
          , l = Math.max(a.x, a.y);
        l > 128 && (s = Math.max(1, Math.floor(128 / l * 128))),
        oa.log("ChunkSizePixels:", s);
        var c = s / g.e.mapChunkWorldSize;
        oa.log("Scale:", c),
        oa.log("Allocating buffer, if the factory grew too big it will crash here");
        var [u,d] = Object(Yo.e)(a.x * s, a.y * s, {
            smooth: !0,
            reusable: !1,
            label: "export-buffer"
        });
        oa.log("Got buffer, rendering now ...");
        var p = new G.a(o.x * g.e.mapChunkWorldSize,o.y * g.e.mapChunkWorldSize,a.x * g.e.mapChunkWorldSize,a.y * g.e.mapChunkWorldSize)
          , h = new K.a({
            context: d,
            visibleRect: p,
            desiredAtlasScale: .25,
            root: this.root,
            zoomLevel: c
        });
        d.scale(c, c),
        d.translate(-p.x, -p.y),
        this.root.map.drawBackground(h),
        this.root.map.drawForeground(h),
        oa.log("Rendered buffer, exporting ...");
        var f = u.toDataURL("image/png")
          , m = document.createElement("a");
        m.download = "base.png",
        m.href = f,
        m.click(),
        oa.log("Done!")
    }
    var aa = function(e) {
        function HUDScreenshotExporter() {
            return e.apply(this, arguments) || this
        }
        !function screenshot_exporter_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDScreenshotExporter, e);
        var t = HUDScreenshotExporter.prototype;
        return t.createElements = screenshot_exporter_createElements,
        t.initialize = screenshot_exporter_initialize,
        t.startExport = _startExport,
        t.doExport = _doExport,
        HUDScreenshotExporter
    }(qt)
      , sa = r(84)
      , la = 4;
    function wires_overlay_createElements(e) {}
    function wires_overlay_initialize() {
        this.root.keyMapper.getBinding(xt.ingame.switchLayers).add(this.switchLayers, this),
        this.root.keyMapper.getBinding(xt.placement.copyWireValue).add(this.copyWireValue, this),
        this.generateTilePattern(),
        this.currentAlpha = 0
    }
    function _switchLayers() {
        this.root.gameMode.getSupportsWires() && ("regular" === this.root.currentLayer ? this.root.hubGoals.isRewardUnlocked(Qe.reward_wires_painter_and_levers) && (this.root.currentLayer = "wires") : this.root.currentLayer = "regular",
        this.root.signals.editModeChanged.dispatch(this.root.currentLayer))
    }
    function _generateTilePattern() {
        var e = w.a.getSprite("sprites/wires/overlay_tile.png")
          , t = 32 * la
          , [r,n] = Object(Yo.e)(t, t, {
            smooth: !1,
            reusable: !1,
            label: "wires-tile-pattern"
        });
        n.clearRect(0, 0, t, t),
        e.draw(n, 0, 0, t, t),
        this.tilePatternCanvas = r
    }
    function wires_overlay_update() {
        var e = "wires" === this.root.currentLayer ? 1 : 0;
        this.root.entityMgr.entities.length > 5e3 || this.root.dynamicTickrate.averageFps < 50 ? this.currentAlpha = e : this.currentAlpha = Object(p.u)(this.currentAlpha, e, .12)
    }
    function _copyWireValue() {
        if ("wires" === this.root.currentLayer) {
            var e = this.root.app.mousePosition;
            if (e) {
                var t = this.root.camera.screenToWorld(e).toTileSpace()
                  , r = this.root.map.getLayerContentXY(t.x, t.y, "wires");
                if (r) {
                    var n = null;
                    if (r.components.Wire) {
                        var i = r.components.Wire.linkedNetwork;
                        i && i.hasValue() && (n = i.currentValue)
                    }
                    r.components.ConstantSignal && (n = r.components.ConstantSignal.signal),
                    n ? (sa(n.getAsCopyableKey()),
                    this.root.soundProxy.playUi(k.copy)) : (sa(""),
                    this.root.soundProxy.playUiError())
                }
            }
        }
    }
    function wires_overlay_draw(e) {
        if (!(this.currentAlpha < .02)) {
            var t = !this.root.app.settings.getAllSettings().disableTileGrid;
            t && !this.cachedPatternBackground && (this.cachedPatternBackground = e.context.createPattern(this.tilePatternCanvas, "repeat"));
            var r = e.visibleRect;
            e.context.globalAlpha = this.currentAlpha;
            var n = 1 / la;
            e.context.globalCompositeOperation = "overlay",
            e.context.fillStyle = "rgba(50, 200, 150, 1)",
            e.context.fillRect(r.x, r.y, r.w, r.h),
            e.context.globalCompositeOperation = "source-over",
            e.context.scale(n, n),
            e.context.fillStyle = t ? this.cachedPatternBackground : "rgba(78, 137, 125, 0.75)",
            e.context.fillRect(r.x / n, r.y / n, r.w / n, r.h / n),
            e.context.scale(1 / n, 1 / n),
            e.context.globalAlpha = 1
        }
    }
    var ca = function(e) {
        function HUDWiresOverlay() {
            return e.apply(this, arguments) || this
        }
        !function wires_overlay_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDWiresOverlay, e);
        var t = HUDWiresOverlay.prototype;
        return t.createElements = wires_overlay_createElements,
        t.initialize = wires_overlay_initialize,
        t.switchLayers = _switchLayers,
        t.generateTilePattern = _generateTilePattern,
        t.update = wires_overlay_update,
        t.copyWireValue = _copyWireValue,
        t.draw = wires_overlay_draw,
        HUDWiresOverlay
    }(qt)
      , ua = r(84);
    function shape_viewer_createElements(e) {
        this.background = Object(p.x)(e, "ingame_HUD_ShapeViewer", ["ingameDialog"]),
        this.dialogInner = Object(p.x)(this.background, null, ["dialogInner"]),
        this.title = Object(p.x)(this.dialogInner, null, ["title"], U.a.ingame.shapeViewer.title),
        this.closeButton = Object(p.x)(this.title, null, ["closeButton"]),
        this.trackClicks(this.closeButton, this.close),
        this.contentDiv = Object(p.x)(this.dialogInner, null, ["content"]),
        this.renderArea = Object(p.x)(this.contentDiv, null, ["renderArea"]),
        this.infoArea = Object(p.x)(this.contentDiv, null, ["infoArea"]),
        this.copyButton = document.createElement("button"),
        this.copyButton.classList.add("styledButton", "copyKey"),
        this.copyButton.innerText = U.a.ingame.shapeViewer.copyKey,
        this.infoArea.appendChild(this.copyButton)
    }
    function shape_viewer_initialize() {
        this.root.hud.signals.viewShapeDetailsRequested.add(this.renderForShape, this),
        this.domAttach = new Ut(this.root,this.background,{
            attachClass: "visible"
        }),
        this.currentShapeKey = null,
        this.inputReciever = new Kt("shape_viewer"),
        this.keyActionMapper = new Rt(this.root,this.inputReciever),
        this.keyActionMapper.getBinding(xt.general.back).add(this.close, this),
        this.trackClicks(this.copyButton, this.onCopyKeyRequested),
        this.close()
    }
    function shape_viewer_isBlockingOverlay() {
        return this.visible
    }
    function _onCopyKeyRequested() {
        this.currentShapeKey && (ua(this.currentShapeKey),
        this.close())
    }
    function shape_viewer_close() {
        this.visible = !1,
        this.root.app.inputMgr.makeSureDetached(this.inputReciever),
        this.update()
    }
    function _renderForShape(e) {
        this.visible = !0,
        this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever),
        Object(p.C)(this.renderArea),
        this.currentShapeKey = e.getHash();
        var t = e.layers;
        this.contentDiv.setAttribute("data-layers", t.length);
        for (var r = t.length - 1; r >= 0; --r) {
            for (var n = Object(p.x)(this.renderArea, null, ["layer", "layer-" + r]), i = [], o = 0; o < r; ++o)
                i.push([null, null, null, null]);
            i.push(t[r]);
            var a = new R.b({
                layers: i
            }).generateAsCanvas(160);
            n.appendChild(a);
            for (var s = 0; s < 4; ++s) {
                var l = Object(p.x)(n, null, ["quad", "quad-" + s])
                  , c = t[r][s];
                c ? Object(p.x)(l, null, ["colorLabel"], U.a.ingame.colors[c.color]) : Object(p.x)(l, null, ["emptyLabel"], U.a.ingame.shapeViewer.empty)
            }
        }
    }
    function shape_viewer_update() {
        this.domAttach.update(this.visible)
    }
    var da = function(e) {
        function HUDShapeViewer() {
            return e.apply(this, arguments) || this
        }
        !function shape_viewer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDShapeViewer, e);
        var t = HUDShapeViewer.prototype;
        return t.createElements = shape_viewer_createElements,
        t.initialize = shape_viewer_initialize,
        t.isBlockingOverlay = shape_viewer_isBlockingOverlay,
        t.onCopyKeyRequested = _onCopyKeyRequested,
        t.close = shape_viewer_close,
        t.renderForShape = _renderForShape,
        t.update = shape_viewer_update,
        HUDShapeViewer
    }(qt);
    function layer_preview_initialize() {
        this.initializeCanvas(),
        this.root.signals.aboutToDestruct.add( () => Object(Yo.d)(this.canvas)),
        this.root.signals.resized.add(this.initializeCanvas, this),
        this.previewOverlay = w.a.getSprite("sprites/wires/wires_preview.png")
    }
    function _initializeCanvas() {
        this.canvas && (Object(Yo.d)(this.canvas),
        delete this.canvas,
        delete this.context),
        this.previewSize = Math.round(Math.min(1024, .8 * Math.min(this.root.gameWidth, this.root.gameHeight)));
        var [e,t] = Object(Yo.e)(this.previewSize, this.previewSize, {
            smooth: !0,
            label: "layerPeeker",
            reusable: !0
        });
        t.clearRect(0, 0, this.previewSize, this.previewSize),
        this.canvas = e,
        this.context = t
    }
    function _prepareCanvasForPrev(e, t) {
        this.context.clearRect(0, 0, this.previewSize, this.previewSize),
        this.context.fillStyle = J.a.map.wires.previewColor,
        this.context.fillRect(0, 0, this.previewSize, this.previewSize);
        var r = t * this.previewSize
          , n = e.x - r / 2
          , i = e.y - r / 2
          , o = Math.floor(n / 32)
          , a = Math.floor(i / 32)
          , s = Math.ceil(r / 32);
        this.context.save(),
        this.context.scale(1 / t, 1 / t),
        this.context.translate(32 * o - n, 32 * a - i);
        for (var l = 0; l < s; ++l)
            for (var c = 0; c < s; ++c) {
                var u = l + o
                  , d = c + a
                  , p = this.root.map.getLayerContentXY(u, d, "wires");
                p && ae.drawSingleWiresOverviewTile({
                    context: this.context,
                    x: 32 * l,
                    y: 32 * c,
                    entity: p,
                    tileSizePixels: 32
                })
            }
        return this.context.restore(),
        this.context.globalCompositeOperation = "destination-in",
        this.previewOverlay.draw(this.context, 0, 0, this.previewSize, this.previewSize),
        this.context.globalCompositeOperation = "source-over",
        this.canvas
    }
    function _renderPreview(e, t, r) {
        if ("regular" === this.root.currentLayer) {
            var n = this.prepareCanvasForPreview(t, r);
            e.context.globalAlpha = .3,
            e.context.drawImage(n, t.x - r * this.previewSize / 2, t.y - r * this.previewSize / 2, r * this.previewSize, r * this.previewSize),
            e.context.globalAlpha = 1
        }
    }
    var pa = function(e) {
        function HUDLayerPreview() {
            return e.apply(this, arguments) || this
        }
        !function layer_preview_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDLayerPreview, e);
        var t = HUDLayerPreview.prototype;
        return t.initialize = layer_preview_initialize,
        t.initializeCanvas = _initializeCanvas,
        t.prepareCanvasForPreview = _prepareCanvasForPrev,
        t.renderPreview = _renderPreview,
        HUDLayerPreview
    }(qt);
    function tutorial_video_offer_createElements() {}
    function tutorial_video_offer_initialize() {
        this.root.hud.signals.unlockNotificationFinished.add( () => {
            var e = this.root.hubGoals.level
              , t = g.d.levelTutorialVideos[e];
            if (t) {
                var r = "en" !== this.root.app.settings.getLanguage() ? U.a.dialogs.tutorialVideoAvailableForeignLanguage : U.a.dialogs.tutorialVideoAvailable
                  , {ok: n} = this.root.hud.parts.dialogs.showInfo(r.title, r.desc, ["cancel:bad", "ok:good"]);
                this.root.app.analytics.trackUiClick("ingame_video_link_show_" + e),
                n.add( () => {
                    this.root.app.platformWrapper.openExternalLink(t),
                    this.root.app.analytics.trackUiClick("ingame_video_link_open_" + e)
                }
                )
            }
        }
        )
    }
    var ha = function(e) {
        function HUDTutorialVideoOffer() {
            return e.apply(this, arguments) || this
        }
        !function tutorial_video_offer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDTutorialVideoOffer, e);
        var t = HUDTutorialVideoOffer.prototype;
        return t.createElements = tutorial_video_offer_createElements,
        t.initialize = tutorial_video_offer_initialize,
        HUDTutorialVideoOffer
    }(qt);
    function miner_highlight_initialize() {}
    function miner_highlight_draw(e) {
        var t = this.root.app.mousePosition;
        if (t && "regular" === this.root.currentLayer && !this.root.camera.getIsMapOverlayActive()) {
            var r = this.root.camera.screenToWorld(t).toTileSpace()
              , n = this.root.map.getTileContent(r, "regular");
            if (n) {
                var i = n.components.Miner;
                if (i && i.chainable && this.root.map.getLowerLayerContentXY(r.x, r.y)) {
                    e.context.fillStyle = J.a.map.connectedMiners.overlay;
                    for (var o = this.findConnectedMiners(n), a = 0; a < o.length; ++a) {
                        var s = o[a].components.StaticMapEntity;
                        e.context.beginRoundedRect(32 * s.origin.x + 5, 32 * s.origin.y + 5, 22, 22, 3),
                        e.context.fill()
                    }
                    var l = Object(p.F)(o.length * this.root.hubGoals.getMinerBaseSpeed())
                      , c = this.root.hubGoals.getBeltBaseSpeed()
                      , u = this.root.camera.screenToWorld(t)
                      , d = 1 / this.root.camera.zoomLevel * this.root.app.getEffectiveUiScale()
                      , h = l > c;
                    e.context.fillStyle = J.a.map.connectedMiners.background,
                    e.context.beginRoundedRect(u.x + 5 * d, u.y - 3 * d, (h ? 100 : 65) * d, (h ? 45 : 30) * d, 2),
                    e.context.fill(),
                    e.context.fillStyle = J.a.map.connectedMiners.textColor,
                    e.context.font = "bold " + 10 * d + "px GameFont",
                    e.context.fillText(Object(p.m)(l), u.x + 10 * d, u.y + 10 * d),
                    e.context.globalAlpha = .6,
                    e.context.font = "bold " + 8 * d + "px GameFont",
                    e.context.fillText(1 === o.length ? U.a.ingame.connectedMiners.one_miner : U.a.ingame.connectedMiners.n_miners.replace("<amount>", String(o.length)), u.x + 10 * d, u.y + 22 * d),
                    e.context.globalAlpha = 1,
                    h && (e.context.fillStyle = J.a.map.connectedMiners.textColorCapped,
                    e.context.fillText(U.a.ingame.connectedMiners.limited_items.replace("<max_throughput>", Object(p.m)(c)), u.x + 10 * d, u.y + 34 * d))
                }
            }
        }
    }
    function _findConnectedMiners(e, t=new Set) {
        var r = []
          , n = e.components.StaticMapEntity.origin;
        t.has(e.uid) || (t.add(e.uid),
        r.push(e));
        var i = this.root.systemMgr.systems.miner.findChainedMiner(e);
        i && !t.has(i.uid) && (r.push(i),
        t.add(i.uid),
        r.push(...this.findConnectedMiners(i, t)));
        for (var o = -1; o <= 1; ++o)
            for (var a = -1; a <= 1; ++a) {
                var s = this.root.map.getTileContent(new C.a(n.x + o,n.y + a), "regular");
                if (s) {
                    var l = s.components.Miner;
                    l && l.chainable && (t.has(s.uid) || this.root.systemMgr.systems.miner.findChainedMiner(s) === e && (r.push(s),
                    t.add(s.uid),
                    r.push(...this.findConnectedMiners(s, t))))
                }
            }
        return r
    }
    var ga = function(e) {
        function HUDMinerHighlight() {
            return e.apply(this, arguments) || this
        }
        !function miner_highlight_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDMinerHighlight, e);
        var t = HUDMinerHighlight.prototype;
        return t.initialize = miner_highlight_initialize,
        t.draw = miner_highlight_draw,
        t.findConnectedMiners = _findConnectedMiners,
        HUDMinerHighlight
    }(qt);
    function game_menu_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_GameMenu");
        var t = [{
            id: "shop",
            label: "Upgrades",
            handler: () => this.root.hud.parts.shop.show(),
            keybinding: xt.ingame.menuOpenShop,
            badge: () => this.root.hubGoals.getAvailableUpgradeCount(),
            notification: [U.a.ingame.notifications.newUpgrade, To.upgrade],
            visible: () => !this.root.app.settings.getAllSettings().offerHints || this.root.hubGoals.level >= 3
        }, {
            id: "stats",
            label: "Stats",
            handler: () => this.root.hud.parts.statistics.show(),
            keybinding: xt.ingame.menuOpenStats,
            visible: () => !this.root.app.settings.getAllSettings().offerHints || this.root.hubGoals.level >= 3
        }];
        this.badgesToUpdate = [],
        this.visibilityToUpdate = [],
        t.forEach( ({id: e, label: t, handler: r, keybinding: n, badge: i, notification: o, visible: a}) => {
            var s = document.createElement("button");
            if (s.classList.add(e),
            this.element.appendChild(s),
            this.trackClicks(s, r),
            n && this.root.keyMapper.getBinding(n).add(r),
            a && this.visibilityToUpdate.push({
                button: s,
                condition: a,
                domAttach: new Ut(this.root,s)
            }),
            i) {
                var l = Object(p.x)(s, null, ["badge"]);
                this.badgesToUpdate.push({
                    badge: i,
                    lastRenderAmount: 0,
                    button: s,
                    badgeElement: l,
                    notification: o,
                    condition: a
                })
            }
        }
        ),
        this.saveButton = Object(p.x)(this.element, null, ["button", "save", "animEven"]),
        this.settingsButton = Object(p.x)(this.element, null, ["button", "settings"]),
        this.trackClicks(this.saveButton, this.startSave),
        this.trackClicks(this.settingsButton, this.openSettings)
    }
    function game_menu_initialize() {
        this.root.signals.gameSaved.add(this.onGameSaved, this),
        this.trackedIsSaving = new Dt(this.onIsSavingChanged,this)
    }
    function game_menu_update() {
        var e = !1
          , t = new Set;
        this.trackedIsSaving.set(!!this.root.gameState.currentSavePromise);
        for (var r = 0; r < this.visibilityToUpdate.length; ++r) {
            var {condition: n, domAttach: i} = this.visibilityToUpdate[r];
            i.update(n())
        }
        for (var o = 0; o < this.badgesToUpdate.length; ++o) {
            var {badge: a, button: s, badgeElement: l, lastRenderAmount: c, notification: u, condition: d} = this.badgesToUpdate[o];
            if (!d || d()) {
                var p = a();
                c !== p && (p > 0 && (l.innerText = p),
                p > c && (e = !0,
                u && t.add(u)),
                this.badgesToUpdate[o].lastRenderAmount = p,
                s.classList.toggle("hasBadge", p > 0))
            }
        }
        e && this.root.soundProxy.playUi(k.badgeNotification),
        t.forEach( ([e,t]) => {
            this.root.hud.signals.notification.dispatch(e, t)
        }
        )
    }
    function _onIsSavingChanged(e) {
        this.saveButton.classList.toggle("saving", e)
    }
    function _onGameSaved() {
        this.saveButton.classList.toggle("animEven"),
        this.saveButton.classList.toggle("animOdd")
    }
    function _startSave() {
        this.root.gameState.doSave()
    }
    function _openSettings() {
        this.root.hud.parts.settingsMenu.show()
    }
    var fa = function(e) {
        function HUDGameMenu() {
            return e.apply(this, arguments) || this
        }
        !function game_menu_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDGameMenu, e);
        var t = HUDGameMenu.prototype;
        return t.createElements = game_menu_createElements,
        t.initialize = game_menu_initialize,
        t.update = game_menu_update,
        t.onIsSavingChanged = _onIsSavingChanged,
        t.onGameSaved = _onGameSaved,
        t.startSave = _startSave,
        t.openSettings = _openSettings,
        HUDGameMenu
    }(qt)
      , ma = (r(270),
    r(70))
      , ya = r.n(ma);
    function constant_signal_edit_initialize() {
        this.root.camera.downPreHandler.add(this.downPreHandler, this)
    }
    function constant_signal_edit_downPreHandler(e, t) {
        if ("wires" === this.root.currentLayer) {
            var r = this.root.camera.screenToWorld(e).toTileSpace()
              , n = this.root.map.getLayerContentXY(r.x, r.y, "wires");
            if (n && n.components.ConstantSignal && t === Wo.left)
                return this.editConstantSignal(n, {
                    deleteOnCancel: !1
                }),
                v.a
        }
    }
    function _editConstantSignal(e, {deleteOnCancel: t=!0}) {
        if (e.components.ConstantSignal) {
            var r = e.uid
              , n = e.components.ConstantSignal.signal
              , i = new Yt({
                id: "signalValue",
                label: Object(p.i)(U.a.dialogs.editSignal.descShortKey, g.d.shapeViewer),
                placeholder: "",
                defaultValue: n ? n.getAsCopyableKey() : "",
                validator: t => this.parseSignalCode(e, t)
            })
              , o = [...Object.values(H.a)];
            e.components.WiredPins ? (o.unshift(we.a, we.b),
            o.push(this.root.shapeDefinitionMgr.getShapeItemFromShortKey(this.root.gameMode.getBlueprintShapeKey()))) : o.unshift(...["CuCuCuCu", "RuRuRuRu", "WuWuWuWu", "SuSuSuSu"].reverse().map(e => this.root.shapeDefinitionMgr.getShapeItemFromShortKey(e))),
            this.root.gameMode.hasHub() && o.push(this.root.shapeDefinitionMgr.getShapeItemFromDefinition(this.root.hubGoals.currentGoal.definition)),
            this.root.hud.parts.pinnedShapes && o.push(...this.root.hud.parts.pinnedShapes.pinnedShapes.map(e => this.root.shapeDefinitionMgr.getShapeItemFromShortKey(e)));
            var a = new Jt({
                id: "signalItem",
                label: null,
                items: o
            })
              , s = new nr({
                app: this.root.app,
                title: U.a.dialogs.editConstantProducer.title,
                desc: U.a.dialogs.editSignal.descItems,
                formElements: [a, i],
                buttons: ["cancel:bad:escape", "ok:good:enter"],
                closeButton: !1
            });
            this.root.hud.parts.dialogs.internalShowDialog(s);
            var l = () => {
                if (this.root && this.root.entityMgr) {
                    var t = this.root.entityMgr.findByUid(r, !1);
                    if (t) {
                        var n = t.components.ConstantSignal;
                        n && (a.chosenItem ? n.signal = a.chosenItem : n.signal = this.parseSignalCode(e, i.getValue()))
                    }
                }
            }
            ;
            s.buttonSignals.ok.add( () => {
                l()
            }
            ),
            s.valueChosen.add( () => {
                s.closeRequested.dispatch(),
                l()
            }
            ),
            t && s.buttonSignals.cancel.add( () => {
                if (this.root && this.root.entityMgr) {
                    var e = this.root.entityMgr.findByUid(r, !1);
                    e && e.components.ConstantSignal && this.root.logic.tryDeleteBuilding(e)
                }
            }
            )
        }
    }
    function _parseSignalCode(e, t) {
        if (!this.root || !this.root.shapeDefinitionMgr)
            return null;
        var r = (t = ya()(t)).toLowerCase();
        if (V.c[r])
            return H.a[r];
        if (e.components.WiredPins) {
            if ("1" === t || "true" === r)
                return we.b;
            if ("0" === t || "false" === r)
                return we.a
        }
        return R.b.isValidShortKey(t) ? this.root.shapeDefinitionMgr.getShapeItemFromShortKey(t) : null
    }
    var _a = function(e) {
        function HUDConstantSignalEdit() {
            return e.apply(this, arguments) || this
        }
        !function constant_signal_edit_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDConstantSignalEdit, e);
        var t = HUDConstantSignalEdit.prototype;
        return t.initialize = constant_signal_edit_initialize,
        t.downPreHandler = constant_signal_edit_downPreHandler,
        t.editConstantSignal = _editConstantSignal,
        t.parseSignalCode = _parseSignalCode,
        HUDConstantSignalEdit
    }(qt);
    function keybinding_overlay_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    var va = "/"
      , ba = "+";
    function keybinding_overlay_createElements(e) {
        var t = this.root.keyMapper
          , r = xt;
        this.keybindings = [{
            label: U.a.ingame.keybindingsOverlay.moveMap,
            keys: [Mt, va, r.navigation.mapMoveUp, r.navigation.mapMoveLeft, r.navigation.mapMoveDown, r.navigation.mapMoveRight],
            condition: () => !this.anyPlacementActive
        }, {
            label: U.a.ingame.keybindingsOverlay.moveMap,
            keys: [r.navigation.mapMoveUp, r.navigation.mapMoveLeft, r.navigation.mapMoveDown, r.navigation.mapMoveRight],
            condition: () => this.anyPlacementActive
        }, {
            label: U.a.ingame.keybindingsOverlay.createMarker,
            keys: [zt],
            condition: () => this.mapOverviewActive && !this.blueprintPlacementActive
        }, {
            label: U.a.ingame.keybindingsOverlay.stopPlacement,
            keys: [zt],
            condition: () => this.anyPlacementActive
        }, {
            label: U.a.ingame.keybindingsOverlay.delete,
            keys: [zt],
            condition: () => !this.anyPlacementActive && !this.mapOverviewActive && !this.anythingSelectedOnMap
        }, {
            label: U.a.ingame.keybindingsOverlay.pipette,
            keys: [r.placement.pipette],
            condition: () => !this.mapOverviewActive && !this.blueprintPlacementActive
        }, {
            label: U.a.ingame.keybindingsOverlay.selectBuildings,
            keys: [r.massSelect.massSelectStart, ba, Mt],
            condition: () => !this.anyPlacementActive && !this.anythingSelectedOnMap
        }, {
            label: U.a.ingame.keybindingsOverlay.placeBuilding,
            keys: [Mt],
            condition: () => this.anyPlacementActive
        }, {
            label: U.a.ingame.keybindingsOverlay.rotateBuilding,
            keys: [r.placement.rotateWhilePlacing],
            condition: () => this.anyPlacementActive && !this.beltPlannerActive
        }, {
            label: U.a.ingame.keybindingsOverlay.plannerSwitchSide,
            keys: [r.placement.switchDirectionLockSide],
            condition: () => this.beltPlannerActive
        }, {
            label: U.a.ingame.keybindingsOverlay.pasteLastBlueprint,
            keys: [r.massSelect.pasteLastBlueprint],
            condition: () => !this.blueprintPlacementActive && this.lastBlueprintAvailable
        }, {
            label: U.a.ingame.keybindingsOverlay.lockBeltDirection,
            keys: [r.placementModifiers.lockBeltDirection],
            condition: () => this.buildingPlacementSupportsBeltPlanner && !this.beltPlannerActive
        }, {
            label: U.a.ingame.keybindingsOverlay.delete,
            keys: [r.massSelect.confirmMassDelete],
            condition: () => this.anythingSelectedOnMap
        }, {
            label: U.a.ingame.keybindingsOverlay.clearSelection,
            keys: [r.general.back],
            condition: () => this.anythingSelectedOnMap
        }, {
            label: U.a.ingame.keybindingsOverlay.cutSelection,
            keys: [r.massSelect.massSelectCut],
            condition: () => this.anythingSelectedOnMap
        }, {
            label: U.a.ingame.keybindingsOverlay.copySelection,
            keys: [r.massSelect.massSelectCopy],
            condition: () => this.anythingSelectedOnMap
        }, {
            label: U.a.ingame.keybindingsOverlay.clearBelts,
            keys: [r.massSelect.massSelectClear],
            condition: () => this.anythingSelectedOnMap
        }, {
            label: U.a.ingame.keybindingsOverlay.switchLayers,
            keys: [r.ingame.switchLayers],
            condition: () => this.root.hubGoals.isRewardUnlocked(Qe.reward_wires_painter_and_levers)
        }],
        this.root.app.settings.getAllSettings().alwaysMultiplace || this.keybindings.push({
            label: U.a.ingame.keybindingsOverlay.placeMultiple,
            keys: [r.placementModifiers.placeMultiple],
            condition: () => this.anyPlacementActive && !this.buildingPlacementStaysInPlacement
        }),
        this.element = Object(p.x)(e, "ingame_HUD_KeybindingOverlay", []);
        for (var n = 0; n < this.keybindings.length; ++n) {
            for (var i = "", o = this.keybindings[n], a = 0; a < o.keys.length; ++a) {
                var s = o.keys[a];
                switch (s) {
                case Mt:
                    i += '<code class="keybinding leftMouse"></code>';
                    break;
                case zt:
                    i += '<code class="keybinding rightMouse"></code>';
                    break;
                case Ot:
                    i += '<code class="keybinding middleMouse"></code>';
                    break;
                case va:
                    i += "<i></i>";
                    break;
                case ba:
                    i += "+";
                    break;
                default:
                    i += '<code class="keybinding">' + getStringForKeyCode(t.getBinding(s).keyCode) + "</code>"
                }
            }
            i += "<label>" + o.label + "</label>",
            o.cachedElement = Object(p.x)(this.element, null, ["binding"], i),
            o.cachedVisibility = !1
        }
    }
    function keybinding_overlay_initialize() {
        this.domAttach = new Ut(this.root,this.element,{
            trackHover: !0
        })
    }
    function keybinding_overlay_update() {
        for (var e = 0; e < this.keybindings.length; ++e) {
            var t = this.keybindings[e]
              , r = t.condition();
            r !== t.cachedVisibility && (t.cachedVisibility = r,
            t.cachedElement.classList.toggle("visible", r))
        }
        this.domAttach.update(!0)
    }
    function keybinding_overlay_ref() {
        var e = this.root.hud.parts.buildingPlacer;
        return !this.mapOverviewActive && e && !!e.currentMetaBuilding.get()
    }
    function keybinding_overlay_ref2() {
        var e = this.root.hud.parts.buildingPlacer;
        return !this.mapOverviewActive && e && e.currentMetaBuilding.get() && e.currentMetaBuilding.get().getHasDirectionLockAvailable()
    }
    function keybinding_overlay_ref3() {
        var e = this.root.hud.parts.buildingPlacer;
        return !this.mapOverviewActive && e && e.currentMetaBuilding.get() && e.currentMetaBuilding.get().getStayInPlacementMode()
    }
    function keybinding_overlay_ref4() {
        var e = this.root.hud.parts.blueprintPlacer;
        return e && !!e.currentBlueprint.get()
    }
    function keybinding_overlay_ref5() {
        var e = this.root.hud.parts.buildingPlacer;
        return !this.mapOverviewActive && e && e.isDirectionLockActive
    }
    function keybinding_overlay_ref6() {
        var e = this.root.hud.parts.blueprintPlacer;
        return e && !!e.lastBlueprintUsed
    }
    function keybinding_overlay_ref7() {
        var e = this.root.hud.parts.massSelector;
        return e && e.selectedUids.size > 0
    }
    function keybinding_overlay_ref8() {
        return this.buildingPlacementActive || this.blueprintPlacementActive
    }
    function keybinding_overlay_ref9() {
        return this.root.camera.getIsMapOverlayActive()
    }
    var wa = function(e) {
        function HUDKeybindingOverlay() {
            return e.apply(this, arguments) || this
        }
        !function keybinding_overlay_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDKeybindingOverlay, e);
        var t = HUDKeybindingOverlay.prototype;
        return t.createElements = keybinding_overlay_createElements,
        t.initialize = keybinding_overlay_initialize,
        t.update = keybinding_overlay_update,
        function keybinding_overlay_createClass(e, t, r) {
            t && keybinding_overlay_defineProperties(e.prototype, t),
            r && keybinding_overlay_defineProperties(e, r)
        }(HUDKeybindingOverlay, [{
            key: "buildingPlacementActive",
            get: keybinding_overlay_ref
        }, {
            key: "buildingPlacementSupportsBeltPlanner",
            get: keybinding_overlay_ref2
        }, {
            key: "buildingPlacementStaysInPlacement",
            get: keybinding_overlay_ref3
        }, {
            key: "blueprintPlacementActive",
            get: keybinding_overlay_ref4
        }, {
            key: "beltPlannerActive",
            get: keybinding_overlay_ref5
        }, {
            key: "lastBlueprintAvailable",
            get: keybinding_overlay_ref6
        }, {
            key: "anythingSelectedOnMap",
            get: keybinding_overlay_ref7
        }, {
            key: "anyPlacementActive",
            get: keybinding_overlay_ref8
        }, {
            key: "mapOverviewActive",
            get: keybinding_overlay_ref9
        }]),
        HUDKeybindingOverlay
    }(qt);
    function watermark_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_Watermark", [], "\n            <strong>" + U.a.ingame.watermark.title + "</strong>\n            <p>" + U.a.ingame.watermark.desc + "</p>\n        "),
        this.linkElement = Object(p.x)(e, "ingame_HUD_WatermarkClicker", [], U.a.ingame.watermark.get_on_steam),
        this.trackClicks(this.linkElement, () => {
            this.root.app.analytics.trackUiClick("watermark_click_2_direct"),
            this.root.app.platformWrapper.openExternalLink(g.d.stanaloneCampaignLink + "/cmg_shapez_watermark")
        }
        )
    }
    function watermark_initialize() {
        this.trackClicks(this.element, this.onWatermarkClick),
        this.domAttach = new Ut(this.root,this.element,{
            attachClass: "visible",
            timeToKeepSeconds: .5
        })
    }
    function watermark_update() {}
    function _onWatermarkClick() {
        this.root.app.analytics.trackUiClick("watermark_click_2_new"),
        this.root.hud.parts.standaloneAdvantages.show()
    }
    function watermark_drawOverlays(e) {}
    var Sa = function(e) {
        function HUDWatermark() {
            return e.apply(this, arguments) || this
        }
        !function watermark_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDWatermark, e);
        var t = HUDWatermark.prototype;
        return t.createElements = watermark_createElements,
        t.initialize = watermark_initialize,
        t.update = watermark_update,
        t.onWatermarkClick = _onWatermarkClick,
        t.drawOverlays = watermark_drawOverlays,
        HUDWatermark
    }(qt);
    function standalone_advantages_ref([e,t]) {
        return '<div class="point ' + e + '"><strong>' + t.title + "</strong><p>" + t.desc + "</p></div>"
    }
    function standalone_advantages_createElements(e) {
        this.background = Object(p.x)(e, "ingame_HUD_StandaloneAdvantages", ["ingameDialog"]),
        this.dialogInner = Object(p.x)(this.background, null, ["dialogInner"]),
        this.title = Object(p.x)(this.dialogInner, null, ["title"], U.a.ingame.standaloneAdvantages.title),
        this.contentDiv = Object(p.x)(this.dialogInner, null, ["content"], '\n            <div class="points">\n                ' + Object.entries(U.a.ingame.standaloneAdvantages.points).map(standalone_advantages_ref).join("") + '\n\n            </div>\n\n            <div class="lowerBar">\n            <button class="steamLinkButton ' + g.a + '"></button>\n            <button class="otherCloseButton styledButton">' + U.a.ingame.standaloneAdvantages.no_thanks + "</button>\n            </div>\n        "),
        this.trackClicks(this.contentDiv.querySelector("button.steamLinkButton"), () => {
            this.root.app.analytics.trackUiClick("standalone_advantage_visit_steam"),
            this.root.app.platformWrapper.openExternalLink(g.d.stanaloneCampaignLink + "/cmg_shapez_std_advg"),
            this.close()
        }
        ),
        this.trackClicks(this.contentDiv.querySelector("button.otherCloseButton"), () => {
            this.root.app.analytics.trackUiClick("standalone_advantage_no_thanks"),
            this.close()
        }
        )
    }
    function standalone_advantages_initialize() {
        this.domAttach = new Ut(this.root,this.background,{
            attachClass: "visible"
        }),
        this.inputReciever = new Kt("standalone-advantages"),
        this.close(),
        this.lastShown = -1e10,
        this.root.signals.gameRestored.add( () => {
            this.root.hubGoals.level > 14 && this.show()
        }
        )
    }
    function standalone_advantages_show() {
        this.lastShown = this.root.time.now(),
        this.visible = !0,
        this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever)
    }
    function standalone_advantages_close() {
        this.visible = !1,
        this.root.app.inputMgr.makeSureDetached(this.inputReciever),
        this.update()
    }
    function standalone_advantages_update() {
        this.domAttach.update(this.visible)
    }
    var Ca = function(e) {
        function HUDStandaloneAdvantages() {
            return e.apply(this, arguments) || this
        }
        !function standalone_advantages_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDStandaloneAdvantages, e);
        var t = HUDStandaloneAdvantages.prototype;
        return t.createElements = standalone_advantages_createElements,
        t.initialize = standalone_advantages_initialize,
        t.show = standalone_advantages_show,
        t.close = standalone_advantages_close,
        t.update = standalone_advantages_update,
        HUDStandaloneAdvantages
    }(qt)
      , Aa = 4200
      , ka = 5;
    function cat_memes_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_CatMemes")
    }
    function cat_memes_initialize() {
        this.domAttach = new Ut(this.root,this.element)
    }
    function cat_memes_update() {
        var e = this.root.time.realtimeNow();
        this.domAttach.update(e % Aa > Aa - ka)
    }
    var Ea = function(e) {
        function HUDCatMemes() {
            return e.apply(this, arguments) || this
        }
        !function cat_memes_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDCatMemes, e);
        var t = HUDCatMemes.prototype;
        return t.createElements = cat_memes_createElements,
        t.initialize = cat_memes_initialize,
        t.update = cat_memes_update,
        HUDCatMemes
    }(qt)
      , Ia = [2, 3, 4, 5, 6, 7, 9, 10, 11];
    function tutorial_hints_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_TutorialHints", [], '\n        <div class="header">\n            <span>' + U.a.ingame.tutorialHints.title + '</span>\n            <button class="styledButton toggleHint">\n                <span class="show">' + U.a.ingame.tutorialHints.showHint + '</span>\n                <span class="hide">' + U.a.ingame.tutorialHints.hideHint + '</span>\n            </button>\n        </div>\n\n        <video autoplay muted loop class="fullscreenBackgroundVideo">\n            <source type="video/webm">\n        </video>\n        '),
        this.videoElement = this.element.querySelector("video")
    }
    function tutorial_hints_shouldPauseGame() {
        return this.enlarged
    }
    function tutorial_hints_initialize() {
        this.trackClicks(this.element.querySelector(".toggleHint"), this.toggleHintEnlarged),
        this.videoAttach = new Ut(this.root,this.videoElement,{
            timeToKeepSeconds: .3
        }),
        this.videoAttach.update(!1),
        this.enlarged = !1,
        this.inputReciever = new Kt("tutorial_hints"),
        this.keyActionMapper = new Rt(this.root,this.inputReciever),
        this.keyActionMapper.getBinding(xt.general.back).add(this.close, this),
        this.domAttach = new Ut(this.root,this.element),
        this.currentShownLevel = new Dt(this.updateVideoUrl,this)
    }
    function _updateVideoUrl(e) {
        Ia.indexOf(e) < 0 ? (this.videoElement.querySelector("source").setAttribute("src", ""),
        this.videoElement.pause()) : (this.videoElement.querySelector("source").setAttribute("src", "https://static.shapez.io/tutorial_videos/level_" + e + ".webm"),
        this.videoElement.currentTime = 0,
        this.videoElement.load())
    }
    function tutorial_hints_close() {
        this.enlarged = !1,
        this.element.classList.remove("enlarged", "noBlur"),
        this.root.app.inputMgr.makeSureDetached(this.inputReciever),
        this.update()
    }
    function tutorial_hints_show() {
        this.root.app.analytics.trackUiClick("tutorial_hint_show"),
        this.root.app.analytics.trackUiClick("tutorial_hint_show_lvl_" + this.root.hubGoals.level),
        this.element.classList.add("enlarged", "noBlur"),
        this.enlarged = !0,
        this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever),
        this.update(),
        this.videoElement.currentTime = 0,
        this.videoElement.play()
    }
    function tutorial_hints_update() {
        this.videoAttach.update(this.enlarged),
        this.currentShownLevel.set(this.root.hubGoals.level);
        var e = Ia.indexOf(this.root.hubGoals.level) >= 0;
        this.domAttach.update(e)
    }
    function _toggleHintEnlarged() {
        this.enlarged ? this.close() : this.show()
    }
    var Ba = function(e) {
        function HUDPartTutorialHints() {
            return e.apply(this, arguments) || this
        }
        !function tutorial_hints_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPartTutorialHints, e);
        var t = HUDPartTutorialHints.prototype;
        return t.createElements = tutorial_hints_createElements,
        t.shouldPauseGame = tutorial_hints_shouldPauseGame,
        t.initialize = tutorial_hints_initialize,
        t.updateVideoUrl = _updateVideoUrl,
        t.close = tutorial_hints_close,
        t.show = tutorial_hints_show,
        t.update = tutorial_hints_update,
        t.toggleHintEnlarged = _toggleHintEnlarged,
        HUDPartTutorialHints
    }(qt);
    function interactive_tutorial_ref(e) {
        return e.components.ItemProcessor.type === be.enumItemProcessorTypes.cutter
    }
    function interactive_tutorial_ref2(e) {
        return e.components.ItemProcessor.type === be.enumItemProcessorTypes.trash
    }
    function interactive_tutorial_ref3(e) {
        return e.components.ItemProcessor.type === be.enumItemProcessorTypes.cutter
    }
    function interactive_tutorial_ref4(e) {
        return e.components.ItemProcessor.type === be.enumItemProcessorTypes.painterQuad
    }
    function interactive_tutorial_ref5(e) {
        return !e.components.Lever.toggled
    }
    var xa = [[{
        id: "1_1_extractor",
        condition: e => 0 === e.entityMgr.getAllWithComponent(_e.MinerComponent).length
    }, {
        id: "1_2_conveyor",
        condition: e => 0 === e.hubGoals.getCurrentGoalDelivered()
    }, {
        id: "1_3_expand",
        condition: () => !0
    }], [{
        id: "2_1_place_cutter",
        condition: e => 0 === e.entityMgr.getAllWithComponent(be.ItemProcessorComponent).filter(interactive_tutorial_ref).length
    }, {
        id: "2_2_place_trash",
        condition: e => 0 === e.entityMgr.getAllWithComponent(be.ItemProcessorComponent).filter(interactive_tutorial_ref2).length
    }, {
        id: "2_3_more_cutters",
        condition: e => e.entityMgr.getAllWithComponent(be.ItemProcessorComponent).filter(interactive_tutorial_ref3).length < 3
    }], [{
        id: "3_1_rectangles",
        condition: e => e.hubGoals.getCurrentGoalDelivered() < 10 || e.entityMgr.getAllWithComponent(_e.MinerComponent).filter(t => {
            var r = t.components.StaticMapEntity.origin
              , n = e.map.getLowerLayerContentXY(r.x, r.y);
            return !(!n || "shape" !== n.getItemType()) && "RuRuRuRu" === n.definition.getHash()
        }
        ).length < 4
    }], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [{
        id: "21_1_place_quad_painter",
        condition: e => 0 === e.entityMgr.getAllWithComponent(be.ItemProcessorComponent).filter(interactive_tutorial_ref4).length
    }, {
        id: "21_2_switch_to_wires",
        condition: e => e.entityMgr.getAllWithComponent(Ke.WireComponent).length < 5
    }, {
        id: "21_3_place_button",
        condition: e => 0 === e.entityMgr.getAllWithComponent(ut.LeverComponent).length
    }, {
        id: "21_4_press_button",
        condition: e => e.entityMgr.getAllWithComponent(ut.LeverComponent).some(interactive_tutorial_ref5)
    }]];
    function interactive_tutorial_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_InteractiveTutorial", ["animEven"], '\n            <strong class="title">' + U.a.ingame.interactiveTutorial.title + "</strong>\n            "),
        this.elementDescription = Object(p.x)(this.element, null, ["desc"]),
        this.elementGif = Object(p.x)(this.element, null, ["helperGif"])
    }
    function interactive_tutorial_initialize() {
        this.domAttach = new Ut(this.root,this.element,{
            trackHover: !0
        }),
        this.currentHintId = new Dt(this.onHintChanged,this)
    }
    function _onHintChanged(e) {
        this.elementDescription.innerHTML = U.a.ingame.interactiveTutorial.hints[e],
        this.elementGif.style.backgroundImage = "url('" + Object(bn.a)("res/ui/interactive_tutorial.noinline/" + e + ".gif") + "')",
        this.element.classList.toggle("animEven"),
        this.element.classList.toggle("animOdd")
    }
    function interactive_tutorial_update() {
        var e = xa[this.root.hubGoals.level - 1]
          , t = null;
        if (e)
            for (var r = 0; r < e.length; ++r) {
                var n = e[r];
                if (n.condition(this.root)) {
                    t = n.id;
                    break
                }
            }
        this.currentHintId.set(t),
        this.domAttach.update(!!t)
    }
    var Pa = function(e) {
        function HUDInteractiveTutorial() {
            return e.apply(this, arguments) || this
        }
        !function interactive_tutorial_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDInteractiveTutorial, e);
        var t = HUDInteractiveTutorial.prototype;
        return t.createElements = interactive_tutorial_createElements,
        t.initialize = interactive_tutorial_initialize,
        t.onHintChanged = _onHintChanged,
        t.update = interactive_tutorial_update,
        HUDInteractiveTutorial
    }(qt);
    function sandbox_controller_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_SandboxController", [], '\n            <label>Sandbox Options</label>\n            <span class="sandboxHint">Use F6 to toggle this overlay</span>\n\n            <div class="buttons">\n                <div class="levelToggle plusMinus">\n                    <label>Level</label>\n                    <button class="styledButton minus">-</button>\n                    <button class="styledButton plus">+</button>\n                </div>\n\n                <div class="upgradesBelt plusMinus">\n                    <label>Upgrades &rarr; Belt</label>\n                    <button class="styledButton minus">-</button>\n                    <button class="styledButton plus">+</button>\n                </div>\n\n                <div class="upgradesExtraction plusMinus">\n                    <label>Upgrades &rarr; Extraction</label>\n                    <button class="styledButton minus">-</button>\n                    <button class="styledButton plus">+</button>\n                </div>\n\n                <div class="upgradesProcessing plusMinus">\n                    <label>Upgrades &rarr; Processing</label>\n                    <button class="styledButton minus">-</button>\n                    <button class="styledButton plus">+</button>\n                </div>\n\n                <div class="upgradesPainting plusMinus">\n                    <label>Upgrades &rarr; Painting</label>\n                    <button class="styledButton minus">-</button>\n                    <button class="styledButton plus">+</button>\n                </div>\n\n                <div class="additionalOptions">\n                    <button class="styledButton giveBlueprints">Fill blueprint shapes</button>\n                    <button class="styledButton maxOutAll">Max out all</button>\n                </div>\n            </div>\n        ');
        var t = (e, t) => this.trackClicks(this.element.querySelector(e), t);
        t(".giveBlueprints", this.giveBlueprints),
        t(".maxOutAll", this.maxOutAll),
        t(".levelToggle .minus", () => this.modifyLevel(-1)),
        t(".levelToggle .plus", () => this.modifyLevel(1)),
        t(".upgradesBelt .minus", () => this.modifyUpgrade("belt", -1)),
        t(".upgradesBelt .plus", () => this.modifyUpgrade("belt", 1)),
        t(".upgradesExtraction .minus", () => this.modifyUpgrade("miner", -1)),
        t(".upgradesExtraction .plus", () => this.modifyUpgrade("miner", 1)),
        t(".upgradesProcessing .minus", () => this.modifyUpgrade("processors", -1)),
        t(".upgradesProcessing .plus", () => this.modifyUpgrade("processors", 1)),
        t(".upgradesPainting .minus", () => this.modifyUpgrade("painting", -1)),
        t(".upgradesPainting .plus", () => this.modifyUpgrade("painting", 1))
    }
    function _giveBlueprints() {
        var e = this.root.gameMode.getBlueprintShapeKey();
        this.root.hubGoals.storedShapes[e] || (this.root.hubGoals.storedShapes[e] = 0),
        this.root.hubGoals.storedShapes[e] += 1e9
    }
    function _maxOutAll() {
        this.modifyUpgrade("belt", 100),
        this.modifyUpgrade("miner", 100),
        this.modifyUpgrade("processors", 100),
        this.modifyUpgrade("painting", 100)
    }
    function _modifyUpgrade(e, t) {
        var r = this.root.gameMode.getUpgrades()[e]
          , n = r.length;
        this.root.hubGoals.upgradeLevels[e] = Math.max(0, Math.min(n, (this.root.hubGoals.upgradeLevels[e] || 0) + t));
        for (var i = 1, o = 0; o < this.root.hubGoals.upgradeLevels[e]; ++o)
            i += r[o].improvement;
        this.root.hubGoals.upgradeImprovements[e] = i,
        this.root.signals.upgradePurchased.dispatch(e),
        this.root.hud.signals.notification.dispatch("Upgrade '" + e + "' is now at tier " + (this.root.hubGoals.upgradeLevels[e] + 1), To.upgrade)
    }
    function _modifyLevel(e) {
        var t = this.root.hubGoals;
        t.level = Math.max(1, t.level + e),
        t.computeNextGoal(),
        t.storedShapes[t.currentGoal.definition.getHash()] = 0,
        this.root.hud.parts.pinnedShapes && this.root.hud.parts.pinnedShapes.rerenderFull(),
        t.gainedRewards = {};
        for (var r = this.root.gameMode.getLevelDefinitions(), n = 0; n < t.level - 1; ++n)
            if (n < r.length) {
                var i = r[n].reward;
                t.gainedRewards[i] = (t.gainedRewards[i] || 0) + 1
            }
        this.root.hud.signals.notification.dispatch("Changed level to " + t.level, To.upgrade)
    }
    function sandbox_controller_initialize() {
        this.root.gameState.inputReciever.keydown.add(e => {
            117 === e.keyCode && this.toggle()
        }
        ),
        this.visible = !1,
        this.domAttach = new Ut(this.root,this.element)
    }
    function sandbox_controller_toggle() {
        this.visible = !this.visible
    }
    function sandbox_controller_update() {
        this.domAttach.update(this.visible)
    }
    var Ta = function(e) {
        function HUDSandboxController() {
            return e.apply(this, arguments) || this
        }
        !function sandbox_controller_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDSandboxController, e);
        var t = HUDSandboxController.prototype;
        return t.createElements = sandbox_controller_createElements,
        t.giveBlueprints = _giveBlueprints,
        t.maxOutAll = _maxOutAll,
        t.modifyUpgrade = _modifyUpgrade,
        t.modifyLevel = _modifyLevel,
        t.initialize = sandbox_controller_initialize,
        t.toggle = sandbox_controller_toggle,
        t.update = sandbox_controller_update,
        HUDSandboxController
    }(qt)
      , Ma = "CbCuCbCu:Sr------:--CrSrCr:CwCwCwCw"
      , Oa = "RuCw--Cw:----Ru--"
      , za = "CpRpCp--:SwSwSwSw"
      , La = 2.5
      , Ra = {};
    function regular_ref(e, t) {
        return {
            required: [{
                shape: za,
                amount: 3e4 + 1e4 * t
            }, {
                shape: Oa,
                amount: 2e4 + 5e3 * t
            }, {
                shape: Ma,
                amount: 2e4 + 5e3 * t
            }],
            excludePrevious: !0
        }
    }
    function regular_ref2(e) {
        return {
            amount: e.amount,
            shape: e.shape
        }
    }
    function regular_ref3(e) {
        e.amount = Object(p.j)(e.amount * La)
    }
    var Da = {};
    function regular_getId() {
        return Ao.regular
    }
    function regular_getType() {
        return ko.default
    }
    function regular_getUpgrades() {
        return function generateUpgrades(e=!1) {
            if (Ra[e])
                return Ra[e];
            var t = [.5, .5, 1, 1, 2, 1, 1]
              , r = e ? 0 : 1e3 - t.length - 1;
            function generateInfiniteUnlocks() {
                return new Array(r).fill(null).map(regular_ref)
            }
            for (var n = 0; n < r; ++n)
                n < 20 ? t.push(.1) : n < 50 ? t.push(.05) : n < 100 ? t.push(.025) : t.push(.0125);
            var i = {
                belt: [{
                    required: [{
                        shape: "CuCuCuCu",
                        amount: 30
                    }]
                }, {
                    required: [{
                        shape: "--CuCu--",
                        amount: 500
                    }]
                }, {
                    required: [{
                        shape: "CpCpCpCp",
                        amount: 1e3
                    }]
                }, {
                    required: [{
                        shape: "SrSrSrSr:CyCyCyCy",
                        amount: 6e3
                    }]
                }, {
                    required: [{
                        shape: "SrSrSrSr:CyCyCyCy:SwSwSwSw",
                        amount: 25e3
                    }]
                }, {
                    required: [{
                        shape: za,
                        amount: 25e3
                    }],
                    excludePrevious: !0
                }, {
                    required: [{
                        shape: za,
                        amount: 25e3
                    }, {
                        shape: Oa,
                        amount: 5e4
                    }],
                    excludePrevious: !0
                }, ...generateInfiniteUnlocks()],
                miner: [{
                    required: [{
                        shape: "RuRuRuRu",
                        amount: 300
                    }]
                }, {
                    required: [{
                        shape: "Cu------",
                        amount: 800
                    }]
                }, {
                    required: [{
                        shape: "ScScScSc",
                        amount: 3500
                    }]
                }, {
                    required: [{
                        shape: "CwCwCwCw:WbWbWbWb",
                        amount: 23e3
                    }]
                }, {
                    required: [{
                        shape: "CbRbRbCb:CwCwCwCw:WbWbWbWb",
                        amount: 5e4
                    }]
                }, {
                    required: [{
                        shape: za,
                        amount: 25e3
                    }],
                    excludePrevious: !0
                }, {
                    required: [{
                        shape: za,
                        amount: 25e3
                    }, {
                        shape: Oa,
                        amount: 5e4
                    }],
                    excludePrevious: !0
                }, ...generateInfiniteUnlocks()],
                processors: [{
                    required: [{
                        shape: "SuSuSuSu",
                        amount: 500
                    }]
                }, {
                    required: [{
                        shape: "RuRu----",
                        amount: 600
                    }]
                }, {
                    required: [{
                        shape: "CgScScCg",
                        amount: 3500
                    }]
                }, {
                    required: [{
                        shape: "CwCrCwCr:SgSgSgSg",
                        amount: 25e3
                    }]
                }, {
                    required: [{
                        shape: "WrRgWrRg:CwCrCwCr:SgSgSgSg",
                        amount: 5e4
                    }]
                }, {
                    required: [{
                        shape: za,
                        amount: 25e3
                    }],
                    excludePrevious: !0
                }, {
                    required: [{
                        shape: za,
                        amount: 25e3
                    }, {
                        shape: Oa,
                        amount: 5e4
                    }],
                    excludePrevious: !0
                }, ...generateInfiniteUnlocks()],
                painting: [{
                    required: [{
                        shape: "RbRb----",
                        amount: 600
                    }]
                }, {
                    required: [{
                        shape: "WrWrWrWr",
                        amount: 3800
                    }]
                }, {
                    required: [{
                        shape: "RpRpRpRp:CwCwCwCw",
                        amount: 6500
                    }]
                }, {
                    required: [{
                        shape: "WpWpWpWp:CwCwCwCw:WpWpWpWp",
                        amount: 25e3
                    }]
                }, {
                    required: [{
                        shape: "WpWpWpWp:CwCwCwCw:WpWpWpWp:CwCwCwCw",
                        amount: 5e4
                    }]
                }, {
                    required: [{
                        shape: za,
                        amount: 25e3
                    }],
                    excludePrevious: !0
                }, {
                    required: [{
                        shape: za,
                        amount: 25e3
                    }, {
                        shape: Oa,
                        amount: 5e4
                    }],
                    excludePrevious: !0
                }, ...generateInfiniteUnlocks()]
            };
            for (var o in i)
                for (var a = i[o], s = [], l = 0; l < a.length; ++l) {
                    var c = a[l];
                    c.improvement = t[l];
                    for (var u = c.required.slice(), d = s.length - 1; d >= 0; --d) {
                        var p = s[d];
                        c.excludePrevious || c.required.unshift({
                            shape: p.shape,
                            amount: p.amount
                        })
                    }
                    s.push(...u.map(regular_ref2)),
                    s.forEach(regular_ref3)
                }
            return b.modifyUpgrades.dispatch(i),
            Ra[e] = i,
            i
        }(!this.root.app.restrictionMgr.getHasExtendedUpgrades())
    }
    function regular_getLevelDefinitions() {
        return function generateLevelDefinitions(e=!1) {
            if (Da[e])
                return Da[e];
            var t = [{
                shape: "CuCuCuCu",
                required: 30,
                reward: Qe.reward_cutter_and_trash
            }, {
                shape: "----CuCu",
                required: 40,
                reward: Qe.no_reward
            }, {
                shape: "RuRuRuRu",
                required: 70,
                reward: Qe.reward_balancer
            }, {
                shape: "RuRu----",
                required: 70,
                reward: Qe.reward_rotater
            }, {
                shape: "Cu----Cu",
                required: 170,
                reward: Qe.reward_tunnel
            }, {
                shape: "Cu------",
                required: 270,
                reward: Qe.reward_painter
            }, {
                shape: "CrCrCrCr",
                required: 300,
                reward: Qe.reward_rotater_ccw
            }, {
                shape: "RbRb----",
                required: 480,
                reward: Qe.reward_mixer
            }, {
                shape: "CpCpCpCp",
                required: 600,
                reward: Qe.reward_merger
            }, {
                shape: "ScScScSc",
                required: 800,
                reward: Qe.reward_stacker
            }, {
                shape: "CgScScCg",
                required: 1e3,
                reward: Qe.reward_miner_chainable
            }, {
                shape: "CbCbCbRb:CwCwCwCw",
                required: 1e3,
                reward: Qe.reward_blueprints
            }, {
                shape: "RpRpRpRp:CwCwCwCw",
                required: 3800,
                reward: Qe.reward_underground_belt_tier_2
            }, {
                shape: "--Cg----:--Cr----",
                required: 8,
                reward: Qe.reward_belt_reader,
                throughputOnly: !0
            }, {
                shape: "Cr------:--Cr----",
                required: 0,
                reward: Qe.reward_demo_end
            }];
            return b.modifyLevelDefinitions.dispatch(t),
            Da[e] = t,
            t
        }(!this.root.app.restrictionMgr.getHasExtendedLevelsAndFreeplay())
    }
    function regular_getIsFreeplayAvailab() {
        return this.root.app.restrictionMgr.getHasExtendedLevelsAndFreeplay()
    }
    function regular_hasAchievements() {
        return !0
    }
    var Ua = function(e) {
        function RegularGameMode(t) {
            var r;
            return (r = e.call(this, t) || this).additionalHudParts = {
                wiresToolbar: Bo,
                unlockNotification: zo,
                massSelector: Ko,
                shop: Qo,
                statistics: ta,
                waypoints: Zo,
                wireInfo: ra,
                leverToggle: na,
                pinnedShapes: ia,
                notifications: Oo,
                screenshotExporter: aa,
                wiresOverlay: ca,
                shapeViewer: da,
                layerPreview: pa,
                minerHighlight: ga,
                tutorialVideoOffer: ha,
                gameMenu: fa,
                constantSignalEdit: _a
            },
            g.b || (r.additionalHudParts.keybindingOverlay = wa),
            r.root.app.restrictionMgr.getIsStandaloneMarketingActive() && (r.additionalHudParts.watermark = Sa,
            r.additionalHudParts.standaloneAdvantages = Ca,
            r.additionalHudParts.catMemes = Ea),
            r.root.app.settings.getAllSettings().offerHints && (r.additionalHudParts.tutorialHints = Ba,
            r.additionalHudParts.interactiveTutorial = Pa),
            ($n.sandboxMode || window.sandboxMode) && (r.additionalHudParts.sandboxController = Ta),
            r.hiddenBuildings = [Ar, Mr, Sr],
            window.sandboxMode || $n.sandboxMode || r.hiddenBuildings.push(zr),
            r
        }
        !function regular_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(RegularGameMode, e),
        RegularGameMode.getId = regular_getId,
        RegularGameMode.getType = regular_getType;
        var t = RegularGameMode.prototype;
        return t.getUpgrades = regular_getUpgrades,
        t.getLevelDefinitions = regular_getLevelDefinitions,
        t.getIsFreeplayAvailable = regular_getIsFreeplayAvailab,
        t.hasAchievements = regular_hasAchievements,
        RegularGameMode
    }(Eo)
      , Fa = r(271)
      , ja = Object(c.a)("savegame_interface/1009");
    function _1009_getVersion() {
        return 1009
    }
    function _1009_getSchemaUncached() {
        return Fa
    }
    function _migrate1008to(e) {
        ja.log("Migrating 1008 to 1009");
        var t = e.dump;
        if (!t)
            return !0;
        t.gameMode = {
            mode: {
                id: Ua.getId(),
                data: {}
            }
        }
    }
    var Va = function(e) {
        function SavegameInterface_V1009() {
            return e.apply(this, arguments) || this
        }
        !function _1009_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1009, e);
        var t = SavegameInterface_V1009.prototype;
        return t.getVersion = _1009_getVersion,
        t.getSchemaUncached = _1009_getSchemaUncached,
        SavegameInterface_V1009.migrate1008to1009 = _migrate1008to,
        SavegameInterface_V1009
    }(Co)
      , Ha = r(272)
      , Ga = Object(c.a)("savegame_interface/1010");
    function _1010_getVersion() {
        return 1010
    }
    function _1010_getSchemaUncached() {
        return Ha
    }
    function _migrate1009to(e) {
        Ga.log("Migrating 1009 to 1010"),
        e.mods = [],
        e.dump && (e.dump.modExtraData = {})
    }
    var Wa = function(e) {
        function SavegameInterface_V1010() {
            return e.apply(this, arguments) || this
        }
        !function _1010_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameInterface_V1010, e);
        var t = SavegameInterface_V1010.prototype;
        return t.getVersion = _1010_getVersion,
        t.getSchemaUncached = _1010_getSchemaUncached,
        SavegameInterface_V1010.migrate1009to1010 = _migrate1009to,
        SavegameInterface_V1010
    }(Va)
      , Na = {
        1e3: Xi,
        1001: to,
        1002: io,
        1003: so,
        1004: uo,
        1005: go,
        1006: yo,
        1007: bo,
        1008: Co,
        1009: Va,
        1010: Wa
    }
      , qa = Object(c.a)("savegame_interface_registry")
      , Ka = Object(c.a)("savegame");
    function savegame_getCurrentVersion() {
        return 1010
    }
    function _getCurrentVersion2() {
        return this.constructor.getCurrentVersion()
    }
    function savegame_getDefaultData() {
        return {
            version: this.getCurrentVersion(),
            dump: null,
            stats: {
                failedMam: !1,
                trashedCount: 0,
                usedInverseRotater: !1
            },
            lastUpdate: Date.now(),
            mods: lr.getModsListForSavegame()
        }
    }
    function savegame_migrate(e) {
        return e.version < 1e3 ? _i.bad("Can not migrate savegame, too old") : (1e3 === e.version && (to.migrate1000to1001(e),
        e.version = 1001),
        1001 === e.version && (io.migrate1001to1002(e),
        e.version = 1002),
        1002 === e.version && (so.migrate1002to1003(e),
        e.version = 1003),
        1003 === e.version && (uo.migrate1003to1004(e),
        e.version = 1004),
        1004 === e.version && (go.migrate1004to1005(e),
        e.version = 1005),
        1005 === e.version && (yo.migrate1005to1006(e),
        e.version = 1006),
        1006 === e.version && (bo.migrate1006to1007(e),
        e.version = 1007),
        1007 === e.version && (Co.migrate1007to1008(e),
        e.version = 1008),
        1008 === e.version && (Va.migrate1008to1009(e),
        e.version = 1009),
        1009 === e.version && (Wa.migrate1009to1010(e),
        e.version = 1010),
        _i.good())
    }
    function savegame_verify(e) {
        return e.dump ? this.getDumpReaderForExternalData(e).validate() ? _i.good() : _i.bad("dump-reader-failed-validation") : _i.good()
    }
    function _isSaveable() {
        return !0
    }
    function _getStatistics() {
        return this.currentData.stats
    }
    function _getRealLastUpdate() {
        return this.currentData.lastUpdate
    }
    function _hasGameDump() {
        return !!this.currentData.dump && this.currentData.dump.entities.length > 0
    }
    function _getCurrentDump() {
        return this.currentData.dump
    }
    function _getDumpReader() {
        return this.currentData.dump || Ka.warn("Getting reader on null-savegame dump"),
        new (this.constructor.getReaderClass())(this.currentData)
    }
    function _getDumpReaderForExte(e) {
        return function getSavegameInterface(e) {
            if (!e || !e.version)
                return qa.warn("Savegame does not contain a valid version (undefined)"),
                null;
            var t = e.version;
            if (!Number.isInteger(t))
                return qa.warn("Savegame does not contain a valid version (non-integer):", t),
                null;
            var r = Na[t];
            return r ? new r(e) : (qa.warn("Version", t, "has no implemented interface!"),
            null)
        }(e)
    }
    function _setLastUpdate(e) {
        this.currentData.lastUpdate = e
    }
    function _updateData(e) {
        var t = (new qi).generateDumpFromGameRoot(e);
        if (!t)
            return !1;
        var r = Object.assign({}, this.currentData);
        r.dump = t,
        r.lastUpdate = (new Date).getTime(),
        r.version = this.getCurrentVersion(),
        r.mods = lr.getModsListForSavegame(),
        this.getDumpReaderForExternalData(r),
        this.currentData = r
    }
    function _writeSavegameAndMeta() {
        return this.writeAsync().then( () => this.saveMetadata())
    }
    function _saveMetadata() {
        return this.metaDataRef.lastUpdate = (new Date).getTime(),
        this.metaDataRef.version = this.getCurrentVersion(),
        this.hasGameDump() ? this.metaDataRef.level = this.currentData.dump.hubGoals.level : this.metaDataRef.level = 0,
        this.app.savegameMgr.writeAsync()
    }
    var Qa = function(e) {
        function Savegame(t, {internalId: r, metaDataRef: n}) {
            var i;
            return (i = e.call(this, t, "savegame-" + r + ".bin") || this).internalId = r,
            i.metaDataRef = n,
            i.currentData = i.getDefaultData(),
            i
        }
        !function savegame_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(Savegame, e),
        Savegame.getCurrentVersion = savegame_getCurrentVersion,
        Savegame.getReaderClass = function getReaderClass() {
            return Na[Savegame.getCurrentVersion()]
        }
        ,
        Savegame.createPuzzleSavegame = function createPuzzleSavegame(e) {
            return new Savegame(e,{
                internalId: "puzzle",
                metaDataRef: {
                    internalId: "puzzle",
                    lastUpdate: 0,
                    version: 0,
                    level: 0,
                    name: "puzzle"
                }
            })
        }
        ;
        var t = Savegame.prototype;
        return t.getCurrentVersion = _getCurrentVersion2,
        t.getDefaultData = savegame_getDefaultData,
        t.migrate = savegame_migrate,
        t.verify = savegame_verify,
        t.isSaveable = _isSaveable,
        t.getStatistics = _getStatistics,
        t.getRealLastUpdate = _getRealLastUpdate,
        t.hasGameDump = _hasGameDump,
        t.getCurrentDump = _getCurrentDump,
        t.getDumpReader = _getDumpReader,
        t.getDumpReaderForExternalData = _getDumpReaderForExte,
        t.setLastUpdate = _setLastUpdate,
        t.updateData = _updateData,
        t.writeSavegameAndMetadata = _writeSavegameAndMeta,
        t.saveMetadata = _saveMetadata,
        t.writeAsync = function writeAsync() {
            return e.prototype.writeAsync.call(this)
        }
        ,
        Savegame
    }(Pi)
      , Ya = Object(c.a)("savegame_manager")
      , Ja = r(112);
    function savegame_manager_getDefaultData() {
        return {
            version: this.getCurrentVersion(),
            savegames: []
        }
    }
    function savegame_manager_getCurrentVersion() {
        return 1002
    }
    function savegame_manager_verify(e) {
        return _i.good()
    }
    function savegame_manager_ref(e) {
        e.level = 0
    }
    function savegame_manager_ref2(e) {
        e.name = null
    }
    function savegame_manager_migrate(e) {
        return e.version < 1001 && (e.savegames.forEach(savegame_manager_ref),
        e.version = 1001),
        e.version < 1002 && (e.savegames.forEach(savegame_manager_ref2),
        e.version = 1002),
        _i.good()
    }
    function _getSavegamesMetaData() {
        return this.currentData.savegames
    }
    function _getSavegameById(e) {
        var t = this.getGameMetaDataByInternalId(e);
        return t ? new Qa(this.app,{
            internalId: e,
            metaDataRef: t
        }) : null
    }
    function savegame_manager_ref3(e) {
        return 1005 === e.version || e.level > 14
    }
    function _getHasAnyLegacySaveg() {
        return this.currentData.savegames.some(savegame_manager_ref3)
    }
    function _deleteSavegame(e) {
        var t = new Qa(this.app,{
            internalId: e.internalId,
            metaDataRef: e
        });
        return t.deleteAsync().then( () => {
            for (var e = 0; e < this.currentData.savegames.length; ++e)
                if (this.currentData.savegames[e].internalId === t.internalId) {
                    this.currentData.savegames.splice(e, 1);
                    break
                }
            return this.writeAsync()
        }
        )
    }
    function _getGameMetaDataByInt(e) {
        for (var t = 0; t < this.currentData.savegames.length; ++t) {
            var r = this.currentData.savegames[t];
            if (r.internalId === e)
                return r
        }
        return Ya.error("Savegame internal id not found:", e),
        null
    }
    function _createNewSavegame() {
        var e = this.generateInternalId()
          , t = {
            lastUpdate: Date.now(),
            version: Qa.getCurrentVersion(),
            internalId: e
        };
        return this.currentData.savegames.push(t),
        this.updateAfterSavegamesChanged(),
        new Qa(this.app,{
            internalId: e,
            metaDataRef: t
        })
    }
    function _importSavegame(e) {
        var t = this.createNewSavegame()
          , r = e.version < 1006
          , n = t.migrate(e);
        if (n.isBad())
            return Promise.reject("Failed to migrate: " + n.reason);
        t.currentData = e;
        var i = t.verify(e);
        return i.isBad() ? Promise.reject("Verification failed: " + i.result) : t.writeSavegameAndMetadata().then( () => this.updateAfterSavegamesChanged()).then( () => this.app.restrictionMgr.onHasLegacySavegamesChanged(r))
    }
    function _updateAfterSavegames() {
        return this.sortSavegames().then( () => this.writeAsync()).then( () => this.app.restrictionMgr.onHasLegacySavegamesChanged(this.getHasAnyLegacySavegames()))
    }
    function savegame_manager_ref4(e, t) {
        return t.lastUpdate - e.lastUpdate
    }
    function savegame_manager_ref5() {}
    function _sortSavegames() {
        var e = this;
        this.currentData.savegames.sort(savegame_manager_ref4);
        for (var t = Promise.resolve(), r = function() {
            var r = e.currentData.savegames.pop()
              , n = new Qa(e.app,{
                internalId: r.internalId,
                metaDataRef: r
            });
            t = t.then( () => n.deleteAsync()).then(savegame_manager_ref5, t => {
                Ya.error(e, "Failed to remove old savegame:", r, ":", t)
            }
            )
        }; this.currentData.savegames.length > 30; )
            r();
        return t
    }
    function _generateInternalId() {
        return Ja.createHash().update(Date.now() + "/" + Math.random()).digest("hex")
    }
    function savegame_manager_initialize() {
        return this.readAsync().then( () => this.updateAfterSavegamesChanged())
    }
    var Za = function(e) {
        function SavegameManager(t) {
            var r;
            return (r = e.call(this, t, "savegames.bin") || this).currentData = r.getDefaultData(),
            r
        }
        !function savegame_manager_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SavegameManager, e);
        var t = SavegameManager.prototype;
        return t.getDefaultData = savegame_manager_getDefaultData,
        t.getCurrentVersion = savegame_manager_getCurrentVersion,
        t.verify = savegame_manager_verify,
        t.migrate = savegame_manager_migrate,
        t.getSavegamesMetaData = _getSavegamesMetaData,
        t.getSavegameById = _getSavegameById,
        t.getHasAnyLegacySavegames = _getHasAnyLegacySaveg,
        t.deleteSavegame = _deleteSavegame,
        t.getGameMetaDataByInternalId = _getGameMetaDataByInt,
        t.createNewSavegame = _createNewSavegame,
        t.importSavegame = _importSavegame,
        t.updateAfterSavegamesChanged = _updateAfterSavegames,
        t.sortSavegames = _sortSavegames,
        t.generateInternalId = _generateInternalId,
        t.initialize = savegame_manager_initialize,
        SavegameManager
    }(Pi);
    function textual_game_state_getInnerHTML() {
        return '<div class="content mainContent">' + this.getMainContentHTML() + "</div>"
    }
    function _getMainContentHTML() {
        return ""
    }
    function _getStateHeaderTitle() {
        return null
    }
    function textual_game_state_onBackButton() {
        this.backToStateId ? this.moveToState(this.backToStateId, this.backToStatePayload) : this.moveToState(this.getDefaultPreviousState())
    }
    function _getDefaultPreviousSt() {
        return "MainMenuState"
    }
    function _moveToStateAddGoBack(e) {
        this.moveToState(e, {
            backToStateId: this.key,
            backToStatePayload: {
                backToStateId: this.backToStateId,
                backToStatePayload: this.backToStatePayload
            }
        })
    }
    function _clearClickDetectorsE() {
        for (var e = 0; e < this.clickDetectors.length; ++e) {
            var t = this.clickDetectors[e];
            t.element !== this.headerElement && (t.cleanup(),
            this.clickDetectors.splice(e, 1),
            e -= 1)
        }
    }
    function textual_game_state_internalGetFullHtml() {
        var e = "";
        return this.getStateHeaderTitle() && (e = '<div class="headerBar"><h1><button class="backButton"></button>' + this.getStateHeaderTitle() + "</h1></div>"),
        e + '<div class="container">' + this.getInnerHTML() + "</div>"
    }
    var Xa = function(e) {
        function TextualGameState() {
            return e.apply(this, arguments) || this
        }
        !function textual_game_state_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(TextualGameState, e);
        var t = TextualGameState.prototype;
        return t.getInnerHTML = textual_game_state_getInnerHTML,
        t.getMainContentHTML = _getMainContentHTML,
        t.getStateHeaderTitle = _getStateHeaderTitle,
        t.onBackButton = textual_game_state_onBackButton,
        t.getDefaultPreviousState = _getDefaultPreviousSt,
        t.moveToStateAddGoBack = _moveToStateAddGoBack,
        t.clearClickDetectorsExceptHeader = _clearClickDetectorsE,
        t.internalGetFullHtml = textual_game_state_internalGetFullHtml,
        t.internalLeaveCallback = function internalLeaveCallback() {
            e.prototype.internalLeaveCallback.call(this),
            this.dialogs.cleanup()
        }
        ,
        t.internalEnterCallback = function internalEnterCallback(t) {
            e.prototype.internalEnterCallback.call(this, t, !1),
            t.backToStateId && (this.backToStateId = t.backToStateId,
            this.backToStatePayload = t.backToStatePayload),
            this.htmlElement.classList.add("textualState"),
            this.getStateHeaderTitle() && this.htmlElement.classList.add("hasTitle"),
            this.containerElement = this.htmlElement.querySelector(".widthKeeper .container"),
            this.headerElement = this.htmlElement.querySelector(".headerBar > h1"),
            this.headerElement && this.trackClicks(this.headerElement, this.onBackButton),
            this.dialogs = new ir(null,this.app);
            var r = document.body.querySelector(".modalDialogParent");
            this.dialogs.initializeToElement(r),
            this.onEnter(t)
        }
        ,
        TextualGameState
    }(On);
    function about_getStateHeaderTitle() {
        return U.a.about.title
    }
    function about_getMainContentHTML() {
        return '<div class="head"><img src="' + Object(bn.a)("res/logo.png") + '" alt="shapez.io Logo"></div><div class="text">' + U.a.about.body.replace("<githublink>", g.d.github).replace("<discordlink>", g.d.discord) + "</div>"
    }
    function about_onEnter() {
        this.htmlElement.querySelectorAll("a[href]").forEach(e => {
            this.trackClicks(e, () => this.app.platformWrapper.openExternalLink(e.getAttribute("href")), {
                preventClick: !0
            })
        }
        )
    }
    function about_getDefaultPreviousSt() {
        return "SettingsState"
    }
    var $a = function(e) {
        function AboutState() {
            return e.call(this, "AboutState") || this
        }
        !function about_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(AboutState, e);
        var t = AboutState.prototype;
        return t.getStateHeaderTitle = about_getStateHeaderTitle,
        t.getMainContentHTML = about_getMainContentHTML,
        t.onEnter = about_onEnter,
        t.getDefaultPreviousState = about_getDefaultPreviousSt,
        AboutState
    }(Xa)
      , es = [{
        version: "1.0.0-cmg",
        date: "unreleased",
        entries: ["Initial release on coolmathgames!"]
    }];
    function changelog_getStateHeaderTitle() {
        return U.a.changelog.title
    }
    function changelog_ref(e) {
        return "<li>" + e + "</li>"
    }
    function changelog_getMainContentHTML() {
        for (var e = es, t = "", r = 0; r < e.length; ++r) {
            var n = e[r];
            t += '<div class="entry" data-changelog-skin="' + (n.skin || "default") + '"><span class="version">' + n.version + '</span><span class="date">' + n.date + '</span><ul class="changes">' + n.entries.map(changelog_ref).join("") + "\n                    </ul>\n                </div>\n            "
        }
        return t
    }
    function changelog_onEnter() {
        this.htmlElement.querySelectorAll("a[href]").forEach(e => {
            this.trackClicks(e, () => this.app.platformWrapper.openExternalLink(e.getAttribute("href")), {
                preventClick: !0
            })
        }
        )
    }
    var ts = function(e) {
        function ChangelogState() {
            return e.call(this, "ChangelogState") || this
        }
        !function changelog_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ChangelogState, e);
        var t = ChangelogState.prototype;
        return t.getStateHeaderTitle = changelog_getStateHeaderTitle,
        t.getMainContentHTML = changelog_getMainContentHTML,
        t.onEnter = changelog_onEnter,
        ChangelogState
    }(Xa);
    function _GameLoadingOverlay(e, t) {
        this.app = e,
        this.parent = t,
        this.element = null
    }
    function _removeIfAttached() {
        this.element && (this.element.remove(),
        this.element = null)
    }
    function game_loading_overlay_isAttached() {
        return this.element
    }
    function _showBasic() {
        this.element = document.createElement("div"),
        this.element.classList.add("gameLoadingOverlay"),
        this.parent.appendChild(this.element),
        this.internalAddSpinnerAndText(this.element),
        this.internalAddHint(this.element)
    }
    function _internalAddSpinnerAn(e) {
        var t = document.createElement("span");
        t.classList.add("prefab_LoadingTextWithAnim"),
        e.appendChild(t)
    }
    function _internalAddHint(e) {
        var t = document.createElement("span");
        t.innerHTML = Object(p.A)(U.a.tips),
        t.classList.add("prefab_GameHint"),
        e.appendChild(t)
    }
    var rs = function() {
        var e = _GameLoadingOverlay.prototype;
        return e.removeIfAttached = _removeIfAttached,
        e.isAttached = game_loading_overlay_isAttached,
        e.showBasic = _showBasic,
        e.internalAddSpinnerAndText = _internalAddSpinnerAn,
        e.internalAddHint = _internalAddHint,
        _GameLoadingOverlay
    }()
      , ns = (Object(c.a)("buffers"),
    .5);
    function _BufferMaintainer(e) {
        this.root = e,
        this.cache = new Map,
        this.iterationIndex = 1,
        this.lastIteration = 0,
        this.root.signals.gameFrameStarted.add(this.update, this)
    }
    function _getStats() {
        var e = {
            rootKeys: 0,
            subKeys: 0,
            vramBytes: 0
        };
        function _ref(t, r) {
            ++e.subKeys;
            var n = t.canvas;
            e.vramBytes += n.width * n.height * 4
        }
        return this.cache.forEach( (t, r) => {
            ++e.rootKeys,
            t.forEach(_ref)
        }
        ),
        e
    }
    function _garbargeCollect() {
        var e = this.iterationIndex;
        this.cache.forEach( (t, r) => {
            var n = [];
            t.forEach( (t, r) => {
                t.lastUse < e && (n.push(r),
                Object(Yo.d)(t.canvas))
            }
            );
            for (var i = 0; i < n.length; ++i)
                t.delete(n[i])
        }
        ),
        Object(Yo.a)(),
        ++this.iterationIndex
    }
    function buffer_maintainer_update() {
        var e = this.root.time.realtimeNow();
        e - this.lastIteration > ns && (this.lastIteration = e,
        this.garbargeCollect())
    }
    function _getForKey({key: e, subKey: t, w: r, h: n, dpi: i, redrawMethod: o, additionalParams: a}) {
        var s = this.cache.get(e);
        s || (s = new Map,
        this.cache.set(e, s));
        var l = s.get(t);
        if (l)
            return l.lastUse = this.iterationIndex,
            l.canvas;
        var c = r * i
          , u = n * i
          , [d,p] = Object(Yo.e)(c, u, {
            reusable: !0,
            label: "buffer-" + e + "/" + t,
            smooth: !0
        });
        return o(d, p, r, n, i, a),
        s.set(t, {
            canvas: d,
            context: p,
            lastUse: this.iterationIndex
        }),
        d
    }
    function _getForKeyOrNullNoUpd({key: e, subKey: t}) {
        var r = this.cache.get(e);
        if (!r)
            return null;
        var n = r.get(t);
        return n ? n.canvas : null
    }
    var is = function() {
        var e = _BufferMaintainer.prototype;
        return e.getStats = _getStats,
        e.garbargeCollect = _garbargeCollect,
        e.update = buffer_maintainer_update,
        e.getForKey = _getForKey,
        e.getForKeyOrNullNoUpdate = _getForKeyOrNullNoUpd,
        _BufferMaintainer
    }()
      , os = {
        regular: 2,
        asap: 100
    }
      , as = Object(c.a)("autosave");
    function _AutomaticSave(e) {
        this.root = e,
        this.saveImportance = os.regular,
        this.lastSaveAttempt = -1e3
    }
    function _setSaveImportance(e) {
        this.saveImportance = Math.max(this.saveImportance, e)
    }
    function _doSave() {
        this.root.gameState.doSave(),
        this.saveImportance = os.regular
    }
    function automatic_save_update() {
        if (this.root.gameInitialized) {
            var e = this.root.app.settings.getAutosaveIntervalSeconds();
            if (e) {
                var t = Math.max(this.lastSaveAttempt, this.root.savegame.getRealLastUpdate())
                  , r = (Date.now() - t) / 1e3
                  , n = !1;
                switch (this.saveImportance) {
                case os.asap:
                    n = !0;
                    break;
                case os.regular:
                    n = r > e
                }
                n && (as.log("Saving automatically"),
                this.lastSaveAttempt = Date.now(),
                this.doSave())
            }
        }
    }
    var ss = function() {
        var e = _AutomaticSave.prototype;
        return e.setSaveImportance = _setSaveImportance,
        e.doSave = _doSave,
        e.update = automatic_save_update,
        _AutomaticSave
    }()
      , ls = Object(c.a)("dynamic_tickrate")
      , cs = 1e3;
    function _DynamicTickrate(e) {
        this.root = e,
        this.currentTickStart = null,
        this.capturedTicks = [],
        this.averageTickDuration = 0,
        this.accumulatedFps = 0,
        this.accumulatedFpsLastUpdate = 0,
        this.averageFps = 60;
        var t = this.root.gameMode.getFixedTickrate();
        t ? (ls.log("Setting fixed tickrate of", t),
        this.setTickRate(t)) : this.setTickRate(this.root.app.settings.getDesiredFps())
    }
    function _onFrameRendered() {
        ++this.accumulatedFps;
        var e = performance.now();
        if (e - this.accumulatedFpsLastUpdate > cs) {
            var t = this.accumulatedFps / cs * 1e3;
            this.averageFps = t,
            this.accumulatedFps = 0,
            this.accumulatedFpsLastUpdate = e
        }
    }
    function _setTickRate(e) {
        ls.log("Applying tick-rate of", e),
        this.currentTickRate = e,
        this.deltaMs = 1e3 / this.currentTickRate,
        this.deltaSeconds = 1 / this.currentTickRate
    }
    function _increaseTickRate() {
        var e = this.root.app.settings.getDesiredFps();
        this.setTickRate(Math.round(Math.min(e, 1.2 * this.currentTickRate)))
    }
    function _decreaseTickRate() {
        var e = this.root.app.settings.getDesiredFps();
        this.setTickRate(Math.round(Math.max(e / 2, .8 * this.currentTickRate)))
    }
    function _beginTick() {
        if (this.currentTickStart = performance.now(),
        this.capturedTicks.length > 2 * this.currentTickRate) {
            this.capturedTicks.sort(),
            this.capturedTicks.splice(0, 10),
            this.capturedTicks.splice(this.capturedTicks.length - 11, 10);
            for (var e = 0, t = 0; t < this.capturedTicks.length; ++t)
                e += this.capturedTicks[t];
            e /= this.capturedTicks.length,
            this.averageTickDuration = e,
            this.capturedTicks = []
        }
    }
    function _endTick() {
        var e = performance.now() - this.currentTickStart;
        this.capturedTicks.push(e),
        this.currentTickStart = null
    }
    var us = function() {
        var e = _DynamicTickrate.prototype;
        return e.onFrameRendered = _onFrameRendered,
        e.setTickRate = _setTickRate,
        e.increaseTickRate = _increaseTickRate,
        e.decreaseTickRate = _decreaseTickRate,
        e.beginTick = _beginTick,
        e.endTick = _endTick,
        _DynamicTickrate
    }()
      , ds = Object(c.a)("entity_manager");
    function entity_manager_getId() {
        return "EntityManager"
    }
    function entity_manager_getSchema() {
        return {
            nextUid: He.b.uint
        }
    }
    function _getStatsText() {
        return this.entities.length + " entities [" + this.destroyList.length + " to kill]"
    }
    function entity_manager_update() {
        this.processDestroyList()
    }
    function _registerEntity(e, t=null) {
        for (var r in this.entities.push(e),
        e.components)
            e.components[r] && (this.componentToEntity[r] ? this.componentToEntity[r].push(e) : this.componentToEntity[r] = [e]);
        e.uid = t || this.generateUid(),
        e.registered = !0,
        this.root.signals.entityAdded.dispatch(e)
    }
    function _generateUid() {
        return this.nextUid++
    }
    function _attachDynamicCompone(e, t) {
        e.addComponent(t, !0);
        var r = t.constructor.getId();
        this.componentToEntity[r] ? this.componentToEntity[r].push(e) : this.componentToEntity[r] = [e],
        this.root.signals.entityGotNewComponent.dispatch(e)
    }
    function _removeDynamicCompone(e, t) {
        e.removeComponent(t, !0);
        var r = t.constructor.getId();
        Object(p.g)(this.componentToEntity[r], e),
        this.root.signals.entityComponentRemoved.dispatch(e)
    }
    function _findByUid(e, t=!0) {
        for (var r = this.entities, n = 0, i = r.length; n < i; ++n) {
            var o = r[n];
            if (o.uid === e)
                return o.queuedForDestroy || o.destroyed ? (t && ds.warn("Entity with UID", e, "not found (destroyed)"),
                null) : o
        }
        return t && ds.warn("Entity with UID", e, "not found"),
        null
    }
    function _getFrozenUidSearchMa() {
        for (var e = new Map, t = this.entities, r = 0, n = t.length; r < n; ++r) {
            var i = t[r];
            i.queuedForDestroy || i.destroyed || e.set(i.uid, i)
        }
        return e
    }
    function _getAllWithComponent(e) {
        return this.componentToEntity[e.getId()] || []
    }
    function _unregisterEntityComp(e) {
        for (var t in e.components)
            e.components[t] && Object(p.c)(this.componentToEntity[t], e)
    }
    function _processDestroyList() {
        for (var e = 0; e < this.destroyList.length; ++e) {
            var t = this.destroyList[e];
            Object(p.c)(this.entities, t),
            this.unregisterEntityComponents(t),
            t.registered = !1,
            t.destroyed = !0,
            this.root.signals.entityDestroyed.dispatch(t)
        }
        this.destroyList = []
    }
    function _destroyEntity(e) {
        e.destroyed ? ds.error("Tried to destroy already destroyed entity:", e.uid) : e.queuedForDestroy ? ds.error("Trying to destroy entity which is already queued for destroy!", e.uid) : this.destroyList.indexOf(e) < 0 && (this.destroyList.push(e),
        e.queuedForDestroy = !0,
        this.root.signals.entityQueuedForDestroy.dispatch(e))
    }
    var ps = function(e) {
        function EntityManager(t) {
            var r;
            return (r = e.call(this) || this).root = t,
            r.entities = [],
            r.destroyList = [],
            r.componentToEntity = Object(p.z)(),
            r.nextUid = 1e4,
            r
        }
        !function entity_manager_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(EntityManager, e),
        EntityManager.getId = entity_manager_getId,
        EntityManager.getSchema = entity_manager_getSchema;
        var t = EntityManager.prototype;
        return t.getStatsText = _getStatsText,
        t.update = entity_manager_update,
        t.registerEntity = _registerEntity,
        t.generateUid = _generateUid,
        t.attachDynamicComponent = _attachDynamicCompone,
        t.removeDynamicComponent = _removeDynamicCompone,
        t.findByUid = _findByUid,
        t.getFrozenUidSearchMap = _getFrozenUidSearchMa,
        t.getAllWithComponent = _getAllWithComponent,
        t.unregisterEntityComponents = _unregisterEntityComp,
        t.processDestroyList = _processDestroyList,
        t.destroyEntity = _destroyEntity,
        EntityManager
    }(He.a)
      , hs = {};
    function hub_goals_getId() {
        return "HubGoals"
    }
    function hub_goals_getSchema() {
        return {
            level: He.b.uint,
            storedShapes: He.b.keyValueMap(He.b.uint),
            upgradeLevels: He.b.keyValueMap(He.b.uint)
        }
    }
    function _isEndOfDemoReached() {
        return !this.root.gameMode.getIsFreeplayAvailable() && this.level >= this.root.gameMode.getLevelDefinitions().length
    }
    function _getShapesStored(e) {
        return this.storedShapes[e.getHash()] || 0
    }
    function _takeShapeByKey(e, t) {
        this.storedShapes[e] = (this.storedShapes[e] || 0) - t
    }
    function _getShapesStoredByKey(e) {
        return this.storedShapes[e] || 0
    }
    function _getCurrentGoalDelive() {
        return this.currentGoal.throughputOnly ? this.root.productionAnalytics.getCurrentShapeRateRaw(Ge.delivered, this.currentGoal.definition) / g.e.analyticsSliceDurationSeconds : this.getShapesStored(this.currentGoal.definition)
    }
    function _getUpgradeLevel(e) {
        return this.upgradeLevels[e] || 0
    }
    function _isRewardUnlocked(e) {
        return this.root.gameMode.getLevelDefinitions().length < 1 || !!this.gainedRewards[e]
    }
    function _handleDefinitionDeli(e) {
        var t = e.getHash();
        this.storedShapes[t] = (this.storedShapes[t] || 0) + 1,
        this.root.signals.shapeDelivered.dispatch(e),
        this.getCurrentGoalDelivered() >= this.currentGoal.required && (this.isEndOfDemoReached() || this.onGoalCompleted())
    }
    function _computeNextGoal() {
        var e = this.level - 1
          , t = this.root.gameMode.getLevelDefinitions();
        if (e < t.length) {
            var {shape: r, required: n, reward: i, throughputOnly: o} = t[e];
            this.currentGoal = {
                definition: this.root.shapeDefinitionMgr.getShapeFromShortKey(r),
                required: n,
                reward: i,
                throughputOnly: o
            }
        } else {
            var a = Math.min(200, Math.floor(4 + .25 * (this.level - 27)));
            this.currentGoal = {
                definition: this.computeFreeplayShape(this.level),
                required: a,
                reward: Qe.no_reward_freeplay,
                throughputOnly: !0
            }
        }
    }
    function _onGoalCompleted() {
        var e = this.currentGoal.reward;
        this.gainedRewards[e] = (this.gainedRewards[e] || 0) + 1,
        this.root.app.gameAnalytics.handleLevelCompleted(this.level),
        ++this.level,
        this.computeNextGoal(),
        this.root.signals.storyGoalCompleted.dispatch(this.level - 1, e)
    }
    function _isFreePlay() {
        return this.level >= this.root.gameMode.getLevelDefinitions().length
    }
    function _canUnlockUpgrade(e) {
        var t = this.root.gameMode.getUpgrades()[e]
          , r = this.getUpgradeLevel(e);
        if (r >= t.length)
            return !1;
        for (var n = t[r], i = 0; i < n.required.length; ++i) {
            var o = n.required[i];
            if ((this.storedShapes[o.shape] || 0) < o.amount)
                return !1
        }
        return !0
    }
    function _getAvailableUpgradeC() {
        var e = 0;
        for (var t in this.root.gameMode.getUpgrades())
            this.canUnlockUpgrade(t) && ++e;
        return e
    }
    function _tryUnlockUpgrade(e) {
        if (!this.canUnlockUpgrade(e))
            return !1;
        var t = this.root.gameMode.getUpgrades()[e]
          , r = this.getUpgradeLevel(e)
          , n = t[r];
        if (!n)
            return !1;
        for (var i = 0; i < n.required.length; ++i) {
            var o = n.required[i];
            this.storedShapes[o.shape] -= o.amount
        }
        return this.upgradeLevels[e] = (this.upgradeLevels[e] || 0) + 1,
        this.upgradeImprovements[e] += n.improvement,
        this.root.signals.upgradePurchased.dispatch(e),
        this.root.app.gameAnalytics.handleUpgradeUnlocked(e, r),
        !0
    }
    function _generateRandomColorS(e, t=!1) {
        var r = [V.c.red, V.c.yellow, V.c.green, V.c.cyan, V.c.blue, V.c.purple, V.c.red, V.c.yellow]
          , n = [V.c.white];
        t && n.push(V.c.uncolored);
        var i = e.nextIntRange(0, r.length - 2)
          , o = r.slice(i, i + 3);
        return o.push(e.choice(n)),
        o
    }
    function _computeFreeplayShape(e) {
        var t = Object(p.d)(this.level / 25, 2, 4)
          , r = []
          , n = new j.a(this.root.map.seed + "/" + e)
          , i = this.generateRandomColorSet(n, e > 35)
          , o = null
          , a = [R.d.rect, R.d.circle, R.d.star];
        n.next() < .5 ? (o = [[0, 2], [1, 3]],
        a.push(R.d.windmill)) : o = n.choice([[[0, 3], [1, 2]], [[0, 1], [2, 3]], [[0, 2], [1], [3]], [[1, 3], [0], [2]]]);
        for (var s = () => n.choice(i), l = () => n.choice(a), c = !1, u = 0; u < t; ++u) {
            for (var d = [null, null, null, null], h = 0; h < o.length; ++h)
                for (var g = o[h], f = l(), m = s(), y = 0; y < g.length; ++y)
                    d[g[y]] = {
                        subShape: f,
                        color: m
                    };
            e > 75 && n.next() > .95 && !c && (d[n.nextIntRange(0, 4)] = null,
            c = !0),
            r.push(d)
        }
        var _ = new R.b({
            layers: r
        });
        return this.root.shapeDefinitionMgr.registerOrReturnHandle(_)
    }
    function _getBeltBaseSpeed() {
        return this.root.gameMode.throughputDoesNotMatter() ? 2 * g.e.puzzleModeSpeed : 2 * this.upgradeImprovements.belt
    }
    function _getUndergroundBeltBa() {
        return this.root.gameMode.throughputDoesNotMatter() ? 2 * g.e.puzzleModeSpeed : 2 * this.upgradeImprovements.belt
    }
    function _getMinerBaseSpeed() {
        return this.root.gameMode.throughputDoesNotMatter() ? g.e.minerSpeedItemsPerSecond * g.e.puzzleModeSpeed : g.e.minerSpeedItemsPerSecond * this.upgradeImprovements.miner
    }
    function _getProcessorBaseSpee(e) {
        if (this.root.gameMode.throughputDoesNotMatter())
            return 20 * g.e.puzzleModeSpeed;
        switch (e) {
        case be.enumItemProcessorTypes.trash:
        case be.enumItemProcessorTypes.hub:
        case be.enumItemProcessorTypes.goal:
            return 1e30;
        case be.enumItemProcessorTypes.balancer:
            return 4 * this.upgradeImprovements.belt;
        case be.enumItemProcessorTypes.reader:
            return 2 * this.upgradeImprovements.belt;
        case be.enumItemProcessorTypes.mixer:
        case be.enumItemProcessorTypes.painter:
        case be.enumItemProcessorTypes.painterDouble:
        case be.enumItemProcessorTypes.painterQuad:
            return 2 * this.upgradeImprovements.painting * g.e.buildingSpeeds[e];
        case be.enumItemProcessorTypes.cutter:
        case be.enumItemProcessorTypes.cutterQuad:
        case be.enumItemProcessorTypes.rotater:
        case be.enumItemProcessorTypes.rotaterCCW:
        case be.enumItemProcessorTypes.rotater180:
        case be.enumItemProcessorTypes.stacker:
            return 2 * this.upgradeImprovements.processors * g.e.buildingSpeeds[e];
        default:
            if (hs[e])
                return hs[e](this.root);
            window.assert(!1, "invalid processor type: " + e)
        }
        return .5
    }
    var gs = function(e) {
        !function hub_goals_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HubGoals, e),
        HubGoals.getId = hub_goals_getId,
        HubGoals.getSchema = hub_goals_getSchema;
        var t = HubGoals.prototype;
        function HubGoals(t) {
            var r;
            (r = e.call(this) || this).root = t,
            r.level = 1,
            r.gainedRewards = {},
            r.storedShapes = {},
            r.upgradeLevels = {},
            r.upgradeImprovements = {};
            var n = r.root.gameMode.getUpgrades();
            for (var i in n)
                r.upgradeLevels[i] = 0,
                r.upgradeImprovements[i] = 1;
            return r.computeNextGoal(),
            r
        }
        return t.deserialize = function deserialize(t, r) {
            var n = e.prototype.deserialize.call(this, t);
            if (n)
                return n;
            var i = r.gameMode.getLevelDefinitions();
            r.gameMode.getIsFreeplayAvailable() || (this.level = Math.min(this.level, i.length));
            for (var o = 0; o < this.level - 1; ++o)
                if (o < i.length) {
                    var a = i[o].reward;
                    this.gainedRewards[a] = (this.gainedRewards[a] || 0) + 1
                }
            var s = this.root.gameMode.getUpgrades();
            for (var l in s) {
                for (var c = s[l], u = this.upgradeLevels[l] || 0, d = 1, p = 0; p < u; ++p)
                    d += c[p].improvement;
                this.upgradeImprovements[l] = d
            }
            this.computeNextGoal()
        }
        ,
        t.isEndOfDemoReached = _isEndOfDemoReached,
        t.getShapesStored = _getShapesStored,
        t.takeShapeByKey = _takeShapeByKey,
        t.getShapesStoredByKey = _getShapesStoredByKey,
        t.getCurrentGoalDelivered = _getCurrentGoalDelive,
        t.getUpgradeLevel = _getUpgradeLevel,
        t.isRewardUnlocked = _isRewardUnlocked,
        t.handleDefinitionDelivered = _handleDefinitionDeli,
        t.computeNextGoal = _computeNextGoal,
        t.onGoalCompleted = _onGoalCompleted,
        t.isFreePlay = _isFreePlay,
        t.canUnlockUpgrade = _canUnlockUpgrade,
        t.getAvailableUpgradeCount = _getAvailableUpgradeC,
        t.tryUnlockUpgrade = _tryUnlockUpgrade,
        t.generateRandomColorSet = _generateRandomColorS,
        t.computeFreeplayShape = _computeFreeplayShape,
        t.getBeltBaseSpeed = _getBeltBaseSpeed,
        t.getUndergroundBeltBaseSpeed = _getUndergroundBeltBa,
        t.getMinerBaseSpeed = _getMinerBaseSpeed,
        t.getProcessorBaseSpeed = _getProcessorBaseSpee,
        HubGoals
    }(He.a);
    function blueprint_placer_createElements(e) {
        var t = this.root.shapeDefinitionMgr.getShapeFromShortKey(this.root.gameMode.getBlueprintShapeKey()).generateAsCanvas(80);
        this.costDisplayParent = Object(p.x)(e, "ingame_HUD_BlueprintPlacer", [], ""),
        Object(p.x)(this.costDisplayParent, null, ["label"], U.a.ingame.blueprintPlacer.cost);
        var r = Object(p.x)(this.costDisplayParent, null, ["costContainer"], "");
        this.costDisplayText = Object(p.x)(r, null, ["costText"], ""),
        r.appendChild(t)
    }
    function blueprint_placer_initialize() {
        this.root.hud.signals.buildingsSelectedForCopy.add(this.createBlueprintFromBuildings, this),
        this.currentBlueprint = new Dt(this.onBlueprintChanged,this),
        this.lastBlueprintUsed = null;
        var e = this.root.keyMapper;
        e.getBinding(xt.general.back).add(this.abortPlacement, this),
        e.getBinding(xt.placement.pipette).add(this.abortPlacement, this),
        e.getBinding(xt.placement.rotateWhilePlacing).add(this.rotateBlueprint, this),
        e.getBinding(xt.massSelect.pasteLastBlueprint).add(this.pasteBlueprint, this),
        this.root.camera.downPreHandler.add(this.onMouseDown, this),
        this.root.camera.movePreHandler.add(this.onMouseMove, this),
        this.root.hud.signals.selectedPlacementBuildingChanged.add(this.abortPlacement, this),
        this.root.signals.editModeChanged.add(this.onEditModeChanged, this),
        this.domAttach = new Ut(this.root,this.costDisplayParent),
        this.trackedCanAfford = new Dt(this.onCanAffordChanged,this)
    }
    function blueprint_placer_getHasFreeCopyPaste() {
        return this.root.gameMode.getHasFreeCopyPaste()
    }
    function _abortPlacement() {
        if (this.currentBlueprint.get())
            return this.currentBlueprint.set(null),
            v.a
    }
    function _onEditModeChanged(e) {
        var t = this.currentBlueprint.get();
        t && t.layer !== e && this.currentBlueprint.set(null)
    }
    function _onCanAffordChanged(e) {
        this.costDisplayParent.classList.toggle("canAfford", e)
    }
    function blueprint_placer_update() {
        var e = this.currentBlueprint.get();
        this.domAttach.update(!this.getHasFreeCopyPaste() && e && e.getCost() > 0),
        this.trackedCanAfford.set(e && e.canAfford(this.root))
    }
    function _onBlueprintChanged(e) {
        e && (this.lastBlueprintUsed = e,
        this.costDisplayText.innerText = "" + e.getCost())
    }
    function blueprint_placer_onMouseDown(e, t) {
        if (t === Wo.right) {
            if (this.currentBlueprint.get())
                return this.abortPlacement(),
                v.a
        } else if (t === Wo.left) {
            var r = this.currentBlueprint.get();
            if (!r)
                return;
            if (!this.getHasFreeCopyPaste() && !r.canAfford(this.root))
                return void this.root.soundProxy.playUiError();
            var n = this.root.camera.screenToWorld(e).toTileSpace();
            if (r.tryPlace(this.root, n)) {
                if (!this.getHasFreeCopyPaste()) {
                    var i = r.getCost();
                    this.root.hubGoals.takeShapeByKey(this.root.gameMode.getBlueprintShapeKey(), i)
                }
                this.root.soundProxy.playUi(k.placeBuilding)
            }
            return v.a
        }
    }
    function blueprint_placer_onMouseMove() {
        if (this.currentBlueprint.get())
            return v.a
    }
    function _createBlueprintFromB(e) {
        0 !== e.length && this.currentBlueprint.set(Lo.fromUids(this.root, e))
    }
    function _rotateBlueprint() {
        this.currentBlueprint.get() && (this.root.keyMapper.getBinding(xt.placement.rotateInverseModifier).pressed ? this.currentBlueprint.get().rotateCcw() : this.currentBlueprint.get().rotateCw())
    }
    function _pasteBlueprint() {
        if (null !== this.lastBlueprintUsed) {
            if (this.lastBlueprintUsed.layer !== this.root.currentLayer)
                return void this.root.soundProxy.playUiError();
            this.root.hud.signals.pasteBlueprintRequested.dispatch(),
            this.currentBlueprint.set(this.lastBlueprintUsed)
        } else
            this.root.soundProxy.playUiError()
    }
    function blueprint_placer_draw(e) {
        var t = this.currentBlueprint.get();
        if (t) {
            var r = this.root.app.mousePosition;
            if (r) {
                var n = this.root.camera.screenToWorld(r).toTileSpace();
                t.draw(e, n)
            }
        }
    }
    var fs = function(e) {
        function HUDBlueprintPlacer() {
            return e.apply(this, arguments) || this
        }
        !function blueprint_placer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDBlueprintPlacer, e);
        var t = HUDBlueprintPlacer.prototype;
        return t.createElements = blueprint_placer_createElements,
        t.initialize = blueprint_placer_initialize,
        t.getHasFreeCopyPaste = blueprint_placer_getHasFreeCopyPaste,
        t.abortPlacement = _abortPlacement,
        t.onEditModeChanged = _onEditModeChanged,
        t.onCanAffordChanged = _onCanAffordChanged,
        t.update = blueprint_placer_update,
        t.onBlueprintChanged = _onBlueprintChanged,
        t.onMouseDown = blueprint_placer_onMouseDown,
        t.onMouseMove = blueprint_placer_onMouseMove,
        t.createBlueprintFromBuildings = _createBlueprintFromB,
        t.rotateBlueprint = _rotateBlueprint,
        t.pasteBlueprint = _pasteBlueprint,
        t.draw = blueprint_placer_draw,
        HUDBlueprintPlacer
    }(qt)
      , ms = function(e) {
        function HUDBuildingsToolbar(t) {
            var r;
            return r = e.call(this, t, {
                primaryBuildings: [Ar, Mr, $, wr, pn, Gr, Sr, Br, Zr, Xr, Wr, qr, an, zr],
                secondaryBuildings: [en, Qr, Lr, Tr, Pr],
                visibilityCondition: () => !r.root.camera.getIsMapOverlayActive() && "regular" === r.root.currentLayer,
                htmlElementId: "ingame_HUD_BuildingsToolbar"
            }) || this
        }
        return function buildings_toolbar_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDBuildingsToolbar, e),
        HUDBuildingsToolbar
    }(Io);
    function building_placer_logic_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    function building_placer_logic_initialize() {
        this.fakeEntity = null,
        this.signals = {
            variantChanged: new v.b,
            draggingStarted: new v.b
        },
        this.currentMetaBuilding = new Dt(this.onSelectedMetaBuildingChanged,this),
        this.currentBaseRotationGeneral = 0,
        this.preferredBaseRotations = {},
        this.currentlyDragging = !1,
        this.currentVariant = new Dt( () => this.signals.variantChanged.dispatch()),
        this.currentlyDeleting = !1,
        this.preferredVariants = {},
        this.lastDragTile = null,
        this.currentDirectionLockSide = 0,
        this.currentDirectionLockSideIndeterminate = !0,
        this.initializeBindings()
    }
    function _initializeBindings() {
        var e = this.root.keyMapper;
        e.getBinding(xt.placement.rotateWhilePlacing).add(this.tryRotate, this),
        e.getBinding(xt.placement.rotateToUp).add(this.trySetRotate, this),
        e.getBinding(xt.placement.rotateToDown).add(this.trySetRotate, this),
        e.getBinding(xt.placement.rotateToRight).add(this.trySetRotate, this),
        e.getBinding(xt.placement.rotateToLeft).add(this.trySetRotate, this),
        e.getBinding(xt.placement.cycleBuildingVariants).add(this.cycleVariants, this),
        e.getBinding(xt.placement.switchDirectionLockSide).add(this.switchDirectionLockSide, this),
        e.getBinding(xt.general.back).add(this.abortPlacement, this),
        e.getBinding(xt.placement.pipette).add(this.startPipette, this),
        this.root.gameState.inputReciever.keyup.add(this.checkForDirectionLockSwitch, this),
        this.root.hud.signals.buildingsSelectedForCopy.add(this.abortPlacement, this),
        this.root.hud.signals.pasteBlueprintRequested.add(this.abortPlacement, this),
        this.root.signals.storyGoalCompleted.add( () => this.signals.variantChanged.dispatch()),
        this.root.signals.upgradePurchased.add( () => this.signals.variantChanged.dispatch()),
        this.root.signals.editModeChanged.add(this.onEditModeChanged, this),
        this.root.camera.downPreHandler.add(this.onMouseDown, this),
        this.root.camera.movePreHandler.add(this.onMouseMove, this),
        this.root.camera.upPostHandler.add(this.onMouseUp, this)
    }
    function building_placer_logic_onEditModeChanged(e) {
        var t = this.currentMetaBuilding.get();
        t && t.getLayer() !== e && this.currentMetaBuilding.set(null)
    }
    function building_placer_logic_abortPlacement() {
        if (this.currentMetaBuilding.get())
            return this.currentMetaBuilding.set(null),
            v.a
    }
    function _abortDragging() {
        this.currentlyDragging = !0,
        this.currentlyDeleting = !1,
        this.initialPlacementVector = null,
        this.lastDragTile = null
    }
    function building_placer_logic_update() {
        if (this.root.hud.hasBlockingOverlayOpen())
            this.abortPlacement();
        else {
            var e = this.root.app.mousePosition;
            e && this.onMouseMove(e),
            this.root.camera.getIsMapOverlayActive() && this.currentMetaBuilding.get() && this.currentMetaBuilding.set(null)
        }
    }
    function _tryRotate() {
        this.currentMetaBuilding.get() && (this.root.keyMapper.getBinding(xt.placement.rotateInverseModifier).pressed ? this.currentBaseRotation = (this.currentBaseRotation + 270) % 360 : this.currentBaseRotation = (this.currentBaseRotation + 90) % 360,
        this.fakeEntity.components.StaticMapEntity.rotation = this.currentBaseRotation)
    }
    function _trySetRotate() {
        this.currentMetaBuilding.get() && (this.root.keyMapper.getBinding(xt.placement.rotateToUp).pressed ? this.currentBaseRotation = 0 : this.root.keyMapper.getBinding(xt.placement.rotateToDown).pressed ? this.currentBaseRotation = 180 : this.root.keyMapper.getBinding(xt.placement.rotateToRight).pressed ? this.currentBaseRotation = 90 : this.root.keyMapper.getBinding(xt.placement.rotateToLeft).pressed && (this.currentBaseRotation = 270),
        this.fakeEntity.components.StaticMapEntity.rotation = this.currentBaseRotation)
    }
    function _deleteBelowCursor() {
        var e = this.root.app.mousePosition;
        if (!e)
            return !1;
        var t = this.root.camera.screenToWorld(e).toTileSpace()
          , r = this.root.map.getTileContent(t, this.root.currentLayer);
        return !(!r || !this.root.logic.tryDeleteBuilding(r) || (this.root.soundProxy.playUi(k.destroyBuilding),
        0))
    }
    function _startPipette() {
        if (!this.root.camera.getIsMapOverlayActive()) {
            var e = this.root.app.mousePosition;
            if (e) {
                var t = this.root.camera.screenToWorld(e).toTileSpace()
                  , r = this.root.map.getTileContent(t, this.root.currentLayer);
                if (r) {
                    var n = r.components.StaticMapEntity.code
                      , i = Object(O.c)(n);
                    i.metaInstance.getId() !== F.e.findByClass(Or).getId() ? this.root.gameMode.isBuildingExcluded(i.metaClass) ? this.currentMetaBuilding.set(null) : this.currentMetaBuilding.get() && i.metaInstance.getId() === this.currentMetaBuilding.get().getId() && i.variant === this.currentVariant.get() ? this.currentMetaBuilding.set(null) : (this.currentMetaBuilding.set(i.metaInstance),
                    this.currentVariant.set(i.variant),
                    this.currentBaseRotation = r.components.StaticMapEntity.rotation) : this.currentMetaBuilding.set(null)
                } else
                    this.root.map.getLowerLayerContentXY(t.x, t.y) && this.root.app.settings.getAllSettings().pickMinerOnPatch && "regular" === this.root.currentLayer && this.root.gameMode.hasResources() ? (this.currentMetaBuilding.set(F.e.findByClass(Gr)),
                    this.root.hubGoals.isRewardUnlocked(Qe.reward_miner_chainable) && this.currentVariant.set(Vr.chainable)) : this.currentMetaBuilding.set(null)
            }
        }
    }
    function _switchDirectionLockS() {
        this.currentDirectionLockSide = 1 - this.currentDirectionLockSide
    }
    function _checkForDirectionLoc({keyCode: e}) {
        e === this.root.keyMapper.getBinding(xt.placementModifiers.lockBeltDirection).keyCode && this.abortDragging()
    }
    function _tryPlaceCurrentBuild(e) {
        if (!this.root.camera.getIsMapOverlayActive()) {
            var t = this.currentMetaBuilding.get()
              , {rotation: r, rotationVariant: n} = t.computeOptimalDirectionAndRotationVariantAtTile({
                root: this.root,
                tile: e,
                rotation: this.currentBaseRotation,
                variant: this.currentVariant.get(),
                layer: t.getLayer()
            })
              , i = this.root.logic.tryPlaceBuilding({
                origin: e,
                rotation: r,
                rotationVariant: n,
                originalRotation: this.currentBaseRotation,
                building: this.currentMetaBuilding.get(),
                variant: this.currentVariant.get()
            });
            return !!i && (this.root.signals.entityManuallyPlaced.dispatch(i),
            t.getFlipOrientationAfterPlacement() && !this.root.keyMapper.getBinding(xt.placementModifiers.placementDisableAutoOrientation).pressed && (this.currentBaseRotation = (180 + this.currentBaseRotation) % 360),
            t.getStayInPlacementMode() || this.root.keyMapper.getBinding(xt.placementModifiers.placeMultiple).pressed || this.root.app.settings.getAllSettings().alwaysMultiplace || this.currentMetaBuilding.set(null),
            !0)
        }
    }
    function _cycleVariants() {
        var e = this.currentMetaBuilding.get();
        if (e) {
            var t = e.getAvailableVariants(this.root)
              , r = t.indexOf(this.currentVariant.get());
            r < 0 && (r = 0,
            console.warn("Invalid variant selected:", this.currentVariant.get()));
            var n = this.root.keyMapper.getBinding(xt.placement.rotateInverseModifier).pressed ? -1 : 1
              , i = t[Object(p.I)(r + n, t.length)];
            this.setVariant(i)
        } else
            this.currentVariant.set(z)
    }
    function _setVariant(e) {
        var t = this.currentMetaBuilding.get();
        this.currentVariant.set(e),
        this.preferredVariants[t.getId()] = e
    }
    function _executeDirectionLock() {
        var e = this.currentMetaBuilding.get();
        if (e) {
            var t = this.computeDirectionLockPath()
              , r = !1;
            this.root.logic.performBulkOperation( () => {
                for (var e = 0; e < t.length; ++e) {
                    var {rotation: n, tile: i} = t[e];
                    this.currentBaseRotation = n,
                    this.tryPlaceCurrentBuildingAt(i) && (r = !0)
                }
            }
            ),
            r && this.root.soundProxy.playUi(e.getPlacementSound())
        }
    }
    function _computeDirectionLock() {
        var e = this.root.app.mousePosition;
        if (!e)
            return [];
        var t = []
          , r = this.root.camera.screenToWorld(e).toTileSpace()
          , n = this.lastDragTile;
        if (this.root.keyMapper.getBinding(xt.placementModifiers.placeInverse).pressed) {
            var i = n;
            n = r,
            r = i
        }
        var o = this.currentDirectionLockCorner.sub(n)
          , a = o.normalize().round()
          , s = Math.round(o.length())
          , l = n.copy()
          , c = (90 * Math.round(Math.degrees(a.angle()) / 90) + 360) % 360;
        if (s > 0)
            for (var u = 0; u < s; ++u)
                t.push({
                    tile: l.copy(),
                    rotation: c
                }),
                l.addInplace(a);
        var d = r.sub(this.currentDirectionLockCorner)
          , p = d.normalize().round()
          , h = Math.round(d.length());
        if (h > 0) {
            c = (90 * Math.round(Math.degrees(p.angle()) / 90) + 360) % 360;
            for (var g = 0; g < h + 1; ++g)
                t.push({
                    tile: l.copy(),
                    rotation: c
                }),
                l.addInplace(p)
        } else
            t.push({
                tile: l.copy(),
                rotation: c
            });
        return t
    }
    function _startSelection(e) {
        this.currentMetaBuilding.set(e)
    }
    function _onSelectedMetaBuildi(e) {
        if (this.abortDragging(),
        this.root.hud.signals.selectedPlacementBuildingChanged.dispatch(e),
        e) {
            var t, r = e.getAvailableVariants(this.root), n = this.preferredVariants[e.getId()];
            t = n && r.includes(n) ? n : r[0],
            this.currentVariant.set(t),
            this.fakeEntity = new T.a(null),
            e.setupEntityComponents(this.fakeEntity, null),
            this.fakeEntity.addComponent(new P.StaticMapEntityComponent({
                origin: new C.a(0,0),
                rotation: 0,
                tileSize: e.getDimensions(this.currentVariant.get()).copy(),
                code: Object(O.d)(e, t, 0)
            })),
            e.updateVariants(this.fakeEntity, 0, this.currentVariant.get())
        } else
            this.fakeEntity = null;
        this.signals.variantChanged.dispatch()
    }
    function building_placer_logic_onMouseDown(e, t) {
        if (!this.root.camera.getIsMapOverlayActive()) {
            var r = this.currentMetaBuilding.get();
            return t === Wo.left && r ? (this.currentlyDragging = !0,
            this.currentlyDeleting = !1,
            this.lastDragTile = this.root.camera.screenToWorld(e).toTileSpace(),
            this.isDirectionLockActive || this.tryPlaceCurrentBuildingAt(this.lastDragTile) && this.root.soundProxy.playUi(r.getPlacementSound()),
            v.a) : t !== Wo.right || r && this.root.app.settings.getAllSettings().clearCursorOnDeleteWhilePlacing || (this.currentlyDragging = !0,
            this.currentlyDeleting = !0,
            this.lastDragTile = this.root.camera.screenToWorld(e).toTileSpace(),
            !this.deleteBelowCursor()) ? void (t === Wo.right && r && this.currentMetaBuilding.set(null)) : v.a
        }
    }
    function building_placer_logic_onMouseMove(e) {
        if (!this.root.camera.getIsMapOverlayActive() && !this.isDirectionLockActive) {
            var t = this.currentMetaBuilding.get();
            if ((t || this.currentlyDeleting) && this.lastDragTile) {
                var r = this.lastDragTile
                  , n = this.root.camera.screenToWorld(e).toTileSpace();
                if (this.root.camera.desiredCenter)
                    return void (this.lastDragTile = n);
                if (!r.equals(n)) {
                    if (t && t.getRotateAutomaticallyWhilePlacing(this.currentVariant.get()) && !this.root.keyMapper.getBinding(xt.placementModifiers.placementDisableAutoOrientation).pressed) {
                        var i = n.sub(r)
                          , o = Math.degrees(i.angle());
                        this.currentBaseRotation = (90 * Math.round(o / 90) + 360) % 360,
                        this.root.keyMapper.getBinding(xt.placementModifiers.placeInverse).pressed && (this.currentBaseRotation = (180 + this.currentBaseRotation) % 360)
                    }
                    for (var a = r.x, s = r.y, l = n.x, c = n.y, u = Math.abs(l - a), d = Math.abs(c - s), p = a < l ? 1 : -1, h = s < c ? 1 : -1, g = u - d, f = !1, m = !1; this.currentlyDeleting || this.currentMetaBuilding.get(); ) {
                        if (this.currentlyDeleting) {
                            var y = this.root.map.getLayerContentXY(a, s, this.root.currentLayer);
                            !y || y.queuedForDestroy || y.destroyed || this.root.logic.tryDeleteBuilding(y) && (m = !0)
                        } else
                            this.tryPlaceCurrentBuildingAt(new C.a(a,s)) && (f = !0);
                        if (a === l && s === c)
                            break;
                        var _ = 2 * g;
                        _ > -d && (g -= d,
                        a += p),
                        _ < u && (g += u,
                        s += h)
                    }
                    f && this.root.soundProxy.playUi(t.getPlacementSound()),
                    m && this.root.soundProxy.playUi(k.destroyBuilding)
                }
                return this.lastDragTile = n,
                v.a
            }
        }
    }
    function building_placer_logic_onMouseUp() {
        this.root.camera.getIsMapOverlayActive() || (this.lastDragTile && this.currentlyDragging && this.isDirectionLockActive && this.executeDirectionLockedPlacement(),
        this.abortDragging())
    }
    function building_placer_logic_ref() {
        if (!this.root.app.settings.getAllSettings().rotationByBuilding)
            return this.currentBaseRotationGeneral;
        var e = this.currentMetaBuilding.get();
        return e && this.preferredBaseRotations.hasOwnProperty(e.getId()) ? this.preferredBaseRotations[e.getId()] : this.currentBaseRotationGeneral
    }
    function building_placer_logic_ref2(e) {
        if (this.root.app.settings.getAllSettings().rotationByBuilding) {
            var t = this.currentMetaBuilding.get();
            t ? this.preferredBaseRotations[t.getId()] = e : this.currentBaseRotationGeneral = e
        } else
            this.currentBaseRotationGeneral = e
    }
    function building_placer_logic_ref3() {
        var e = this.currentMetaBuilding.get();
        return e && e.getHasDirectionLockAvailable() && this.root.keyMapper.getBinding(xt.placementModifiers.lockBeltDirection).pressed
    }
    function building_placer_logic_ref4() {
        var e = this.root.app.mousePosition;
        if (!e)
            return null;
        if (!this.lastDragTile)
            return null;
        var t = this.root.camera.screenToWorld(e).toTileSpace()
          , r = Math.abs(this.lastDragTile.x - t.x)
          , n = Math.abs(this.lastDragTile.y - t.y);
        return 0 === r && 0 === n ? this.currentDirectionLockSideIndeterminate = !0 : this.currentDirectionLockSideIndeterminate && (this.currentDirectionLockSideIndeterminate = !1,
        this.currentDirectionLockSide = r <= n ? 0 : 1),
        0 === this.currentDirectionLockSide ? new C.a(this.lastDragTile.x,t.y) : new C.a(t.x,this.lastDragTile.y)
    }
    function building_placer_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_PlacementHints", [], ""),
        this.buildingInfoElements = {},
        this.buildingInfoElements.label = Object(p.x)(this.element, null, ["buildingLabel"], "Extract"),
        this.buildingInfoElements.desc = Object(p.x)(this.element, null, ["description"], ""),
        this.buildingInfoElements.descText = Object(p.x)(this.buildingInfoElements.desc, null, ["text"], ""),
        this.buildingInfoElements.additionalInfo = Object(p.x)(this.buildingInfoElements.desc, null, ["additionalInfo"], ""),
        this.buildingInfoElements.hotkey = Object(p.x)(this.buildingInfoElements.desc, null, ["hotkey"], ""),
        this.buildingInfoElements.tutorialImage = Object(p.x)(this.element, null, ["buildingImage"]),
        this.variantsElement = Object(p.x)(e, "ingame_HUD_PlacerVariants");
        var t = this.root.app.settings.getAllSettings().compactBuildingInfo;
        this.element.classList.toggle("compact", t),
        this.variantsElement.classList.toggle("compact", t)
    }
    function _makeLockIndicatorSpr(e) {
        var [t,r] = Object(Yo.e)(48, 48, {
            smooth: !0,
            reusable: !1,
            label: "lock-direction-indicator"
        });
        return r.fillStyle = J.a.map.directionLock[e].color,
        r.strokeStyle = J.a.map.directionLock[e].color,
        r.lineWidth = 2,
        r.moveTo(5, 36),
        r.lineTo(24, 12),
        r.lineTo(43, 36),
        r.closePath(),
        r.stroke(),
        r.fill(),
        t
    }
    function _rerenderInfoDialog() {
        var e = this.currentMetaBuilding.get();
        if (e) {
            var t = this.currentVariant.get();
            this.buildingInfoElements.label.innerHTML = U.a.buildings[e.id][t].name,
            this.buildingInfoElements.descText.innerHTML = U.a.buildings[e.id][t].description;
            var r = this.root.currentLayer
              , n = xt.buildings[e.getId() + "_" + r];
            if (n || (n = xt.buildings[e.getId()]),
            n) {
                var i = this.root.keyMapper.getBinding(n);
                this.buildingInfoElements.hotkey.innerHTML = U.a.ingame.buildingPlacement.hotkeyLabel.replace("<key>", "<code class='keybinding'>" + i.getKeyCodeString() + "</code>")
            } else
                this.buildingInfoElements.hotkey.innerHTML = "";
            this.buildingInfoElements.tutorialImage.setAttribute("data-icon", "building_tutorials/" + e.getId() + (t === z ? "" : "-" + t) + ".png"),
            Object(p.C)(this.buildingInfoElements.additionalInfo);
            for (var o = e.getAdditionalStatistics(this.root, this.currentVariant.get()), a = 0; a < o.length; ++a) {
                var [s,l] = o[a];
                this.buildingInfoElements.additionalInfo.innerHTML += "<label>" + s + ":</label><span>" + l + "</contents>"
            }
        }
    }
    function _cleanupVariantClickD() {
        for (var e = 0; e < this.variantClickDetectors.length; ++e)
            this.variantClickDetectors[e].cleanup();
        this.variantClickDetectors = []
    }
    function _rerenderVariants() {
        var e = this;
        Object(p.C)(this.variantsElement),
        this.rerenderInfoDialog();
        var t = this.currentMetaBuilding.get();
        if (this.cleanupVariantClickDetectors(),
        t) {
            var r = t.getAvailableVariants(this.root);
            if (1 !== r.length) {
                Object(p.x)(this.variantsElement, null, ["explanation"], U.a.ingame.buildingPlacement.cycleBuildingVariants.replace("<key>", "<code class='keybinding'>" + this.root.keyMapper.getBinding(xt.placement.cycleBuildingVariants).getKeyCodeString() + "</code>"));
                for (var n = Object(p.x)(this.variantsElement, null, ["variants"]), i = function(i) {
                    var o = r[i]
                      , a = Object(p.x)(n, null, ["variant"]);
                    a.classList.toggle("active", o === e.currentVariant.get()),
                    Object(p.x)(a, null, ["label"], o);
                    var s = t.getDimensions(o)
                      , l = t.getPreviewSprite(0, o)
                      , c = Object(p.x)(a, null, ["iconWrap"]);
                    c.setAttribute("data-tile-w", String(s.x)),
                    c.setAttribute("data-tile-h", String(s.y)),
                    c.innerHTML = l.getAsHTML(64 * s.x, 64 * s.y),
                    new Nt(a,{
                        consumeEvents: !0,
                        targetOnly: !0
                    }).click.add( () => e.setVariant(o))
                }, o = 0; o < r.length; ++o)
                    i(o)
            }
        }
    }
    function building_placer_draw(e) {
        if (this.root.camera.getIsMapOverlayActive())
            return this.domAttach.update(!1),
            void this.variantsAttach.update(!1);
        this.domAttach.update(!!this.currentMetaBuilding.get()),
        this.variantsAttach.update(!!this.currentMetaBuilding.get());
        var t = this.currentMetaBuilding.get();
        t && (this.isDirectionLockActive ? this.drawDirectionLock(e) : this.drawRegularPlacement(e),
        t.getShowWiresLayerPreview() && this.drawLayerPeek(e))
    }
    function _drawLayerPeek(e) {
        var t = this.root.app.mousePosition;
        if (t) {
            var r = this.root.camera.screenToWorld(t);
            this.root.hud.parts.layerPreview && this.root.hud.parts.layerPreview.renderPreview(e, r, 1 / this.root.camera.zoomLevel)
        }
    }
    function _drawRegularPlacement(e) {
        var t = this.root.app.mousePosition;
        if (t) {
            var r = this.currentMetaBuilding.get()
              , n = this.root.camera.screenToWorld(t)
              , i = n.toTileSpace()
              , {rotation: o, rotationVariant: a, connectedEntities: s} = r.computeOptimalDirectionAndRotationVariantAtTile({
                root: this.root,
                tile: i,
                rotation: this.currentBaseRotation,
                variant: this.currentVariant.get(),
                layer: r.getLayer()
            });
            if (s)
                for (var l = 0; l < s.length; ++l) {
                    var c = s[l].components.StaticMapEntity.getTileSpaceBounds().getCenter().toWorldSpace()
                      , u = i.toWorldSpaceCenterOfTile()
                      , d = c.sub(u).normalize().multiplyScalar(9.6)
                      , p = u.add(d)
                      , h = c.sub(d);
                    e.context.globalAlpha = .6,
                    e.context.strokeStyle = "#7f7",
                    e.context.lineWidth = 10,
                    e.context.beginPath(),
                    e.context.moveTo(p.x, p.y),
                    e.context.lineTo(h.x, h.y),
                    e.context.stroke(),
                    e.context.globalAlpha = 1
                }
            this.fakeEntity.layer = r.getLayer();
            var g = this.fakeEntity.components.StaticMapEntity;
            g.origin = i,
            g.rotation = o,
            r.updateVariants(this.fakeEntity, a, this.currentVariant.get()),
            g.code = Object(O.d)(this.currentMetaBuilding.get(), this.currentVariant.get(), a);
            var f = this.root.logic.checkCanPlaceEntity(this.fakeEntity, {});
            e.context.lineWidth = 1;
            var m = g.getTileSpaceBounds();
            f ? (e.context.strokeStyle = "rgba(56, 235, 111, 0.5)",
            e.context.fillStyle = "rgba(56, 235, 111, 0.2)") : (e.context.strokeStyle = "rgba(255, 0, 0, 0.2)",
            e.context.fillStyle = "rgba(255, 0, 0, 0.2)"),
            e.context.beginRoundedRect(32 * m.x - -3, 32 * m.y - -3, 32 * m.w - 6, 32 * m.h - 6, 4),
            e.context.stroke(),
            e.context.globalAlpha = 1;
            var y = r.getBlueprintSprite(a, this.currentVariant.get());
            g.origin = n.divideScalar(32).subScalars(.5, .5),
            g.drawSpriteOnBoundsClipped(e, y),
            g.origin = i,
            f && this.drawMatchingAcceptorsAndEjectors(e)
        }
    }
    function _checkForObstales(e, t, r=[]) {
        var n = e.x === t.x ? "y" : "x"
          , i = e.copy()
          , o = this.currentMetaBuilding.get();
        this.fakeEntity.layer = o.getLayer();
        var a = this.fakeEntity.components.StaticMapEntity;
        a.origin = i,
        a.rotation = 0,
        o.updateVariants(this.fakeEntity, 0, this.currentVariant.get()),
        a.code = Object(O.d)(this.currentMetaBuilding.get(), this.currentVariant.get(), 0);
        var s = Math.min(e[n], t[n])
          , l = Math.max(e[n], t[n]);
        function _ref(e) {
            return e.distanceSquare(i) < .1
        }
        for (var c = s; c <= l; c++)
            if (i[n] = c,
            !r.some(_ref) && !this.root.logic.checkCanPlaceEntity(this.fakeEntity, {
                allowReplaceBuildings: !1
            }))
                return !0;
        return !1
    }
    function _drawDirectionLock(e) {
        var t = this.root.app.mousePosition;
        if (t) {
            var r = t => {
                e.context.fillStyle = J.a.map.directionLock[t].color,
                e.context.strokeStyle = J.a.map.directionLock[t].background,
                e.context.lineWidth = 10
            }
            ;
            if (!this.lastDragTile) {
                r(this.root.currentLayer);
                var n = this.root.camera.screenToWorld(t);
                return e.context.beginCircle(n.x, n.y, 4),
                void e.context.fill()
            }
            var i = this.root.camera.screenToWorld(t)
              , o = i.toTileSpace()
              , a = this.lastDragTile.toWorldSpaceCenterOfTile()
              , s = o.toWorldSpaceCenterOfTile()
              , l = this.currentDirectionLockCorner.toWorldSpaceCenterOfTile()
              , c = this.checkForObstales(this.lastDragTile, this.currentDirectionLockCorner, [this.lastDragTile, o]) || this.checkForObstales(this.currentDirectionLockCorner, o, [this.lastDragTile, o]);
            r(c ? "error" : this.root.currentLayer),
            e.context.beginCircle(i.x, i.y, 4),
            e.context.fill(),
            e.context.beginCircle(a.x, a.y, 8),
            e.context.fill(),
            e.context.beginPath(),
            e.context.moveTo(a.x, a.y),
            e.context.lineTo(l.x, l.y),
            e.context.lineTo(s.x, s.y),
            e.context.stroke(),
            e.context.beginCircle(s.x, s.y, 5),
            e.context.fill();
            for (var u = this.lockIndicatorSprites[c ? "error" : this.root.currentLayer], d = this.computeDirectionLockPath(), h = 0; h < d.length - 1; h += 1) {
                var {rotation: g, tile: f} = d[h]
                  , m = f.toWorldSpaceCenterOfTile()
                  , y = Math.radians(g);
                e.context.translate(m.x, m.y),
                e.context.rotate(y),
                e.context.drawImage(u, -6, -16 - 32 * Object(p.d)(1.5 * this.root.time.realtimeNow() % 1, 0, 1) + 16 - 6, 12, 12),
                e.context.rotate(-y),
                e.context.translate(-m.x, -m.y)
            }
        }
    }
    function _drawMatchingAcceptor(e) {
        var t = this.fakeEntity.components.ItemAcceptor
          , r = this.fakeEntity.components.ItemEjector
          , n = this.fakeEntity.components.StaticMapEntity
          , i = this.fakeEntity.components.Belt
          , o = this.fakeEntity.components.Miner
          , a = w.a.getSprite("sprites/misc/slot_good_arrow.png")
          , s = w.a.getSprite("sprites/misc/slot_bad_arrow.png")
          , l = []
          , c = [];
        if (r && (c = r.slots.slice()),
        t && (l = t.slots.slice()),
        i) {
            var u = i.getFakeEjectorSlot()
              , d = i.getFakeAcceptorSlot();
            c.push(u),
            l.push(d)
        }
        for (var p = 0; p < l.length; ++p) {
            for (var h = l[p], g = n.localTileToWorld(h.pos), f = g.toWorldSpaceCenterOfTile(), m = h.direction, y = n.localDirectionToWorld(m), _ = g.add(C.f[y]), v = !1, b = !1, S = this.root.map.getLayersContentsMultipleXY(_.x, _.y), A = 0; A < S.length; ++A) {
                var k = S[A]
                  , E = k.components.ItemEjector
                  , I = k.components.Belt
                  , B = k.components.StaticMapEntity
                  , x = B.worldToLocalTile(g);
                E && E.anySlotEjectsToLocalTile(x) ? b = !0 : I && B.localDirectionToWorld(I.direction) === C.g[y] ? b = !0 : v = !0
            }
            var P = b || v ? 1 : .3
              , T = v ? s : a;
            e.context.globalAlpha = P,
            Object(me.a)({
                parameters: e,
                sprite: T,
                x: f.x,
                y: f.y,
                angle: Math.radians(C.e[C.g[y]]),
                size: 13,
                offsetY: 23
            }),
            e.context.globalAlpha = 1
        }
        for (var M = 0; M < c.length; ++M) {
            for (var O = c[M], z = O.pos.add(C.f[O.direction]), L = n.localTileToWorld(z), R = L.toWorldSpaceCenterOfTile(), D = n.localDirectionToWorld(O.direction), U = !1, F = !1, j = this.root.map.getLayersContentsMultipleXY(L.x, L.y), V = 0; V < j.length; ++V) {
                var H = j[V]
                  , G = H.components.ItemAcceptor
                  , W = H.components.StaticMapEntity
                  , N = H.components.Miner
                  , q = W.worldToLocalTile(L)
                  , K = W.worldDirectionToLocal(D);
                G && G.findMatchingSlot(q, K) ? F = !0 : H.components.Belt && K === C.d.top ? F = !0 : o && o.chainable && N && N.chainable ? F = !0 : U = !0
            }
            var Q = F || U ? 1 : .3
              , Y = U ? s : a;
            e.context.globalAlpha = Q,
            Object(me.a)({
                parameters: e,
                sprite: Y,
                x: R.x,
                y: R.y,
                angle: Math.radians(C.e[D]),
                size: 13,
                offsetY: 10
            }),
            e.context.globalAlpha = 1
        }
    }
    var ys = function(e) {
        function HUDBuildingPlacer() {
            return e.apply(this, arguments) || this
        }
        !function building_placer_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDBuildingPlacer, e);
        var t = HUDBuildingPlacer.prototype;
        return t.createElements = building_placer_createElements,
        t.initialize = function initialize() {
            e.prototype.initialize.call(this),
            this.signals.variantChanged.add(this.rerenderVariants, this),
            this.root.hud.signals.buildingSelectedForPlacement.add(this.startSelection, this),
            this.domAttach = new Ut(this.root,this.element,{
                trackHover: !0
            }),
            this.variantsAttach = new Ut(this.root,this.variantsElement,{}),
            this.currentInterpolatedCornerTile = new C.a,
            this.lockIndicatorSprites = {},
            [...M.b, "error"].forEach(e => {
                this.lockIndicatorSprites[e] = this.makeLockIndicatorSprite(e)
            }
            ),
            this.variantClickDetectors = []
        }
        ,
        t.makeLockIndicatorSprite = _makeLockIndicatorSpr,
        t.rerenderInfoDialog = _rerenderInfoDialog,
        t.cleanup = function cleanup() {
            e.prototype.cleanup.call(this),
            this.cleanupVariantClickDetectors()
        }
        ,
        t.cleanupVariantClickDetectors = _cleanupVariantClickD,
        t.rerenderVariants = _rerenderVariants,
        t.draw = building_placer_draw,
        t.drawLayerPeek = _drawLayerPeek,
        t.drawRegularPlacement = _drawRegularPlacement,
        t.checkForObstales = _checkForObstales,
        t.drawDirectionLock = _drawDirectionLock,
        t.drawMatchingAcceptorsAndEjectors = _drawMatchingAcceptor,
        HUDBuildingPlacer
    }(function(e) {
        function HUDBuildingPlacerLogic() {
            return e.apply(this, arguments) || this
        }
        !function building_placer_logic_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDBuildingPlacerLogic, e);
        var t = HUDBuildingPlacerLogic.prototype;
        return t.initialize = building_placer_logic_initialize,
        t.initializeBindings = _initializeBindings,
        t.onEditModeChanged = building_placer_logic_onEditModeChanged,
        t.abortPlacement = building_placer_logic_abortPlacement,
        t.abortDragging = _abortDragging,
        t.update = building_placer_logic_update,
        t.tryRotate = _tryRotate,
        t.trySetRotate = _trySetRotate,
        t.deleteBelowCursor = _deleteBelowCursor,
        t.startPipette = _startPipette,
        t.switchDirectionLockSide = _switchDirectionLockS,
        t.checkForDirectionLockSwitch = _checkForDirectionLoc,
        t.tryPlaceCurrentBuildingAt = _tryPlaceCurrentBuild,
        t.cycleVariants = _cycleVariants,
        t.setVariant = _setVariant,
        t.executeDirectionLockedPlacement = _executeDirectionLock,
        t.computeDirectionLockPath = _computeDirectionLock,
        t.startSelection = _startSelection,
        t.onSelectedMetaBuildingChanged = _onSelectedMetaBuildi,
        t.onMouseDown = building_placer_logic_onMouseDown,
        t.onMouseMove = building_placer_logic_onMouseMove,
        t.onMouseUp = building_placer_logic_onMouseUp,
        function building_placer_logic_createClass(e, t, r) {
            t && building_placer_logic_defineProperties(e.prototype, t),
            r && building_placer_logic_defineProperties(e, r)
        }(HUDBuildingPlacerLogic, [{
            key: "currentBaseRotation",
            get: building_placer_logic_ref,
            set: building_placer_logic_ref2
        }, {
            key: "isDirectionLockActive",
            get: building_placer_logic_ref3
        }, {
            key: "currentDirectionLockCorner",
            get: building_placer_logic_ref4
        }]),
        HUDBuildingPlacerLogic
    }(qt));
    function color_blind_helper_createElements(e) {
        this.belowTileIndicator = Object(p.x)(e, "ingame_HUD_ColorBlindBelowTileHelper", [])
    }
    function color_blind_helper_initialize() {
        this.trackedColorBelowTile = new Dt(this.onColorBelowTileChanged,this)
    }
    function _onColorBelowTileChan(e) {
        this.belowTileIndicator.classList.toggle("visible", !!e),
        e && (this.belowTileIndicator.innerText = U.a.ingame.colors[e])
    }
    function _computeColorBelowTil() {
        var e = this.root.app.mousePosition;
        if (!e)
            return null;
        if ("regular" !== this.root.currentLayer)
            return null;
        var t = this.root.camera.screenToWorld(e).toTileSpace()
          , r = this.root.map.getTileContent(t, this.root.currentLayer);
        if (r && !r.components.Miner) {
            var n = r.components.Belt;
            if (n) {
                var i = n.assignedPath.findItemAtTile(t);
                if (i && "color" === i.getItemType())
                    return i.color
            }
            var o = r.components.ItemEjector;
            if (o)
                for (var a = 0; a < o.slots.length; ++a) {
                    var s = o.slots[a];
                    if (s.item && "color" === s.item.getItemType())
                        return s.item.color
                }
        } else {
            var l = this.root.map.getLowerLayerContentXY(t.x, t.y);
            if (l && "color" === l.getItemType())
                return l.color
        }
        return null
    }
    function color_blind_helper_update() {
        this.trackedColorBelowTile.set(this.computeColorBelowTile())
    }
    function color_blind_helper_draw(e) {
        var t = this.root.app.mousePosition;
        if (!t)
            return null;
        if (this.computeColorBelowTile()) {
            var r = this.root.camera.screenToWorld(t).toTileSpace().toWorldSpace();
            e.context.strokeStyle = J.a.map.colorBlindPickerTile,
            e.context.lineWidth = 1,
            e.context.beginPath(),
            e.context.rect(r.x, r.y, 32, 32),
            e.context.stroke()
        }
    }
    var _s = function(e) {
        function HUDColorBlindHelper() {
            return e.apply(this, arguments) || this
        }
        !function color_blind_helper_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDColorBlindHelper, e);
        var t = HUDColorBlindHelper.prototype;
        return t.createElements = color_blind_helper_createElements,
        t.initialize = color_blind_helper_initialize,
        t.onColorBelowTileChanged = _onColorBelowTileChan,
        t.computeColorBelowTile = _computeColorBelowTil,
        t.update = color_blind_helper_update,
        t.draw = color_blind_helper_draw,
        HUDColorBlindHelper
    }(qt)
      , vs = {
        disabled: "disabled",
        regular: "regular",
        detailed: "detailed"
    }
      , bs = {
        [vs.disabled]: vs.regular,
        [vs.regular]: vs.detailed,
        [vs.detailed]: vs.disabled
    }
      , ws = .25;
    function debug_info_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_DebugInfo", []);
        var t = Object(p.x)(this.element, null, ["tickRate"]);
        this.trackedTickRate = new Dt(e => t.innerText = e);
        var r = Object(p.x)(this.element, null, ["tickDuration"]);
        this.trackedTickDuration = new Dt(e => r.innerText = e);
        var n = Object(p.x)(this.element, null, ["fps"]);
        this.trackedFPS = new Dt(e => n.innerText = e);
        var i = Object(p.x)(this.element, null, ["mousePosition"]);
        this.trackedMousePosition = new Dt(e => i.innerHTML = e);
        var o = Object(p.x)(this.element, null, ["cameraPosition"]);
        this.trackedCameraPosition = new Dt(e => o.innerHTML = e),
        this.versionElement = Object(p.x)(this.element, null, ["version"], "version unknown")
    }
    function debug_info_initialize() {
        this.lastTick = 0,
        this.trackedMode = new Dt(this.onModeChanged,this),
        this.domAttach = new Ut(this.root,this.element),
        this.root.keyMapper.getBinding(xt.ingame.toggleFPSInfo).add( () => this.cycleModes()),
        this.trackedMode.set(vs.disabled)
    }
    function _onModeChanged(e) {
        this.element.setAttribute("data-mode", e),
        this.versionElement.innerText = "1.0.0-cmg @ prod @ 39e50782"
    }
    function debug_info_updateLabels() {
        this.trackedTickRate.set("Tickrate: " + this.root.dynamicTickrate.currentTickRate),
        this.trackedFPS.set("FPS: " + Math.round(this.root.dynamicTickrate.averageFps) + " (" + Object(p.F)(1e3 / this.root.dynamicTickrate.averageFps) + " ms)"),
        this.trackedTickDuration.set("Tick: " + Object(p.G)(this.root.dynamicTickrate.averageTickDuration) + "ms")
    }
    function _updateDetailedInform() {
        var e = this.root.app.mousePosition || new C.a(0,0)
          , t = this.root.camera.screenToWorld(e).toTileSpace()
          , r = this.root.camera.center.toTileSpace();
        this.trackedMousePosition.set("Mouse: <code>" + t.x + "</code> / <code>" + t.y + "</code>"),
        this.trackedCameraPosition.set("Camera: <code>" + r.x + "</code> / <code>" + r.y + "</code>")
    }
    function _cycleModes() {
        this.trackedMode.set(bs[this.trackedMode.get()])
    }
    function debug_info_update() {
        var e = this.trackedMode.get() !== vs.disabled;
        if (this.domAttach.update(e),
        e) {
            var t = this.root.time.realtimeNow();
            t - this.lastTick > ws && (this.lastTick = t,
            this.updateLabels()),
            this.trackedMode.get() === vs.detailed && this.updateDetailedInformation()
        }
    }
    var Ss = function(e) {
        function HUDDebugInfo() {
            return e.apply(this, arguments) || this
        }
        !function debug_info_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDDebugInfo, e);
        var t = HUDDebugInfo.prototype;
        return t.createElements = debug_info_createElements,
        t.initialize = debug_info_initialize,
        t.onModeChanged = _onModeChanged,
        t.updateLabels = debug_info_updateLabels,
        t.updateDetailedInformation = _updateDetailedInform,
        t.cycleModes = _cycleModes,
        t.update = debug_info_update,
        HUDDebugInfo
    }(qt);
    function settings_menu_createElements(e) {
        this.background = Object(p.x)(e, "ingame_HUD_SettingsMenu", ["ingameDialog"]),
        this.menuElement = Object(p.x)(this.background, null, ["menuElement"]),
        this.root.gameMode.hasHub() && (this.statsElement = Object(p.x)(this.background, null, ["statsElement"], "\n            <strong>" + U.a.ingame.settingsMenu.beltsPlaced + '</strong><span class="beltsPlaced"></span>\n            <strong>' + U.a.ingame.settingsMenu.buildingsPlaced + '</strong><span class="buildingsPlaced"></span>\n            <strong>' + U.a.ingame.settingsMenu.playtime + '</strong><span class="playtime"></span>\n\n            ')),
        this.buttonContainer = Object(p.x)(this.menuElement, null, ["buttons"]);
        for (var t = [{
            id: "continue",
            action: () => this.close()
        }, {
            id: "settings",
            action: () => this.goToSettings()
        }, {
            id: "menu",
            action: () => this.returnToMenu()
        }], r = 0; r < t.length; ++r) {
            var {action: n, id: i} = t[r]
              , o = document.createElement("button");
            o.classList.add("styledButton"),
            o.classList.add(i),
            this.buttonContainer.appendChild(o),
            this.trackClicks(o, n)
        }
    }
    function settings_menu_isBlockingOverlay() {
        return this.visible
    }
    function _returnToMenu() {
        this.root.gameState.goBackToMenu()
    }
    function _goToSettings() {
        this.root.gameState.goToSettings()
    }
    function settings_menu_shouldPauseGame() {
        return this.visible
    }
    function settings_menu_shouldPauseRendering() {
        return this.visible
    }
    function settings_menu_initialize() {
        this.root.keyMapper.getBinding(xt.general.back).add(this.show, this),
        this.domAttach = new Ut(this.root,this.background,{
            attachClass: "visible"
        }),
        this.inputReciever = new Kt("settingsmenu"),
        this.keyActionMapper = new Rt(this.root,this.inputReciever),
        this.keyActionMapper.getBinding(xt.general.back).add(this.close, this),
        this.close()
    }
    function settings_menu_show() {
        this.visible = !0,
        this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever);
        var e = Math.ceil(this.root.time.now() / 60);
        if (this.root.gameMode.hasHub()) {
            var t = this.statsElement.querySelector(".playtime")
              , r = this.statsElement.querySelector(".buildingsPlaced")
              , n = this.statsElement.querySelector(".beltsPlaced");
            t.innerText = U.a.global.time.xMinutes.replace("<x>", "" + e),
            r.innerText = Object(p.l)(this.root.entityMgr.getAllWithComponent(P.StaticMapEntityComponent).length - this.root.entityMgr.getAllWithComponent(Y.BeltComponent).length),
            n.innerText = Object(p.l)(this.root.entityMgr.getAllWithComponent(Y.BeltComponent).length)
        }
    }
    function settings_menu_close() {
        this.visible = !1,
        this.root.app.inputMgr.makeSureDetached(this.inputReciever),
        this.update()
    }
    function settings_menu_update() {
        this.domAttach.update(this.visible)
    }
    r(273);
    var Cs = function(e) {
        function HUDSettingsMenu() {
            return e.apply(this, arguments) || this
        }
        !function settings_menu_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDSettingsMenu, e);
        var t = HUDSettingsMenu.prototype;
        return t.createElements = settings_menu_createElements,
        t.isBlockingOverlay = settings_menu_isBlockingOverlay,
        t.returnToMenu = _returnToMenu,
        t.goToSettings = _goToSettings,
        t.shouldPauseGame = settings_menu_shouldPauseGame,
        t.shouldPauseRendering = settings_menu_shouldPauseRendering,
        t.initialize = settings_menu_initialize,
        t.show = settings_menu_show,
        t.close = settings_menu_close,
        t.update = settings_menu_update,
        HUDSettingsMenu
    }(qt);
    function shape_tooltip_createElements(e) {}
    function shape_tooltip_initialize() {
        this.currentTile = new C.a(0,0),
        this.currentEntity = null,
        this.isPlacingBuilding = !1,
        this.root.signals.entityQueuedForDestroy.add( () => {
            this.currentEntity = null
        }
        , this),
        this.root.hud.signals.selectedPlacementBuildingChanged.add(e => {
            this.isPlacingBuilding = e
        }
        , this)
    }
    function _isActive() {
        var e = this.root.hud.parts;
        return (this.root.app.settings.getSetting("shapeTooltipAlwaysOn") || this.root.keyMapper.getBinding(xt.ingame.showShapeTooltip).pressed) && !this.isPlacingBuilding && !e.massSelector.currentSelectionStartWorld && e.massSelector.selectedUids.size < 1 && !e.blueprintPlacer.currentBlueprint.get()
    }
    function shape_tooltip_draw(e) {
        if (this.isActive()) {
            var t = this.root.app.mousePosition;
            if (t) {
                var r = this.root.camera.screenToWorld(t.copy()).toTileSpace();
                if (!r.equals(this.currentTile)) {
                    this.currentTile = r;
                    var n = this.root.map.getLayerContentXY(r.x, r.y, this.root.currentLayer);
                    n && n.components.ItemProcessor && n.components.ItemEjector ? this.currentEntity = n : this.currentEntity = null
                }
            }
            if (!this.currentEntity)
                return;
            for (var i = this.currentEntity.components.ItemEjector, o = this.currentEntity.components.StaticMapEntity, a = o.getTileSize(), s = a.x * a.y < 2 ? 1 : 1e10, l = 0, c = 0; c < i.slots.length; ++c) {
                var u = i.slots[c];
                if (u.lastItem && !(++l > s)) {
                    var d = o.localTileToWorld(u.pos).toWorldSpaceCenterOfTile();
                    u.lastItem.drawItemCenteredClipped(d.x, d.y, e, 25)
                }
            }
        }
    }
    var As = function(e) {
        function HUDShapeTooltip() {
            return e.apply(this, arguments) || this
        }
        !function shape_tooltip_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDShapeTooltip, e);
        var t = HUDShapeTooltip.prototype;
        return t.createElements = shape_tooltip_createElements,
        t.initialize = shape_tooltip_initialize,
        t.isActive = _isActive,
        t.draw = shape_tooltip_draw,
        HUDShapeTooltip
    }(qt);
    function vignette_overlay_createElements(e) {
        this.element = Object(p.x)(e, "ingame_VignetteOverlay")
    }
    function vignette_overlay_initialize() {}
    var ks = function(e) {
        function HUDVignetteOverlay() {
            return e.apply(this, arguments) || this
        }
        !function vignette_overlay_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDVignetteOverlay, e);
        var t = HUDVignetteOverlay.prototype;
        return t.createElements = vignette_overlay_createElements,
        t.initialize = vignette_overlay_initialize,
        HUDVignetteOverlay
    }(qt);
    function _GameHUD(e) {
        this.root = e
    }
    function hud_initialize() {
        this.signals = {
            buildingSelectedForPlacement: new v.b,
            selectedPlacementBuildingChanged: new v.b,
            shapePinRequested: new v.b,
            shapeUnpinRequested: new v.b,
            notification: new v.b,
            buildingsSelectedForCopy: new v.b,
            pasteBlueprintRequested: new v.b,
            viewShapeDetailsRequested: new v.b,
            unlockNotificationFinished: new v.b
        },
        this.parts = {
            buildingsToolbar: new ms(this.root),
            blueprintPlacer: new fs(this.root),
            buildingPlacer: new ys(this.root),
            shapeTooltip: new As(this.root),
            settingsMenu: new Cs(this.root),
            debugInfo: new Ss(this.root),
            dialogs: new ir(this.root)
        },
        this.root.app.settings.getAllSettings().vignette && (this.parts.vignetteOverlay = new ks(this.root)),
        this.root.app.settings.getAllSettings().enableColorBlindHelper && (this.parts.colorBlindHelper = new _s(this.root));
        var e = this.root.gameMode.additionalHudParts;
        for (var [t,r] of Object.entries(e))
            this.parts[t] = new r(this.root);
        b.hudInitializer.dispatch(this.root);
        var n = document.createDocumentFragment();
        for (var i in this.parts)
            b.hudElementInitialized.dispatch(this.parts[i]),
            this.parts[i].createElements(n);
        for (var o in document.body.appendChild(n),
        this.parts)
            this.parts[o].initialize(),
            b.hudElementFinalized.dispatch(this.parts[o]);
        this.root.keyMapper.getBinding(xt.ingame.toggleHud).add(this.toggleUi, this)
    }
    function _closeAllOverlays() {
        for (var e in this.parts)
            this.parts[e].close()
    }
    function hud_shouldPauseGame() {
        for (var e in this.parts)
            if (this.parts[e].shouldPauseGame())
                return !0;
        return !1
    }
    function hud_shouldPauseRendering() {
        for (var e in this.parts)
            if (this.parts[e].shouldPauseRendering())
                return !0;
        return !1
    }
    function _hasBlockingOverlayOp() {
        for (var e in this.parts)
            if (this.parts[e].isBlockingOverlay())
                return !0;
        return !1
    }
    function _toggleUi() {
        document.body.classList.toggle("uiHidden")
    }
    function hud_update() {
        if (this.root.gameInitialized)
            for (var e in this.parts)
                this.parts[e].update()
    }
    function hud_draw(e) {
        for (var t = ["massSelector", "buildingPlacer", "blueprintPlacer", "colorBlindHelper", "changesDebugger", "minerHighlight", "shapeTooltip"], r = 0; r < t.length; ++r)
            this.parts[t[r]] && this.parts[t[r]].draw(e)
    }
    function hud_drawOverlays(e) {
        for (var t = ["waypoints", "watermark", "wireInfo"], r = 0; r < t.length; ++r)
            this.parts[t[r]] && this.parts[t[r]].drawOverlays(e)
    }
    function hud_cleanup() {
        for (var e in this.parts)
            this.parts[e].cleanup();
        for (var t in this.signals)
            this.signals[t].removeAll()
    }
    var Es = function() {
        var e = _GameHUD.prototype;
        return e.initialize = hud_initialize,
        e.closeAllOverlays = _closeAllOverlays,
        e.shouldPauseGame = hud_shouldPauseGame,
        e.shouldPauseRendering = hud_shouldPauseRendering,
        e.hasBlockingOverlayOpen = _hasBlockingOverlayOp,
        e.toggleUi = _toggleUi,
        e.update = hud_update,
        e.draw = hud_draw,
        e.drawOverlays = hud_drawOverlays,
        e.cleanup = hud_cleanup,
        _GameHUD
    }()
      , Is = Object(c.a)("ingame/logic");
    function _GameLogic(e) {
        this.root = e
    }
    function _checkCanPlaceEntity(e, {allowReplaceBuildings: t=!0, offset: r=null}) {
        var n = e.components.StaticMapEntity.getTileSpaceBounds();
        r && (n.x += r.x,
        n.y += r.y);
        for (var i = n.x; i < n.x + n.w; ++i)
            for (var o = n.y; o < n.y + n.h; ++o) {
                var a = this.root.map.getLayerContentXY(i, o, e.layer);
                if (a) {
                    var s = a.components.StaticMapEntity.getMetaBuilding();
                    if (!t || !s.getIsReplaceable())
                        return !1
                }
            }
        if (this.root.gameMode.getIsEditor()) {
            var l = this.root.hud.parts.buildingsToolbar
              , c = e.components.StaticMapEntity.getMetaBuilding().getId();
            if (l.buildingHandles[c].puzzleLocked)
                return !1
        }
        return this.root.signals.prePlacementCheck.dispatch(e, r) !== v.a
    }
    function _tryPlaceBuilding({origin: e, rotation: t, rotationVariant: r, originalRotation: n, variant: i, building: o}) {
        var a = o.createEntity({
            root: this.root,
            origin: e,
            rotation: t,
            originalRotation: n,
            rotationVariant: r,
            variant: i
        });
        return this.checkCanPlaceEntity(a, {}) ? (this.freeEntityAreaBeforeBuild(a),
        this.root.map.placeStaticEntity(a),
        this.root.entityMgr.registerEntity(a),
        a) : null
    }
    function logic_freeEntityAreaBefore(e) {
        for (var t = e.components.StaticMapEntity.getTileSpaceBounds(), r = t.x; r < t.x + t.w; ++r)
            for (var n = t.y; n < t.y + t.h; ++n) {
                var i = this.root.map.getLayerContentXY(r, n, e.layer);
                i && (window.assert(i.components.StaticMapEntity.getMetaBuilding().getIsReplaceable(), "Tried to replace non-repleaceable entity"),
                this.tryDeleteBuilding(i) || window.assert(!1, "Tried to replace non-repleaceable entity #2"))
            }
        this.root.signals.freeEntityAreaBeforeBuild.dispatch(e)
    }
    function _performBulkOperation(e) {
        Is.warn("Running bulk operation ..."),
        this.root.bulkOperationRunning = !0;
        var t = performance.now()
          , r = e()
          , n = performance.now() - t;
        return Is.log("Done in", Object(p.F)(n), "ms"),
        this.root.bulkOperationRunning = !1,
        this.root.signals.bulkOperationFinished.dispatch(),
        r
    }
    function _performImmutableOper(e) {
        Is.warn("Running immutable operation ..."),
        this.root.immutableOperationRunning = !0;
        var t = performance.now()
          , r = e()
          , n = performance.now() - t;
        return Is.log("Done in", Object(p.F)(n), "ms"),
        this.root.immutableOperationRunning = !1,
        this.root.signals.immutableOperationFinished.dispatch(),
        r
    }
    function _canDeleteBuilding(e) {
        return e.components.StaticMapEntity.getMetaBuilding().getIsRemovable(this.root)
    }
    function _tryDeleteBuilding(e) {
        return !!this.canDeleteBuilding(e) && (this.root.map.removeStaticEntity(e),
        this.root.entityMgr.destroyEntity(e),
        this.root.entityMgr.processDestroyList(),
        !0)
    }
    function _computeWireEdgeStatu({wireVariant: e, tile: t, edge: r}) {
        for (var n = C.f[r], i = t.add(n), o = this.root.map.getLayersContentsMultipleXY(i.x, i.y), a = 0; a < o.length; ++a) {
            var s = o[a]
              , l = s.components.WiredPins
              , c = s.components.StaticMapEntity;
            if (l)
                for (var u = l.slots, d = 0; d < l.slots.length; ++d) {
                    var p = u[d]
                      , h = c.localTileToWorld(p.pos)
                      , g = c.localDirectionToWorld(p.direction);
                    if (h.equals(i) && g === C.g[r])
                        return !0
                }
        }
        var f = this.root.map.getTileContent(i, "wires");
        if (!f)
            return !1;
        if (f.components.StaticMapEntity,
        f.components.WireTunnel)
            return !0;
        var m = f.components.Wire;
        return !!m && m.variant === e
    }
    function _getEntityWireNetwork(e, t) {
        var r = !1
          , n = new Set
          , i = e.components.StaticMapEntity
          , o = e.components.Wire;
        o && (r = !0,
        o.linkedNetwork && n.add(o.linkedNetwork));
        var a = e.components.WireTunnel;
        if (a) {
            r = !0;
            for (var s = 0; s < a.linkedNetworks.length; ++s)
                n.add(a.linkedNetworks[s])
        }
        var l = e.components.WiredPins;
        if (l)
            for (var c = l.slots, u = 0; u < c.length; ++u) {
                var d = c[u];
                i.localTileToWorld(d.pos).equals(t) && (r = !0,
                d.linkedNetwork && n.add(d.linkedNetwork))
            }
        return r ? Array.from(n) : null
    }
    function _getIsEntityIntersect(e, t) {
        var r = e.components.StaticMapEntity
          , n = t.toTileSpace();
        if (r.getTileSpaceBounds().containsPoint(n.x, n.y)) {
            var i = Object(O.c)(r.code)
              , o = i.metaInstance.getSpecialOverlayRenderMatrix(r.rotation, i.rotationVariant, i.variant, e);
            if (!o)
                return !0;
            var a = t.divideScalar(32).modScalar(1).multiplyScalar(re).floor();
            return !!o[a.x + 3 * a.y]
        }
    }
    function _getEjectorsAndAccept(e) {
        for (var t = [], r = [], n = -1; n <= 1; ++n)
            for (var i = -1; i <= 1; ++i)
                if (Math.abs(n) + Math.abs(i) === 1) {
                    var o = this.root.map.getLayerContentXY(e.x + n, e.y + i, "regular");
                    if (o) {
                        var a = []
                          , s = []
                          , l = o.components.StaticMapEntity
                          , c = o.components.ItemEjector
                          , u = o.components.ItemAcceptor
                          , d = o.components.Belt;
                        if (c && (a = c.slots.slice()),
                        u && (s = u.slots.slice()),
                        d) {
                            var p = d.getFakeEjectorSlot()
                              , h = d.getFakeAcceptorSlot();
                            a.push(p),
                            s.push(h)
                        }
                        for (var g = 0; g < a.length; ++g) {
                            var f = a[g]
                              , m = l.localTileToWorld(f.pos)
                              , y = l.localDirectionToWorld(f.direction);
                            m.add(C.f[y]).equals(e) && t.push({
                                entity: o,
                                slot: f,
                                fromTile: m,
                                toDirection: y
                            })
                        }
                        for (var _ = 0; _ < s.length; ++_) {
                            var v = s[_]
                              , b = l.localTileToWorld(v.pos)
                              , w = v.direction
                              , S = l.localDirectionToWorld(w);
                            b.add(C.f[S]).equals(e) && r.push({
                                entity: o,
                                slot: v,
                                toTile: b,
                                fromDirection: S
                            })
                        }
                    }
                }
        return {
            ejectors: t,
            acceptors: r
        }
    }
    function _clearAllBeltsAndItem() {
        for (var e of this.root.entityMgr.entities)
            for (var t of Object.values(e.components))
                t.clear()
    }
    var Bs = function() {
        var e = _GameLogic.prototype;
        return e.checkCanPlaceEntity = _checkCanPlaceEntity,
        e.tryPlaceBuilding = _tryPlaceBuilding,
        e.freeEntityAreaBeforeBuild = logic_freeEntityAreaBefore,
        e.performBulkOperation = _performBulkOperation,
        e.performImmutableOperation = _performImmutableOper,
        e.canDeleteBuilding = _canDeleteBuilding,
        e.tryDeleteBuilding = _tryDeleteBuilding,
        e.computeWireEdgeStatus = _computeWireEdgeStatu,
        e.getEntityWireNetworks = _getEntityWireNetwork,
        e.getIsEntityIntersectedWithMatrix = _getIsEntityIntersect,
        e.getEjectorsAndAcceptorsAtTile = _getEjectorsAndAccept,
        e.clearAllBeltsAndItems = _clearAllBeltsAndItem,
        _GameLogic
    }();
    function _MapChunkAggregate(e, t, r) {
        this.root = e,
        this.x = t,
        this.y = r,
        this.renderIteration = 0,
        this.dirty = !1,
        this.dirtyList = new Array(g.e.chunkAggregateSize ** 2).fill(!0),
        this.markDirty(0, 0)
    }
    function map_chunk_aggregate_markDirty(e, t) {
        var r = Object(p.I)(e, g.e.chunkAggregateSize)
          , n = Object(p.I)(t, g.e.chunkAggregateSize);
        this.dirtyList[n * g.e.chunkAggregateSize + r] = !0,
        this.dirty || (this.dirty = !0,
        ++this.renderIteration,
        this.renderKey = this.x + "/" + this.y + "@" + this.renderIteration)
    }
    function _generateOverlayBuffe(e, t, r, n, i) {
        var o = this.x + "/" + this.y + "@" + (this.renderIteration - 1)
          , a = this.root.buffers.getForKeyOrNullNoUpdate({
            key: "agg@" + this.root.currentLayer,
            subKey: o
        })
          , s = g.e.mapChunkSize * re
          , l = !1;
        a && (t.drawImage(a, 0, 0),
        l = !0);
        for (var c = 0; c < g.e.chunkAggregateSize; c++)
            for (var u = 0; u < g.e.chunkAggregateSize; u++)
                l && !this.dirtyList[g.e.chunkAggregateSize * u + c] || this.root.map.getChunk(this.x * g.e.chunkAggregateSize + c, this.y * g.e.chunkAggregateSize + u, !0).generateOverlayBuffer(t, s, s, c * s, u * s);
        this.dirty = !1,
        this.dirtyList.fill(!1)
    }
    function _drawOverlay(e) {
        var t = g.e.mapChunkSize * g.e.chunkAggregateSize * re
          , r = this.root.buffers.getForKey({
            key: "agg@" + this.root.currentLayer,
            subKey: this.renderKey,
            w: t,
            h: t,
            dpi: 1,
            redrawMethod: this.generateOverlayBuffer.bind(this)
        })
          , n = g.e.mapChunkWorldSize * g.e.chunkAggregateSize;
        e.context.imageSmoothingEnabled = !1,
        Object(me.b)({
            parameters: e,
            sprite: r,
            x: this.x * n - .05,
            y: this.y * n - .05,
            w: n + .1,
            h: n + .1,
            originalW: t,
            originalH: t
        }),
        e.context.imageSmoothingEnabled = !0;
        var i = this.root.app.settings.getAllSettings().mapResourcesScale;
        if ("regular" === this.root.currentLayer && i > .05 && this.root.camera.zoomLevel > .1)
            for (var o = 70 / Math.pow(e.zoomLevel, .35) * (.2 + 2 * i), a = 0; a < g.e.chunkAggregateSize; a++)
                for (var s = 0; s < g.e.chunkAggregateSize; s++)
                    this.root.map.getChunk(this.x * g.e.chunkAggregateSize + a, this.y * g.e.chunkAggregateSize + s, !0).drawOverlayPatches(e, this.x * n + a * g.e.mapChunkWorldSize, this.y * n + s * g.e.mapChunkWorldSize, o)
    }
    var xs = function() {
        var e = _MapChunkAggregate.prototype;
        return e.markDirty = map_chunk_aggregate_markDirty,
        e.generateOverlayBuffer = _generateOverlayBuffe,
        e.drawOverlay = _drawOverlay,
        _MapChunkAggregate
    }();
    function map_getId() {
        return "Map"
    }
    function map_getSchema() {
        return {
            seed: He.b.uint
        }
    }
    function _getChunk(e, t, r=!1) {
        var n, i = e + "|" + t;
        if (n = this.chunksById.get(i))
            return n;
        if (r) {
            var o = new ae(this.root,e,t);
            return this.chunksById.set(i, o),
            o
        }
        return null
    }
    function _getAggregateForChunk(e, t, r=!1) {
        var n = Math.floor(e / g.e.chunkAggregateSize)
          , i = Math.floor(t / g.e.chunkAggregateSize);
        return this.getAggregate(n, i, r)
    }
    function _getAggregate(e, t, r=!1) {
        var n, i = e + "|" + t;
        if (n = this.aggregatesById.get(i))
            return n;
        if (r) {
            var o = new xs(this.root,e,t);
            return this.aggregatesById.set(i, o),
            o
        }
        return null
    }
    function _getOrCreateChunkAtTi(e, t) {
        var r = Math.floor(e / g.e.mapChunkSize)
          , n = Math.floor(t / g.e.mapChunkSize);
        return this.getChunk(r, n, !0)
    }
    function _getChunkAtTileOrNull(e, t) {
        var r = Math.floor(e / g.e.mapChunkSize)
          , n = Math.floor(t / g.e.mapChunkSize);
        return this.getChunk(r, n, !1)
    }
    function _isValidTile(e) {
        return Number.isInteger(e.x) && Number.isInteger(e.y)
    }
    function _getTileContent(e, t) {
        var r = this.getChunkAtTileOrNull(e.x, e.y);
        return r && r.getLayerContentFromWorldCoords(e.x, e.y, t)
    }
    function _getLowerLayerContent(e, t) {
        return this.getOrCreateChunkAtTile(e, t).getLowerLayerFromWorldCoords(e, t)
    }
    function _getLayerContentXY(e, t, r) {
        var n = this.getChunkAtTileOrNull(e, t);
        return n && n.getLayerContentFromWorldCoords(e, t, r)
    }
    function map_getLayersContentsMul(e, t) {
        var r = this.getChunkAtTileOrNull(e, t);
        return r ? r.getLayersContentsMultipleFromWorldCoords(e, t) : []
    }
    function _isTileUsed(e, t) {
        var r = this.getChunkAtTileOrNull(e.x, e.y);
        return r && null != r.getLayerContentFromWorldCoords(e.x, e.y, t)
    }
    function _isTileUsedXY(e, t, r) {
        var n = this.getChunkAtTileOrNull(e, t);
        return n && null != n.getLayerContentFromWorldCoords(e, t, r)
    }
    function _setTileContent(e, t) {
        this.getOrCreateChunkAtTile(e.x, e.y).setLayerContentFromWorldCords(e.x, e.y, t, t.layer),
        t.components.StaticMapEntity
    }
    function _placeStaticEntity(e) {
        for (var t = e.components.StaticMapEntity.getTileSpaceBounds(), r = 0; r < t.w; ++r)
            for (var n = 0; n < t.h; ++n) {
                var i = t.x + r
                  , o = t.y + n;
                this.getOrCreateChunkAtTile(i, o).setLayerContentFromWorldCords(i, o, e, e.layer)
            }
    }
    function _removeStaticEntity(e) {
        for (var t = e.components.StaticMapEntity.getTileSpaceBounds(), r = 0; r < t.w; ++r)
            for (var n = 0; n < t.h; ++n) {
                var i = t.x + r
                  , o = t.y + n;
                this.getOrCreateChunkAtTile(i, o).setLayerContentFromWorldCords(i, o, null, e.layer)
            }
    }
    function _internalCheckTile(e) {}
    function map_view_assertThisInitialized(e) {
        if (void 0 === e)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }
    function map_view_cleanup() {
        Object(Yo.d)(this.cachedBackgroundCanvas),
        this.cachedBackgroundCanvas = null
    }
    function map_view_onEntityChanged(e) {
        var t = e.components.StaticMapEntity;
        if (t)
            for (var r = t.getTileSpaceBounds(), n = r.x; n <= r.right(); ++n)
                for (var i = r.y; i <= r.bottom(); ++i)
                    this.root.map.getOrCreateChunkAtTile(n, i).markDirty()
    }
    function _drawStaticEntityDebu(e) {}
    function _internalInitializeCa() {
        var e = this.backgroundCacheDPI
          , [t,r] = Object(Yo.e)(32 * e, 32 * e, {
            smooth: !1,
            label: "map-cached-bg"
        });
        r.scale(e, e),
        r.fillStyle = J.a.map.background,
        r.fillRect(0, 0, 32, 32);
        var n = J.a.map.gridLineWidth;
        r.fillStyle = J.a.map.grid,
        r.fillRect(0, 0, 32, n),
        r.fillRect(0, n, n, 32),
        r.fillRect(32 - n, n, n, 32 - 2 * n),
        r.fillRect(n, 32 - n, 32, n),
        this.cachedBackgroundCanvas = t,
        this.cachedBackgroundContext = r
    }
    function _drawForeground(e) {
        this.drawVisibleChunks(e, ae.prototype.drawForegroundDynamicLayer),
        this.drawVisibleChunks(e, ae.prototype.drawForegroundStaticLayer)
    }
    function _drawVisibleChunks(e, t) {
        for (var r = e.visibleRect.allScaled(1 / 32), n = r.top(), i = r.right(), o = n - 0, a = r.bottom() + 0, s = r.left() - 0, l = i + 0, c = Math.floor(s / g.e.mapChunkSize), u = Math.floor(o / g.e.mapChunkSize), d = Math.floor(l / g.e.mapChunkSize), p = Math.floor(a / g.e.mapChunkSize), h = c; h <= d; ++h)
            for (var f = u; f <= p; ++f) {
                var m = this.root.map.getChunk(h, f, !0);
                t.call(m, e)
            }
    }
    function _drawVisibleAggregate(e, t) {
        for (var r = e.visibleRect.allScaled(1 / 32), n = r.top(), i = r.right(), o = n - 0, a = r.bottom() + 0, s = r.left() - 0, l = i + 0, c = g.e.chunkAggregateSize * g.e.mapChunkSize, u = Math.floor(s / c), d = Math.floor(o / c), p = Math.floor(l / c), h = Math.floor(a / c), f = u; f <= p; ++f)
            for (var m = d; m <= h; ++m) {
                var y = this.root.map.getAggregate(f, m, !0);
                t.call(y, e)
            }
    }
    function map_view_drawWiresForegroundL(e) {
        this.drawVisibleChunks(e, ae.prototype.drawWiresForegroundLayer)
    }
    function map_view_drawOverlay(e) {
        this.drawVisibleAggregates(e, xs.prototype.drawOverlay)
    }
    function _drawBackground(e) {
        if (!this.root.app.settings.getAllSettings().disableTileGrid || !this.root.gameMode.hasResources()) {
            var t = this.backgroundCacheDPI;
            e.context.scale(1 / t, 1 / t),
            e.context.fillStyle = e.context.createPattern(this.cachedBackgroundCanvas, "repeat"),
            e.context.fillRect(e.visibleRect.x * t, e.visibleRect.y * t, e.visibleRect.w * t, e.visibleRect.h * t),
            e.context.scale(t, t)
        }
        this.drawVisibleChunks(e, ae.prototype.drawBackgroundLayer)
    }
    var Ps = function(e) {
        function MapView(t) {
            var r;
            return (r = e.call(this, t) || this).backgroundCacheDPI = 2,
            r.cachedBackgroundCanvas = null,
            r.cachedBackgroundContext = null,
            r.internalInitializeCachedBackgroundCanvases(),
            r.root.signals.aboutToDestruct.add(r.cleanup, map_view_assertThisInitialized(r)),
            r.root.signals.entityAdded.add(r.onEntityChanged, map_view_assertThisInitialized(r)),
            r.root.signals.entityDestroyed.add(r.onEntityChanged, map_view_assertThisInitialized(r)),
            r.root.signals.entityChanged.add(r.onEntityChanged, map_view_assertThisInitialized(r)),
            r
        }
        !function map_view_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MapView, e);
        var t = MapView.prototype;
        return t.cleanup = map_view_cleanup,
        t.onEntityChanged = map_view_onEntityChanged,
        t.drawStaticEntityDebugOverlays = _drawStaticEntityDebu,
        t.internalInitializeCachedBackgroundCanvases = _internalInitializeCa,
        t.drawForeground = _drawForeground,
        t.drawVisibleChunks = _drawVisibleChunks,
        t.drawVisibleAggregates = _drawVisibleAggregate,
        t.drawWiresForegroundLayer = map_view_drawWiresForegroundL,
        t.drawOverlay = map_view_drawOverlay,
        t.drawBackground = _drawBackground,
        MapView
    }(function(e) {
        function BaseMap(t) {
            var r;
            return (r = e.call(this) || this).root = t,
            r.seed = 0,
            r.chunksById = new Map,
            r.aggregatesById = new Map,
            r
        }
        !function map_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BaseMap, e),
        BaseMap.getId = map_getId,
        BaseMap.getSchema = map_getSchema;
        var t = BaseMap.prototype;
        return t.getChunk = _getChunk,
        t.getAggregateForChunk = _getAggregateForChunk,
        t.getAggregate = _getAggregate,
        t.getOrCreateChunkAtTile = _getOrCreateChunkAtTi,
        t.getChunkAtTileOrNull = _getChunkAtTileOrNull,
        t.isValidTile = _isValidTile,
        t.getTileContent = _getTileContent,
        t.getLowerLayerContentXY = _getLowerLayerContent,
        t.getLayerContentXY = _getLayerContentXY,
        t.getLayersContentsMultipleXY = map_getLayersContentsMul,
        t.isTileUsed = _isTileUsed,
        t.isTileUsedXY = _isTileUsedXY,
        t.setTileContent = _setTileContent,
        t.placeStaticEntity = _placeStaticEntity,
        t.removeStaticEntity = _removeStaticEntity,
        t.internalCheckTile = _internalCheckTile,
        BaseMap
    }(He.a));
    function shape_definition_manager_getId() {
        return "ShapeDefinitionManager"
    }
    function _getShapeFromShortKey(e) {
        return this.shapeKeyToDefinition[e] || (this.shapeKeyToDefinition[e] = R.b.fromShortKey(e))
    }
    function _getShapeItemFromShor(e) {
        var t = this.shapeKeyToItem[e];
        if (t)
            return t;
        var r = this.getShapeFromShortKey(e);
        return this.shapeKeyToItem[e] = new Se.a(r)
    }
    function _getShapeItemFromDefi(e) {
        return this.getShapeItemFromShortKey(e.getHash())
    }
    function _registerShapeDefinit(e) {
        var t = e.getHash();
        this.shapeKeyToDefinition[t] = e
    }
    function _shapeActionCutHalf(e) {
        var t = "cut/" + e.getHash();
        if (this.operationCache[t])
            return this.operationCache[t];
        var r = e.cloneFilteredByQuadrants([2, 3])
          , n = e.cloneFilteredByQuadrants([0, 1]);
        return this.root.signals.achievementCheck.dispatch(Ne.cutShape, null),
        this.operationCache[t] = [this.registerOrReturnHandle(r), this.registerOrReturnHandle(n)]
    }
    function _shapeActionCutQuad(e) {
        var t = "cut-quad/" + e.getHash();
        return this.operationCache[t] ? this.operationCache[t] : this.operationCache[t] = [this.registerOrReturnHandle(e.cloneFilteredByQuadrants([0])), this.registerOrReturnHandle(e.cloneFilteredByQuadrants([1])), this.registerOrReturnHandle(e.cloneFilteredByQuadrants([2])), this.registerOrReturnHandle(e.cloneFilteredByQuadrants([3]))]
    }
    function _shapeActionRotateCW(e) {
        var t = "rotate-cw/" + e.getHash();
        if (this.operationCache[t])
            return this.operationCache[t];
        var r = e.cloneRotateCW();
        return this.root.signals.achievementCheck.dispatch(Ne.rotateShape, null),
        this.operationCache[t] = this.registerOrReturnHandle(r)
    }
    function _shapeActionRotateCCW(e) {
        var t = "rotate-ccw/" + e.getHash();
        if (this.operationCache[t])
            return this.operationCache[t];
        var r = e.cloneRotateCCW();
        return this.operationCache[t] = this.registerOrReturnHandle(r)
    }
    function _shapeActionRotate(e) {
        var t = "rotate-fl/" + e.getHash();
        if (this.operationCache[t])
            return this.operationCache[t];
        var r = e.cloneRotate180();
        return this.operationCache[t] = this.registerOrReturnHandle(r)
    }
    function _shapeActionStack(e, t) {
        var r = "stack/" + e.getHash() + "/" + t.getHash();
        if (this.operationCache[r])
            return this.operationCache[r];
        this.root.signals.achievementCheck.dispatch(Ne.stackShape, null);
        var n = e.cloneAndStackWith(t);
        return this.operationCache[r] = this.registerOrReturnHandle(n)
    }
    function _shapeActionPaintWith(e, t) {
        var r = "paint/" + e.getHash() + "/" + t;
        if (this.operationCache[r])
            return this.operationCache[r];
        this.root.signals.achievementCheck.dispatch(Ne.paintShape, null);
        var n = e.cloneAndPaintWith(t);
        return this.operationCache[r] = this.registerOrReturnHandle(n)
    }
    function _shapeActionPaintWith2(e, t) {
        var r = "paint4/" + e.getHash() + "/" + t.join(",");
        if (this.operationCache[r])
            return this.operationCache[r];
        var n = e.cloneAndPaintWith4Colors(t);
        return this.operationCache[r] = this.registerOrReturnHandle(n)
    }
    function _registerOrReturnHand(e) {
        var t = e.getHash();
        return this.shapeKeyToDefinition[t] ? this.shapeKeyToDefinition[t] : (this.shapeKeyToDefinition[t] = e,
        e)
    }
    function _getDefinitionFromSim(e, t=V.c.uncolored) {
        var r = e.map(e => ({
            subShape: e,
            color: t
        }));
        return this.registerOrReturnHandle(new R.b({
            layers: [r]
        }))
    }
    Object(c.a)("shape_definition_manager");
    var Ts = function(e) {
        function ShapeDefinitionManager(t) {
            var r;
            return (r = e.call(this) || this).root = t,
            r.shapeKeyToDefinition = {},
            r.shapeKeyToItem = {},
            r.operationCache = {},
            r
        }
        !function shape_definition_manager_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ShapeDefinitionManager, e),
        ShapeDefinitionManager.getId = shape_definition_manager_getId;
        var t = ShapeDefinitionManager.prototype;
        return t.getShapeFromShortKey = _getShapeFromShortKey,
        t.getShapeItemFromShortKey = _getShapeItemFromShor,
        t.getShapeItemFromDefinition = _getShapeItemFromDefi,
        t.registerShapeDefinition = _registerShapeDefinit,
        t.shapeActionCutHalf = _shapeActionCutHalf,
        t.shapeActionCutQuad = _shapeActionCutQuad,
        t.shapeActionRotateCW = _shapeActionRotateCW,
        t.shapeActionRotateCCW = _shapeActionRotateCCW,
        t.shapeActionRotate180 = _shapeActionRotate,
        t.shapeActionStack = _shapeActionStack,
        t.shapeActionPaintWith = _shapeActionPaintWith,
        t.shapeActionPaintWith4Colors = _shapeActionPaintWith2,
        t.registerOrReturnHandle = _registerOrReturnHand,
        t.getDefinitionFromSimpleShapes = _getDefinitionFromSim,
        ShapeDefinitionManager
    }(He.a)
      , Ms = Object(c.a)("achievement_proxy")
      , Os = "rotater"
      , zs = "default";
    function _AchievementProxy(e) {
        this.root = e,
        this.provider = this.root.app.achievementProvider,
        this.disabled = !0,
        this.provider.hasAchievements() && (this.sliceTime = 0,
        this.root.signals.postLoadHook.add(this.onLoad, this))
    }
    function achievement_proxy_onLoad() {
        if (!this.root.gameMode.hasAchievements())
            return Ms.log("Disabling achievements because game mode does not have achievements"),
            void (this.disabled = !0);
        this.provider.onLoad(this.root).then( () => {
            this.disabled = !1,
            Ms.log("Recieving achievement signals"),
            this.initialize()
        }
        ).catch(e => {
            this.disabled = !0,
            Ms.error("Ignoring achievement signals", e)
        }
        )
    }
    function achievement_proxy_initialize() {
        this.root.signals.achievementCheck.dispatch(Ne.darkMode, null),
        this.has(Ne.mam) && (this.root.signals.entityAdded.add(this.onMamFailure, this),
        this.root.signals.entityDestroyed.add(this.onMamFailure, this),
        this.root.signals.storyGoalCompleted.add(this.onStoryGoalCompleted, this)),
        this.has(Ne.noInverseRotater) && this.root.signals.entityAdded.add(this.onEntityAdded, this),
        this.startSlice()
    }
    function _startSlice() {
        this.sliceTime = this.root.time.now(),
        this.root.signals.bulkAchievementCheck.dispatch(Ne.storeShape, this.sliceTime, Ne.throughputBp25, this.sliceTime, Ne.throughputBp50, this.sliceTime, Ne.throughputLogo25, this.sliceTime, Ne.throughputLogo50, this.sliceTime, Ne.throughputRocket10, this.sliceTime, Ne.throughputRocket20, this.sliceTime, Ne.play1h, this.sliceTime, Ne.play10h, this.sliceTime, Ne.play20h, this.sliceTime)
    }
    function achievement_proxy_update() {
        this.disabled || this.root.time.now() - this.sliceTime > g.e.achievementSliceDuration && this.startSlice()
    }
    function _has(e) {
        return !!this.provider.collection && this.provider.collection.map.has(e)
    }
    function achievement_proxy_onEntityAdded(e) {
        if (e.components.StaticMapEntity) {
            var t = Object(O.c)(e.components.StaticMapEntity.code);
            t.metaInstance.id === Os && t.variant !== zs && (this.root.savegame.currentData.stats.usedInverseRotater = !0,
            this.root.signals.entityAdded.remove(this.onEntityAdded))
        }
    }
    function _onStoryGoalCompleted(e) {
        e > 26 && (this.root.signals.entityAdded.add(this.onMamFailure, this),
        this.root.signals.entityDestroyed.add(this.onMamFailure, this)),
        this.root.signals.achievementCheck.dispatch(Ne.mam, null),
        this.root.savegame.currentData.stats.failedMam = !1
    }
    function _onMamFailure() {
        this.root.savegame.currentData.stats.failedMam = !0
    }
    var Ls = function() {
        var e = _AchievementProxy.prototype;
        return e.onLoad = achievement_proxy_onLoad,
        e.initialize = achievement_proxy_initialize,
        e.startSlice = _startSlice,
        e.update = achievement_proxy_update,
        e.has = _has,
        e.onEntityAdded = achievement_proxy_onEntityAdded,
        e.onStoryGoalCompleted = _onStoryGoalCompleted,
        e.onMamFailure = _onMamFailure,
        _AchievementProxy
    }()
      , Rs = .1
      , Ds = 2
      , Us = 5;
    function _SoundProxy(e) {
        this.root = e,
        this.playing3DSounds = [],
        this.playingUiSounds = []
    }
    function _playUi(e) {
        if (this.internalUpdateOngoingSounds(),
        this.playingUiSounds.length > Us)
            return !1;
        this.root.app.sound.playUiSound(e),
        this.playingUiSounds.push(this.root.time.realtimeNow())
    }
    function _playUiClick() {
        this.playUi(k.uiClick)
    }
    function _playUiError() {
        this.playUi(k.uiError)
    }
    function _play3D(e, t) {
        return this.internalUpdateOngoingSounds(),
        !(this.playing3DSounds.length > Ds || (this.root.app.sound.play3DSound(e, t, this.root),
        this.playing3DSounds.push(this.root.time.realtimeNow()),
        0))
    }
    function _internalUpdateOngoin() {
        for (var e = this.root.time.realtimeNow(), t = 0; t < this.playing3DSounds.length; ++t)
            e - this.playing3DSounds[t] > Rs && (this.playing3DSounds.splice(t, 1),
            t -= 1);
        for (var r = 0; r < this.playingUiSounds.length; ++r)
            e - this.playingUiSounds[r] > Rs && (this.playingUiSounds.splice(r, 1),
            r -= 1)
    }
    var Fs = function() {
        var e = _SoundProxy.prototype;
        return e.playUi = _playUi,
        e.playUiClick = _playUiClick,
        e.playUiError = _playUiError,
        e.play3D = _play3D,
        e.internalUpdateOngoingSounds = _internalUpdateOngoin,
        _SoundProxy
    }();
    function base_game_speed_getId() {
        return window.assert(!1, "abstract method called"),
        "unknown-speed"
    }
    function base_game_speed_getId2() {
        return this.constructor.getId()
    }
    function base_game_speed_getSchema() {
        return {}
    }
    function _initializeAfterDeser(e) {
        this.root = e
    }
    function _getTimeMultiplier() {
        return 1
    }
    function _getMaxLogicStepsInQu() {
        return 3
    }
    function _newSpeed(e) {
        return new e(this.root)
    }
    var js = function(e) {
        function BaseGameSpeed(t) {
            var r;
            return (r = e.call(this) || this).root = t,
            r.initializeAfterDeserialize(t),
            r
        }
        !function base_game_speed_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(BaseGameSpeed, e),
        BaseGameSpeed.getId = base_game_speed_getId;
        var t = BaseGameSpeed.prototype;
        return t.getId = base_game_speed_getId2,
        BaseGameSpeed.getSchema = base_game_speed_getSchema,
        t.initializeAfterDeserialize = _initializeAfterDeser,
        t.getTimeMultiplier = _getTimeMultiplier,
        t.getMaxLogicStepsInQueue = _getMaxLogicStepsInQu,
        t.newSpeed = _newSpeed,
        BaseGameSpeed
    }(He.a);
    function regular_game_speed_getId() {
        return "regular"
    }
    function regular_game_speed_getTimeMultiplier() {
        return 1
    }
    var Vs = function(e) {
        function RegularGameSpeed() {
            return e.apply(this, arguments) || this
        }
        return function regular_game_speed_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(RegularGameSpeed, e),
        RegularGameSpeed.getId = regular_game_speed_getId,
        RegularGameSpeed.prototype.getTimeMultiplier = regular_game_speed_getTimeMultiplier,
        RegularGameSpeed
    }(js);
    function paused_game_speed_getId() {
        return "paused"
    }
    function paused_game_speed_getTimeMultiplier() {
        return 0
    }
    function paused_game_speed_getMaxLogicStepsInQu() {
        return 0
    }
    var Hs = function(e) {
        function PausedGameSpeed() {
            return e.apply(this, arguments) || this
        }
        !function paused_game_speed_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(PausedGameSpeed, e),
        PausedGameSpeed.getId = paused_game_speed_getId;
        var t = PausedGameSpeed.prototype;
        return t.getTimeMultiplier = paused_game_speed_getTimeMultiplier,
        t.getMaxLogicStepsInQueue = paused_game_speed_getMaxLogicStepsInQu,
        PausedGameSpeed
    }(js)
      , Gs = Object(c.a)("game_time");
    function game_time_getId() {
        return "GameTime"
    }
    function game_time_getSchema() {
        return {
            timeSeconds: He.b.float,
            speed: He.b.obj(F.c),
            realtimeSeconds: He.b.float
        }
    }
    function _updateRealtimeNow() {
        this.realtimeSeconds = performance.now() / 1e3 + this.realtimeAdjust
    }
    function _getTimeMs() {
        return 1e3 * this.timeSeconds
    }
    function _getRemainingGracePer() {
        return 0
    }
    function _getIsWithinGracePeri() {
        return this.getRemainingGracePeriodSeconds() > 0
    }
    function _internalAddDeltaToBu(e) {
        if (this.root.hud.shouldPauseGame())
            this.logicTimeBudget = 0;
        else {
            var t = this.getSpeed().getTimeMultiplier();
            this.logicTimeBudget += e * t
        }
        var r = Math.max(3, this.speed.getMaxLogicStepsInQueue() * this.root.dynamicTickrate.currentTickRate / 60);
        this.logicTimeBudget > this.root.dynamicTickrate.deltaMs * r && (this.logicTimeBudget = this.root.dynamicTickrate.deltaMs * r)
    }
    function _performTicks(e, t) {
        this.internalAddDeltaToBudget(e);
        for (var r = this.root.time.getSpeed(), n = this.root.dynamicTickrate.deltaMs; this.logicTimeBudget >= n; ) {
            if (this.logicTimeBudget -= n,
            !t())
                return;
            if (this.timeSeconds += this.root.dynamicTickrate.deltaSeconds,
            r.getId() !== this.speed.getId()) {
                Gs.warn("Skipping update because speed changed from", r.getId(), "to", this.speed.getId());
                break
            }
        }
    }
    function _now() {
        return this.timeSeconds
    }
    function _realtimeNow() {
        return this.realtimeSeconds
    }
    function _systemNow() {
        return 1e3 * (this.realtimeSeconds - this.realtimeAdjust)
    }
    function _getIsPaused() {
        return this.speed.getId() === Hs.getId()
    }
    function _getSpeed() {
        return this.speed
    }
    function _setSpeed(e) {
        this.speed.getId() === e.getId() && Gs.warn("Same speed set than current one:", e.constructor.getId()),
        this.speed = e
    }
    var Ws = function(e) {
        function GameTime(t) {
            var r;
            return (r = e.call(this) || this).root = t,
            r.timeSeconds = 0,
            r.realtimeSeconds = 0,
            r.realtimeAdjust = 0,
            r.speed = new Vs(r.root),
            r.logicTimeBudget = 0,
            r
        }
        !function game_time_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(GameTime, e),
        GameTime.getId = game_time_getId,
        GameTime.getSchema = game_time_getSchema;
        var t = GameTime.prototype;
        return t.updateRealtimeNow = _updateRealtimeNow,
        t.getTimeMs = _getTimeMs,
        t.getRemainingGracePeriodSeconds = _getRemainingGracePer,
        t.getIsWithinGracePeriod = _getIsWithinGracePeri,
        t.internalAddDeltaToBudget = _internalAddDeltaToBu,
        t.performTicks = _performTicks,
        t.now = _now,
        t.realtimeNow = _realtimeNow,
        t.systemNow = _systemNow,
        t.getIsPaused = _getIsPaused,
        t.getSpeed = _getSpeed,
        t.setSpeed = _setSpeed,
        t.deserialize = function deserialize(t) {
            var r = e.prototype.deserialize.call(this, t);
            if (r)
                return r;
            this.realtimeAdjust = this.realtimeSeconds - performance.now() / 1e3,
            this.updateRealtimeNow(),
            this.speed.initializeAfterDeserialize(this.root)
        }
        ,
        GameTime
    }(He.a)
      , Ns = Object(c.a)("ingame/core")
      , qs = null
      , Ks = null;
    function _GameCore(e) {
        this.app = e,
        this.root = null,
        this.duringLogicUpdate = !1,
        this.boundInternalTick = this.updateLogic.bind(this),
        this.overlayAlpha = 0
    }
    function _initializeRoot(e, t, r) {
        Ns.log("initializing root"),
        this.root = new M.a(this.app),
        this.root.gameState = e,
        this.root.keyMapper = e.keyActionMapper,
        this.root.savegame = t,
        this.root.gameWidth = this.app.screenWidth,
        this.root.gameHeight = this.app.screenHeight,
        this.internalInitCanvas();
        var n = this.root;
        n.keyMapper = new Rt(n,this.root.gameState.inputReciever),
        n.gameMode = Eo.create(n, r, e.creationPayload.gameModeParameters),
        n.dynamicTickrate = new us(n),
        n.camera = new No(n),
        n.map = new Ps(n),
        n.logic = new Bs(n),
        n.hud = new Es(n),
        n.time = new Ws(n),
        n.achievementProxy = new Ls(n),
        n.automaticSave = new ss(n),
        n.soundProxy = new Fs(n),
        n.entityMgr = new ps(n),
        n.systemMgr = new It(n),
        n.shapeDefinitionMgr = new Ts(n),
        n.hubGoals = new gs(n),
        n.productionAnalytics = new We(n),
        n.buffers = new is(n),
        this.root.hud.initialize(),
        this.resize(this.app.screenWidth, this.app.screenHeight),
        Ns.log("root initialized"),
        b.gameInitialized.dispatch(n)
    }
    function _initNewGame() {
        if (Ns.log("Initializing new game"),
        this.root.gameIsFresh = !0,
        this.root.map.seed = Object(p.B)(0, 1e5),
        this.root.gameMode.hasHub()) {
            var e = F.e.findByClass(Or).createEntity({
                root: this.root,
                origin: new C.a(-2,-2),
                rotation: 0,
                originalRotation: 0,
                rotationVariant: 0,
                variant: z
            });
            this.root.map.placeStaticEntity(e),
            this.root.entityMgr.registerEntity(e)
        }
    }
    function _initExistingGame() {
        Ns.log("Initializing existing game");
        var e = new qi;
        try {
            var t = e.deserialize(this.root.savegame.getCurrentDump(), this.root);
            if (!t.isGood())
                return Ns.error("savegame-deserialize-failed:" + t.reason),
                !1
        } catch (r) {
            return Ns.error("Exception during deserialization:", r),
            !1
        }
        return this.root.gameIsFresh = !1,
        !0
    }
    function _internalInitCanvas() {
        var e, t;
        qs ? (Ns.log("Reusing canvas"),
        qs.parentElement && qs.parentElement.removeChild(qs),
        this.root.gameState.getDivElement().appendChild(qs),
        e = qs,
        t = Ks,
        Ks.clearRect(0, 0, qs.width, qs.height)) : (Ns.log("Creating new canvas"),
        (e = document.createElement("canvas")).id = "ingame_Canvas",
        e.setAttribute("opaque", "true"),
        e.setAttribute("webkitOpaque", "true"),
        e.setAttribute("mozOpaque", "true"),
        this.root.gameState.getDivElement().appendChild(e),
        t = e.getContext("2d", {
            alpha: !1
        }),
        qs = e,
        Ks = t),
        e.classList.toggle("smoothed", g.e.smoothing.smoothMainCanvas),
        e.classList.toggle("unsmoothed", !g.e.smoothing.smoothMainCanvas),
        g.e.smoothing.smoothMainCanvas ? Object(Yo.c)(t) : Object(Yo.b)(t),
        this.root.canvas = e,
        this.root.context = t,
        Object(Yo.f)(e, t)
    }
    function _destruct() {
        qs && qs.parentElement && qs.parentElement.removeChild(qs),
        this.root.destruct(),
        delete this.root,
        this.root = null,
        this.app = null
    }
    function _tick(e) {
        var t = this.root;
        return t.time.updateRealtimeNow(),
        t.camera.update(e),
        this.root.time.performTicks(e, this.boundInternalTick),
        t.productionAnalytics.update(),
        t.achievementProxy.update(),
        t.automaticSave.update(),
        !0
    }
    function _shouldRender() {
        return !!this.root.queue.requireRedraw || !this.root.hud.shouldPauseRendering() && !!this.app.isRenderable()
    }
    function _updateLogic() {
        var e = this.root;
        return e.dynamicTickrate.beginTick(),
        this.duringLogicUpdate = !0,
        e.entityMgr.update(),
        this.root ? (e.systemMgr.update(),
        this.duringLogicUpdate = !1,
        e.dynamicTickrate.endTick(),
        !0) : (Ns.log("Root destructed, returning false"),
        e.dynamicTickrate.endTick(),
        !1)
    }
    function _resize(e, t) {
        this.root.gameWidth = e,
        this.root.gameHeight = t,
        Object(Be.b)(this.root.canvas, e, t, g.e.smoothing.smoothMainCanvas),
        this.root.signals.resized.dispatch(e, t),
        this.root.queue.requireRedraw = !0
    }
    function _postLoadHook() {
        Ns.log("Dispatching post load hook"),
        this.root.signals.postLoadHook.dispatch(),
        this.root.gameIsFresh || this.root.signals.gameRestored.dispatch(),
        this.root.gameInitialized = !0
    }
    function core_draw() {
        var e = this.root
          , t = e.systemMgr.systems;
        if (this.root.dynamicTickrate.onFrameRendered(),
        this.shouldRender()) {
            this.root.signals.gameFrameStarted.dispatch(),
            e.queue.requireRedraw = !1;
            var r = e.context;
            r.save();
            var n = e.camera.zoomLevel
              , i = e.app.settings.getAllSettings().lowQualityTextures
              , o = n / g.e.assetsDpi * Object(Be.a)() * g.e.assetsSharpness
              , a = "0.25";
            o > .5 && !i ? a = S.c : o > .35 && !i && (a = "0.5");
            var s = new K.a({
                context: r,
                visibleRect: e.camera.getVisibleRect(),
                desiredAtlasScale: a,
                zoomLevel: n,
                root: e
            });
            e.camera.transform(r),
            e.hud.update();
            var l = this.root.camera.getIsMapOverlayActive() ? 1 : 0;
            this.overlayAlpha = Object(p.u)(this.overlayAlpha, l, .25),
            (this.root.entityMgr.entities.length > 5e3 || this.root.dynamicTickrate.averageFps < 50) && (this.overlayAlpha = l),
            this.overlayAlpha < .99 && (e.map.drawBackground(s),
            t.belt.drawBeltItems(s),
            e.map.drawForeground(s),
            t.hub.draw(s),
            e.hud.parts.wiresOverlay && e.hud.parts.wiresOverlay.draw(s),
            "wires" === this.root.currentLayer && e.map.drawWiresForegroundLayer(s)),
            this.overlayAlpha > .01 && (r.globalAlpha = this.overlayAlpha,
            e.map.drawOverlay(s),
            r.globalAlpha = 1),
            e.hud.draw(s),
            r.restore(),
            s.zoomLevel = 1,
            s.desiredAtlasScale = S.c,
            s.visibleRect = new G.a(0,0,this.root.gameWidth,this.root.gameHeight),
            e.hud.drawOverlays(s)
        } else
            e.hud.update()
    }
    var Qs = function() {
        var e = _GameCore.prototype;
        return e.initializeRoot = _initializeRoot,
        e.initNewGame = _initNewGame,
        e.initExistingGame = _initExistingGame,
        e.internalInitCanvas = _internalInitCanvas,
        e.destruct = _destruct,
        e.tick = _tick,
        e.shouldRender = _shouldRender,
        e.updateLogic = _updateLogic,
        e.resize = _resize,
        e.postLoadHook = _postLoadHook,
        e.draw = core_draw,
        _GameCore
    }();
    function ingame_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    var Ys = Object(c.a)("state/ingame")
      , Js = {
        s3_createCore: "s3_createCore",
        s4_A_initEmptyGame: "s4_A_initEmptyGame",
        s4_B_resumeGame: "s4_B_resumeGame",
        s5_firstUpdate: "s5_firstUpdate",
        s6_postLoadHook: "s6_postLoadHook",
        s7_warmup: "s7_warmup",
        s10_gameRunning: "s10_gameRunning",
        leaving: "leaving",
        destroyed: "destroyed",
        initFailed: "initFailed"
    };
    function _switchStage(e) {
        return e !== this.stage && (this.stage = e,
        Ys.log(this.stage),
        b.gameLoadingStageEntered.dispatch(this, e),
        !0)
    }
    function ingame_getInnerHTML() {
        return ""
    }
    function ingame_getThemeMusic() {
        return this.creationPayload.gameModeId && this.creationPayload.gameModeId.includes("puzzle") ? E.puzzle : E.theme
    }
    function ingame_onBeforeExit() {}
    function ingame_onAppPause() {}
    function ingame_getHasFadeIn() {
        return !1
    }
    function ingame_getPauseOnFocusLost() {
        return !1
    }
    function ingame_getHasUnloadConfirma() {
        return !0
    }
    function ingame_onLeave() {
        this.core && this.stageDestroyed(),
        this.app.inputMgr.dismountFilter(this.boundInputFilter)
    }
    function _goBackToMenu() {
        [Ao.puzzleEdit, Ao.puzzlePlay].includes(this.gameModeId) ? this.saveThenGoToState("PuzzleMenuState") : this.saveThenGoToState("MainMenuState")
    }
    function ingame_goToSettings() {
        this.saveThenGoToState("SettingsState", {
            backToStateId: this.key,
            backToStatePayload: this.creationPayload
        })
    }
    function _goToKeybindings() {
        this.saveThenGoToState("KeybindingsState", {
            backToStateId: this.key,
            backToStatePayload: this.creationPayload
        })
    }
    function _saveThenGoToState(e, t) {
        this.stage !== Js.leaving && this.stage !== Js.destroyed ? (this.stageLeavingGame(),
        this.doSave().then( () => {
            this.stageDestroyed(),
            this.moveToState(e, t)
        }
        )) : Ys.warn("Tried to leave game twice or during destroy:", this.stage, "(attempted to move to", e, ")")
    }
    function ingame_onBackButton() {}
    function _onInitializationFail(e) {
        this.switchStage(Js.initFailed) && (Ys.error("Init failure:", e),
        this.stageDestroyed(),
        this.moveToState("MainMenuState", {
            loadError: e
        }))
    }
    function _stage3CreateCore() {
        this.switchStage(Js.s3_createCore) && (Ys.log("Creating new game core"),
        this.core = new Qs(this.app),
        this.core.initializeRoot(this, this.savegame, this.gameModeId),
        this.savegame.hasGameDump() ? this.stage4bResumeGame() : (this.app.gameAnalytics.handleGameStarted(),
        this.stage4aInitEmptyGame()))
    }
    function _stage4aInitEmptyGame() {
        this.switchStage(Js.s4_A_initEmptyGame) && (this.core.initNewGame(),
        this.stage5FirstUpdate())
    }
    function _stage4bResumeGame() {
        if (this.switchStage(Js.s4_B_resumeGame)) {
            if (!this.core.initExistingGame())
                return void this.onInitializationFailure("Savegame is corrupt and can not be restored.");
            this.app.gameAnalytics.handleGameResumed(),
            this.stage5FirstUpdate()
        }
    }
    function _stage5FirstUpdate() {
        this.switchStage(Js.s5_firstUpdate) && (this.core.root.logicInitialized = !0,
        this.core.updateLogic(),
        this.stage6PostLoadHook())
    }
    function _stage6PostLoadHook() {
        this.switchStage(Js.s6_postLoadHook) && (Ys.log("Post load hook"),
        this.core.postLoadHook(),
        this.stage7Warmup())
    }
    function _stage7Warmup() {
        this.switchStage(Js.s7_warmup) && (this.creationPayload.fastEnter ? this.warmupTimeSeconds = g.e.warmupTimeSecondsFast : this.warmupTimeSeconds = g.e.warmupTimeSecondsRegular)
    }
    function _stage10GameRunning() {
        this.switchStage(Js.s10_gameRunning) && (this.core.root.signals.readyToRender.dispatch(),
        Object(c.c)("GAME STARTED", "#26a69a"),
        this.core.resize(this.app.screenWidth, this.app.screenHeight),
        b.gameStarted.dispatch(this.core.root))
    }
    function _stageDestroyed() {
        this.switchStage(Js.destroyed) && (this.cancelAllAsyncOperations(),
        this.syncer && (this.syncer.cancelSync(),
        this.syncer = null),
        this.core && (this.core.destruct(),
        this.core = null))
    }
    function _stageLeavingGame() {
        this.switchStage(Js.leaving)
    }
    function _filterInput() {
        return this.stage === Js.s10_gameRunning
    }
    function ingame_ref(e) {
        throw Ys.error(e),
        e
    }
    function ingame_onEnter(e) {
        try {
            window.parent.cmgGameEvent("start")
        } catch (t) {
            console.error("CMG not initialized:", t)
        }
        this.app.inputMgr.installFilter(this.boundInputFilter),
        this.creationPayload = e,
        this.savegame = e.savegame,
        this.gameModeId = e.gameModeId,
        this.loadingOverlay = new rs(this.app,this.getDivElement()),
        this.loadingOverlay.showBasic(),
        document.body.querySelector(".modalDialogParent").remove(),
        this.asyncChannel.watch(Object(p.L)()).then( () => this.stage3CreateCore()).catch(ingame_ref)
    }
    function ingame_onRender(e) {
        h || (this.stage === Js.s7_warmup && (this.core.draw(),
        this.warmupTimeSeconds -= e / 1e3,
        this.warmupTimeSeconds < 0 && (Ys.log("Warmup completed"),
        this.stage10GameRunning())),
        this.stage === Js.s10_gameRunning && this.core.tick(e),
        this.stage === Js.s10_gameRunning ? (this.app.pageVisible && this.core.draw(),
        this.loadingOverlay.removeIfAttached()) : this.loadingOverlay.isAttached() || this.loadingOverlay.showBasic())
    }
    function ingame_onBackgroundTick(e) {
        this.onRender(e)
    }
    function ingame_ref2(e) {
        Ys.warn("Failed to save:", e)
    }
    function ingame_doSave() {
        return this.savegame && this.savegame.isSaveable() ? h ? (Ys.warn("skipping save because application crashed"),
        Promise.resolve()) : this.stage !== Js.s10_gameRunning && this.stage !== Js.s7_warmup && this.stage !== Js.leaving ? (Ys.warn("Skipping save because game is not ready"),
        Promise.resolve()) : this.currentSavePromise ? (Ys.warn("Skipping double save and returning same promise"),
        this.currentSavePromise) : this.core.root.gameMode.getIsSaveable() ? (Ys.log("Starting to save game ..."),
        this.savegame.updateData(this.core.root),
        this.currentSavePromise = this.savegame.writeSavegameAndMetadata().catch(ingame_ref2).then( () => {
            Ys.log("Saved!"),
            this.core.root.signals.gameSaved.dispatch(),
            this.currentSavePromise = null
        }
        ),
        this.currentSavePromise) : Promise.resolve() : Promise.resolve()
    }
    function ingame_ref3() {
        return this.core.root.hud.parts.dialogs
    }
    var Zs = function(e) {
        function InGameState() {
            var t;
            return (t = e.call(this, "InGameState") || this).creationPayload = null,
            t.stage = "",
            t.core = null,
            t.keyActionMapper = null,
            t.loadingOverlay = null,
            t.savegame = null,
            t.boundInputFilter = t.filterInput.bind(function ingame_assertThisInitialized(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(t)),
            t.currentSavePromise = null,
            t
        }
        !function ingame_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(InGameState, e);
        var t = InGameState.prototype;
        return t.switchStage = _switchStage,
        t.getInnerHTML = ingame_getInnerHTML,
        t.getThemeMusic = ingame_getThemeMusic,
        t.onBeforeExit = ingame_onBeforeExit,
        t.onAppPause = ingame_onAppPause,
        t.getHasFadeIn = ingame_getHasFadeIn,
        t.getPauseOnFocusLost = ingame_getPauseOnFocusLost,
        t.getHasUnloadConfirmation = ingame_getHasUnloadConfirma,
        t.onLeave = ingame_onLeave,
        t.onResized = function onResized(t, r) {
            e.prototype.onResized.call(this, t, r),
            this.stage === Js.s10_gameRunning && this.core.resize(t, r)
        }
        ,
        t.goBackToMenu = _goBackToMenu,
        t.goToSettings = ingame_goToSettings,
        t.goToKeybindings = _goToKeybindings,
        t.saveThenGoToState = _saveThenGoToState,
        t.onBackButton = ingame_onBackButton,
        t.onInitializationFailure = _onInitializationFail,
        t.stage3CreateCore = _stage3CreateCore,
        t.stage4aInitEmptyGame = _stage4aInitEmptyGame,
        t.stage4bResumeGame = _stage4bResumeGame,
        t.stage5FirstUpdate = _stage5FirstUpdate,
        t.stage6PostLoadHook = _stage6PostLoadHook,
        t.stage7Warmup = _stage7Warmup,
        t.stage10GameRunning = _stage10GameRunning,
        t.stageDestroyed = _stageDestroyed,
        t.stageLeavingGame = _stageLeavingGame,
        t.filterInput = _filterInput,
        t.onEnter = ingame_onEnter,
        t.onRender = ingame_onRender,
        t.onBackgroundTick = ingame_onBackgroundTick,
        t.doSave = ingame_doSave,
        function ingame_createClass(e, t, r) {
            t && ingame_defineProperties(e.prototype, t),
            r && ingame_defineProperties(e, r)
        }(InGameState, [{
            key: "dialogs",
            get: ingame_ref3
        }]),
        InGameState
    }(On);
    function keybindings_getStateHeaderTitle() {
        return U.a.keybindings.title
    }
    function keybindings_getMainContentHTML() {
        return '<div class="topEntries"><span class="hint">' + U.a.keybindings.hint + '</span><button class="styledButton resetBindings">' + U.a.keybindings.resetKeybindings + '</button></div><div class="keybindings"></div>'
    }
    function keybindings_onEnter() {
        var e = this
          , t = this.htmlElement.querySelector(".keybindings");
        for (var r in this.trackClicks(this.htmlElement.querySelector(".resetBindings"), this.resetBindings),
        xt)
            if (0 !== Object.keys(xt[r]).length) {
                var n = document.createElement("div");
                n.classList.add("category"),
                t.appendChild(n);
                var i = document.createElement("strong");
                i.innerText = U.a.keybindings.categoryLabels[r],
                i.classList.add("categoryLabel"),
                n.appendChild(i);
                var o = function(t) {
                    var i = xt[r][t]
                      , o = document.createElement("div");
                    o.classList.add("entry"),
                    o.setAttribute("data-keybinding", t),
                    n.appendChild(o);
                    var a = document.createElement("span");
                    a.classList.add("title"),
                    a.innerText = U.a.keybindings.mappings[t],
                    o.appendChild(a);
                    var s = document.createElement("span");
                    s.classList.add("mapping"),
                    o.appendChild(s);
                    var l = document.createElement("button");
                    l.classList.add("styledButton", "editKeybinding");
                    var c = document.createElement("button");
                    c.classList.add("styledButton", "resetKeybinding"),
                    i.builtin ? (l.classList.add("disabled"),
                    c.classList.add("disabled")) : (e.trackClicks(l, (function _ref() {
                        return e.editKeybinding(t)
                    }
                    )),
                    e.trackClicks(c, (function _ref2() {
                        return e.resetKeybinding(t)
                    }
                    ))),
                    o.appendChild(l),
                    o.appendChild(c)
                };
                for (var a in xt[r])
                    o(a)
            }
        this.updateKeybindings()
    }
    function keybindings_ref3() {}
    function _editKeybinding(e) {
        var t = new er({
            app: this.app,
            title: U.a.dialogs.editKeybinding.title,
            contentHTML: U.a.dialogs.editKeybinding.desc,
            buttons: ["cancel:good"],
            type: "info"
        });
        t.inputReciever.keydown.add( ({keyCode: r, shift: n, alt: i, event: o}) => {
            27 !== r ? (o && o.preventDefault(),
            o.target && "BUTTON" === o.target.tagName && 1 === r || 13 !== r && (this.app.settings.updateKeybindingOverride(e, r),
            this.dialogs.closeDialog(t),
            this.updateKeybindings())) : this.dialogs.closeDialog(t)
        }
        ),
        t.inputReciever.backButton.add(keybindings_ref3),
        this.dialogs.internalShowDialog(t),
        this.app.sound.playUiSound(k.dialogOk)
    }
    function _updateKeybindings() {
        var e = this.app.settings.getKeybindingOverrides();
        for (var t in xt)
            for (var r in xt[t]) {
                var n = xt[t][r]
                  , i = this.htmlElement.querySelector("[data-keybinding='" + r + "']")
                  , o = n.keyCode;
                e[r] && (o = e[r]);
                var a = i.querySelector(".mapping")
                  , s = "";
                n.modifiers && n.modifiers.shift && (s += "\u21ea "),
                n.modifiers && n.modifiers.alt && (s += U.a.global.keys.alt + " "),
                n.modifiers && n.modifiers.ctrl && (s += U.a.global.keys.control + " "),
                a.innerHTML = s + getStringForKeyCode(o),
                a.classList.toggle("changed", !!e[r]),
                i.querySelector("button.resetKeybinding").classList.toggle("disabled", n.builtin || !e[r])
            }
    }
    function _resetKeybinding(e) {
        this.app.settings.resetKeybindingOverride(e),
        this.updateKeybindings()
    }
    function _resetBindings() {
        var {reset: e} = this.dialogs.showWarning(U.a.dialogs.resetKeybindingsConfirmation.title, U.a.dialogs.resetKeybindingsConfirmation.desc, ["cancel:good", "reset:bad"]);
        e.add( () => {
            this.app.settings.resetKeybindingOverrides(),
            this.updateKeybindings(),
            this.dialogs.showInfo(U.a.dialogs.keybindingsResetOk.title, U.a.dialogs.keybindingsResetOk.desc)
        }
        )
    }
    function keybindings_getDefaultPreviousSt() {
        return "SettingsState"
    }
    var Xs = function(e) {
        function KeybindingsState() {
            return e.call(this, "KeybindingsState") || this
        }
        !function keybindings_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(KeybindingsState, e);
        var t = KeybindingsState.prototype;
        return t.getStateHeaderTitle = keybindings_getStateHeaderTitle,
        t.getMainContentHTML = keybindings_getMainContentHTML,
        t.onEnter = keybindings_onEnter,
        t.editKeybinding = _editKeybinding,
        t.updateKeybindings = _updateKeybindings,
        t.resetKeybinding = _resetKeybinding,
        t.resetBindings = _resetBindings,
        t.getDefaultPreviousState = keybindings_getDefaultPreviousSt,
        KeybindingsState
    }(Xa);
    function main_menu_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    var $s = r(70)
      , el = window[[108, 111, 99, 97, 116, 105, 111, 110].map(e => String.fromCharCode(e)).join("")][[104, 111, 115, 116].map(e => String.fromCharCode(e)).join("")].split(":")[0];
    function main_menu_ref(e) {
        return String.fromCharCode(e)
    }
    var tl = [[108, 111, 99, 97, 108, 104, 111, 115, 116], [99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [99, 111, 111, 108, 109, 97, 116, 104, 46, 99, 111, 109], [99, 111, 111, 108, 109, 97, 116, 104, 52, 107, 105, 100, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 52, 107, 105, 100, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [101, 100, 105, 116, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [119, 119, 119, 46, 115, 116, 97, 103, 101, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [101, 100, 105, 116, 45, 115, 116, 97, 103, 101, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [100, 101, 118, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109]].map(e => e.map(main_menu_ref).join("")).some(e => el === e);
    function main_menu_getInnerHTML() {
        var e = !Object(p.t)()
          , t = "<h3>" + U.a.demoBanners.title + "</h3><p>" + U.a.demoBanners.intro + '</p><a href="#" class="steamLink ' + g.a + '" target="_blank">Get the shapez.io standalone!</a>';
        return '<div class="topButtons"><button class="settingsButton"></button></div><video autoplay muted loop class="fullscreenBackgroundVideo"><source src="' + Object(bn.a)("res/bg_render.webm") + '" type="video/webm"></video><div class="logo"><img src="' + Object(bn.a)("res/logo.png") + '" alt="shapez.io Logo"></div><div class="mainWrapper" data-columns="2"><div class="sideContainer"><div class="standaloneBanner">' + t + '</div></div><div class="mainContainer">' + (e ? '<div class="browserWarning">' + U.a.mainMenu.browserWarning + "</div>" : "") + '\n                    <div class="buttons"></div>\n                </div>\n            </div>\n\n                <div class="footer noLinks">\n\n                    <div class="author">' + U.a.mainMenu.madeBy.replace("<author-link>", '<a class="producerLink" target="_blank">tobspr Games</a>') + "</div>\n                </div>\n\n\n        "
    }
    function _requestImportSavegam() {
        if (this.app.savegameMgr.getSavegamesMetaData().length > 0 && !this.app.restrictionMgr.getHasUnlimitedSavegames())
            return this.app.analytics.trackUiClick("importgame_slot_limit_show"),
            void this.showSavegameSlotLimit();
        Object(p.K)(".bin").then(e => {
            if (e) {
                var t = this.dialogs.showLoadingDialog();
                Object(p.L)().then( () => {
                    this.app.analytics.trackUiClick("import_savegame");
                    var r = new FileReader;
                    r.addEventListener("load", e => {
                        var r, n = e.target.result;
                        try {
                            r = Pi.deserializeObject(n)
                        } catch (Nl) {
                            return t(),
                            void this.dialogs.showWarning(U.a.dialogs.importSavegameError.title, U.a.dialogs.importSavegameError.text + "<br><br>" + Nl)
                        }
                        this.app.savegameMgr.importSavegame(r).then( () => {
                            t(),
                            this.dialogs.showWarning(U.a.dialogs.importSavegameSuccess.title, U.a.dialogs.importSavegameSuccess.text),
                            this.renderMainMenu(),
                            this.renderSavegames()
                        }
                        , e => {
                            t(),
                            this.dialogs.showWarning(U.a.dialogs.importSavegameError.title, U.a.dialogs.importSavegameError.text + ":<br><br>" + e)
                        }
                        )
                    }
                    ),
                    r.addEventListener("error", e => {
                        this.dialogs.showWarning(U.a.dialogs.importSavegameError.title, U.a.dialogs.importSavegameError.text + ":<br><br>" + e)
                    }
                    ),
                    r.readAsText(e, "utf-8")
                }
                )
            }
        }
        )
    }
    function main_menu_onBackButton() {
        this.app.platformWrapper.exitApp()
    }
    function main_menu_onEnter(e) {
        if (tl) {
            this.dialogs = new ir(null,this.app);
            var t = document.body.querySelector(".modalDialogParent");
            this.dialogs.initializeToElement(t),
            e.loadError && this.dialogs.showWarning(U.a.dialogs.gameLoadFailure.title, U.a.dialogs.gameLoadFailure.text + "<br><br>" + e.loadError),
            this.videoElement = this.htmlElement.querySelector("video"),
            this.videoElement.playbackRate = .9,
            this.videoElement.addEventListener("canplay", () => {
                this.videoElement && this.videoElement.classList.add("loaded")
            }
            );
            var r = {
                ".settingsButton": this.onSettingsButtonClicked,
                ".redditLink": this.onRedditClicked,
                ".changelog": this.onChangelogClicked,
                ".helpTranslate": this.onTranslationHelpLinkClicked,
                ".exitAppButton": this.onExitAppButtonClicked,
                ".steamLink": this.onSteamLinkClicked,
                ".discordLink": () => {
                    this.app.analytics.trackUiClick("main_menu_link_discord"),
                    this.app.platformWrapper.openExternalLink(g.d.discord)
                }
                ,
                ".githubLink": () => {
                    this.app.analytics.trackUiClick("main_menu_link_github"),
                    this.app.platformWrapper.openExternalLink(g.d.github)
                }
                ,
                ".producerLink": () => this.app.platformWrapper.openExternalLink("https://tobspr.io"),
                ".puzzleDlcPlayButton": this.onPuzzleModeButtonClicked,
                ".puzzleDlcGetButton": this.onPuzzleWishlistButtonClicked,
                ".wegameDisclaimer > .rating": this.onWegameRatingClicked
            };
            for (var n in r) {
                var i = r[n]
                  , o = this.htmlElement.querySelector(n);
                o && this.trackClicks(o, i, {
                    preventClick: !0
                })
            }
            this.renderMainMenu(),
            this.renderSavegames()
        }
    }
    function _renderMainMenu() {
        var e = this.htmlElement.querySelector(".mainContainer .buttons");
        Object(p.C)(e);
        var t = Object(p.y)(null, ["outer"], null);
        this.trackClicks(Object(p.w)(t, ["importButton", "styledButton"], U.a.mainMenu.importSavegame), this.requestImportSavegame),
        this.savedGames.length > 0 ? (this.trackClicks(Object(p.w)(e, ["continueButton", "styledButton"], U.a.mainMenu.continue), this.onContinueButtonClicked),
        this.trackClicks(Object(p.w)(t, ["newGameButton", "styledButton"], U.a.mainMenu.newGame), this.onPlayButtonClicked)) : this.trackClicks(Object(p.w)(e, ["playButton", "styledButton"], U.a.mainMenu.play), this.onPlayButtonClicked),
        e.appendChild(t)
    }
    function main_menu_ref2(e) {
        return e.level >= 12
    }
    function _onPuzzleModeButtonCl(e=!1) {
        var t = this.app.savegameMgr.getSavegamesMetaData().some(main_menu_ref2);
        if (console.log(t),
        e || t)
            this.moveToState("LoginState", {
                nextStateId: "PuzzleMenuState"
            });
        else {
            var {ok: r} = this.dialogs.showWarning(U.a.dialogs.puzzlePlayRegularRecommendation.title, U.a.dialogs.puzzlePlayRegularRecommendation.desc, ["cancel:good", "ok:bad:timeout"]);
            r.add( () => this.onPuzzleModeButtonClicked(!0))
        }
    }
    function _onPuzzleWishlistButt() {
        this.app.platformWrapper.openExternalLink(g.d.puzzleDlcStorePage + "?utm_medium=mmsl2")
    }
    function _onBackButtonClicked() {
        this.renderMainMenu(),
        this.renderSavegames()
    }
    function _onSteamLinkClicked() {
        return this.app.analytics.trackUiClick("main_menu_steam_link_" + g.a),
        this.app.platformWrapper.openExternalLink(g.d.stanaloneCampaignLink + "/cmg_shapez_mainmenu"),
        !1
    }
    function _onExitAppButtonClick() {
        this.app.platformWrapper.exitApp()
    }
    function _onChangelogClicked() {
        this.moveToState("ChangelogState")
    }
    function _onRedditClicked() {
        this.app.analytics.trackUiClick("main_menu_reddit_link"),
        this.app.platformWrapper.openExternalLink(g.d.reddit)
    }
    function _onLanguageChooseClic() {
        this.app.analytics.trackUiClick("choose_language");
        var e = this.app.settings.getSettingHandleById("language")
          , {optionSelected: t} = this.dialogs.showOptionChooser(U.a.settings.labels.language.title, {
            active: this.app.settings.getLanguage(),
            options: e.options.map(t => ({
                value: e.valueGetter(t),
                text: e.textGetter(t),
                desc: e.descGetter(t),
                iconPrefix: e.iconPrefix
            }))
        });
        t.add(t => {
            this.app.settings.updateLanguage(t).then( () => {
                e.restartRequired && (this.app.platformWrapper.getSupportsRestart() ? this.app.platformWrapper.performRestart() : this.dialogs.showInfo(U.a.dialogs.restartRequired.title, U.a.dialogs.restartRequired.text, ["ok:good"])),
                e.changeCb && e.changeCb(this.app, t)
            }
            ),
            this.htmlElement.querySelector("button.languageChoose").setAttribute("data-languageIcon", t)
        }
        , this)
    }
    function _renderSavegames() {
        var e = this
          , t = this.htmlElement.querySelector(".mainContainer .savegames");
        t && t.remove();
        var r = this.savedGames;
        if (r.length > 0)
            for (var n = Object(p.x)(this.htmlElement.querySelector(".mainContainer"), null, ["savegames"]), i = function(t) {
                var i = Object(p.x)(n, null, ["savegame"]);
                Object(p.x)(i, null, ["playtime"], Object(p.o)(((new Date).getTime() - r[t].lastUpdate) / 1e3)),
                Object(p.x)(i, null, ["level"], r[t].level ? U.a.mainMenu.savegameLevel.replace("<x>", "" + r[t].level) : U.a.mainMenu.savegameLevelUnknown),
                Object(p.x)(i, null, ["name"], "<span>" + (r[t].name ? r[t].name : U.a.mainMenu.savegameUnnamed) + "</span>");
                var o = document.createElement("button");
                o.classList.add("styledButton", "deleteGame"),
                i.appendChild(o);
                var a = document.createElement("button");
                a.classList.add("styledButton", "downloadGame"),
                i.appendChild(a);
                var s = document.createElement("button");
                s.classList.add("styledButton", "resumeGame"),
                i.appendChild(s),
                e.trackClicks(o, () => e.deleteGame(r[t])),
                e.trackClicks(a, () => e.downloadGame(r[t])),
                e.trackClicks(s, () => e.resumeGame(r[t]))
            }, o = 0; o < r.length; ++o)
                i(o)
    }
    function _requestRenameSavegam(e) {
        var t = /^[a-zA-Z0-9_\- ]{1,20}$/
          , r = new Yt({
            id: "nameInput",
            label: null,
            placeholder: "",
            defaultValue: e.name || "",
            validator: e => e.match(t) && $s(e).length > 0
        })
          , n = new nr({
            app: this.app,
            title: U.a.dialogs.renameSavegame.title,
            desc: U.a.dialogs.renameSavegame.desc,
            formElements: [r],
            buttons: ["cancel:bad:escape", "ok:good:enter"]
        });
        this.dialogs.internalShowDialog(n),
        n.buttonSignals.ok.add( () => {
            e.name = $s(r.getValue()),
            this.app.savegameMgr.writeAsync(),
            this.renderSavegames()
        }
        )
    }
    function _resumeGame(e) {
        this.app.analytics.trackUiClick("resume_game"),
        this.app.adProvider.showVideoAd().then( () => {
            this.app.analytics.trackUiClick("resume_game_adcomplete");
            var t = this.app.savegameMgr.getSavegameById(e.internalId);
            t.readAsync().then( () => this.checkForModDifferences(t)).then( () => {
                this.moveToState("InGameState", {
                    savegame: t
                })
            }
            ).catch(e => {
                this.dialogs.showWarning(U.a.dialogs.gameLoadFailure.title, U.a.dialogs.gameLoadFailure.text + "<br><br>" + e)
            }
            )
        }
        )
    }
    function _checkForModDifferenc(e) {
        return Promise.resolve()
    }
    function _deleteGame(e) {
        this.app.analytics.trackUiClick("delete_game"),
        this.dialogs.showWarning(U.a.dialogs.confirmSavegameDelete.title, U.a.dialogs.confirmSavegameDelete.text.replace("<savegameName>", e.name || U.a.mainMenu.savegameUnnamed).replace("<savegameLevel>", String(e.level)), ["cancel:good", "delete:bad:timeout"]).delete.add( () => {
            this.app.savegameMgr.deleteSavegame(e).then( () => {
                this.renderSavegames(),
                this.savedGames.length <= 0 && this.renderMainMenu()
            }
            , e => {
                this.dialogs.showWarning(U.a.dialogs.savegameDeletionError.title, U.a.dialogs.savegameDeletionError.text + "<br><br>" + e)
            }
            )
        }
        )
    }
    function _downloadGame(e) {
        this.app.analytics.trackUiClick("download_game");
        var t = this.app.savegameMgr.getSavegameById(e.internalId);
        t.readAsync().then( () => {
            var r = Pi.serializeObject(t.currentData)
              , n = (e.name || "unnamed") + ".bin";
            Object(p.p)(n, r)
        }
        )
    }
    function _showSavegameSlotLimi() {
        var {getStandalone: e} = this.dialogs.showWarning(U.a.dialogs.oneSavegameLimit.title, U.a.dialogs.oneSavegameLimit.desc, ["cancel:bad", "getStandalone:good"]);
        e.add( () => {
            this.app.analytics.trackUiClick("visit_steampage_from_slot_limit"),
            this.app.platformWrapper.openExternalLink(g.d.stanaloneCampaignLink + "/cmg_shapez_slotlimit")
        }
        )
    }
    function _onSettingsButtonClic() {
        this.moveToState("SettingsState")
    }
    function _onTranslationHelpLin() {
        this.app.analytics.trackUiClick("translation_help_link"),
        this.app.platformWrapper.openExternalLink("https://github.com/tobspr/shapez.io/blob/master/translations")
    }
    function _onPlayButtonClicked() {
        if (this.app.savegameMgr.getSavegamesMetaData().length > 0 && !this.app.restrictionMgr.getHasUnlimitedSavegames())
            return this.app.analytics.trackUiClick("startgame_slot_limit_show"),
            void this.showSavegameSlotLimit();
        this.app.analytics.trackUiClick("startgame"),
        this.app.adProvider.showVideoAd().then( () => {
            var e = this.app.savegameMgr.createNewSavegame();
            this.moveToState("InGameState", {
                savegame: e
            }),
            this.app.analytics.trackUiClick("startgame_adcomplete")
        }
        )
    }
    function _onWegameRatingClicke() {
        this.dialogs.showInfo("\u63d0\u793a\u8bf4\u660e\uff1a", "\n            1\uff09\u672c\u6e38\u620f\u662f\u4e00\u6b3e\u4f11\u95f2\u5efa\u9020\u7c7b\u5355\u673a\u6e38\u620f\uff0c\u753b\u9762\u7b80\u6d01\u800c\u4e50\u8da3\u5145\u8db3\u3002\u9002\u7528\u4e8e\u5e74\u6ee18\u5468\u5c81\u53ca\u4ee5\u4e0a\u7684\u7528\u6237\uff0c\u5efa\u8bae\u672a\u6210\u5e74\u4eba\u5728\u5bb6\u957f\u76d1\u62a4\u4e0b\u4f7f\u7528\u6e38\u620f\u4ea7\u54c1\u3002<br>\n            2\uff09\u672c\u6e38\u620f\u6a21\u62df\u7b80\u5355\u7684\u751f\u4ea7\u6d41\u6c34\u7ebf\uff0c\u5267\u60c5\u7b80\u5355\u4e14\u79ef\u6781\u5411\u4e0a\uff0c\u6ca1\u6709\u57fa\u4e8e\u771f\u5b9e\u5386\u53f2\u548c\u73b0\u5b9e\u4e8b\u4ef6\u7684\u6539\u7f16\u5185\u5bb9\u3002\u6e38\u620f\u73a9\u6cd5\u4e3a\u6446\u653e\u7b80\u5355\u7684\u90e8\u4ef6\uff0c\u5b8c\u6210\u751f\u4ea7\u76ee\u6807\u3002\u6e38\u620f\u4e3a\u5355\u673a\u4f5c\u54c1\uff0c\u6ca1\u6709\u57fa\u4e8e\u6587\u5b57\u548c\u8bed\u97f3\u7684\u964c\u751f\u4eba\u793e\u4ea4\u7cfb\u7edf\u3002<br>\n            3\uff09\u672c\u6e38\u620f\u4e2d\u6709\u7528\u6237\u5b9e\u540d\u8ba4\u8bc1\u7cfb\u7edf\uff0c\u8ba4\u8bc1\u4e3a\u672a\u6210\u5e74\u4eba\u7684\u7528\u6237\u5c06\u63a5\u53d7\u4ee5\u4e0b\u7ba1\u7406\uff1a\u672a\u6ee18\u5468\u5c81\u7684\u7528\u6237\u4e0d\u80fd\u4ed8\u8d39\uff1b8\u5468\u5c81\u4ee5\u4e0a\u672a\u6ee116\u5468\u5c81\u7684\u672a\u6210\u5e74\u4eba\u7528\u6237\uff0c\u5355\u6b21\u5145\u503c\u91d1\u989d\u4e0d\u5f97\u8d85\u8fc750\u5143\u4eba\u6c11\u5e01\uff0c\u6bcf\u6708\u5145\u503c\u91d1\u989d\u7d2f\u8ba1\u4e0d\u5f97\u8d85\u8fc7200\u5143\u4eba\u6c11\u5e01\uff1b16\u5468\u5c81\u4ee5\u4e0a\u7684\u672a\u6210\u5e74\u4eba\u7528\u6237\uff0c\u5355\u6b21\u5145\u503c\u91d1\u989d\u4e0d\u5f97\u8d85\u8fc7100\u5143\u4eba\u6c11\u5e01\uff0c\u6bcf\u6708\u5145\u503c\u91d1\u989d\u7d2f\u8ba1\u4e0d\u5f97\u8d85\u8fc7400\u5143\u4eba\u6c11\u5e01\u3002\u672a\u6210\u5e74\u73a9\u5bb6\uff0c\u4ec5\u53ef\u5728\u5468\u4e94\u3001\u5468\u516d\u3001\u5468\u65e5\u548c\u6cd5\u5b9a\u8282\u5047\u65e5\u6bcf\u65e520\u65f6\u81f321\u65f6\u8fdb\u884c\u6e38\u620f\u3002<br>\n            4\uff09\u6e38\u620f\u529f\u80fd\u8bf4\u660e\uff1a\u4e00\u6b3e\u5173\u4e8e\u4f20\u9001\u5e26\u81ea\u52a8\u5316\u751f\u4ea7\u7279\u5b9a\u5f62\u72b6\u4ea7\u54c1\u7684\u5de5\u5382\u6d41\u6c34\u7ebf\u6a21\u62df\u6e38\u620f\uff0c\u753b\u9762\u7b80\u6d01\u800c\u4e50\u8da3\u5145\u8db3\uff0c\u53ef\u4ee5\u8ba9\u73a9\u5bb6\u5728\u8f7b\u677e\u6109\u5feb\u7684\u6c1b\u56f4\u4e0b\u83b7\u5f97\u5404\u79cd\u6e38\u620f\u4e50\u8da3\uff0c\u4f53\u9a8c\u5b8c\u6210\u76ee\u6807\u7684\u6210\u5c31\u611f\u3002\u6e38\u620f\u6ca1\u6709\u5931\u8d25\u529f\u80fd\uff0c\u81ea\u52a8\u5b58\u6863\uff0c\u4e0d\u5b58\u5728\u8f83\u5f3a\u7684\u632b\u6298\u4f53\u9a8c\u3002\n        ")
    }
    function _onModsClicked() {
        this.moveToState("ModsState", {
            backToStateId: "MainMenuState"
        })
    }
    function _onContinueButtonClic() {
        var e, t = 0;
        this.app.savegameMgr.currentData.savegames.forEach(r => {
            r.lastUpdate > t && (t = r.lastUpdate,
            e = r.internalId)
        }
        );
        var r = this.app.savegameMgr.getSavegameById(e);
        r.readAsync().then( () => this.app.adProvider.showVideoAd()).then( () => this.checkForModDifferences(r)).then( () => {
            this.moveToState("InGameState", {
                savegame: r
            })
        }
        )
    }
    function main_menu_onLeave() {
        this.dialogs.cleanup()
    }
    function main_menu_ref3() {
        return this.app.savegameMgr.getSavegamesMetaData()
    }
    var rl = function(e) {
        function MainMenuState() {
            return e.call(this, "MainMenuState") || this
        }
        !function main_menu_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MainMenuState, e);
        var t = MainMenuState.prototype;
        return t.getInnerHTML = main_menu_getInnerHTML,
        t.requestImportSavegame = _requestImportSavegam,
        t.onBackButton = main_menu_onBackButton,
        t.onEnter = main_menu_onEnter,
        t.renderMainMenu = _renderMainMenu,
        t.onPuzzleModeButtonClicked = _onPuzzleModeButtonCl,
        t.onPuzzleWishlistButtonClicked = _onPuzzleWishlistButt,
        t.onBackButtonClicked = _onBackButtonClicked,
        t.onSteamLinkClicked = _onSteamLinkClicked,
        t.onExitAppButtonClicked = _onExitAppButtonClick,
        t.onChangelogClicked = _onChangelogClicked,
        t.onRedditClicked = _onRedditClicked,
        t.onLanguageChooseClicked = _onLanguageChooseClic,
        t.renderSavegames = _renderSavegames,
        t.requestRenameSavegame = _requestRenameSavegam,
        t.resumeGame = _resumeGame,
        t.checkForModDifferences = _checkForModDifferenc,
        t.deleteGame = _deleteGame,
        t.downloadGame = _downloadGame,
        t.showSavegameSlotLimit = _showSavegameSlotLimi,
        t.onSettingsButtonClicked = _onSettingsButtonClic,
        t.onTranslationHelpLinkClicked = _onTranslationHelpLin,
        t.onPlayButtonClicked = _onPlayButtonClicked,
        t.onWegameRatingClicked = _onWegameRatingClicke,
        t.onModsClicked = _onModsClicked,
        t.onContinueButtonClicked = _onContinueButtonClic,
        t.onLeave = main_menu_onLeave,
        function main_menu_createClass(e, t, r) {
            t && main_menu_defineProperties(e.prototype, t),
            r && main_menu_defineProperties(e, r)
        }(MainMenuState, [{
            key: "savedGames",
            get: main_menu_ref3
        }]),
        MainMenuState
    }(On);
    function mobile_warning_getInnerHTML() {
        return '<img class="logo" src="' + Object(bn.a)("res/logo.png") + '" alt="shapez.io Logo"><p>I\'m sorry, but shapez.io is not available on mobile devices yet! There is also no estimate when this will change, but feel to make a contribution! It\'s &nbsp;<a href="https://github.com/tobspr/shapez.io" target="_blank">open source</a>!</p><p>If you want to play on your computer, you can also get the standalone on Steam:</p><a href="' + g.d.stanaloneCampaignLink + '/cmg_shapez_mobile" class="standaloneLink" target="_blank">Get the shapez.io standalone!</a>'
    }
    function mobile_warning_getThemeMusic() {
        return null
    }
    function mobile_warning_getHasFadeIn() {
        return !1
    }
    function mobile_warning_onEnter() {
        try {
            window.gtag && window.gtag("event", "click", {
                event_category: "ui",
                event_label: "mobile_warning"
            })
        } catch (e) {
            console.warn("Failed to track mobile click:", e)
        }
    }
    function mobile_warning_onLeave() {}
    var nl = function(e) {
        function MobileWarningState() {
            return e.call(this, "MobileWarningState") || this
        }
        !function mobile_warning_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(MobileWarningState, e);
        var t = MobileWarningState.prototype;
        return t.getInnerHTML = mobile_warning_getInnerHTML,
        t.getThemeMusic = mobile_warning_getThemeMusic,
        t.getHasFadeIn = mobile_warning_getHasFadeIn,
        t.onEnter = mobile_warning_onEnter,
        t.onLeave = mobile_warning_onLeave,
        MobileWarningState
    }(On)
      , il = [];
    function getRandomHint() {
        for (var e = 100 * U.a.tips.length; e-- > 0; ) {
            var t = Object(p.A)(U.a.tips);
            if (!il.includes(t))
                return il.push(t),
                t
        }
        return Object(p.A)(U.a.tips)
    }
    var ol = Object(c.a)("state/preload");
    function preload_getInnerHTML() {
        return '<div class="loadingImage"></div><div class="loadingStatus"><span class="desc">Booting</span></div></div><span class="prefab_GameHint"></span>'
    }
    function preload_getThemeMusic() {
        return null
    }
    function preload_getHasFadeIn() {
        return !1
    }
    function preload_onEnter() {
        this.htmlElement.classList.add("prefab_LoadingState");
        for (var e = ["#loadingPreload", "#fontPreload"], t = 0; t < e.length; ++t) {
            var r = document.querySelector(e[t]);
            r && r.remove()
        }
        this.dialogs = new ir(null,this.app);
        var n = document.body.querySelector(".modalDialogParent");
        this.dialogs.initializeToElement(n),
        this.statusText = this.htmlElement.querySelector(".loadingStatus > .desc"),
        this.hintsText = this.htmlElement.querySelector(".prefab_GameHint"),
        this.lastHintShown = -1e3,
        this.nextHintDuration = 0,
        this.startLoading()
    }
    function preload_onLeave() {}
    function preload_ref() {
        alert("Your brower does not support thirdparty cookies or you have disabled it in your security settings.\n\nIn Chrome this setting is called 'Block third-party cookies and site data'.\n\nPlease allow third party cookies and then reload the page.")
    }
    function preload_ref2(e) {
        return ol.warn("Failed to read lastversion:", e),
        "1.0.0-cmg"
    }
    function preload_ref3(e) {
        return "<li>" + e + "</li>"
    }
    function preload_startLoading() {
        this.setStatus("Booting").then( () => this.setStatus("Creating platform wrapper")).then( () => this.app.platformWrapper.initialize()).then( () => this.setStatus("Initializing local storage")).then( () => {
            if (this.app.platformWrapper instanceof ui)
                try {
                    window.localStorage.setItem("local_storage_test", "1"),
                    window.localStorage.removeItem("local_storage_test")
                } catch (e) {
                    return ol.error("Failed to read/write local storage:", e),
                    new Promise(preload_ref)
                }
        }
        ).then( () => this.setStatus("Creating storage")).then( () => this.app.storage.initialize()).then( () => this.setStatus("Initializing libraries")).then( () => this.app.analytics.initialize()).then( () => this.app.gameAnalytics.initialize()).then( () => this.setStatus("Initializing settings")).then( () => this.app.settings.initialize()).then( () => {
            this.app.platformWrapper.getSupportsFullscreen() && this.app.platformWrapper.setFullscreen(this.app.settings.getIsFullScreen())
        }
        ).then( () => this.setStatus("Initializing language")).then( () => {
            if ("auto-detect" === this.app.settings.getLanguage()) {
                var e = Object(U.b)();
                return ol.log("Setting language to", e),
                this.app.settings.updateLanguage(e)
            }
        }
        ).then( () => {
            var e = this.app.settings.getLanguage();
            Object(U.d)(e)
        }
        ).then( () => this.setStatus("Initializing sounds")).then( () => this.app.sound.initialize()).then( () => {
            this.app.backgroundResourceLoader.startLoading()
        }
        ).then( () => this.setStatus("Initializing restrictions")).then( () => this.app.restrictionMgr.initialize()).then( () => this.setStatus("Initializing savegame")).then( () => this.app.savegameMgr.initialize().catch(e => (ol.error("Failed to initialize savegames:", e),
        alert("Your savegames failed to load, it seems your data files got corrupted. I'm so sorry!\n\n(This can happen if your pc crashed while a game was saved).\n\nYou can try re-importing your savegames."),
        this.app.savegameMgr.writeAsync()))).then( () => this.setStatus("Downloading resources")).then( () => this.app.backgroundResourceLoader.getPromiseForBareGame()).then( () => this.setStatus("Checking changelog")).then( () => this.app.storage.readFileAsync("lastversion.bin").catch(preload_ref2).then(e => (ol.log("Last version:", e, "App version:", "1.0.0-cmg"),
        this.app.storage.writeFileAsync("lastversion.bin", "1.0.0-cmg"),
        e)).then(e => {
            var t = [];
            ol.log("Last seen version:", e);
            for (var r = 0; r < es.length && es[r].version !== e; ++r)
                t.push(es[r]);
            if (0 !== t.length) {
                for (var n = U.a.dialogs.updateSummary.desc, i = 0; i < t.length; ++i) {
                    var o = t[i];
                    n += '<div class="changelogDialogEntry" data-changelog-skin="' + (o.skin || "default") + '"><span class="version">' + o.version + '</span><span class="date">' + o.date + '</span><ul class="changes">' + o.entries.map(preload_ref3).join("") + "\n                                </ul>\n                            </div>\n                        "
                }
                return new Promise(e => {
                    this.dialogs.showInfo(U.a.dialogs.updateSummary.title, n).ok.add(e)
                }
                )
            }
        }
        )).then( () => this.setStatus("Launching")).then( () => {
            this.moveToState("MainMenuState")
        }
        , e => {
            this.showFailMessage(e)
        }
        )
    }
    function preload_update() {
        var e = performance.now();
        if (e - this.lastHintShown > this.nextHintDuration) {
            this.lastHintShown = e;
            var t = getRandomHint();
            this.hintsText.innerHTML = t,
            this.nextHintDuration = Math.max(2500, t.length / 650 * 6e4)
        }
    }
    function preload_onRender() {
        this.update()
    }
    function preload_onBackgroundTick() {
        this.update()
    }
    function _setStatus(e) {
        return ol.log("\u2705 " + e),
        this.currentStatus = e,
        this.statusText.innerText = e,
        Promise.resolve()
    }
    function _showFailMessage(e) {
        ol.error("App init failed:", e);
        var t = document.createElement("div");
        t.classList.add("failureBox"),
        t.innerHTML = '<div class="logo"><img src="' + Object(bn.a)("res/logo.png") + '" alt="Shapez.io Logo"></div><div class="failureInner"><div class="errorHeader">Failed to initialize application!</div><div class="errorMessage">' + this.currentStatus + " failed:<br/>" + e + '</div><div class="supportHelp">Please send me an email with steps to reproduce and what you did before this happened:<br /><a class="email" href="mailto:bugs@shapez.io?subject=App%20does%20not%20launch">bugs@shapez.io</a></div><div class="lower"><button class="resetApp styledButton">Reset App</button><i>Build 1.0.0-cmg @ 39e50782</i></div></div>',
        this.htmlElement.classList.add("failure"),
        this.htmlElement.appendChild(t);
        var r = t.querySelector("button.resetApp");
        this.trackClicks(r, this.showResetConfirm),
        this.hintsText.remove()
    }
    function _showResetConfirm() {
        confirm("Are you sure you want to reset the app? This will delete all your savegames!") && this.resetApp()
    }
    function preload_ref4() {
        window.location.reload()
    }
    function _resetApp() {
        this.app.settings.resetEverythingAsync().then( () => {
            this.app.savegameMgr.resetEverythingAsync()
        }
        ).then( () => {
            this.app.settings.resetEverythingAsync()
        }
        ).then(preload_ref4)
    }
    var al = function(e) {
        function PreloadState() {
            return e.call(this, "PreloadState") || this
        }
        !function preload_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(PreloadState, e);
        var t = PreloadState.prototype;
        return t.getInnerHTML = preload_getInnerHTML,
        t.getThemeMusic = preload_getThemeMusic,
        t.getHasFadeIn = preload_getHasFadeIn,
        t.onEnter = preload_onEnter,
        t.onLeave = preload_onLeave,
        t.startLoading = preload_startLoading,
        t.update = preload_update,
        t.onRender = preload_onRender,
        t.onBackgroundTick = preload_onBackgroundTick,
        t.setStatus = _setStatus,
        t.showFailMessage = _showFailMessage,
        t.showResetConfirm = _showResetConfirm,
        t.resetApp = _resetApp,
        PreloadState
    }(On);
    function settings_getStateHeaderTitle() {
        return U.a.settings.title
    }
    function settings_getMainContentHTML() {
        return '<div class="sidebar">' + this.getCategoryButtonsHtml() + " " + (this.app.platformWrapper.getSupportsKeyboard() ? '\n            <button class="styledButton categoryButton editKeybindings">\n            ' + U.a.keybindings.title + "\n            </button>" : "") + '\n\n            \n                <button class="styledButton categoryButton manageMods">' + U.a.mods.title + '\n                    <span class="newBadge">' + U.a.settings.newBadge + '</span>\n                </button>\n\n\n\n\n            <div class="other">\n                <div class="versionbar">\n                    <div class="buildVersion">' + U.a.global.loading + ' ...</div>\n                </div>\n            </div>\n        </div>\n\n        <div class="categoryContainer">\n            ' + this.getSettingsHtml() + "\n        </div>\n\n        "
    }
    function settings_ref(e) {
        return Di[e]
    }
    function settings_ref2(e) {
        return '<button class="styledButton categoryButton" data-category-btn="' + e + '">' + U.a.settings.categories[e] + "</button>"
    }
    function _getCategoryButtonsHt() {
        return Object.keys(Di).map(settings_ref).map(settings_ref2).join("")
    }
    function _getSettingsHtml() {
        var e = {};
        Object.keys(Di).forEach(t => {
            var r = Di[t];
            e[r] = '<div class="category" data-category="' + r + '">'
        }
        );
        for (var t = 0; t < this.app.settings.settingHandles.length; ++t) {
            var r = this.app.settings.settingHandles[t];
            "language" !== r.id && (e[r.categoryId] += r.getHtml(this.app))
        }
        return Object.keys(e).map(t => e[t] + "</div>").join("")
    }
    function _renderBuildText() {
        var e = this.htmlElement.querySelector(".buildVersion");
        if (e) {
            var t = (new Date).getTime() - 1648676615673
              , r = Object(p.o)(t / 1e3)
              , n = U.a.settings.versionBadges.prod;
            e.innerHTML = "<span class='version'>1.0.0-cmg @ " + n + " @ 39e50782</span><span class='buildTime'>" + U.a.settings.buildDate.replace("<at-date>", r) + "<br /></span>"
        }
    }
    function settings_onEnter(e) {
        this.renderBuildText();
        var t = this.htmlElement.querySelector(".editKeybindings");
        t && this.trackClicks(t, this.onKeybindingsClicked, {
            preventDefault: !1
        }),
        this.initSettings(),
        this.initCategoryButtons(),
        this.htmlElement.querySelector(".category").classList.add("active"),
        this.htmlElement.querySelector(".categoryButton").classList.add("active");
        var r = this.htmlElement.querySelector(".manageMods");
        r && this.trackClicks(r, this.onModsClicked, {
            preventDefault: !1
        })
    }
    function _setActiveCategory(e) {
        var t = this.htmlElement.querySelector(".category.active")
          , r = this.htmlElement.querySelector(".categoryButton.active");
        if (t.getAttribute("data-category") != e) {
            t.classList.remove("active"),
            r.classList.remove("active");
            var n = this.htmlElement.querySelector("[data-category='" + e + "']")
              , i = this.htmlElement.querySelector("[data-category-btn='" + e + "']");
            n.classList.add("active"),
            i.classList.add("active")
        }
    }
    function _initSettings() {
        this.app.settings.settingHandles.forEach(e => {
            if ("language" !== e.id) {
                var t = this.htmlElement.querySelector("[data-setting='" + e.id + "']");
                e.bind(this.app, t, this.dialogs),
                e.syncValueToElement(),
                this.trackClicks(t, () => {
                    e.modify()
                }
                , {
                    preventDefault: !1
                })
            }
        }
        )
    }
    function _initCategoryButtons() {
        Object.keys(Di).forEach(e => {
            var t = Di[e]
              , r = this.htmlElement.querySelector("[data-category-btn='" + t + "']");
            this.trackClicks(r, () => {
                this.setActiveCategory(t)
            }
            , {
                preventDefault: !1
            })
        }
        )
    }
    function _onAboutClicked() {
        this.moveToStateAddGoBack("AboutState")
    }
    function _onPrivacyClicked() {
        this.app.platformWrapper.openExternalLink(g.d.privacyPolicy)
    }
    function _onKeybindingsClicked() {
        this.moveToStateAddGoBack("KeybindingsState")
    }
    function settings_onModsClicked() {
        this.moveToStateAddGoBack("ModsState")
    }
    var sl = function(e) {
        function SettingsState() {
            return e.call(this, "SettingsState") || this
        }
        !function settings_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(SettingsState, e);
        var t = SettingsState.prototype;
        return t.getStateHeaderTitle = settings_getStateHeaderTitle,
        t.getMainContentHTML = settings_getMainContentHTML,
        t.getCategoryButtonsHtml = _getCategoryButtonsHt,
        t.getSettingsHtml = _getSettingsHtml,
        t.renderBuildText = _renderBuildText,
        t.onEnter = settings_onEnter,
        t.setActiveCategory = _setActiveCategory,
        t.initSettings = _initSettings,
        t.initCategoryButtons = _initCategoryButtons,
        t.onAboutClicked = _onAboutClicked,
        t.onPrivacyClicked = _onPrivacyClicked,
        t.onKeybindingsClicked = _onKeybindingsClicked,
        t.onModsClicked = settings_onModsClicked,
        SettingsState
    }(Xa);
    function _GameAnalyticsInterfa(e) {
        this.app = e
    }
    function game_analytics_initialize() {
        return window.assert(!1, "abstract method called"),
        Promise.reject()
    }
    function _handleGameStarted() {}
    function _handleGameResumed() {}
    function _handleLevelCompleted(e) {}
    function _handleUpgradeUnlocke(e, t) {}
    function _activateDlc(e) {
        return window.assert(!1, "abstract method called"),
        Promise.resolve()
    }
    var ll = function() {
        var e = _GameAnalyticsInterfa.prototype;
        return e.initialize = game_analytics_initialize,
        e.handleGameStarted = _handleGameStarted,
        e.handleGameResumed = _handleGameResumed,
        e.handleLevelCompleted = _handleLevelCompleted,
        e.handleUpgradeUnlocked = _handleUpgradeUnlocke,
        e.activateDlc = _activateDlc,
        _GameAnalyticsInterfa
    }();
    function game_analytics_defineProperties(e, t) {
        for (var r = 0; r < t.length; r++) {
            var n = t[r];
            n.enumerable = n.enumerable || !1,
            n.configurable = !0,
            "value"in n && (n.writable = !0),
            Object.defineProperty(e, n.key, n)
        }
    }
    function browser_game_analytics_initialize() {
        return Promise.resolve()
    }
    function game_analytics_activateDlc(e) {
        return Promise.resolve()
    }
    function _sendToApi(e, t) {
        return Promise.resolve()
    }
    function _sendGameEvent(e, t) {}
    function _sendTimePoints() {}
    function _isInterestingShape(e, t) {
        return !1
    }
    function _generateGameDump(e) {
        return {}
    }
    function game_analytics_handleGameStarted() {}
    function game_analytics_handleGameResumed() {}
    function game_analytics_handleLevelCompleted(e) {}
    function game_analytics_handleUpgradeUnlocke(e, t) {}
    function game_analytics_ref() {
        return "cmg"
    }
    Object(c.a)("game_analytics");
    var cl = function(e) {
        function ShapezGameAnalytics() {
            return e.apply(this, arguments) || this
        }
        !function game_analytics_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ShapezGameAnalytics, e);
        var t = ShapezGameAnalytics.prototype;
        return t.initialize = browser_game_analytics_initialize,
        t.activateDlc = game_analytics_activateDlc,
        t.sendToApi = _sendToApi,
        t.sendGameEvent = _sendGameEvent,
        t.sendTimePoints = _sendTimePoints,
        t.isInterestingShape = _isInterestingShape,
        t.generateGameDump = _generateGameDump,
        t.handleGameStarted = game_analytics_handleGameStarted,
        t.handleGameResumed = game_analytics_handleGameResumed,
        t.handleLevelCompleted = game_analytics_handleLevelCompleted,
        t.handleUpgradeUnlocked = game_analytics_handleUpgradeUnlocke,
        function game_analytics_createClass(e, t, r) {
            t && game_analytics_defineProperties(e.prototype, t),
            r && game_analytics_defineProperties(e, r)
        }(ShapezGameAnalytics, [{
            key: "environment",
            get: game_analytics_ref
        }]),
        ShapezGameAnalytics
    }(ll);
    function restriction_manager_verify(e) {
        return _i.good()
    }
    function restriction_manager_getDefaultData() {
        return {
            version: this.getCurrentVersion()
        }
    }
    function restriction_manager_getCurrentVersion() {
        return 1
    }
    function restriction_manager_migrate(e) {
        return _i.good()
    }
    function restriction_manager_initialize() {
        return this.readAsync()
    }
    function _onHasLegacySavegames(e=!1) {
        return Promise.resolve()
    }
    function _isLimitedVersion() {
        return !0
    }
    function _getIsStandaloneMarke() {
        return !0
    }
    function _getIsExportingScreen() {
        return !1
    }
    function _getMaximumWaypoints() {
        return 2
    }
    function _getHasUnlimitedSaveg() {
        return !1
    }
    function _getHasExtendedSettin() {
        return !1
    }
    function _getHasExtendedUpgrad() {
        return !1
    }
    function _getHasExtendedLevels() {
        return !1
    }
    var ul = function(e) {
        function RestrictionManager(t) {
            var r;
            return (r = e.call(this, t, "restriction-flags.bin") || this).currentData = r.getDefaultData(),
            r
        }
        !function restriction_manager_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(RestrictionManager, e);
        var t = RestrictionManager.prototype;
        return t.verify = restriction_manager_verify,
        t.getDefaultData = restriction_manager_getDefaultData,
        t.getCurrentVersion = restriction_manager_getCurrentVersion,
        t.migrate = restriction_manager_migrate,
        t.initialize = restriction_manager_initialize,
        t.onHasLegacySavegamesChanged = _onHasLegacySavegames,
        t.isLimitedVersion = _isLimitedVersion,
        t.getIsStandaloneMarketingActive = _getIsStandaloneMarke,
        t.getIsExportingScreenshotsPossible = _getIsExportingScreen,
        t.getMaximumWaypoints = _getMaximumWaypoints,
        t.getHasUnlimitedSavegames = _getHasUnlimitedSaveg,
        t.getHasExtendedSettings = _getHasExtendedSettin,
        t.getHasExtendedUpgrades = _getHasExtendedUpgrad,
        t.getHasExtendedLevelsAndFreeplay = _getHasExtendedLevels,
        RestrictionManager
    }(Pi);
    r(140);
    var dl = {
        categories: ["official", "top-rated", "trending", "trending-weekly", "new"],
        difficulties: ["easy", "medium", "hard"],
        account: ["mine", "completed"],
        search: ["search"]
    }
      , pl = Object(c.a)("puzzle-menu")
      , hl = "official"
      , gl = {
        searchTerm: "",
        difficulty: "any",
        duration: "any",
        includeCompleted: !1
    };
    function puzzle_menu_getThemeMusic() {
        return E.puzzle
    }
    function puzzle_menu_getStateHeaderTitle() {
        return U.a.puzzleMenu.title
    }
    function puzzle_menu_internalGetFullHtml() {
        return '<div class="headerBar"><h1><button class="backButton"></button>' + this.getStateHeaderTitle() + '</h1><div class="actions"><button class="styledButton loadPuzzle">' + U.a.puzzleMenu.loadPuzzle + '</button><button class="styledButton createPuzzle">+ ' + U.a.puzzleMenu.createPuzzle + '</button></div></div><div class="container">' + this.getInnerHTML() + "</div>"
    }
    function puzzle_menu_ref(e) {
        return '<button data-root-category="' + e + '" class="styledButton category root">' + U.a.puzzleMenu.categories[e] + "</button>"
    }
    function puzzle_menu_getMainContentHTML() {
        return '<div class="categoryChooser"><div class="categories rootCategories">' + Object.keys(dl).map(puzzle_menu_ref).join("") + '\n                    </div>\n\n                    <div class="categories subCategories">\n                    </div>\n\n                </div>\n\n\n                <div class="puzzles" id="mainContainer"></div>\n        '
    }
    function _selectCategory(e) {
        if (hl = e,
        e !== this.activeCategory && !this.loading) {
            this.loading = !0,
            this.activeCategory = e;
            var t = this.htmlElement.querySelector(".active[data-category]");
            t && t.classList.remove("active");
            var r = this.htmlElement.querySelector('[data-category="' + e + '"]');
            r && r.classList.add("active");
            for (var n = this.htmlElement.querySelector("#mainContainer"); n.firstChild; )
                n.removeChild(n.firstChild);
            if ("search" === e)
                return this.loading = !1,
                void this.startSearch();
            var i = document.createElement("div");
            i.classList.add("loader"),
            i.innerText = U.a.global.loading + "...",
            n.appendChild(i),
            this.asyncChannel.watch(this.getPuzzlesForCategory(e)).then(e => this.renderPuzzles(e), e => {
                this.dialogs.showWarning(U.a.dialogs.puzzleLoadFailed.title, U.a.dialogs.puzzleLoadFailed.desc + " " + e),
                this.renderPuzzles([])
            }
            ).then( () => this.loading = !1)
        }
    }
    function _selectRootCategory(e, t) {
        var r = this
          , n = t || dl[e][0];
        if (console.warn("Select root category", e, t, "->", n),
        !this.loading && this.activeCategory !== n) {
            var i = this.htmlElement.querySelector(".active[data-root-category]");
            i && i.classList.remove("active");
            var o = this.htmlElement.querySelector('[data-root-category="' + e + '"]');
            o && o.classList.add("active");
            for (var a = this.htmlElement.querySelector(".subCategories"); a.firstChild; )
                a.removeChild(a.firstChild);
            var s = dl[e];
            if (s.length > 1) {
                var l = function _ref2(e) {
                    var t = document.createElement("button");
                    t.setAttribute("data-category", e),
                    t.classList.add("styledButton", "category", "child"),
                    t.innerText = U.a.puzzleMenu.categories[e],
                    r.trackClicks(t, () => r.selectCategory(e)),
                    a.appendChild(t)
                };
                for (var c of s)
                    l(c)
            }
            "search" === e && this.renderSearchForm(a),
            this.selectCategory(n)
        }
    }
    function _renderSearchForm(e) {
        var t = document.createElement("form");
        t.classList.add("searchForm");
        var r = document.createElement("input");
        r.value = gl.searchTerm,
        r.classList.add("search"),
        r.setAttribute("type", "text"),
        r.setAttribute("placeholder", U.a.puzzleMenu.search.placeholder),
        r.addEventListener("input", () => {
            gl.searchTerm = r.value.trim()
        }
        ),
        t.appendChild(r);
        var n = document.createElement("select");
        for (var i of ["any", "easy", "medium", "hard"]) {
            var o = document.createElement("option");
            o.value = i,
            o.innerText = U.a.puzzleMenu.search.difficulties[i],
            o.value === gl.difficulty && o.setAttribute("selected", "selected"),
            n.appendChild(o)
        }
        n.addEventListener("change", () => {
            var e = n.value;
            gl.difficulty = e
        }
        ),
        t.appendChild(n);
        var a = document.createElement("select");
        for (var s of ["any", "short", "medium", "long"]) {
            var l = document.createElement("option");
            l.value = s,
            l.innerText = U.a.puzzleMenu.search.durations[s],
            l.value === gl.duration && l.setAttribute("selected", "selected"),
            a.appendChild(l)
        }
        a.addEventListener("change", () => {
            var e = a.value;
            gl.duration = e
        }
        ),
        t.appendChild(a);
        var c = document.createElement("label");
        c.classList.add("filterCompleted");
        var u = document.createElement("input");
        u.setAttribute("type", "checkbox"),
        gl.includeCompleted && u.setAttribute("checked", "checked"),
        u.addEventListener("change", () => {
            gl.includeCompleted = u.checked
        }
        ),
        c.appendChild(u);
        var d = document.createTextNode(U.a.puzzleMenu.search.includeCompleted);
        c.appendChild(d),
        t.appendChild(c);
        var p = document.createElement("button");
        p.classList.add("styledButton"),
        p.setAttribute("type", "submit"),
        p.innerText = U.a.puzzleMenu.search.action,
        t.appendChild(p),
        t.addEventListener("submit", e => {
            e.preventDefault(),
            console.log("Search:", r.value.trim()),
            this.startSearch()
        }
        ),
        e.appendChild(t)
    }
    function _startSearch() {
        if (!this.loading) {
            this.loading = !0;
            for (var e = this.htmlElement.querySelector("#mainContainer"); e.firstChild; )
                e.removeChild(e.firstChild);
            var t = document.createElement("div");
            t.classList.add("loader"),
            t.innerText = U.a.global.loading + "...",
            e.appendChild(t),
            this.asyncChannel.watch(this.app.clientApi.apiSearchPuzzles(gl)).then(e => this.renderPuzzles(e), e => {
                this.dialogs.showWarning(U.a.dialogs.puzzleLoadFailed.title, U.a.dialogs.puzzleLoadFailed.desc + " " + e),
                this.renderPuzzles([])
            }
            ).then( () => this.loading = !1)
        }
    }
    function _renderPuzzles(e) {
        var t = this;
        this.puzzles = e;
        for (var r = this.htmlElement.querySelector("#mainContainer"); r.firstChild; )
            r.removeChild(r.firstChild);
        var n = function(e) {
            var n = document.createElement("div");
            if (n.classList.add("puzzle"),
            n.setAttribute("data-puzzle-id", String(e.id)),
            "mine" !== t.activeCategory && n.classList.toggle("completed", e.completed),
            e.title) {
                var i = document.createElement("div");
                i.classList.add("title"),
                i.innerText = e.title,
                n.appendChild(i)
            }
            if (e.author && !["official", "mine"].includes(t.activeCategory)) {
                var o = document.createElement("div");
                o.classList.add("author"),
                o.innerText = "by " + e.author,
                n.appendChild(o)
            }
            var a = document.createElement("div");
            if (a.classList.add("stats"),
            n.appendChild(a),
            !["official", "easy", "medium", "hard"].includes(t.activeCategory)) {
                var s = document.createElement("div");
                s.classList.add("difficulty");
                var l = Math.max(0, Math.min(100, Math.round(e.completions / e.downloads * 100)));
                s.innerText = l + "%",
                a.appendChild(s),
                null === e.difficulty ? (s.classList.add("stage--unknown"),
                s.innerText = U.a.puzzleMenu.difficulties.unknown) : e.difficulty < .2 ? (s.classList.add("stage--easy"),
                s.innerText = U.a.puzzleMenu.difficulties.easy) : e.difficulty > .6 ? (s.classList.add("stage--hard"),
                s.innerText = U.a.puzzleMenu.difficulties.hard) : (s.classList.add("stage--medium"),
                s.innerText = U.a.puzzleMenu.difficulties.medium)
            }
            if ("mine" === t.activeCategory) {
                var c = document.createElement("div");
                c.classList.add("downloads"),
                c.innerText = String(e.downloads),
                a.appendChild(c),
                a.classList.add("withDownloads")
            }
            var u = document.createElement("div");
            u.classList.add("likes"),
            u.innerText = Object(p.l)(e.likes),
            a.appendChild(u);
            var d = R.b.fromShortKey(e.shortKey).generateAsCanvas(100 * t.app.getEffectiveUiScale())
              , h = document.createElement("div");
            if (h.classList.add("icon"),
            h.appendChild(d),
            n.appendChild(h),
            "mine" === t.activeCategory) {
                var g = document.createElement("button");
                g.classList.add("styledButton", "delete"),
                t.trackClicks(g, (function _ref3() {
                    t.tryDeletePuzzle(e)
                }
                ), {
                    consumeEvents: !0,
                    preventClick: !0,
                    preventDefault: !0
                }),
                n.appendChild(g)
            }
            r.appendChild(n),
            t.trackClicks(n, () => t.playPuzzle(e.id))
        };
        for (var i of e)
            n(i);
        if (0 === e.length) {
            var o = document.createElement("div");
            o.classList.add("empty"),
            o.innerText = U.a.puzzleMenu.noPuzzles,
            r.appendChild(o)
        }
    }
    function _tryDeletePuzzle(e) {
        this.dialogs.showWarning(U.a.dialogs.puzzleDelete.title, U.a.dialogs.puzzleDelete.desc.replace("<title>", e.title), ["delete:bad", "cancel:good"]).delete.add( () => {
            var t = this.dialogs.showLoadingDialog();
            this.asyncChannel.watch(this.app.clientApi.apiDeletePuzzle(e.id)).then( () => {
                var t = this.htmlElement.querySelector("[data-puzzle-id='" + e.id + "']");
                t && t.remove()
            }
            ).catch(e => {
                this.dialogs.showWarning(U.a.global.error, String(e))
            }
            ).then(t)
        }
        )
    }
    function _getPuzzlesForCategor(e) {
        return this.app.clientApi.apiListPuzzles(e).catch(t => {
            throw pl.error("Failed to get", e, ":", t),
            t
        }
        )
    }
    function puzzle_menu_ref4(e) {
        return !e.completed
    }
    function puzzle_menu_ref5(e) {
        return e.id
    }
    function _playPuzzle(e, t) {
        var r = this.dialogs.showLoadingDialog();
        function _ref6(t) {
            return t !== e
        }
        this.asyncChannel.watch(this.app.clientApi.apiDownloadPuzzle(e)).then(e => {
            r(),
            t = (t = t || this.puzzles.filter(puzzle_menu_ref4).map(puzzle_menu_ref5)).filter(_ref6),
            pl.log("Got puzzle:", e, "next puzzles:", t),
            this.startLoadedPuzzle(e, t)
        }
        , t => {
            r(),
            pl.error("Failed to download puzzle", e, ":", t),
            this.dialogs.showWarning(U.a.dialogs.puzzleDownloadError.title, U.a.dialogs.puzzleDownloadError.desc + " " + t)
        }
        )
    }
    function _startLoadedPuzzle(e, t) {
        var r = Qa.createPuzzleSavegame(this.app);
        this.moveToState("InGameState", {
            gameModeId: Ao.puzzlePlay,
            gameModeParameters: {
                puzzle: e,
                nextPuzzles: t
            },
            savegame: r
        })
    }
    function puzzle_menu_onEnter(e) {
        var t = this;
        e.continueQueue && (pl.log("Continuing puzzle queue:", e),
        this.playPuzzle(e.continueQueue[0], e.continueQueue.slice(1)));
        var r = "categories";
        for (var [n,i] of Object.entries(dl))
            if (i.includes(hl)) {
                r = n;
                break
            }
        this.selectRootCategory(r, hl),
        e && e.error && this.dialogs.showWarning(e.error.title, e.error.desc);
        var o = function(e) {
            var r = t.htmlElement.querySelector('[data-root-category="' + e + '"]');
            t.trackClicks(r, () => t.selectRootCategory(e))
        };
        for (var a of Object.keys(dl))
            o(a);
        this.trackClicks(this.htmlElement.querySelector("button.createPuzzle"), () => this.createNewPuzzle()),
        this.trackClicks(this.htmlElement.querySelector("button.loadPuzzle"), () => this.loadPuzzle())
    }
    function puzzle_menu_ref7(e) {
        return R.b.isValidShortKey(e) || e.startsWith("/")
    }
    function _loadPuzzle() {
        var e = new Yt({
            id: "shortKey",
            label: null,
            placeholder: "",
            defaultValue: "",
            validator: puzzle_menu_ref7
        })
          , t = new nr({
            app: this.app,
            title: U.a.dialogs.puzzleLoadShortKey.title,
            desc: U.a.dialogs.puzzleLoadShortKey.desc,
            formElements: [e],
            buttons: ["ok:good:enter"]
        });
        this.dialogs.internalShowDialog(t),
        t.buttonSignals.ok.add( () => {
            var t = e.getValue();
            if ("/apikey" !== t) {
                var r = this.dialogs.showLoadingDialog();
                this.app.clientApi.apiDownloadPuzzleByKey(t).then(e => {
                    r(),
                    this.startLoadedPuzzle(e)
                }
                , e => {
                    r(),
                    this.dialogs.showWarning(U.a.dialogs.puzzleDownloadError.title, U.a.dialogs.puzzleDownloadError.desc + " " + e)
                }
                )
            } else
                alert("Your api key is: " + this.app.clientApi.token)
        }
        )
    }
    function _createNewPuzzle(e=!1) {
        if (e || this.app.clientApi.isLoggedIn()) {
            var t = Qa.createPuzzleSavegame(this.app);
            this.moveToState("InGameState", {
                gameModeId: Ao.puzzleEdit,
                savegame: t
            })
        } else
            this.dialogs.showWarning(U.a.dialogs.puzzleCreateOffline.title, U.a.dialogs.puzzleCreateOffline.desc, ["cancel:good", "continue:bad"]).continue.add( () => this.createNewPuzzle(!0))
    }
    var fl = function(e) {
        function PuzzleMenuState() {
            var t;
            return (t = e.call(this, "PuzzleMenuState") || this).loading = !1,
            t.activeCategory = "",
            t.puzzles = [],
            t
        }
        !function puzzle_menu_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(PuzzleMenuState, e);
        var t = PuzzleMenuState.prototype;
        return t.getThemeMusic = puzzle_menu_getThemeMusic,
        t.getStateHeaderTitle = puzzle_menu_getStateHeaderTitle,
        t.internalGetFullHtml = puzzle_menu_internalGetFullHtml,
        t.getMainContentHTML = puzzle_menu_getMainContentHTML,
        t.selectCategory = _selectCategory,
        t.selectRootCategory = _selectRootCategory,
        t.renderSearchForm = _renderSearchForm,
        t.startSearch = _startSearch,
        t.renderPuzzles = _renderPuzzles,
        t.tryDeletePuzzle = _tryDeletePuzzle,
        t.getPuzzlesForCategory = _getPuzzlesForCategor,
        t.playPuzzle = _playPuzzle,
        t.startLoadedPuzzle = _startLoadedPuzzle,
        t.onEnter = puzzle_menu_onEnter,
        t.loadPuzzle = _loadPuzzle,
        t.createNewPuzzle = _createNewPuzzle,
        PuzzleMenuState
    }(Xa)
      , ml = Object(c.a)("puzzle-api");
    function _ClientAPI(e) {
        this.app = e,
        this.token = null
    }
    function _getEndpoint() {
        return "beta.shapez.io" === window.location.host ? "https://api-staging.shapez.io" : "https://api.shapez.io"
    }
    function _isLoggedIn() {
        return Boolean(this.token)
    }
    function api_ref(e) {
        if (200 !== e.status)
            throw "bad-status: " + e.status + " / " + e.statusText;
        return e
    }
    function api_ref2(e) {
        return e.json()
    }
    function api_ref3(e, t) {
        return setTimeout( () => t("timeout"), 15e3)
    }
    function api_ref4(e) {
        if (e && e.error)
            throw ml.warn("Got error from api:", e),
            U.a.backendErrors[e.error] || e.error;
        return e
    }
    function _request(e, t) {
        var r = {
            "x-api-key": "d5c54aaa491f200709afff082c153ef2",
            "Content-Type": "application/json"
        };
        return this.token && (r["x-token"] = this.token),
        Promise.race([fetch(this.getEndpoint() + e, {
            cache: "no-cache",
            mode: "cors",
            headers: r,
            method: t.method || "GET",
            body: t.body ? JSON.stringify(t.body) : void 0
        }).then(api_ref).then(api_ref2), new Promise(api_ref3)]).then(api_ref4).catch(t => {
            throw ml.warn("Failure:", e, ":", t),
            t
        }
        )
    }
    function api_ref5(e) {
        return ml.warn("Failed to login:", e),
        !1
    }
    function _tryLogin() {
        return this.apiTryLogin().then( ({token: e}) => (this.token = e,
        !0)).catch(api_ref5)
    }
    function _apiTryLogin() {
        var e = window.localStorage.getItem("dev_api_auth_token");
        return e || (e = window.prompt("Please enter the auth token for the puzzle DLC (If you have none, you can't login):")),
        e && window.localStorage.setItem("dev_api_auth_token", e),
        Promise.resolve({
            token: e
        })
    }
    function _apiListPuzzles(e) {
        return this.isLoggedIn() ? this._request("/v1/puzzles/list/" + e, {}) : Promise.reject("not-logged-in")
    }
    function _apiSearchPuzzles(e) {
        return this.isLoggedIn() ? this._request("/v1/puzzles/search", {
            method: "POST",
            body: e
        }) : Promise.reject("not-logged-in")
    }
    function _apiDownloadPuzzle(e) {
        return this.isLoggedIn() ? this._request("/v1/puzzles/download/" + e, {}) : Promise.reject("not-logged-in")
    }
    function _apiDeletePuzzle(e) {
        return this.isLoggedIn() ? this._request("/v1/puzzles/delete/" + e, {
            method: "POST",
            body: {}
        }) : Promise.reject("not-logged-in")
    }
    function _apiDownloadPuzzleByK(e) {
        return this.isLoggedIn() ? this._request("/v1/puzzles/download/" + e, {}) : Promise.reject("not-logged-in")
    }
    function _apiReportPuzzle(e, t) {
        return this.isLoggedIn() ? this._request("/v1/puzzles/report/" + e, {
            method: "POST",
            body: {
                reason: t
            }
        }) : Promise.reject("not-logged-in")
    }
    function _apiCompletePuzzle(e, t) {
        return this.isLoggedIn() ? this._request("/v1/puzzles/complete/" + e, {
            method: "POST",
            body: t
        }) : Promise.reject("not-logged-in")
    }
    function _apiSubmitPuzzle(e) {
        return this.isLoggedIn() ? this._request("/v1/puzzles/submit", {
            method: "POST",
            body: {
                ...e,
                data: Object(mi.compressX64)(JSON.stringify(e.data))
            }
        }) : Promise.reject("not-logged-in")
    }
    var yl = function() {
        var e = _ClientAPI.prototype;
        return e.getEndpoint = _getEndpoint,
        e.isLoggedIn = _isLoggedIn,
        e._request = _request,
        e.tryLogin = _tryLogin,
        e.apiTryLogin = _apiTryLogin,
        e.apiListPuzzles = _apiListPuzzles,
        e.apiSearchPuzzles = _apiSearchPuzzles,
        e.apiDownloadPuzzle = _apiDownloadPuzzle,
        e.apiDeletePuzzle = _apiDeletePuzzle,
        e.apiDownloadPuzzleByKey = _apiDownloadPuzzleByK,
        e.apiReportPuzzle = _apiReportPuzzle,
        e.apiCompletePuzzle = _apiCompletePuzzle,
        e.apiSubmitPuzzle = _apiSubmitPuzzle,
        _ClientAPI
    }();
    function login_getInnerHTML() {
        return '<div class="loadingImage"></div><div class="loadingStatus"><span class="desc">' + U.a.global.loggingIn + '</span></div></div><span class="prefab_GameHint"></span>'
    }
    function login_onEnter(e) {
        if (this.payload = e,
        !this.payload.nextStateId)
            throw new Error("No next state id");
        if (this.app.clientApi.isLoggedIn())
            this.finishLoading();
        else {
            this.dialogs = new ir(null,this.app);
            var t = document.body.querySelector(".modalDialogParent");
            this.dialogs.initializeToElement(t),
            this.htmlElement.classList.add("prefab_LoadingState"),
            this.hintsText = this.htmlElement.querySelector(".prefab_GameHint"),
            this.lastHintShown = -1e3,
            this.nextHintDuration = 0,
            this.tryLogin()
        }
    }
    function login_tryLogin() {
        this.app.clientApi.tryLogin().then(e => {
            if (console.log("Logged in:", e),
            e)
                this.finishLoading();
            else {
                var t = this.dialogs.showWarning(U.a.dialogs.offlineMode.title, U.a.dialogs.offlineMode.desc, ["retry", "playOffline:bad"]);
                t.retry.add( () => setTimeout( () => this.tryLogin(), 2e3), this),
                t.playOffline.add(this.finishLoading, this)
            }
        }
        )
    }
    function _finishLoading() {
        this.moveToState(this.payload.nextStateId)
    }
    function login_getDefaultPreviousSt() {
        return "MainMenuState"
    }
    function login_update() {
        var e = performance.now();
        if (e - this.lastHintShown > this.nextHintDuration) {
            this.lastHintShown = e;
            var t = getRandomHint();
            this.hintsText.innerHTML = t,
            this.nextHintDuration = Math.max(2500, t.length / 650 * 6e4)
        }
    }
    function login_onRender() {
        this.update()
    }
    function login_onBackgroundTick() {
        this.update()
    }
    var _l = function(e) {
        function LoginState() {
            return e.call(this, "LoginState") || this
        }
        !function login_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(LoginState, e);
        var t = LoginState.prototype;
        return t.getInnerHTML = login_getInnerHTML,
        t.onEnter = login_onEnter,
        t.tryLogin = login_tryLogin,
        t.finishLoading = _finishLoading,
        t.getDefaultPreviousState = login_getDefaultPreviousSt,
        t.update = login_update,
        t.onRender = login_onRender,
        t.onBackgroundTick = login_onBackgroundTick,
        LoginState
    }(On);
    function cmg_splash_getInnerHTML() {
        return '<div class="wrapper"><span class="splash"></span></div>'
    }
    function cmg_splash_onEnter() {
        setTimeout( () => {
            this.app.stateMgr.moveToState("PreloadState")
        }
        , 6e3)
    }
    var vl = function(e) {
        function CMGSplashState() {
            return e.call(this, "CMGSplashState") || this
        }
        !function cmg_splash_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(CMGSplashState, e);
        var t = CMGSplashState.prototype;
        return t.getInnerHTML = cmg_splash_getInnerHTML,
        t.onEnter = cmg_splash_onEnter,
        CMGSplashState
    }(On);
    function mods_getStateHeaderTitle() {
        return U.a.mods.title
    }
    function mods_internalGetFullHtml() {
        return '<div class="headerBar"><h1><button class="backButton"></button>' + this.getStateHeaderTitle() + '</h1><div class="actions"></div></div><div class="container">' + this.getInnerHTML() + "</div>"
    }
    function mods_getMainContentHTML() {
        return '<div class="noModSupport"><p>' + U.a.mods.noModSupport + '</p><a href="#" class="steamLink steam_2_npr" target="_blank">Get the shapez.io standalone!</a></div>'
    }
    function mods_onEnter() {
        var e = this.htmlElement.querySelector(".steamLink");
        e && this.trackClicks(e, this.onSteamLinkClicked);
        var t = this.htmlElement.querySelector(".openModsFolder");
        t && this.trackClicks(t, this.openModsFolder);
        var r = this.htmlElement.querySelector(".browseMods");
        r && this.trackClicks(r, this.openBrowseMods);
        var n = this.htmlElement.querySelectorAll(".checkbox");
        Array.from(n).forEach(e => {
            this.trackClicks(e, this.showModTogglingComingSoon)
        }
        )
    }
    function _showModTogglingComin() {
        this.dialogs.showWarning(U.a.mods.togglingComingSoon.title, U.a.mods.togglingComingSoon.description)
    }
    function _openModsFolder() {
        this.dialogs.showWarning(U.a.global.error, U.a.mods.folderOnlyStandalone)
    }
    function _openBrowseMods() {
        this.app.analytics.trackUiClick("mods_sbrowse_link"),
        this.app.platformWrapper.openExternalLink(g.d.modBrowser)
    }
    function mods_onSteamLinkClicked() {
        return this.app.analytics.trackUiClick("mods_steam_link"),
        this.app.platformWrapper.openExternalLink(g.d.stanaloneCampaignLink + "/cmg_shapez_modsettings"),
        !1
    }
    function mods_getDefaultPreviousSt() {
        return "SettingsState"
    }
    var bl, wl, Sl = function(e) {
        function ModsState() {
            return e.call(this, "ModsState") || this
        }
        !function mods_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(ModsState, e);
        var t = ModsState.prototype;
        return t.getStateHeaderTitle = mods_getStateHeaderTitle,
        t.internalGetFullHtml = mods_internalGetFullHtml,
        t.getMainContentHTML = mods_getMainContentHTML,
        t.onEnter = mods_onEnter,
        t.showModTogglingComingSoon = _showModTogglingComin,
        t.openModsFolder = _openModsFolder,
        t.openBrowseMods = _openBrowseMods,
        t.onSteamLinkClicked = mods_onSteamLinkClicked,
        t.getDefaultPreviousState = mods_getDefaultPreviousSt,
        ModsState
    }(Xa), Cl = Object(c.a)("application");
    function _Application() {}
    async function _boot() {
        console.log("Booting ..."),
        Cl.log("Creating application, platform =", Object(p.r)()),
        function setGlobalApp(e) {
            Ft = e
        }(this),
        lr.app = this;
        try {
            await lr.initMods()
        } catch (e) {
            alert("Failed to load mods (launch with --dev for more info): \n\n" + e)
        }
        this.unloaded = !1,
        this.settings = new Wi(this),
        this.ticker = new gr,
        this.stateMgr = new Dn(this),
        this.savegameMgr = new Za(this),
        this.inputMgr = new Ln(this),
        this.backgroundResourceLoader = new xn(this),
        this.clientApi = new yl(this),
        this.restrictionMgr = new ul(this),
        this.storage = null,
        this.sound = null,
        this.platformWrapper = null,
        this.achievementProvider = null,
        this.adProvider = null,
        this.analytics = null,
        this.gameAnalytics = null,
        this.initPlatformDependentInstances(),
        this.focused = !0,
        this.pageVisible = !0,
        this.applicationPaused = !1,
        this.trackedIsRenderable = new Dt(this.onAppRenderableStateChanged,this),
        this.screenWidth = 0,
        this.screenHeight = 0,
        this.lastResizeCheck = null,
        this.mousePosition = null,
        this.registerStates(),
        this.registerEventListeners(),
        w.a.linkAppAfterBoot(this),
        this.stateMgr.moveToState("CMGSplashState"),
        this.ticker.frameEmitted.add(this.onFrameEmitted, this),
        this.ticker.bgFrameEmitted.add(this.onBackgroundFrame, this),
        this.ticker.start(),
        window.focus(),
        b.appBooted.dispatch()
    }
    function _initPlatformDependen() {
        Cl.log("Creating platform dependent instances (standalone=", !1, ")"),
        this.platformWrapper = new ui(this),
        this.adProvider = new Fn(this),
        this.sound = new Zn(this),
        this.analytics = new Gn(this),
        this.gameAnalytics = new cl(this),
        this.achievementProvider = new jn(this)
    }
    function _registerStates() {
        for (var e = [vl, al, nl, rl, Zs, sl, Xs, $a, ts, fl, _l, Sl], t = 0; t < e.length; ++t)
            this.stateMgr.register(e[t])
    }
    function _registerEventListene() {
        window.addEventListener("focus", this.onFocus.bind(this)),
        window.addEventListener("blur", this.onBlur.bind(this)),
        window.addEventListener("resize", () => this.checkResize(), !0),
        window.addEventListener("orientationchange", () => this.checkResize(), !0),
        g.b || (window.addEventListener("mousemove", this.handleMousemove.bind(this)),
        window.addEventListener("mouseout", this.handleMousemove.bind(this)),
        window.addEventListener("mouseover", this.handleMousemove.bind(this)),
        window.addEventListener("mouseleave", this.handleMousemove.bind(this))),
        window.addEventListener("beforeunload", this.onBeforeUnload.bind(this), !0),
        window.addEventListener("unload", this.onUnload.bind(this), !0),
        document.addEventListener(wl, this.handleVisibilityChange.bind(this), !1),
        document.addEventListener("touchstart", this.updateFocusAfterUserInteraction.bind(this), !0),
        document.addEventListener("touchend", this.updateFocusAfterUserInteraction.bind(this), !0)
    }
    function _updateFocusAfterUser(e) {
        var t = e.target;
        t && t.tagName ? (t !== document.activeElement && document.activeElement.blur && document.activeElement.blur(),
        "input" === t.tagName.toLowerCase() && Object(p.L)().then((function _ref() {
            return t.focus()
        }
        ))) : Cl.warn("Invalid touchstart/touchend event:", e)
    }
    function _handleVisibilityChan(e) {
        window.focus();
        var t = !document[bl];
        t !== this.pageVisible && (this.pageVisible = t,
        Cl.log("Visibility changed:", this.pageVisible),
        this.trackedIsRenderable.set(this.isRenderable()))
    }
    function _handleMousemove(e) {
        this.mousePosition = new C.a(e.clientX,e.clientY)
    }
    function _onFocus() {
        this.focused = !0
    }
    function _onBlur() {
        this.focused = !1
    }
    function _isRenderable() {
        return !this.applicationPaused && this.pageVisible
    }
    function _onAppRenderableState(e) {
        Cl.log("Application renderable:", e),
        window.focus();
        var t = this.stateMgr.getCurrentState();
        e ? (t && t.onAppResume(),
        this.checkResize()) : t && t.onAppPause(),
        this.sound.onPageRenderableStateChanged(e)
    }
    function _onUnload(e) {
        if (!this.unloaded) {
            Object(c.c)("UNLOAD HANDLER", "#f77"),
            this.unloaded = !0;
            var t = this.stateMgr.getCurrentState();
            t && t.onBeforeExit(),
            this.deinitialize()
        }
    }
    function _onBeforeUnload(e) {
        Object(c.c)("BEFORE UNLOAD HANDLER", "#f77");
        var t = this.stateMgr.getCurrentState();
        t && t.getHasUnloadConfirmation() && (e.preventDefault(),
        e.returnValue = "Are you sure you want to exit?")
    }
    function application_deinitialize() {
        return this.sound.deinitialize()
    }
    function _onBackgroundFrame(e) {
        if (!this.isRenderable()) {
            var t = this.stateMgr.getCurrentState();
            t && t.onBackgroundTick(e)
        }
    }
    function _onFrameEmitted(e) {
        if (this.isRenderable()) {
            var t = performance.now();
            (!this.lastResizeCheck || t - this.lastResizeCheck > 1e3) && (this.checkResize(),
            this.lastResizeCheck = t);
            var r = this.stateMgr.getCurrentState();
            r && r.onRender(e)
        }
    }
    function _checkResize(e=!1) {
        var t = window.innerWidth
          , r = window.innerHeight;
        if (this.screenWidth !== t || this.screenHeight !== r || e) {
            this.screenWidth = t,
            this.screenHeight = r;
            var n = this.stateMgr.getCurrentState();
            n && n.onResized(this.screenWidth, this.screenHeight);
            var i = this.getEffectiveUiScale();
            Object(p.L)().then( () => document.documentElement.style.setProperty("--ui-scale", "" + i)),
            window.focus()
        }
    }
    function _getEffectiveUiScale() {
        return this.platformWrapper.getUiScale() * this.settings.getInterfaceScaleValue()
    }
    function _updateAfterUiScaleCh() {
        this.checkResize(!0)
    }
    void 0 !== document.hidden ? (bl = "hidden",
    wl = "visibilitychange") : void 0 !== document.msHidden ? (bl = "msHidden",
    wl = "msvisibilitychange") : void 0 !== document.webkitHidden && (bl = "webkitHidden",
    wl = "webkitvisibilitychange");
    var Al = function() {
        var e = _Application.prototype;
        return e.boot = _boot,
        e.initPlatformDependentInstances = _initPlatformDependen,
        e.registerStates = _registerStates,
        e.registerEventListeners = _registerEventListene,
        e.updateFocusAfterUserInteraction = _updateFocusAfterUser,
        e.handleVisibilityChange = _handleVisibilityChan,
        e.handleMousemove = _handleMousemove,
        e.onFocus = _onFocus,
        e.onBlur = _onBlur,
        e.isRenderable = _isRenderable,
        e.onAppRenderableStateChanged = _onAppRenderableState,
        e.onUnload = _onUnload,
        e.onBeforeUnload = _onBeforeUnload,
        e.deinitialize = application_deinitialize,
        e.onBackgroundFrame = _onBackgroundFrame,
        e.onFrameEmitted = _onFrameEmitted,
        e.checkResize = _checkResize,
        e.getEffectiveUiScale = _getEffectiveUiScale,
        e.updateAfterUiScaleChanged = _updateAfterUiScaleCh,
        _Application
    }();
    function component_registry_ref(e) {
        return F.a.register(e)
    }
    function puzzle_back_to_menu_createElements(e) {
        this.root.gameMode.getId(),
        this.element = Object(p.x)(e, "ingame_HUD_PuzzleBackToMenu"),
        this.button = document.createElement("button"),
        this.button.classList.add("button"),
        this.element.appendChild(this.button),
        this.trackClicks(this.button, this.back)
    }
    function puzzle_back_to_menu_initialize() {}
    function _back() {
        this.root.gameState.goBackToMenu()
    }
    var kl = function(e) {
        function HUDPuzzleBackToMenu() {
            return e.apply(this, arguments) || this
        }
        !function puzzle_back_to_menu_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzleBackToMenu, e);
        var t = HUDPuzzleBackToMenu.prototype;
        return t.createElements = puzzle_back_to_menu_createElements,
        t.initialize = puzzle_back_to_menu_initialize,
        t.back = _back,
        HUDPuzzleBackToMenu
    }(qt);
    function puzzle_dlc_logo_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_PuzzleDLCLogo"),
        this.element.classList.toggle("china", !1),
        e.appendChild(this.element)
    }
    function puzzle_dlc_logo_initialize() {}
    function _next() {}
    var El = function(e) {
        function HUDPuzzleDLCLogo() {
            return e.apply(this, arguments) || this
        }
        !function puzzle_dlc_logo_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzleDLCLogo, e);
        var t = HUDPuzzleDLCLogo.prototype;
        return t.createElements = puzzle_dlc_logo_createElements,
        t.initialize = puzzle_dlc_logo_initialize,
        t.next = _next,
        HUDPuzzleDLCLogo
    }(qt);
    function puzzle_getType() {
        return ko.puzzle
    }
    function puzzle_getSchema() {
        return {
            zoneHeight: He.b.uint,
            zoneWidth: He.b.uint
        }
    }
    function puzzle_isBuildingExcluded(e) {
        return this.hiddenBuildings.indexOf(e) >= 0
    }
    function _getSaveData() {
        var e = this.root.savegame.getCurrentDump();
        return e ? e.gameMode.data : {}
    }
    function puzzle_getCameraBounds() {
        return G.a.centered(this.zoneWidth + 20, this.zoneHeight + 20)
    }
    function puzzle_getBuildableZones() {
        return [G.a.centered(this.zoneWidth, this.zoneHeight)]
    }
    function puzzle_hasHub() {
        return !1
    }
    function puzzle_hasResources() {
        return !1
    }
    function puzzle_getMinimumZoom() {
        return 1
    }
    function puzzle_getMaximumZoom() {
        return 4
    }
    function puzzle_getIsSaveable() {
        return !1
    }
    function puzzle_getHasFreeCopyPaste() {
        return !0
    }
    function puzzle_throughputDoesNotMat() {
        return !0
    }
    function puzzle_getSupportsWires() {
        return !1
    }
    function puzzle_getFixedTickrate() {
        return 300
    }
    function puzzle_getIsDeterministic() {
        return !0
    }
    function puzzle_getIsFreeplayAvailab() {
        return !0
    }
    var Il = function(e) {
        function PuzzleGameMode(t) {
            var r, n = (r = e.call(this, t) || this).getSaveData();
            return r.additionalHudParts = {
                puzzleBackToMenu: kl,
                puzzleDlcLogo: El,
                massSelector: Ko
            },
            r.zoneWidth = n.zoneWidth || 8,
            r.zoneHeight = n.zoneHeight || 6,
            r
        }
        !function puzzle_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(PuzzleGameMode, e),
        PuzzleGameMode.getType = puzzle_getType,
        PuzzleGameMode.getSchema = puzzle_getSchema;
        var t = PuzzleGameMode.prototype;
        return t.isBuildingExcluded = puzzle_isBuildingExcluded,
        t.getSaveData = _getSaveData,
        t.getCameraBounds = puzzle_getCameraBounds,
        t.getBuildableZones = puzzle_getBuildableZones,
        t.hasHub = puzzle_hasHub,
        t.hasResources = puzzle_hasResources,
        t.getMinimumZoom = puzzle_getMinimumZoom,
        t.getMaximumZoom = puzzle_getMaximumZoom,
        t.getIsSaveable = puzzle_getIsSaveable,
        t.getHasFreeCopyPaste = puzzle_getHasFreeCopyPaste,
        t.throughputDoesNotMatter = puzzle_throughputDoesNotMat,
        t.getSupportsWires = puzzle_getSupportsWires,
        t.getFixedTickrate = puzzle_getFixedTickrate,
        t.getIsDeterministic = puzzle_getIsDeterministic,
        t.getIsFreeplayAvailable = puzzle_getIsFreeplayAvailab,
        PuzzleGameMode
    }(Eo);
    function puzzle_editor_controls_ref(e) {
        return "<span>" + e + "</span>"
    }
    function puzzle_editor_controls_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_PuzzleEditorControls"),
        this.element.innerHTML = U.a.ingame.puzzleEditorControls.instructions.map(puzzle_editor_controls_ref).join(""),
        this.titleElement = Object(p.x)(e, "ingame_HUD_PuzzleEditorTitle"),
        this.titleElement.innerText = U.a.ingame.puzzleEditorControls.title
    }
    function puzzle_editor_controls_initialize() {}
    var Bl = function(e) {
        function HUDPuzzleEditorControls() {
            return e.apply(this, arguments) || this
        }
        !function puzzle_editor_controls_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzleEditorControls, e);
        var t = HUDPuzzleEditorControls.prototype;
        return t.createElements = puzzle_editor_controls_createElements,
        t.initialize = puzzle_editor_controls_initialize,
        HUDPuzzleEditorControls
    }(qt)
      , xl = Object(c.a)("puzzle-serializer");
    function _PuzzleSerializer() {}
    function puzzle_serializer_generateDumpFromGame(e) {
        console.log("serializing", e);
        var t = [];
        for (var r of e.entityMgr.getAllWithComponent(P.StaticMapEntityComponent)) {
            var n = r.components.StaticMapEntity
              , i = r.components.ConstantSignal;
            if (i)
                t.push({
                    type: "emitter",
                    item: i.signal.getAsCopyableKey(),
                    pos: {
                        x: n.origin.x,
                        y: n.origin.y,
                        r: n.rotation
                    }
                });
            else {
                var o = r.components.GoalAcceptor;
                o ? t.push({
                    type: "goal",
                    item: o.item.getAsCopyableKey(),
                    pos: {
                        x: n.origin.x,
                        y: n.origin.y,
                        r: n.rotation
                    }
                }) : n.getMetaBuilding().id === F.e.findByClass(Sr).id && t.push({
                    type: "block",
                    pos: {
                        x: n.origin.x,
                        y: n.origin.y,
                        r: n.rotation
                    }
                })
            }
        }
        for (var a = e.gameMode, s = e.hud.parts.buildingsToolbar.buildingHandles, l = F.e.getAllIds(), c = [], u = 0; u < l.length; ++u) {
            var d = s[l[u]];
            d && d.puzzleLocked && c.push(d.metaBuilding.getId())
        }
        return {
            version: 1,
            buildings: t,
            bounds: {
                w: a.zoneWidth,
                h: a.zoneHeight
            },
            excludedBuildings: c
        }
    }
    function _parseItemCode(e, t) {
        if (!e || !e.shapeDefinitionMgr)
            return null;
        var r = (t = ya()(t)).toLowerCase();
        return V.c[r] ? H.a[r] : R.b.isValidShortKey(t) ? e.shapeDefinitionMgr.getShapeItemFromShortKey(t) : null
    }
    function _deserializePuzzle(e, t) {
        if (1 !== t.version)
            return "invalid-version";
        for (var r of t.buildings)
            switch (r.type) {
            case "emitter":
                var n = this.parseItemCode(e, r.item);
                if (!n)
                    return "bad-item:" + r.item;
                var i = e.logic.tryPlaceBuilding({
                    origin: new C.a(r.pos.x,r.pos.y),
                    building: F.e.findByClass(Ar),
                    originalRotation: r.pos.r,
                    rotation: r.pos.r,
                    rotationVariant: 0,
                    variant: z
                });
                if (!i)
                    return xl.warn("Failed to place emitter:", r),
                    "failed-to-place-emitter";
                i.components.ConstantSignal.signal = n;
                break;
            case "goal":
                var o = this.parseItemCode(e, r.item);
                if (!o)
                    return "bad-item:" + r.item;
                var a = e.logic.tryPlaceBuilding({
                    origin: new C.a(r.pos.x,r.pos.y),
                    building: F.e.findByClass(Mr),
                    originalRotation: r.pos.r,
                    rotation: r.pos.r,
                    rotationVariant: 0,
                    variant: z
                });
                if (!a)
                    return xl.warn("Failed to place goal:", r),
                    "failed-to-place-goal";
                a.components.GoalAcceptor.item = o;
                break;
            case "block":
                if (!e.logic.tryPlaceBuilding({
                    origin: new C.a(r.pos.x,r.pos.y),
                    building: F.e.findByClass(Sr),
                    originalRotation: r.pos.r,
                    rotation: r.pos.r,
                    rotationVariant: 0,
                    variant: z
                }))
                    return xl.warn("Failed to place block:", r),
                    "failed-to-place-block";
                break;
            default:
                return "invalid-building-type: " + r.type
            }
    }
    var Pl = function() {
        var e = _PuzzleSerializer.prototype;
        return e.generateDumpFromGameRoot = puzzle_serializer_generateDumpFromGame,
        e.parseItemCode = _parseItemCode,
        e.deserializePuzzle = _deserializePuzzle,
        _PuzzleSerializer
    }()
      , Tl = r(70)
      , Ml = Object(c.a)("puzzle-review");
    function puzzle_editor_review_createElements(e) {
        this.root.gameMode.getId(),
        this.element = Object(p.x)(e, "ingame_HUD_PuzzleEditorReview"),
        this.button = document.createElement("button"),
        this.button.classList.add("button"),
        this.button.textContent = U.a.puzzleMenu.reviewPuzzle,
        this.element.appendChild(this.button),
        this.trackClicks(this.button, this.startReview)
    }
    function puzzle_editor_review_initialize() {}
    function _startReview() {
        var e = this.validatePuzzle();
        if (e)
            this.root.hud.parts.dialogs.showWarning(U.a.puzzleMenu.validation.title, e);
        else {
            var t = this.root.hud.parts.dialogs.showLoadingDialog(U.a.puzzleMenu.validatingPuzzle);
            setTimeout( () => {
                this.root.logic.clearAllBeltsAndItems();
                var e = this.root.gameMode.getFixedTickrate() * g.e.puzzleValidationDurationSeconds
                  , r = this.root.dynamicTickrate.deltaMs;
                Ml.log("Simulating up to", e, "ticks, start=", this.root.time.now().toFixed(1));
                for (var n = performance.now(), i = 0, o = 0; o < e && (this.root.time.performTicks(r, this.root.gameState.core.boundInternalTick),
                ++i % 100 != 0 || this.validatePuzzle()); ++o)
                    ;
                var a = performance.now() - n;
                if (Ml.log("Simulated", i, "ticks, end=", this.root.time.now().toFixed(1), "duration=", a.toFixed(2), "ms"),
                console.log("duration: " + a),
                t(),
                i <= 500)
                    this.root.hud.parts.dialogs.showWarning(U.a.puzzleMenu.validation.title, U.a.puzzleMenu.validation.autoComplete);
                else {
                    var s = this.validatePuzzle();
                    i == e && s ? this.root.hud.parts.dialogs.showWarning(U.a.puzzleMenu.validation.title, s) : this.startSubmit()
                }
            }
            , 750)
        }
    }
    function puzzle_editor_review_ref(e) {
        return R.b.isValidShortKey(Tl(e))
    }
    function _startSubmit(e="", t="") {
        var r = /^[a-zA-Z0-9_\- ]{4,20}$/
          , n = new Yt({
            id: "nameInput",
            label: U.a.dialogs.submitPuzzle.descName,
            placeholder: U.a.dialogs.submitPuzzle.placeholderName,
            defaultValue: e,
            validator: e => Tl(e).match(r) && Tl(e).length > 0
        })
          , i = new Set
          , o = this.root.entityMgr.getAllWithComponent(St.GoalAcceptorComponent);
        for (var a of o) {
            var s = a.components.GoalAcceptor.item;
            "shape" === s.getItemType() && i.add(s)
        }
        for (; i.size < 8; ) {
            var l = this.root.hubGoals.computeFreeplayShape(Math.round(10 + 1e4 * Math.random()));
            i.add(new Se.a(l))
        }
        var c = new Jt({
            id: "signalItem",
            label: Object(p.i)(U.a.dialogs.submitPuzzle.descIcon, g.d.shapeViewer),
            items: Array.from(i)
        })
          , u = new Yt({
            id: "shapeKeyInput",
            label: null,
            placeholder: "CuCuCuCu",
            defaultValue: t,
            validator: puzzle_editor_review_ref
        })
          , d = new nr({
            app: this.root.app,
            title: U.a.dialogs.submitPuzzle.title,
            desc: "",
            formElements: [n, c, u],
            buttons: ["ok:good:enter"]
        });
        c.valueChosen.add(e => {
            u.setValue(e.definition.getHash())
        }
        ),
        this.root.hud.parts.dialogs.internalShowDialog(d),
        d.buttonSignals.ok.add( () => {
            var e = Tl(n.getValue())
              , t = Tl(u.getValue());
            this.doSubmitPuzzle(e, t)
        }
        )
    }
    function _doSubmitPuzzle(e, t) {
        var r = (new Pl).generateDumpFromGameRoot(this.root);
        Ml.log("Submitting puzzle, title=", e, "shortKey=", t);
        var n = this.root.hud.parts.dialogs.showLoadingDialog(U.a.puzzleMenu.submittingPuzzle);
        this.root.app.clientApi.apiSubmitPuzzle({
            title: e,
            shortKey: t,
            data: r
        }).then( () => {
            n();
            var {ok: e} = this.root.hud.parts.dialogs.showInfo(U.a.dialogs.puzzleSubmitOk.title, U.a.dialogs.puzzleSubmitOk.desc);
            e.add( () => this.root.gameState.moveToState("PuzzleMenuState"))
        }
        , r => {
            n(),
            Ml.warn("Failed to submit puzzle:", r),
            this.root.hud.parts.dialogs.showWarning(U.a.dialogs.puzzleSubmitError.title, U.a.dialogs.puzzleSubmitError.desc + " " + r, ["cancel", "retry:good"]).retry.add( () => this.startSubmit(e, t))
        }
        )
    }
    function _validatePuzzle() {
        var e = this.root.entityMgr.getAllWithComponent(at.ConstantSignalComponent)
          , t = this.root.entityMgr.getAllWithComponent(St.GoalAcceptorComponent);
        if (0 === e.length)
            return U.a.puzzleMenu.validation.noProducers;
        if (0 === t.length)
            return U.a.puzzleMenu.validation.noGoalAcceptors;
        for (var r of t) {
            var n = r.components.GoalAcceptor;
            if (!n.item)
                return U.a.puzzleMenu.validation.goalAcceptorNoItem;
            var i = g.e.goalAcceptorItemsRequired;
            if (n.currentDeliveredItems < i)
                return U.a.puzzleMenu.validation.goalAcceptorRateNotMet
        }
        var o = this.root.entityMgr.getAllWithComponent(P.StaticMapEntityComponent);
        for (var a of o)
            if (this.root.systemMgr.systems.zone.prePlacementCheck(a) === v.a)
                return U.a.puzzleMenu.validation.buildingOutOfBounds
    }
    var Ol = function(e) {
        function HUDPuzzleEditorReview(t) {
            return e.call(this, t) || this
        }
        !function puzzle_editor_review_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzleEditorReview, e);
        var t = HUDPuzzleEditorReview.prototype;
        return t.createElements = puzzle_editor_review_createElements,
        t.initialize = puzzle_editor_review_initialize,
        t.startReview = _startReview,
        t.startSubmit = _startSubmit,
        t.doSubmitPuzzle = _doSubmitPuzzle,
        t.validatePuzzle = _validatePuzzle,
        HUDPuzzleEditorReview
    }(qt);
    function puzzle_editor_settings_createElements(e) {
        if (this.element = Object(p.x)(e, "ingame_HUD_PuzzleEditorSettings"),
        this.root.gameMode.getBuildableZones()) {
            var t = (e, t) => this.trackClicks(this.element.querySelector(e), t);
            this.zone = Object(p.x)(this.element, null, ["section", "zone"], "\n                <label>" + U.a.ingame.puzzleEditorSettings.zoneTitle + '</label>\n\n                <div class="buttons">\n                    <div class="zoneWidth plusMinus">\n                        <label>' + U.a.ingame.puzzleEditorSettings.zoneWidth + '</label>\n                        <button class="styledButton minus">-</button>\n                        <span class="value"></span>\n                        <button class="styledButton plus">+</button>\n                    </div>\n\n                     <div class="zoneHeight plusMinus">\n                        <label>' + U.a.ingame.puzzleEditorSettings.zoneHeight + '</label>\n                        <button class="styledButton minus">-</button>\n                        <span class="value"></span>\n                        <button class="styledButton plus">+</button>\n                    </div>\n\n                    <div class="buttonBar">\n                        <button class="styledButton trim">' + U.a.ingame.puzzleEditorSettings.trimZone + '</button>\n                        <button class="styledButton clearItems">' + U.a.ingame.puzzleEditorSettings.clearItems + '</button>\n                    </div>\n\n                    <div class="buildingsButton">\n                        <button class="styledButton resetPuzzle">' + U.a.ingame.puzzleEditorSettings.resetPuzzle + "</button>\n                    </div>\n\n                </div>"),
            t(".zoneWidth .minus", () => this.modifyZone(-1, 0)),
            t(".zoneWidth .plus", () => this.modifyZone(1, 0)),
            t(".zoneHeight .minus", () => this.modifyZone(0, -1)),
            t(".zoneHeight .plus", () => this.modifyZone(0, 1)),
            t("button.trim", this.trim),
            t("button.clearItems", this.clearItems),
            t("button.resetPuzzle", this.resetPuzzle)
        }
    }
    function _clearItems() {
        this.root.logic.clearAllBeltsAndItems()
    }
    function puzzle_editor_settings_ref(e) {
        return F.e.findByClass(e).id
    }
    function _resetPuzzle() {
        for (var e of this.root.entityMgr.getAllWithComponent(P.StaticMapEntityComponent)) {
            var t = e.components.StaticMapEntity
              , r = e.components.GoalAcceptor;
            r && r.clear(),
            [Mr, Ar, Sr].map(puzzle_editor_settings_ref).includes(t.getMetaBuilding().id) || (this.root.map.removeStaticEntity(e),
            this.root.entityMgr.destroyEntity(e))
        }
        this.root.entityMgr.processDestroyList()
    }
    function _trim() {
        var e = this.root.entityMgr.entities.slice();
        if (0 !== e.length) {
            var t = null;
            for (var r of e) {
                var n = r.components.StaticMapEntity.getTileSpaceBounds();
                t = t ? t.getUnion(n) : n
            }
            var i = this.root.gameMode
              , o = t.getCenter().round();
            o.length() > 0 && (i.zoneWidth = g.e.puzzleMaxBoundsSize,
            i.zoneHeight = g.e.puzzleMaxBoundsSize,
            this.root.logic.clearAllBeltsAndItems(),
            this.root.logic.performImmutableOperation( () => {
                for (var t of e)
                    this.root.logic.tryDeleteBuilding(t) || window.assert(!1, "Failed to remove building in trim");
                for (var r of e) {
                    var n = r.components.StaticMapEntity
                      , i = this.root.logic.tryPlaceBuilding({
                        origin: n.origin.sub(o),
                        building: n.getMetaBuilding(),
                        originalRotation: n.originalRotation,
                        rotation: n.rotation,
                        rotationVariant: n.getRotationVariant(),
                        variant: n.getVariant()
                    });
                    for (var a in i || (this.root.bulkOperationRunning = !1,
                    window.assert(!1, "Failed to re-place building in trim")),
                    r.components)
                        r.components[a].copyAdditionalStateTo(i.components[a])
                }
            }
            ));
            for (var a = i.zoneWidth, s = i.zoneHeight; !this.anyBuildingOutsideZone(a - 1, s); )
                --a;
            for (; !this.anyBuildingOutsideZone(a, s - 1); )
                --s;
            i.zoneWidth = a,
            i.zoneHeight = s,
            this.updateZoneValues()
        }
    }
    function puzzle_editor_settings_initialize() {
        this.visible = !0,
        this.updateZoneValues()
    }
    function _anyBuildingOutsideZo(e, t) {
        if (Math.min(e, t) < g.e.puzzleMinBoundsSize)
            return !0;
        var r = G.a.centered(e, t)
          , n = this.root.entityMgr.getAllWithComponent(P.StaticMapEntityComponent);
        for (var i of n) {
            var o = i.components.StaticMapEntity.getTileSpaceBounds();
            if (!r.intersectsFully(o))
                return !0
        }
    }
    function _modifyZone(e, t) {
        var r = this.root.gameMode
          , n = r.zoneWidth + e
          , i = r.zoneHeight + t;
        Math.min(n, i) < g.e.puzzleMinBoundsSize || Math.max(n, i) > g.e.puzzleMaxBoundsSize || (this.anyBuildingOutsideZone(n, i) ? this.root.hud.parts.dialogs.showWarning(U.a.dialogs.puzzleResizeBadBuildings.title, U.a.dialogs.puzzleResizeBadBuildings.desc) : (r.zoneWidth = n,
        r.zoneHeight = i,
        this.updateZoneValues()))
    }
    function _updateZoneValues() {
        var e = this.root.gameMode;
        this.element.querySelector(".zoneWidth > .value").textContent = String(e.zoneWidth),
        this.element.querySelector(".zoneHeight > .value").textContent = String(e.zoneHeight)
    }
    Object(c.a)("puzzle-editor");
    var zl = function(e) {
        function HUDPuzzleEditorSettings() {
            return e.apply(this, arguments) || this
        }
        !function puzzle_editor_settings_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzleEditorSettings, e);
        var t = HUDPuzzleEditorSettings.prototype;
        return t.createElements = puzzle_editor_settings_createElements,
        t.clearItems = _clearItems,
        t.resetPuzzle = _resetPuzzle,
        t.trim = _trim,
        t.initialize = puzzle_editor_settings_initialize,
        t.anyBuildingOutsideZone = _anyBuildingOutsideZo,
        t.modifyZone = _modifyZone,
        t.updateZoneValues = _updateZoneValues,
        HUDPuzzleEditorSettings
    }(qt);
    function puzzle_edit_getId() {
        return Ao.puzzleEdit
    }
    function puzzle_edit_getSchema() {
        return {}
    }
    function puzzle_edit_getIsEditor() {
        return !0
    }
    var Ll = function(e) {
        function PuzzleEditGameMode(t) {
            var r;
            return (r = e.call(this, t) || this).hiddenBuildings = [en, Qr, Tr, Pr, Lr, zr, Gr, $e, _n, Er, jr, mn, _r, Cr, nn],
            r.additionalHudParts.puzzleEditorControls = Bl,
            r.additionalHudParts.puzzleEditorReview = Ol,
            r.additionalHudParts.puzzleEditorSettings = zl,
            r
        }
        return function puzzle_edit_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(PuzzleEditGameMode, e),
        PuzzleEditGameMode.getId = puzzle_edit_getId,
        PuzzleEditGameMode.getSchema = puzzle_edit_getSchema,
        PuzzleEditGameMode.prototype.getIsEditor = puzzle_edit_getIsEditor,
        PuzzleEditGameMode
    }(Il);
    function puzzle_play_metadata_createElements(e) {
        this.titleElement = Object(p.x)(e, "ingame_HUD_PuzzlePlayTitle"),
        this.titleElement.innerText = "PUZZLE";
        var t = this.root.gameMode.puzzle;
        this.puzzleNameElement = Object(p.x)(this.titleElement, null, ["name"]),
        this.puzzleNameElement.innerText = t.meta.title,
        this.element = Object(p.x)(e, "ingame_HUD_PuzzlePlayMetadata"),
        this.element.innerHTML = '<div class="plays"><span class="downloads">' + Object(p.l)(t.meta.downloads) + '</span><span class="likes">' + Object(p.l)(t.meta.likes) + '</span></div><div class="info author"><label>' + U.a.ingame.puzzleMetadata.author + '</label><span></span></div><div class="info key"><label>' + U.a.ingame.puzzleMetadata.shortKey + "</label><span>" + t.meta.shortKey + '</span></div><div class="info rating"><label>' + U.a.ingame.puzzleMetadata.averageDuration + "</label><span>" + (t.meta.averageTime ? Object(p.n)(t.meta.averageTime) : "-") + '</span></div><div class="info rating"><label>' + U.a.ingame.puzzleMetadata.completionRate + "</label><span>" + (t.meta.downloads > 0 ? (t.meta.completions / t.meta.downloads * 100).toFixed(1) + "%" : "-") + '</span></div><div class="buttons"><button class="styledButton share">' + U.a.ingame.puzzleEditorSettings.share + '</button><button class="styledButton report">' + U.a.ingame.puzzleEditorSettings.report + "</button></div>",
        this.trackClicks(this.element.querySelector("button.share"), this.share),
        this.trackClicks(this.element.querySelector("button.report"), this.report),
        this.element.querySelector(".author span").innerText = t.meta.author
    }
    function puzzle_play_metadata_initialize() {}
    function _share() {
        this.root.gameMode.sharePuzzle()
    }
    function _report() {
        this.root.gameMode.reportPuzzle()
    }
    r(84);
    var Rl = function(e) {
        function HUDPuzzlePlayMetadata() {
            return e.apply(this, arguments) || this
        }
        !function puzzle_play_metadata_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzlePlayMetadata, e);
        var t = HUDPuzzlePlayMetadata.prototype;
        return t.createElements = puzzle_play_metadata_createElements,
        t.initialize = puzzle_play_metadata_initialize,
        t.share = _share,
        t.report = _report,
        HUDPuzzlePlayMetadata
    }(qt);
    function puzzle_complete_notification_initialize() {
        this.visible = !1,
        this.domAttach = new Ut(this.root,this.element,{
            timeToKeepSeconds: 0
        }),
        this.root.signals.puzzleComplete.add(this.show, this),
        this.userDidLikePuzzle = !1,
        this.timeOfCompletion = 0
    }
    function puzzle_complete_notification_createElements(e) {
        this.inputReciever = new Kt("puzzle-complete"),
        this.element = Object(p.x)(e, "ingame_HUD_PuzzleCompleteNotification", ["noBlur"]);
        var t = Object(p.x)(this.element, null, ["dialog"]);
        this.elemTitle = Object(p.x)(t, null, ["title"], U.a.ingame.puzzleCompletion.title),
        this.elemContents = Object(p.x)(t, null, ["contents"]),
        this.elemActions = Object(p.x)(t, null, ["actions"]);
        var r = Object(p.x)(this.elemContents, null, ["step", "stepLike"]);
        Object(p.x)(r, null, ["title"], U.a.ingame.puzzleCompletion.titleLike);
        var n = Object(p.x)(r, null, ["buttons"]);
        this.buttonLikeYes = document.createElement("button"),
        this.buttonLikeYes.classList.add("liked-yes"),
        n.appendChild(this.buttonLikeYes),
        this.trackClicks(this.buttonLikeYes, () => {
            this.userDidLikePuzzle = !this.userDidLikePuzzle,
            this.updateState()
        }
        );
        var i = document.createElement("div");
        i.classList.add("buttonBar"),
        this.elemContents.appendChild(i),
        this.continueBtn = document.createElement("button"),
        this.continueBtn.classList.add("continue", "styledButton"),
        this.continueBtn.innerText = U.a.ingame.puzzleCompletion.continueBtn,
        i.appendChild(this.continueBtn),
        this.trackClicks(this.continueBtn, () => {
            this.close(!1)
        }
        ),
        this.menuBtn = document.createElement("button"),
        this.menuBtn.classList.add("menu", "styledButton"),
        this.menuBtn.innerText = U.a.ingame.puzzleCompletion.menuBtn,
        i.appendChild(this.menuBtn),
        this.trackClicks(this.menuBtn, () => {
            this.close(!0)
        }
        ),
        this.root.gameMode.nextPuzzles.length > 0 && (this.nextPuzzleBtn = document.createElement("button"),
        this.nextPuzzleBtn.classList.add("nextPuzzle", "styledButton"),
        this.nextPuzzleBtn.innerText = U.a.ingame.puzzleCompletion.nextPuzzle,
        i.appendChild(this.nextPuzzleBtn),
        this.trackClicks(this.nextPuzzleBtn, () => {
            this.nextPuzzle()
        }
        ))
    }
    function _updateState() {
        this.buttonLikeYes.classList.toggle("active", !0 === this.userDidLikePuzzle)
    }
    function puzzle_complete_notification_show() {
        this.root.soundProxy.playUi(k.levelComplete),
        this.root.app.inputMgr.makeSureAttachedAndOnTop(this.inputReciever),
        this.visible = !0,
        this.timeOfCompletion = this.root.time.now()
    }
    function puzzle_complete_notification_cleanup() {
        this.root.app.inputMgr.makeSureDetached(this.inputReciever)
    }
    function puzzle_complete_notification_isBlockingOverlay() {
        return this.visible
    }
    function _nextPuzzle() {
        var e = this.root.gameMode;
        e.trackCompleted(this.userDidLikePuzzle, Math.round(this.timeOfCompletion)).then( () => {
            this.root.gameState.moveToState("PuzzleMenuState", {
                continueQueue: e.nextPuzzles
            })
        }
        )
    }
    function puzzle_complete_notification_close(e) {
        this.root.gameMode.trackCompleted(this.userDidLikePuzzle, Math.round(this.timeOfCompletion)).then( () => {
            e ? this.root.gameState.moveToState("PuzzleMenuState") : (this.visible = !1,
            this.cleanup())
        }
        )
    }
    function puzzle_complete_notification_update() {
        this.domAttach.update(this.visible)
    }
    var Dl = function(e) {
        function HUDPuzzleCompleteNotification() {
            return e.apply(this, arguments) || this
        }
        !function puzzle_complete_notification_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzleCompleteNotification, e);
        var t = HUDPuzzleCompleteNotification.prototype;
        return t.initialize = puzzle_complete_notification_initialize,
        t.createElements = puzzle_complete_notification_createElements,
        t.updateState = _updateState,
        t.show = puzzle_complete_notification_show,
        t.cleanup = puzzle_complete_notification_cleanup,
        t.isBlockingOverlay = puzzle_complete_notification_isBlockingOverlay,
        t.nextPuzzle = _nextPuzzle,
        t.close = puzzle_complete_notification_close,
        t.update = puzzle_complete_notification_update,
        HUDPuzzleCompleteNotification
    }(qt);
    function puzzle_play_settings_createElements(e) {
        if (this.element = Object(p.x)(e, "ingame_HUD_PuzzlePlaySettings"),
        this.root.gameMode.getBuildableZones()) {
            var t = (e, t) => this.trackClicks(this.element.querySelector(e), t);
            Object(p.x)(this.element, null, ["section"], '\n                        <button class="styledButton clearItems">' + U.a.ingame.puzzleEditorSettings.clearItems + '</button>\n                        <button class="styledButton resetPuzzle">' + U.a.ingame.puzzleEditorSettings.resetPuzzle + "</button>\n\n                "),
            t("button.clearItems", this.clearItems),
            t("button.resetPuzzle", this.resetPuzzle)
        }
    }
    function puzzle_play_settings_clearItems() {
        this.root.logic.clearAllBeltsAndItems()
    }
    function puzzle_play_settings_resetPuzzle() {
        for (var e of this.root.entityMgr.getAllWithComponent(P.StaticMapEntityComponent)) {
            var t = e.components.StaticMapEntity
              , r = e.components.GoalAcceptor;
            r && r.clear(),
            t.getMetaBuilding().getIsRemovable(this.root) && (this.root.map.removeStaticEntity(e),
            this.root.entityMgr.destroyEntity(e))
        }
        this.root.entityMgr.processDestroyList()
    }
    function puzzle_play_settings_initialize() {
        this.visible = !0
    }
    Object(c.a)("puzzle-play");
    var Ul = function(e) {
        function HUDPuzzlePlaySettings() {
            return e.apply(this, arguments) || this
        }
        !function puzzle_play_settings_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzlePlaySettings, e);
        var t = HUDPuzzlePlaySettings.prototype;
        return t.createElements = puzzle_play_settings_createElements,
        t.clearItems = puzzle_play_settings_clearItems,
        t.resetPuzzle = puzzle_play_settings_resetPuzzle,
        t.initialize = puzzle_play_settings_initialize,
        HUDPuzzlePlaySettings
    }(qt);
    function next_puzzle_createElements(e) {
        this.element = Object(p.x)(e, "ingame_HUD_PuzzleNextPuzzle"),
        this.button = document.createElement("button"),
        this.button.classList.add("button"),
        this.button.innerText = U.a.ingame.puzzleCompletion.nextPuzzle,
        this.element.appendChild(this.button),
        this.trackClicks(this.button, this.nextPuzzle)
    }
    function next_puzzle_initialize() {}
    function next_puzzle_nextPuzzle() {
        var e = this.root.gameMode;
        this.root.gameState.moveToState("PuzzleMenuState", {
            continueQueue: e.nextPuzzles
        })
    }
    var Fl = function(e) {
        function HUDPuzzleNextPuzzle() {
            return e.apply(this, arguments) || this
        }
        !function next_puzzle_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(HUDPuzzleNextPuzzle, e);
        var t = HUDPuzzleNextPuzzle.prototype;
        return t.createElements = next_puzzle_createElements,
        t.initialize = next_puzzle_initialize,
        t.nextPuzzle = next_puzzle_nextPuzzle,
        HUDPuzzleNextPuzzle
    }(qt)
      , jl = Object(c.a)("puzzle-play")
      , Vl = r(84);
    function puzzle_play_getId() {
        return Ao.puzzlePlay
    }
    function puzzle_play_ref(e) {
        if (F.e.hasId(e))
            return F.e.findById(e).constructor
    }
    function puzzle_play_ref2(e) {
        return !!e
    }
    function puzzle_play_loadPuzzle() {
        var e;
        jl.log("Loading puzzle", this.puzzle);
        try {
            this.zoneWidth = this.puzzle.game.bounds.w,
            this.zoneHeight = this.puzzle.game.bounds.h,
            e = (new Pl).deserializePuzzle(this.root, this.puzzle.game)
        } catch (t) {
            e = t.message || t
        }
        e && this.root.gameState.moveToState("PuzzleMenuState", {
            error: {
                title: U.a.dialogs.puzzleLoadError.title,
                desc: U.a.dialogs.puzzleLoadError.desc + " " + e
            }
        })
    }
    function puzzle_play_ref3(e) {
        jl.warn("Failed to complete puzzle:", e)
    }
    function _trackCompleted(e, t) {
        var r = this.root.hud.parts.dialogs.showLoadingDialog();
        return this.root.app.clientApi.apiCompletePuzzle(this.puzzle.meta.id, {
            time: t,
            liked: e
        }).catch(puzzle_play_ref3).then( () => {
            r()
        }
        )
    }
    function _sharePuzzle() {
        Vl(this.puzzle.meta.shortKey),
        this.root.hud.parts.dialogs.showInfo(U.a.dialogs.puzzleShare.title, U.a.dialogs.puzzleShare.desc.replace("<key>", this.puzzle.meta.shortKey))
    }
    function _reportPuzzle() {
        var {optionSelected: e} = this.root.hud.parts.dialogs.showOptionChooser(U.a.dialogs.puzzleReport.title, {
            options: [{
                value: "profane",
                text: U.a.dialogs.puzzleReport.options.profane
            }, {
                value: "unsolvable",
                text: U.a.dialogs.puzzleReport.options.unsolvable
            }, {
                value: "trolling",
                text: U.a.dialogs.puzzleReport.options.trolling
            }]
        });
        return new Promise(t => {
            e.add(e => {
                var r = this.root.hud.parts.dialogs.showLoadingDialog();
                this.root.app.clientApi.apiReportPuzzle(this.puzzle.meta.id, e).then( () => {
                    r();
                    var {ok: e} = this.root.hud.parts.dialogs.showInfo(U.a.dialogs.puzzleReportComplete.title, U.a.dialogs.puzzleReportComplete.desc);
                    e.add(t)
                }
                , e => {
                    r();
                    var {ok: t} = this.root.hud.parts.dialogs.showInfo(U.a.dialogs.puzzleReportError.title, U.a.dialogs.puzzleReportError.desc + " " + e)
                }
                )
            }
            )
        }
        )
    }
    var Hl = function(e) {
        function PuzzlePlayGameMode(t, {puzzle: r, nextPuzzles: n}) {
            var i;
            i = e.call(this, t) || this;
            var o = [Ar, Mr, Sr, en, Qr, Tr, Pr, Lr, zr, Gr, $e, _n, Er, jr, mn, _r, Cr, nn];
            if (r.game.excludedBuildings) {
                var a = r.game.excludedBuildings.map(puzzle_play_ref).filter(puzzle_play_ref2);
                o = o.concat(a)
            }
            return i.hiddenBuildings = o,
            i.additionalHudParts.puzzlePlayMetadata = Rl,
            i.additionalHudParts.puzzlePlaySettings = Ul,
            i.additionalHudParts.puzzleCompleteNotification = Dl,
            t.signals.postLoadHook.add(i.loadPuzzle, function puzzle_play_assertThisInitialized(e) {
                if (void 0 === e)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(i)),
            i.puzzle = r,
            i.nextPuzzles = n || [],
            i.nextPuzzles.length > 0 && (i.additionalHudParts.puzzleNext = Fl),
            i
        }
        !function puzzle_play_inheritsLoose(e, t) {
            e.prototype = Object.create(t.prototype),
            e.prototype.constructor = e,
            e.__proto__ = t
        }(PuzzlePlayGameMode, e),
        PuzzlePlayGameMode.getId = puzzle_play_getId;
        var t = PuzzlePlayGameMode.prototype;
        return t.loadPuzzle = puzzle_play_loadPuzzle,
        t.trackCompleted = _trackCompleted,
        t.sharePuzzle = _sharePuzzle,
        t.reportPuzzle = _reportPuzzle,
        PuzzlePlayGameMode
    }(Il)
      , Gl = window[[108, 111, 99, 97, 116, 105, 111, 110].map(e => String.fromCharCode(e)).join("")][[104, 111, 115, 116].map(e => String.fromCharCode(e)).join("")].split(":")[0];
    function main_ref(e) {
        return String.fromCharCode(e)
    }
    if ([[108, 111, 99, 97, 108, 104, 111, 115, 116], [99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [99, 111, 111, 108, 109, 97, 116, 104, 46, 99, 111, 109], [99, 111, 111, 108, 109, 97, 116, 104, 52, 107, 105, 100, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 52, 107, 105, 100, 115, 46, 99, 111, 109], [119, 119, 119, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [101, 100, 105, 116, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [119, 119, 119, 46, 115, 116, 97, 103, 101, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [101, 100, 105, 116, 45, 115, 116, 97, 103, 101, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109], [100, 101, 118, 46, 99, 111, 111, 108, 109, 97, 116, 104, 103, 97, 109, 101, 115, 46, 99, 111, 109]].map(e => e.map(main_ref).join("")).some(e => Gl === e)) {
        var Wl = Object(c.a)("main");
        window.coreThreadLoadedCb && (Wl.log("Javascript parsed, calling html thread"),
        window.coreThreadLoadedCb()),
        console.log("%cshapez.io \ufe0f%c\n\xa9 2022 tobspr Games\nCommit %c39e50782%c on %c" + new Date(1648676615673).toLocaleString() + "\n", "font-size: 35px; font-family: Arial;font-weight: bold; padding: 10px 0;", "color: #aaa", "color: #7f7", "color: #aaa", "color: #7f7"),
        console.log("Environment: %cprod", "color: #fff"),
        Object(c.c)("Boot Process", "#f9a825"),
        Object(me.c)(),
        function initComponentRegistry() {
            [P.StaticMapEntityComponent, Y.BeltComponent, he.ItemEjectorComponent, pe.ItemAcceptorComponent, _e.MinerComponent, be.ItemProcessorComponent, Ee.UndergroundBeltComponent, xe.HubComponent, ze.StorageComponent, Re.WiredPinsComponent, Fe.BeltUnderlaysComponent, Ke.WireComponent, at.ConstantSignalComponent, lt.LogicGateComponent, ut.LeverComponent, et.WireTunnelComponent, xr.DisplayComponent, gt.BeltReaderComponent, mt.FilterComponent, vt.ItemProducerComponent, St.GoalAcceptorComponent].forEach(component_registry_ref),
            console.log("\u{1f4e6} There are", F.a.getNumEntries(), "components")
        }(),
        function initItemRegistry() {
            F.d.register(Se.a),
            F.d.register(H.b),
            F.d.register(we.c)
        }(),
        function initMetaBuildingRegistry() {
            [wr, Gr, Br, Zr, Xr, Wr, qr, an, en, $, pn, Mr, Or, $e, Er, jr, Lr, Tr, _n, Pr, mn, Qr, nn, _r, Cr, zr, Ar, Sr].forEach(registerBuildingVariants),
            vn.log("Registered", F.e.getNumEntries(), "buildings"),
            vn.log("Registered", Object.keys(O.b).length, "building codes")
        }(),
        function initGameModeRegistry() {
            F.b.register(Ll),
            F.b.register(Hl),
            F.b.register(Ua)
        }(),
        function initGameSpeedRegistry() {
            F.c.register(Vs)
        }(),
        window.addEventListener("load", (function bootApp() {
            Wl.log("Page Loaded"),
            (new Al).boot()
        }
        ))
    }
}
]);
